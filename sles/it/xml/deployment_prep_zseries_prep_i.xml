<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_prep_zseries_prep_i.xml" version="5.0" xml:id="sec.zseries.prep">
 <title>Preparazione per l'installazione</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>sì</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  In questa sezione viene illustrato come rendere accessibili i dati per l'installazione, installare <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> con metodi differenti e preparare e utilizzare l'IPL del sistema di installazione di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Sono inoltre disponibili informazioni sulla configurazione e l'installazione di rete.
 </para>

 <sect2 xml:id="sec.prep.makeavail">
  <title>Rendere disponibili i dati dell'installazione</title>
  <para>
   In questa sezione vengono fornite informazioni dettagliate su come rendere accessibili i dati di installazione di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> in una piattaforma IBM z Systems. Scegliere l'installazione NFS o FTP in base al computer e all'ambiente di sistema in uso. Se nel proprio ambiente sono in esecuzione workstation Microsoft Windows, è inoltre possibile utilizzare la rete Windows (incluso il protocollo SMB) per installare <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> sul sistema IBM z Systems.
  </para>
  <tip>
   <title>IPL da DVD</title>
   <para>
    A partire dal Service Pack 1 di SUSE Linux Enterprise Server 10, è possibile eseguire IPL da DVD come supporto di installazione. Questa operazione è molto pratica se vi sono restrizioni di configurazione in un server di installazione che fornisce supporti di installazione in rete. Il prerequisito è un'unità DVD SCSI collegata tramite FCP.
   </para>
  </tip>
  <note>
   <title>Nessuna installazione <quote>da disco rigido</quote></title>
   <para>
    Non è possibile effettuare l'installazione da disco rigido copiando il contenuto del DVD in una partizione su un DASD.
   </para>
  </note>
  <sect3 xml:id="sec.prep.makeavail.linuxws">
   <title>Utilizzo di una workstation Linux o di un DVD di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></title>
   <para>
    Se nell'ambiente del computer è in esecuzione una workstation Linux, utilizzarla per fornire i dati di installazione al processo di installazione IBM z Systems, tramite NFS o FTP. Se si esegue la workstation Linux in <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, è possibile configurare un server di installazione (NFS o FTP) utilizzando il modulo <guimenu>Server di installazione</guimenu> di YaST come descritto nella <xref linkend="sec.deployment.instserver.sles9"/>.
   </para>
   <sect4 xml:id="sec.prep.makeavail.linuxws.nfs">
    <title>NFS</title>
    <para>
     Utilizzare NFS (file system di rete) per rendere disponibile il disco di installazione.
    </para>
    <important>
     <title>Esportazione di dispositivi montati via NFS</title>
     <para>
      L'esportazione del file system radice (<filename>/</filename>) non implica l'esportazione dei dispositivi montati, ad esempio i DVD. Assegnare un nome al punto di montaggio in <filename>/etc/exports</filename>:
     </para>
<screen>/media/dvd  *(ro)</screen>
     <para>
      Dopo aver modificato questo file, riavviare il server NFS con il comando <command>sudo systemctl restart nfsserver</command>.
     </para>
    </important>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.linuxws.ftp">
    <title>[FTP]</title>
    <para>
     Per configurare un server FTP in un sistema Linux è necessario installare il software del server stesso, ad esempio
     <package>pure-ftpd</package>
     oppure
     <package>vsftpd</package>
     , ed eseguire le altre attività di configurazione eventualmente necessarie. Se si utilizza <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, vedere <xref linkend="cha.ftp"/> per le istruzioni di installazione. Poiché non è possibile effettuare il download dei dati di installazione tramite login anonimo, è necessario configurare il server FTP in modo da supportare l'autenticazione degli utenti.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.linuxws.oncd">
    <title><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> su DVD</title>
    <para>
     Il DVD1 di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> per IBM z Systems contiene un'immagine Linux avviabile per le workstation basate su Intel e un'immagine per la piattaforma z Systems.
    </para>
    <para>
     Per workstation su base Intel, avviare da questo DVD, rispondere alle domande sulla lingua e il layout della tastiera e selezionare <guimenu>Avvia sistema di salvataggio</guimenu>. Per questa operazione sono necessari almeno 64 MB di RAM. Non è necessario alcuno spazio sul disco perché l'intero di sistema di salvataggio risiede nella RAM della workstation. Per eseguire questa operazione è richiesta una conoscenza di Linux e della connessione di rete perché è necessario configurare la rete della workstation manualmente.
    </para>
    <para>
     Per z Systems, eseguire l'IPL del guest LPAR/VM da questo DVD, come descritto nella <xref linkend="sec.prep.ipling.lpar.dvd"/>. Dopo aver immesso i parametri di rete, il sistema di installazione tratta il DVD come origine dei dati di installazione. Poiché non è possibile connettere direttamente a z Systems un terminale compatibile con X11, occorre scegliere se eseguire l'installazione tramite VNC o SSH. SSH fornisce inoltre un'installazione grafica tramite tunnelling della connessione X attraverso SSH mediante <command>ssh -X</command>.
    </para>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.makeavail.windowsws">
   <title>Utilizzo di una workstation Microsoft Windows</title>
   <para>
    Se in rete è disponibile una workstation Microsoft Windows, utilizzare questo computer per rendere disponibile il supporto di installazione. Il modo più semplice per eseguire questa operazione consiste nell'utilizzo del protocollo SMB, già incluso nel sistema operativo Windows. Assicurarsi che l'opzione <guimenu>SMB over TCP/IP (SMB via TCP/IP)</guimenu> sia attivata per garantire l'incapsulamento dei pacchetti SMB in TCP/IP. Le informazioni dettagliate sono disponibili nella Guida online di Windows o nella documentazione Windows relativa alle connessioni di rete. L'alternativa consiste nell'utilizzo dell'FTP. A questo scopo, è necessario un software di terze parti per Windows.
   </para>
   <sect4 xml:id="sec.prep.makeavail.windowsws.smb">
    <title>Autenticazione con SMB:</title>
    <para>
     Per rendere disponibile il supporto di installazione via SMB, inserire il DVD 1 di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> nell'unità DVD della workstation Windows. Creare quindi una condivisione utilizzando la lettera dell'unità DVD-ROM e renderla disponibile a tutti gli utenti in rete.
    </para>

    <para>
     Il percorso di installazione in YaST può essere:
    </para>
<screen>smb://<replaceable>DOMAIN</replaceable>;<replaceable>USER</replaceable>:<replaceable>PW</replaceable>@<replaceable>SERVERNAME</replaceable>/<replaceable>SHAREPATH</replaceable></screen>
    <para>
     Dove i segnaposto significano:
    </para>
    <variablelist>
     <varlistentry>
      <term><replaceable>DOMAIN</replaceable>
      </term>
      <listitem>
       <para>
        Gruppo di lavoro o dominio active directory facoltativi.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable>USER</replaceable>
      </term>
      <term><replaceable>PW</replaceable>
      </term>
      <listitem>
       <para>
        Nome utente e password facoltativi di un utente autorizzato ad accedere al server e alle rispettive condivisioni.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable>SERVERNAME</replaceable>
      </term>
      <listitem>
       <para>
        Nome del server host delle condivisioni.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable>SHAREPATH</replaceable>
      </term>
      <listitem>
       <para>
        Percorso delle condivisioni.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>


    <para/>

   </sect4>
   <sect4 xml:id="sec.prep.makeavail.windowsws.nfs">
    <title>NFS</title>
    <para>
     Consultare la documentazione fornita con il prodotto di terze parti che consente di abilitare i servizi del server NFS per la workstation Windows in uso. L'unità DVD-ROM contenente i DVD di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> deve trovarsi nel percorso NFS disponibile.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.windowsws.ftp">
    <title>[FTP]</title>
    <para>
     Consultare la documentazione fornita con il prodotto di terze parti che consente di abilitare i servizi del server FTP per la workstation Windows in uso. L'unità DVD-ROM contenente i DVD di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> deve trovarsi nel percorso FTP disponibile.
    </para>
    <para>
     Il server FTP incluso nelle versioni di Microsoft Windows implementa solo un sottoinsieme di comandi FTP non adatto alla fornitura dei dati di installazione. Se questo vale anche per la workstation Windows in uso, utilizzare un server FTP di terze parti in grado di offrire tutte le funzioni necessarie.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.windowsws.scsi">
    <title>Utilizzo di un'unità DVD SCSI collegata tramite FCP</title>
    <para>
     Dopo l'esecuzione di IPL dal DVD SCSI, come descritto nella <xref linkend="sec.info.iplopt.dvd"/>, il sistema di installazione utilizzerà il DVD come supporto di installazione. In tal caso, non sarà necessario il supporto di installazione su un server FTP, NFS o SMB. Tuttavia, saranno necessari i dati di configurazione della rete per <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, in quanto occorre configurare la rete durante l'installazione per eseguire un'installazione grafica tramite VNC o X.
    </para>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.makeavail.zpxe_cobbler">
   <title>Utilizzo di un server Cobbler per zPXE</title>
   <para>
    Per l'esecuzione dell'IPL dalla rete è necessario un server Cobbler per fornire il kernel, initrd e i dati di installazione. La preparazione del server Cobbler è costituita da quattro passaggi:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Importazione dei dati di installazione
     </para>
    </listitem>
    <listitem>
     <para>
      Aggiunta di una distribuzione
     </para>
    </listitem>
    <listitem>
     <para>
      Aggiunta di profili
     </para>
    </listitem>
    <listitem>
     <para>
      Aggiunta di sistemi
     </para>
    </listitem>
   </itemizedlist>
   <sect4 xml:id="sec.prep.makeavail.zpxe_cobbler.import">
    <title>Importazione dei dati di installazione</title>
    <para>
     Per l'importazione dei supporti è necessario che l'origine di installazione sia disponibile sul server Cobbler sia da DVD sia da un'origine di rete. Eseguire il seguente comando per importare i dati:
    </para>
<screen>cobbler import --path=<replaceable>PATH</replaceable><co xml:id="cobbler.import.path"/> --name=<replaceable>IDENTIFIER</replaceable><co xml:id="cobbler.import.dirname"/> --arch=s390x</screen>
    <calloutlist>
     <callout arearefs="cobbler.import.path">
      <para>
       Punto di montaggio dei dati di installazione
      </para>
     </callout>
     <callout arearefs="cobbler.import.dirname">
      <para>
       Una stringa che identifica il prodotto importato, ad esempio <quote>sles12_s390x</quote>. Tale stringa viene utilizzata come nome per la sottodirectory in cui vengono copiati i dati dell'installazione. Su un server Cobbler in esecuzione su SUSE Linux Enterprise la stringa è <filename>/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable></filename>. Il percorso può essere diverso se Cobbler viene eseguito su un altro sistema operativo.
      </para>
     </callout>
    </calloutlist>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.zpxe_cobbler.add_distro">
    <title>Aggiunta di una distribuzione</title>
    <para>
     Aggiungendo una distribuzione, si indica a Cobbler di fornire il kernel e il file initrd necessari a IPL via zPXE. Eseguire il comando seguente sul server Cobbler per aggiungere <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> per IBM z Systems:
    </para>
<screen>cobbler distro add --arch=s390 --breed=suse --name="<replaceable>IDENTIFIER</replaceable>"<co xml:id="cobbler.add.identifier"/> \
  --os-version=sles12<co xml:id="cobbler.add.os"/> \
  --initrd=/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>/boot/s390x/initrd<co xml:id="cobbler.add.initrd"/> \
  --kernel=/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>/boot/s390x/linux<co xml:id="cobbler.add.kernel"/> \
  --kopts="install=http://cobbler.example.com/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>"<co xml:id="cobbler.add.server"/>
    </screen>
    <calloutlist>
     <callout arearefs="cobbler.add.identifier">
      <para>
       Identificatore personalizzato per la distribuzione, ad esempio <quote>SLES <phrase role="productnumber"><phrase os="sles;sled;slerte">12 SP3</phrase></phrase> z Systems</quote>. Deve essere univoco.
      </para>
     </callout>
     <callout arearefs="cobbler.add.os">
      <para>
       Identificatore del sistema operativo. Utilizzare <literal>sles12</literal>.
      </para>
     </callout>
     <callout arearefs="cobbler.add.initrd">
      <para>
       Percorso del file initrd. La prima parte del percorso (<filename>/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>/</filename>) dipende dall'ubicazione in cui Cobbler ha importato i dati e dal nome della sottodirectory scelta durante l'importazione dei dati di installazione.
      </para>
     </callout>
     <callout arearefs="cobbler.add.kernel">
      <para>
       Percorso del kernel. La prima parte del percorso (<filename>/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>/</filename>) dipende dall'ubicazione in cui Cobbler ha importato i dati e dal nome della sottodirectory scelta durante l'importazione dei dati di installazione.
      </para>
     </callout>
     <callout arearefs="cobbler.add.server">
      <para>
       URl della directory di installazione sul server Cobbler.
      </para>
     </callout>
    </calloutlist>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.zpxe_cobbler.profile">
    <title>Modifica del profilo</title>
    <para>
     Quando si aggiunge una distribuzione (vedere la <xref linkend="sec.prep.makeavail.zpxe_cobbler.add_distro"/>) viene generato automaticamente un profilo con il corrispondente <replaceable>IDENTIFIER</replaceable>. Utilizzare il seguente comando per apportare alcune modifiche necessarie:
    </para>
<screen>cobbler distro edit \
--name=<replaceable>IDENTIFIER</replaceable><co xml:id="cobbler.profile.name"/> --os-version=sles10<co xml:id="cobbler.profile.os"/> --ksmeta=""<co xml:id="cobbler.profile.meta"/>
--kopts="install=http://cobbler.example.com/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>"<co xml:id="cobbler.profile.opts"/></screen>
    <calloutlist>
     <callout arearefs="cobbler.profile.name">
      <para>
       Identificatore per il profilo. Utilizzare la stessa stringa specificata per aggiungere la distribuzione.
      </para>
     </callout>
     <callout arearefs="cobbler.profile.os">
      <para>
       Versione sistema operativo. Distribuzione alla quale deve essere applicato il profilo. Utilizzare la stringa specificata con <option>--name=<replaceable>IDENTIFIER</replaceable></option> in questo passaggio dell'importazione.
      </para>
     </callout>
     <callout arearefs="cobbler.profile.meta">
      <para>
       Opzione necessaria per applicare modelli ai file kickstart. Non utilizzata per SUSE, pertanto impostarla su un valore vuoto come specificato nell'esempio.
      </para>
     </callout>
     <callout arearefs="cobbler.profile.opts">
      <para>
       Elenco separato da spazi dei parametri kernel. Deve includere almeno il parametro <literal>install</literal>, come mostrato nell'esempio.
      </para>
     </callout>
    </calloutlist>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.zpxe_cobbler.system">
    <title>Aggiunta di sistemi</title>
    <para>
     L'aggiunta di sistemi al server Cobbler è l'ultimo passaggio necessario. È necessario aggiungere un sistema per ogni guest z Systems da avviare tramite zPXE. I guest vengono identificati mediante il rispettivo ID utente z/VM (nel seguente esempio, si presuppone che l'ID sia denominato <quote>linux01</quote>). Si noti che questo ID deve essere una stringa in caratteri minuscoli. Per aggiungere un sistema, eseguire il seguente comando:
    </para>
<screen>cobbler system add --name=linux01 --hostname=linux01.example.com \
--profile=<replaceable>IDENTIFIER</replaceable> --interface=qdio \
--ip-address=192.168.2.103 --subnet=192.168.2.255 --netmask=255.255.255.0 \
--name-servers=192.168.1.116 --name-servers-search=example.com \
--gateway=192.168.2.1 --kopts="<replaceable>KERNEL_OPTIONS</replaceable>"</screen>
    <para>
     Con l'opzione <option>--kopts</option> è possibile specificare il kernel e i parametri di installazione che di norma verrebbero specificati in parmfile. I parametri vengono immessi come elenco separato da spazi nel formato <replaceable>PARAMETER1=VALUE1 PARAMETER2=VALUE2</replaceable>. Il programma di installazione richiederà all'utente i parametri mancanti. Per un'installazione completamente automatizzata, è necessario specificare tutti i parametri per networking, DASD e fornire un file AutoYaST. Di seguito è riportato un esempio di guest dotato di un'interfaccia OSA che utilizza gli stessi parametri di rete utilizzati sopra.
    </para>
<screen>--kopts=" \
AutoYaST=http://192.168.0.5/autoinst.xml \
Hostname=linux01.example.com \
Domain=example.com \
HostIP=192.168.2.103 \
Gateway=192.168.2.1 \
Nameserver=192.168.1.116 \
Searchdns=example.com \
InstNetDev=osa; \
Netmask=255.255.255.0 \
Broadcast=192.168.2.255 \
OsaInterface=qdio \
Layer2=0 \
PortNo=0 \
ReadChannel=0.0.0700 \
WriteChannel=0.0.0701 \
DataChannel=0.0.0702 \
DASD=600"</screen>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.makeavail.dvd_usb_hmc">
   <title>Installazione di HMC da DVD o disco flash</title>
   <para>
    Per installare <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> nei server IBM z Systems, in genere occorre un'origine per l'installazione dalla rete, ma in determinati ambienti non è possibile soddisfare tale requisito. Con SUSE Linux Enterprise Server è possibile utilizzare il DVD o il disco flash esistente della console di gestione hardware (HMC, Hardware Management Console) come origine per l'installazione in una partizione LPAR.
   </para>
   <para>
    Per eseguire l'installazione dal supporto disponibile sul DVD o sul disco flash di HMC, procedere come segue:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Aggiungi
     </para>
     <para>
      <option>install=hmc:/</option>
     </para>
     <para>
      a <filename>parmfile</filename> (vedere <xref linkend="sec.appdendix.parm"/>) o alle opzioni del kernel.
     </para>
     <para/>
    </listitem>
    <listitem>
     <para>
      In alternativa passare alla modalità manuale e, in <filename>linuxrc</filename>, scegliere:
     </para>
     <para>
      <emphasis role="italic">Avvia installazione</emphasis>, quindi
     </para>
     <para>
      <emphasis role="italic">Installazione</emphasis>, quindi
     </para>
     <para>
      <emphasis role="italic">Hardware Management Console</emphasis>.
     </para>
     <para>
      Il supporto di installazione deve essere inserito nell'HMC.
     </para>
    </listitem>
   </itemizedlist>
   <important>
    <title>Configurare la rete</title>
    <para>
     Non dimenticare di configurare la rete in <filename>linuxrc</filename> prima di iniziare l'installazione. In seguito non sarà più possibile passare i parametri di avvio e molto probabilmente sarà necessario accedere alla rete. In <filename>linuxrc</filename> passare ad <emphasis role="italic">Avvia installazione</emphasis> e scegliere <emphasis role="italic">Configurazione di rete</emphasis>.
    </para>
   </important>
   <important>
    <title>Avviare prima il sistema Linux</title>
    <para>
     Prima di consentire l'accesso al supporto nel DVD o nel disco flash dell'HMC, attendere l'avvio del sistema. L'esecuzione di un IPL può interrompere la connessione fra l'HMC e la partizione LPAR. Se il primo metodo illustrato non funziona, consentire l'accesso e provare di nuovo a utilizzare l'opzione <option>HMC</option>.
    </para>
   </important>
   <note>
    <title>Archivio di installazione</title>
    <para>
     A causa della natura temporanea dell'assegnazione, i file disponibili sul DVD o sul disco flash non verranno conservati come archivio per l'installazione. Se è necessario un archivio di installazione, registrare e utilizzare l'archivio online.
    </para>
   </note>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.inst_types">
  <title>Tipi di installazione</title>
  <para>
   In questa sezione vengono fornite informazioni sui passaggi da eseguire per ognuna delle modalità di installazione di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, nonché specificati i percorsi dei dati appropriati. Dopo aver eseguito le preparazioni citate nei capitoli precedenti, seguire la panoramica di installazione della modalità di installazione desiderata per installare <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> nel sistema.
  </para>
  <para>
   Come spiegato in <xref linkend="sec.prep.makeavail"/>, sono disponibili tre diverse modalità di installazione per Linux nella piattaforma IBM z Systems:
  </para>
  <itemizedlist>
   <listitem>
    <para>
     Installazione LPAR
    </para>
   </listitem>
   <listitem>
    <para>
     Installazione z/VM
    </para>
   </listitem>
   <listitem>
    <para>
     Installazione guest KVM
    </para>
   </listitem>
  </itemizedlist>
  <procedure xml:id="pro.prep.inst_types.lpar">
   <title>Panoramica dell'installazione LPAR</title>
   <step>
    <para>
     Preparare i dispositivi necessari per l'installazione. Vedere <xref linkend="sec.prep.prep_ipl.natlpar"/>.
    </para>
   </step>
   <step>
    <para>
     Effettuare l'IPL del sistema di installazione. Vedere <xref linkend="sec.prep.ipling.lpar"/>.
    </para>
   </step>
   <step>
    <para>
     Configurare la rete. Vedere <xref linkend="sec.prep.netcfg"/>.
    </para>
   </step>
   <step>
    <para>
     Connettersi al sistema di installazione di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Vedere <xref linkend="sec.prep.connect"/>.
    </para>
   </step>
   <step>
    <para>
     Avviare l'installazione utilizzando YaST ed eseguire l'IPL del sistema installato. Vedere <xref linkend="cha.inst"/>.
    </para>
   </step>
  </procedure>
  <procedure xml:id="pro.prep.inst_types.vm">
   <title>Panoramica dell'installazione z/VM</title>
   <step>
    <para>
     Preparare i dispositivi necessari per l'installazione. Vedere <xref linkend="sec.prep.prep_ipl.vm"/>.
    </para>
   </step>
   <step>
    <para>
     Effettuare l'IPL del sistema di installazione. Vedere <xref linkend="sec.prep.ipling.vm"/>.
    </para>
   </step>
   <step>
    <para>
     Configurare la rete. Vedere <xref linkend="sec.prep.netcfg"/>.
    </para>
   </step>
   <step>
    <para>
     Connettersi al sistema di installazione di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Vedere <xref linkend="sec.prep.connect"/>.
    </para>
   </step>
   <step>
    <para>
     Avviare l'installazione utilizzando YaST ed eseguire l'IPL del sistema installato. Vedere <xref linkend="cha.inst"/>.
    </para>
   </step>
  </procedure>
  <procedure xml:id="pro.prep.inst_types.kvm">
   <title>Panoramica dell'installazione guest KVM</title>
   <step>
    <para>
     Creare un'immagine del disco virtuale e scrivere un file XML di dominio. Vedere <xref linkend="sec.prep.prep_ipl.kvm"/>.
    </para>
   </step>
   <step>
    <para>
     Preparare la destinazione di installazione ed eseguire l'IPL del guest VM. Vedere <xref linkend="sec.prep.ipling.kvm"/>.
    </para>
   </step>
   <step>
    <para>
     <xref linkend="sec.prep.netcfg.data"/>.
    </para>
   </step>
   <step>
    <para>
     Connettersi al sistema di installazione di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Vedere <xref linkend="sec.prep.connect"/>.
    </para>
   </step>
   <step>
    <para>
     Avviare l'installazione utilizzando YaST ed eseguire l'IPL del sistema installato. Vedere <xref linkend="cha.inst"/>.
    </para>
   </step>
  </procedure>
 </sect2>

 <sect2 xml:id="sec.prep.prep_ipl">
  <title>Preparazione dell'IPL del sistema di installazione di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></title>
  <para/>
  <sect3 xml:id="sec.prep.prep_ipl.natlpar">
   <title>Preparazione dell'IPL di un'installazione LPAR</title>
   <para>
    Configurare il sistema IBM z Systems per l'avvio in modalità ESA/S390 o solo Linux con un profilo di attivazione appropriato e IOCDS. Per l'esecuzione di queste operazioni, consultare la documentazione IBM. Procedere con la <xref linkend="sec.prep.ipling.lpar"/>.
   </para>
  </sect3>
  <sect3 xml:id="sec.prep.prep_ipl.vm">
   <title>Preparazione dell'IPL di un'installazione z/VM</title>
   <para/>
   <sect4 xml:id="sec.prep.prep_ipl.vm.linux_guest">
    <title>Aggiunta di un guest Linux</title>
    <para>
     Il primo passaggio consiste nel collegare e formattare uno o più dispositivi DASD nel sistema che deve essere utilizzato dal guest di Linux in z/VM. Creare quindi un nuovo utente in z/VM. Nell'esempio viene usata la directory per un utente <literal>LINUX1</literal> con password <literal>LINPWD</literal>, 1 GB di memoria (ampliabile fino a 2 GB), 32 MB RAM espansa (XSTORE), alcuni minidischi (MDISK), due CPU e un dispositivo OSA QDIO.
    </para>
    <tip>
     <title>Assegnazione di memoria a guest z/VM</title>
     <para>
      Quando si assegna della memoria a un guest z/VM, assicurarsi che le dimensioni della memoria siano idonee al tipo di installazione preferito. Vedere <xref linkend="sec.info_sysreq.sysreq.hw.mem"/>.  Per impostare le dimensioni della memoria su 1 GB, usare il comando <command>CP DEFINE STORAGE 1G</command>. Al termine dell'installazione, ripristinare le dimensioni della memoria al valore desiderato.
     </para>
    </tip>
    <example xml:id="ex.prep.prep_ipl.vm.linux_guest.config">
     <title>Configurazione di una directory z/VM</title>
<screen>USER LINUX1 LINPWD 1024M 2048M G
*____________________________________________
* LINUX1
*____________________________________________
* This VM Linux guest has two CPUs defined.

CPU 01 CPUID 111111
CPU 02 CPUID 111222
IPL CMS PARM AUTOCR
IUCV ANY
IUCV ALLOW
MACH ESA 10
OPTION MAINTCCW RMCHINFO
SHARE RELATIVE 2000
CONSOLE 01C0 3270 A
SPOOL 000C 2540 READER *
SPOOL 000D 2540 PUNCH A
SPOOL 000E 3203 A
* OSA QDIO DEVICE DEFINITIONS
DEDICATE 9A0 9A0
DEDICATE 9A1 9A1
DEDICATE 9A2 9A2
*
LINK MAINT 0190 0190 RR
LINK MAINT 019E 019E RR
LINK MAINT 019D 019D RR
* MINIDISK DEFINITIONS
MDISK 201 3390 0001 0050 DASD40 MR ONE4ME TWO4ME THR4ME
MDISK 150 3390 0052 0200 DASD40 MR ONE4ME TWO4ME THR4ME
MDISK 151 3390 0253 2800 DASD40 MR ONE4ME TWO4ME THR4ME</screen>
    </example>
    <para>
     Nell'esempio viene utilizzato il minidisco 201 come disco principale del guest. Il dispositivo di scambio Linux corrisponde al minidisco 150 con 200 cilindri. Il disco 151 con 2800 cilindri include l'installazione Linux.
    </para>
    <para>
     Aggiungere come utente <systemitem class="username">MAINT</systemitem> il guest alla directory dell'utente mediante il comando <command>DIRM FOR LINUX1 ADD</command>. Immettere il nome del guest (<literal>LINUX1</literal>) e premere <keycap>F5</keycap>. Configurare l'ambiente dell'utente con:
    </para>
<screen>DIRM DIRECT
DIRM USER WITHPASS</screen>
    <para>
     L'ultimo comando restituisce un numero di file del lettore. necessario per il comando successivo:
    </para>
<screen>RECEIVE &lt;number&gt; USER DIRECT A (REPL)</screen>
    <para>
     È possibile eseguire il login come <systemitem class="username">root</systemitem> senza password.
    </para>
    <para>
     Se l'opzione <literal>dirmaint</literal> non è disponibile, consultare la documentazione IBM per configurare questo utente.
    </para>
    <para>
     Procedere con la <xref linkend="sec.prep.ipling.vm"/>.
    </para>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.prep_ipl.kvm">
   <title>Preparazione dell'IPL di un'installazione guest KVM</title>
   <para>
    I prerequisiti per l'installazione guest KVM sono costituiti da un file XML di dominio che definisce la macchina virtuale e almeno un'immagine del disco virtuale da utilizzare per l'installazione.
   </para>
   <sect4 xml:id="sec.prep.prep_ipl.kvm.disk">
    <title>Creare un'immagine del disco virtuale</title>
    <para>
     Per default libvirt ricerca le immagini dei dischi nella directory <filename>/var/lib/libvirt/images/</filename> del server host VM. Le immagini possono essere memorizzate in qualunque altro percorso nel file system, ma è consigliabile conservarle tutte in una singola ubicazione per semplificare la manutenzione. L'esempio seguente crea un'immagine qcow2 con dimensione di 10 GB in <filename>/var/lib/libvirt/images/</filename>. Per ulteriori informazioni, fare riferimento al <xref linkend="cha.qemu.guest_inst.qemu-img"/>.
    </para>
    <procedure>
     <step>
      <para>
       Eseguire il login al server host KVM.
      </para>
     </step>
     <step>
      <para>
       Eseguire il comando seguente per creare l'immagine:
      </para>
<screen>qemu-img create -f qcow2 /var/lib/libvirt/images/s12lin_qcow2.img 10G</screen>
     </step>
    </procedure>
   </sect4>
   <sect4 xml:id="sec.prep.prep_ipl.kvm.domain">
    <title>Scrivere un file XML di dominio</title>
    <para>
     Il file XML di dominio viene utilizzato per definire il guest VM. Per creare il file XML di dominio, aprire in un editor un file vuoto di nome <filename>s12-1.xml</filename> e aggiungere un contenuto simile a quello dell'esempio seguente.
    </para>
    <example>
     <title>Esempio di file XML di dominio</title>
     <para>
      L'esempio seguente crea un guest VM con una singola CPU, 1 GB di RAM e l'immagine del disco virtuale creata nella sezione precedente (<xref linkend="sec.prep.prep_ipl.kvm.disk"/>). Viene presupposto che il server virtuale si connetta all'interfaccia di rete host <literal>bond0</literal>. Modificare l'elemento relativo ai dispositivi di origine in base alla configurazione di rete in uso.
     </para>
<screen>&lt;domain type="kvm"&gt;
 &lt;name&gt;s12-1&lt;/name&gt;
 &lt;description&gt;Guest-System SUSE Sles12&lt;/description&gt;
 &lt;memory&gt;1048576&lt;/memory&gt;
 &lt;vcpu&gt;1&lt;/vcpu&gt;
 &lt;os&gt;
  &lt;type arch="s390x" machine="s390-ccw-virtio"&gt;hvm&lt;/type&gt;
  &lt;!-- Boot kernel - remove 3 lines after successfull installation --&gt;
  &lt;kernel&gt;/var/lib/libvirt/images/s12-kernel.boot&lt;/kernel&gt;
  &lt;initrd&gt;/var/lib/libvirt/images/s12-initrd.boot&lt;/initrd&gt;
  &lt;cmdline&gt;linuxrcstderr=/dev/console&lt;/cmdline&gt;
 &lt;/os&gt;
 &lt;iothreads&gt;1&lt;/iothreads&gt;
 &lt;on_poweroff&gt;destroy&lt;/on_poweroff&gt;
 &lt;on_reboot&gt;restart&lt;/on_reboot&gt;
 &lt;on_crash&gt;preserve&lt;/on_crash&gt;
 &lt;devices&gt;
  &lt;emulator&gt;/usr/bin/qemu-system-s390x&lt;/emulator&gt;
  &lt;disk type="file" device="disk"&gt;
   &lt;driver name="qemu" type="qcow2" cache="none" iothread="1" io="native"/&gt;
   &lt;source file="/var/lib/libvirt/images/s12lin_qcow2.img"/&gt;
   &lt;target dev="vda" bus="virtio"/&gt;
  &lt;/disk&gt;
  &lt;interface type="direct"&gt;
   &lt;source dev="bond0" mode="bridge"/&gt;
   &lt;model type="virtio"/&gt;
  &lt;/interface&gt;
  &lt;console type="pty"&gt;
   &lt;target type="sclp"/&gt;
  &lt;/console&gt;
 &lt;/devices&gt;
&lt;/domain&gt;</screen>
    </example>
   </sect4>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.ipling">
  <title>Esecuzione dell'IPL del sistema di installazione di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></title>
  <para/>
  <sect3 xml:id="sec.prep.ipling.lpar">
   <title>IPL di un'installazione LPAR</title>
   <para>
    È possibile eseguire l'IPL di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> in un LPAR in diversi modi. Il metodo preferito consiste nell'utilizzo della funzione <guimenu>Load from CD-ROM or server (Carica da CD-ROM o server)</guimenu> di SE o HMC.
   </para>
   <sect4 xml:id="sec.prep.ipling.lpar.cdrom">
    <title>Esecuzione di IPL da un DVD-ROM</title>
    <para>
     Contrassegnare il LPAR da installare e selezionare <guimenu>Load from CD-ROM or server (Carica da CD-ROM o server)</guimenu>. Lasciare vuoto il campo relativo all'ubicazione del file o immettere il percorso della directory root del primo DVD-ROM, quindi scegliere di continuare. Nell'elenco di opzioni visualizzate, scegliere la selezione di default. In <guimenu>Operating system messages</guimenu> (Messaggi del sistema operativo) sono ora disponibili i messaggi di avvio del kernel.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.ipling.lpar.dvd">
    <title>IPL da un DVD SCSI collegato tramite FCP</title>
    <para>
     È possibile utilizzare la procedura <guimenu>Load</guimenu> selezionando <guimenu>SCSI</guimenu> come <guimenu>Load type</guimenu> per eseguire IPL da SCSI. Immettere WWPN (Worldwide Port Name) e LUN (Logical Unit Number) forniti dal bridge o dal dispositivo di memorizzazione SCSI (16 cifre, senza omettere gli zero finali). Il selettore del programma di avvio deve corrispondere a 2. Utilizzare l'adattatore FCP come <guimenu>indirizzo di caricamento</guimenu> ed eseguire un IPL.
    </para>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.ipling.vm">
   <title>IPL di un'installazione z/VM</title>
   <para>
    In questa sezione viene illustrato come eseguire l'IPL del sistema di installazione al fine di installare <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> per IBM z Systems in un sistema z/VM.
   </para>
   <sect4 xml:id="sec.prep.ipling.vm.reader">
    <title>IPL dal lettore z/VM</title>
    <para>
     Per trasferire il sistema di installazione tramite FTP sono necessari una connessione TCP/IP e un programma client FTP funzionante nel guest z/VM appena definito. La configurazione TCP/IP per z/VM è al di fuori dell'ambito di questo manuale. Fare riferimento alla documentazione IBM appropriata.
    </para>
    <para>
     Effettuare il login come guest z/VM all'IPL. Rendere disponibile il contenuto della directory <filename>/boot/s390x</filename> sul DVD 1 di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> per IBM z Systems tramite il server FTP della rete in uso. Da questa directory, ottenere i file <filename>linux</filename>, <filename>initrd</filename>, <filename>parmfile</filename> e <filename>sles12.exec</filename>. Trasferire i file con dimensioni a blocchi fisse di 80 caratteri. A questo scopo utilizzare il comando FTP <command>locsite fix 80</command>. È importante copiare i file <filename>linux</filename> (il kernel Linux) e <filename>initrd</filename> (l'immagine di installazione) come file binari; per questo motivo, utilizzare la modalità di trasferimento <literal>binaria</literal>. <filename>parmfile</filename> e <filename>sles12.exec</filename> devono essere trasferiti in modalità ASCII.
    </para>
    <para>
     Nell'esempio sono illustrati i passaggi necessari. Nell'esempio i file necessari sono accessibili da un server FTP all'indirizzo IP <literal>192.168.0.3</literal> con account utente <systemitem class="username">lininst</systemitem>. Questi dati possono differire in base alla rete in uso.
    </para>
    <example xml:id="ex.prep.ipling.vm.reader.ftp.ftptrans">
     <title>Trasferimento di binari via FTP</title>
<screen>FTP 192.168.0.3
VM TCP/IP FTP Level 530
Connecting to 192.168.0.3, port 21
220 ftpserver FTP server (Version wu-2.4.2-academ[BETA-18](1)
Thu Feb 11 16:09:02 GMT 2010) ready.
USER
lininst
331 Password required for lininst
PASS
******
230 User lininst logged in.
Command:
binary
200 Type set to I
Command:
locsite fix 80
Command:
get /media/dvd1/boot/s390x/linux sles12.linux
200 PORT Command successful
150 Opening BINARY mode data connection for /media/dvd1/boot/s390x/linux
(10664192 bytes)
226 Transfer complete.
10664192 bytes transferred in 13.91 seconds.
Transfer rate 766.70 Kbytes/sec.
Command:
get /media/dvd1/boot/s390x/initrd sles12.initrd
200 PORT Command successful
150 Opening BINARY mode data connection for /media/dvd1/boot/s390x/initrd
(21403276 bytes)
226 Transfer complete.
21403276 bytes transferred in 27.916 seconds.
Transfer rate 766.70 Kbytes/sec.
Command:
ascii
200 Type set to A
Command:
get /media/dvd1/boot/s390x/parmfile sles12.parmfile
150 Opening ASCII mode data connection for /media/dvd1/boot/s390x/parmfile
(5 bytes)
226 Transfer complete.
5 bytes transferred in 0.092 seconds.
Transfer rate 0.05 Kbytes/sec.
Command:
get /media/dvd1/boot/s390x/sles12.exec sles12.exec
150 Opening ASCII mode data connection for /media/dvd1/boot/s390x/sles12.exec
(891 bytes)
226 Transfer complete.
891 bytes transferred in 0.097 seconds.
Transfer rate 0.89 Kbytes/sec.
Command:
quit</screen>
    </example>
    <para>
     Utilizzare lo script REXX sles12.exec del quale si è effettuato il download per eseguire l'IPL del sistema di installazione Linux. Questo script carica il kernel, parmfile, e il disco RAM iniziale nel lettore per IPL:
    </para>
    <example xml:id="sex.prep.ipling.vm.reader.startscript.slesexec">
     <title>SLES12 EXEC</title>
<screen>/* REXX LOAD EXEC FOR SUSE LINUX S/390 VM GUESTS       */
/* LOADS SUSE LINUX S/390 FILES INTO READER            */
SAY ''
SAY 'LOADING SLES12 FILES INTO READER...'
'CP CLOSE RDR'
'PURGE RDR ALL'
'SPOOL PUNCH * RDR'
'PUNCH SLES12 LINUX A (NOH'
'PUNCH SLES12 PARMFILE A (NOH'
'PUNCH SLES12 INITRD A (NOH'
'IPL 00C'</screen>
    </example>
    <para>
     Con questo script è possibile eseguire l'IPL del sistema di installazione di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> con il comando <command>sles12</command>. Viene avviato il kernel Linux e vengono visualizzati i relativi messaggi di avvio.
    </para>
    <para>
     Per continuare il processo di installazione, passare alla <xref linkend="sec.prep.netcfg"/>.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.ipling.vm.dvd">
    <title>IPL da un DVD SCSI collegato tramite FCP</title>
    <para>
     Per eseguire l'IPL in z/VM, è necessario preparare il processo IPL SCSI con il parametro SET LOADDEV:
    </para>
<screen>SET LOADDEV PORTNAME 200400E8 00D74E00 LUN 00020000 00000000 BOOT 2</screen>
    <para>
     Dopo aver impostato il parametro LOADDEV con i valori appropriati, eseguire l'IPL dell'adattatore FCP, ad esempio:
    </para>
<screen>IPL FC00</screen>
    <para>
     Per continuare il processo di installazione, procedere con la <xref linkend="sec.prep.netcfg"/>.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.ipling.vm.zpxe">
    <title>IPL da un server Cobbler con zPXE</title>
    <para>
     Per eseguire l'IPL da un server Cobbler con zPXE, è necessario trasferire lo script <filename>zpxe.rexx</filename> via FTP dal server Cobbler al guest z/VM. Per il guest z/VM sono necessari una connessione TCP/IP funzionante e un programma client FTP.
    </para>
    <para>
     Eseguire il login come guest Linux z/VM a IPL e trasferire lo script con una dimensione fissa di 80 caratteri in modalità ASCII (per un esempio, vedere <xref linkend="ex.prep.ipling.vm.reader.ftp.ftptrans"/>). Lo script <filename>zpxe.rexx</filename> è disponibile nella directory<filename>/usr/share/doc/packages/s390-tools/</filename> del server Cobbler.
    </para>
    <para>
     Lo script <filename>zpxe.rexx</filename> dovrebbe sostituire <filename>PROFILE EXEC</filename> nel guest in uso. Creare una copia di backup di <filename>PROFILE EXEC</filename> e rinominare <filename>ZPXE REXX</filename> in <filename>PROFILE EXEC</filename>. In alternativa, chiamare <filename>ZPXE REXX</filename> dalla versione esistente di <filename>PROFILE EXEC</filename>, utilizzando una nuova riga con il contenuto seguente: <literal>'ZPXE REXX'</literal>.
    </para>
    <para>
     L'ultimo passaggio consiste nella creazione del file di configurazione <filename>ZPXE CONF</filename>, che indica a <filename>ZPXE REXX</filename> il server Cobbler da contattare e il disco di cui eseguire l'IPL. Eseguire <command>xedit zpxe conf a</command> e creare <filename>ZPXE CONF</filename> con il contenuto seguente (sostituire di conseguenza i dati dell'esempio):
    </para>
<screen>HOST cobbler.example.com
IPLDISK 600</screen>
    <para>
     Al login successivo, il server Cobbler verrà connesso al guest z/VM. Se è pianificata sul server Cobbler, l'installazione verrà eseguita . Per pianificare l'installazione, eseguire il seguente comando sul server Cobbler:
    </para>
<screen>cobbler system edit --name <replaceable>ID</replaceable><co xml:id="cobbler.sysedit.id"/> --netboot-enabled 1<co xml:id="cobbler.sysedit.netboot"/> --profile <replaceable>PROFILENAME</replaceable><co xml:id="cobbler.sysedit.profile"/></screen>
    <calloutlist>
     <callout arearefs="cobbler.sysedit.id">
      <para>
       ID utente z/VM.
      </para>
     </callout>
     <callout arearefs="cobbler.sysedit.netboot">
      <para>
       Abilitare l'esecuzione dell'IPL dalla rete.
      </para>
     </callout>
     <callout arearefs="cobbler.sysedit.profile">
      <para>
       Nome di un profilo esistente, vedere <xref linkend="sec.prep.makeavail.zpxe_cobbler.profile"/>.
      </para>
     </callout>
    </calloutlist>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.ipling.kvm">
   <title>IPL di un'installazione guest KVM</title>
   <para>
    Per avviare l'installazione guest occorre innanzitutto avviare il guest VM definito in <xref linkend="sec.prep.prep_ipl.kvm.disk"/>. Come prerequisito, occorre innanzitutto rendere disponibile il kernel e il file initrd necessari per l'IPL.
   </para>
   <sect4 xml:id="sec.prep.ipling.kvm.prep">
    <title>Preparazione dell'origine di installazione</title>
    <para>
     Per eseguire l'IPL del guest VM nel sistema di installazione, è necessario copiare nel server host VM il kernel e il file initrd del sistema di installazione.
    </para>
    <procedure>
     <step>
      <para>
       Eseguire il login all'host KVM e verificare che sia possibile connettersi al dispositivo o all'host remoto che fornisce l'origine di installazione.
      </para>
     </step>
     <step>
      <para>
       Copiare i due file seguenti dall'origine di installazione a <filename>/var/lib/libvirt/images/</filename>. Se i dati vengono forniti da un host remoto, utilizzare <command>ftp</command>, <command>sftp</command> o <command>scp</command> per trasferirli:
      </para>
      <simplelist>
       <member><filename>/boot/s390x/initrd</filename>
       </member>
       <member><filename>  /boot/s390x/cd.ikr</filename>
       </member>
      </simplelist>
     </step>
     <step>
      <para>
       Rinominare i file nell'host KVM:
      </para>
<screen>cd /var/lib/libvirt/images/
mv initrd s12-initrd.boot
 mv cd.ikr s12-kernel.boot</screen>
     </step>
    </procedure>
   </sect4>
   <sect4 xml:id="sec.prep.ipling.kvm.">
    <title>IPL del guest VM</title>
    <para>
     Per eseguire l'IPL del guest VM, effettuare il login all'host KVM ed eseguire il comando seguente:
    </para>
<screen>virsh  create s12-1.xml --console</screen>
    <para>
     Terminata la procedura di avvio del guest VM viene avviato il sistema di installazione e viene visualizzato il messaggio seguente:
    </para>
<screen>Domain s12-1 started
Connected to domain s12-1
Escape character is ^]
Initializing cgroup subsys cpuset
Initializing cgroup subsys cpu
Initializing
cgroup subsys cpuacct
.
.
Please make sure your installation medium is available.
Retry?
0) &lt;-- Back &lt;--
1) Yes
2) No</screen>
    <para>
     Rispondere <guimenu>2) No</guimenu> e, nel passaggio successivo, scegliere <guimenu>Installazione</guimenu>. Procedere come descritto nella <xref linkend="sec.prep.netcfg.data"/>.
    </para>
   </sect4>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.netcfg">
  <title>Configurazione della rete</title>
  <para>
   Attendere che il kernel completi le procedure di avvio. Se si effettua l'installazione in modalità di base o in un LPAR, aprire i <guimenu>Messaggi del sistema operativo</guimenu> su HMC o SE.
  </para>
  <para>
   Scegliere innanzitutto <guimenu>Start Installation  (Avvia installazione o sistema)</guimenu> nel menu principale di Linuxrc e quindi <guimenu>Start Installation or Update (Avvia installazione o aggiornamento)</guimenu> per avviare il processo di installazione. Selezionare <guimenu>Rete</guimenu> come supporto di installazione, quindi selezionare il tipo di protocollo di rete che si prevede di utilizzare per l'installazione. <xref linkend="sec.prep.makeavail"/> spiega come rendere disponibili i dati di installazione per i vari tipi di connessioni di rete. attualmente sono supportati <guimenu>FTP</guimenu>, <guimenu>HTTP</guimenu>, <guimenu>NFS</guimenu> e <guimenu>SMB / CIFS</guimenu> (condivisione di file di Windows).
  </para>
  <para>
   Scegliere ora un dispositivo di rete OSA o HiperSockets sul quale ricevere i dati di installazione dall'elenco di dispositivi disponibili. L'elenco può anche contenere dispositivi CTC, ESCON o IUCV che tuttavia non sono più supportati su <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>.
  </para>
  <sect3 xml:id="sec.prep.netcfg.hypersockets">
   <title>Configurare un'interfaccia HiperSockets</title>
   <para>
    Selezionare un dispositivo Hipersocket dall'elenco di dispositivi di rete. Immettere quindi i numeri per i canali di lettura, scrittura e dati:
   </para>
   <example xml:id="ex.appdendix.inst_netcontypes.types">
    <title>Tipi di connessione di rete supportati e parametri del driver</title>
<screen>Choose the network device.

 1) IBM parallel CTC Adapter (0.0.0600)
 2) IBM parallel CTC Adapter (0.0.0601)
 3) IBM parallel CTC Adapter (0.0.0602)
 4) IBM Hipersocket (0.0.0800)
 5) IBM Hipersocket (0.0.0801)
 6) IBM Hipersocket (0.0.0802)
 7) IBM OSA Express Network card (0.0.0700)
 8) IBM OSA Express Network card (0.0.0701)
 9) IBM OSA Express Network card (0.0.0702)
10) IBM OSA Express Network card (0.0.f400)
11) IBM OSA Express Network card (0.0.f401)
12) IBM OSA Express Network card (0.0.f402)
13) IBM IUCV

&gt; 4

Device address for read channel. (Enter '+++' to abort).
[0.0.800]&gt; 0.0.800

Device address for write channel. (Enter '+++' to abort).
[0.0.801]&gt; 0.0.801

Device address for data channel. (Enter '+++' to abort).
[0.0.802]&gt; 0.0.802</screen>
   </example>
  </sect3>
  <sect3 xml:id="sec.prep.netcfg.osa">
   <title>Configurare un dispositivo OSA Express</title>
   <para>
    Selezionare un dispositivo OSA Express dall'elenco di dispositivi di rete e specificare un numero di porta. Immettere quindi i numeri per i canali di lettura, scrittura e dati e il nome della porta, se applicabile. Scegliere se abilitare il supporto OSI Layer 2.
   </para>
   <para>
    Il numero della porta è stato aggiunto per supportare i nuovi dispositivi di rete a due porte OSA Express 3. Se non si utilizza un dispositivo OSA Express 3, immettere <literal>0</literal>. Le schede OSA Express offrono inoltre la possibilità di funzionare in modalità <quote>supporto per OSI livello 2</quote> o di utilizzare la precedente e più comune modalità <quote>livello 3</quote>. La modalità della scheda riguarda tutti i sistemi che condividono tale dispositivo, compresi i sistemi su altri LPAR. In caso di dubbi, specificare <literal>2</literal> per la compatibilità con la modalità di default utilizzata da altri sistemi operativi, quali z/VM e z/OS. Per ulteriori informazioni su queste opzioni, consultare l'amministratore dell'hardware.
   </para>
   <example xml:id="ex.appdendix.inst_netcontypes.gigabit.param">
    <title>Parametri del driver per il dispositivo di rete</title>
<screen>Choose the network device.

 1) IBM parallel CTC Adapter (0.0.0600)
 2) IBM parallel CTC Adapter (0.0.0601)
 3) IBM parallel CTC Adapter (0.0.0602)
 4) IBM Hipersocket (0.0.0800)
 5) IBM Hipersocket (0.0.0801)
 6) IBM Hipersocket (0.0.0802)
 7) IBM OSA Express Network card (0.0.0700)
 8) IBM OSA Express Network card (0.0.0701)
 9) IBM OSA Express Network card (0.0.0702)
10) IBM OSA Express Network card (0.0.f400)
11) IBM OSA Express Network card (0.0.f401)
12) IBM OSA Express Network card (0.0.f402)
13) IBM IUCV

&gt; 7

Enter the relative port number. (Enter '+++' to abort).
&gt; 0

Device address for read channel. (Enter '+++' to abort).
[0.0.0700]&gt; 0.0.0700

Device address for write channel. (Enter '+++' to abort).
[0.0.0701]&gt; 0.0.0701

Device address for data channel. (Enter '+++' to abort).
[0.0.0702]&gt; 0.0.0702

Enable OSI Layer 2 support?

0) &lt;-- Back &lt;--
1) Yes
2) No

&gt; 1

MAC address. (Enter '+++' to abort).
&gt; +++</screen>
   </example>
  </sect3>
  <sect3 xml:id="sec.prep.netcfg.data">
   <title>Configurare la rete e selezionare l'origine di installazione</title>
   <para>
    Terminata l'immissione di tutti i parametri dei dispositivi di rete, vengono installati i relativi driver e vengono visualizzati i messaggi del kernel corrispondenti.
   </para>
   <para>
    Successivamente è necessario decidere se configurare i parametri dell'interfaccia di rete con l'autoconfigurazione DHCP. Poiché la tecnologia DHCP è supportata solo da pochi dispositivi e richiede speciali impostazioni di configurazione hardware, può essere opportuno selezionare <guimenu>NO. </guimenu> In questo caso, vengono richiesti i parametri di rete seguenti:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      l'indirizzo IP del sistema in corso di installazione
     </para>
    </listitem>
    <listitem>
     <para>
      la maschera di rete corrispondente (se non è stata specificata con l'indirizzo IP)
     </para>
    </listitem>
    <listitem>
     <para>
      l'indirizzo IP di un gateway per raggiungere il server
     </para>
    </listitem>
    <listitem>
     <para>
      un elenco di domini di ricerca inclusi nel server DNS (Domain Name Server)
     </para>
    </listitem>
    <listitem>
     <para>
      l'indirizzo IP del server dei nomi di dominio
     </para>
    </listitem>
   </itemizedlist>
   <example xml:id="ex.prep.netcfg.vm.network_setup">
    <title>Parametri di rete</title>
<screen>Automatic configuration via DHCP?

0) &lt;-- Back &lt;--
1) Yes
2) No

&gt; 2

Enter your IP address with network prefix.

You can enter more than one, separated by space, if necessary.
Leave empty for autoconfig.

Examples: 192.168.5.77/24 2001:db8:75:fff::3/64. (Enter '+++' to abort).
&gt; 192.168.0.20/24

Enter your name server IP address.

You can enter more than one, separated by space, if necessary.
Leave empty if you don't need one.

Examples: 192.168.5.77 2001:db8:75:fff::3. (Enter '+++' to abort).
&gt; 192.168.0.1

Enter your search domains, separated by a space:. (Enter '+++' to abort).
&gt; example.com

Enter the IP address of your name server. Leave empty if you do not need one. (En
ter '+++' to abort).
&gt; 192.168.0.1</screen>
   </example>
   <para>
    Infine, vengono richiesti i dettagli del server di installazione, ad esempio l'indirizzo IP, la directory contenente i dati di installazione e le credenziali di login. Dopo l'immissione dei dati necessari, il sistema di installazione esegue il caricamento.
   </para>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.connect">
  <title>Connessione al sistema di installazione di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></title>
  <para>
   Dopo aver caricato il sistema di installazione, linuxrc desidera sapere quale tipo di visualizzazione utilizzare per controllare la procedura di installazione. Le opzioni possibili sono: <literal>X11</literal> (X Window System), <literal>VNC</literal> (protocollo Virtual Network Computing), <literal>SSH</literal> (modalità testo o installazione X11 tramite Secure Shell) oppure <literal>console ASCII</literal>. È consigliabile selezionare <literal>VNC</literal> o <literal>SSH</literal>.
  </para>
  <para>
   Se si sceglie di utilizzare la <literal>console ASCII</literal>, YaST viene avviato in modalità testo ed è possibile eseguire l'installazione direttamente dal terminale. Per istruzioni su come utilizzare YaST in modalità testo, vedere <xref linkend="cha.yast.text"/>. L'utilizzo della <literal>console ASCII</literal> è utile solo quando si esegue l'installazione in LPAR.
  </para>
  <note>
   <title>Emulazione terminale per la console ASCII</title>
   <para>
    Per utilizzare YaST in modalità testo, è necessario eseguire il prodotto in un terminale con emulazione VT220/Linux (o <literal>console ASCII</literal>). Ad esempio, non è possibile utilizzare YaST in un terminale 3270.
   </para>
  </note>
  <sect3 xml:id="sec.inst.connect.vnc_inst">
   <title>Inizializzazione dell'installazione per VNC</title>
   <procedure>
    <step>
     <para>
      Dopo avere selezionato l'opzione di installazione <literal>VNC</literal>, viene avviato il server VNC. Nella console viene visualizzata una breve nota con le informazioni sull'indirizzo IP e il numero di visualizzazione necessari per la connessione con vncviewer. In alternativa, è possibile specificare un URL da immettere nel browser abilitato per Java per effettuare al connessione al sistema di installazione.
     </para>
    </step>
    <step>
     <para>
      Avviare un'applicazione client VNC sul sistema client. Utilizzare vncviewer o il client Java VNC e un browser web abilitato per Java.
     </para>
    </step>
    <step>
     <para>
      Quando viene richiesto, immettere l'indirizzo IP e il numero di visualizzazione del sistema di installazione di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>.
     </para>
     <para>
      Se ci si connette tramite un browser abilitato per Java, immettere un URL contenente l'indirizzo IP del sistema di installazione e il numero di porta appropriato nel formato seguente:
     </para>
<screen>http://&lt;IP address of installation system&gt;:5801/</screen>
    </step>
    <step>
     <para>
      Dopo aver stabilito la connessione, iniziare a eseguire l'installazione di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> con YaST.
     </para>
    </step>
   </procedure>
  </sect3>
  <sect3 xml:id="sec.inst.connect.x">
   <title>Inizializzazione dell'installazione per il sistema X Window</title>
   <important>
    <title>Meccanismo di autenticazione di X</title>
    <para>
     L'installazione diretta con il sistema X Window si fonda su un meccanismo di autenticazione primitivo basato sui nomi degli host. Questo meccanismo è disabilitato sulle versioni <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> correnti. È preferibile l'installazione con SSH o VNC.
    </para>
   </important>
   <procedure>
    <step>
     <para>
      Assicurarsi che il server X consenta la connessione del client (ovvero il sistema installato). Impostare la variabile <command>DISPLAYMANAGER_XSERVER_TCP_PORT_6000_OPEN="yes"</command> nel file <filename>/etc/sysconfig/displaymanager</filename>. Riavviare quindi il server X e consentire al client di associarsi con il server utilizzando: <command>xhost &lt;client IP address&gt;</command>
     </para>
    </step>
    <step>
     <para>
      Quando richiesto nel sistema di installazione, immettere l'indirizzo IP del computer in cui è in esecuzione il server X.
     </para>
    </step>
    <step>
     <para>
      Dopo l'apertura di YaST avviare l'installazione.
     </para>
    </step>
   </procedure>
  </sect3>
  <sect3 xml:id="sec.inst.connect.ssh">
   <title>Inizializzazione dell'installazione per SSH</title>
   <para>
    Per connettersi a un sistema di installazione denominato <literal>earth</literal> utilizzando SSH, eseguire <command>ssh -X earth</command>. Se la workstation esegue Microsoft Windows, utilizzare SSH, il client telnet e l'emulatore di terminale Putty, disponibili in <link xlink:href="http://www.chiark.greenend.org.uk/~sgtatham/putty/"/>. In Putty impostare <guimenu>Abilita inoltro X11</guimenu>, nella sezione <menuchoice>
    <guimenu> Connessione</guimenu> <guimenu> SSH</guimenu> <guimenu> X11</guimenu>
    </menuchoice>. Se si utilizza un altro sistema operativo, eseguire <command>ssh -X earth</command> per connettersi a un sistema di installazione di nome <systemitem>earth</systemitem>. Se è disponibile un server X locale, è supportato l'X-Forwarding su SSH. In caso contrario YaST fornisce un'interfaccia di testo tramite ncurses.
   </para>
   <para>
    Viene richiesto di effettuare il login. Immettere <literal>root</literal> e la password. Immettere <command>yast.ssh</command> per avviare YaST. YaST guida quindi l'utente in tutta la procedura di installazione.
   </para>
   <para>
    La descrizione delle opzioni di riparazione del sistema è disponibile nella <xref linkend="cha.inst"/>.
   </para>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.boot_procedure">
  <title>Procedura di avvio di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> su IBM z Systems</title>
  <para>
   Il processo di avvio per SLES 10 e 11 seguiva lo schema fornito di seguito. Per informazioni dettagliate, fare riferimento alla documentazione fornita all'indirizzo <link xlink:href="http://www.ibm.com/developerworks/linux/linux390/documentation_suse.html"/>.
  </para>
  <orderedlist>
   <listitem>
    <para>
     Fornire il kernel.
    </para>
   </listitem>
   <listitem>
    <para>
     Specificare o creare un initrd per il kernel specificato.
    </para>
   </listitem>
   <listitem>
    <para>
     Specificare i percorsi corretti per l'initrd e il kernel in <filename>/etc/zipl.conf</filename>.
    </para>
   </listitem>
   <listitem>
    <para>
     Installare la configurazione fornita da <filename>/etc/zipl.conf</filename> nel sistema.
    </para>
   </listitem>
  </orderedlist>
  <para>
   Con SLES 12, la modalità di avvio di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> nella piattaforma IBM z Systems è cambiata. Diversi motivi hanno portato a questa modifica:
  </para>
  <itemizedlist>
   <listitem>
    <para>
     L'allineamento con le altre architetture: dal punto di vista amministrativo, i sistemi SLES dovrebbero seguire lo stesso comportamento di tutte le altre architetture.
    </para>
   </listitem>
   <listitem>
    <para>
     Btrfs: il boot loader zipl è tecnicamente incompatibile con Btrfs, il nuovo file system radice di default per SLES (per informazioni dettagliate, vedere <xref linkend="sec.filesystems.major.btrfs"/>).
    </para>
   </listitem>
   <listitem>
    <para>
     Supporto per i rollback di sistema con lo snapper: lo snapper, insieme a Btrfs, rende disponibili snapshot di sistema avviabili che è possibile utilizzare per i rollback di sistema (per informazioni dettagliate, vedere <xref linkend="cha.snapper"/>).
    </para>
   </listitem>
  </itemizedlist>
  <para>
   Per tali motivi, a partire da SLES 12, GRUB 2 sostituisce zipl in IBM <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> per z Systems. Nell'architettura AMD64/Intel 64, GRUB 2 include driver di dispositivo a livello di firmware per consentire l'accesso al file system. Il mainframe non dispone di firmware e l'aggiunta di <literal>ccw</literal> a GRUB 2, che costituisce già un'attività estremamente onerosa, comporterebbe anche una reimplementazione di zipl in GRUB 2. Pertanto <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> adotta un approccio in due fasi:
  </para>
  <variablelist>
   <varlistentry>
    <term>Fase uno:</term>
    <listitem>
     <para>
      Una partizione separata contenente il kernel e un initrd viene montata in <filename>/boot/zipl</filename> (analogo a <filename>/boot/efi</filename> sulle piattaforme UEFI). Il kernel e l'initrd vengono caricati via zipl utilizzando la configurazione specificata in <filename>/boot/zipl/config</filename>.
     </para>
     <para>
      Questa configurazione aggiunge la parola chiave <literal>initgrub</literal> alla riga di comando del kernel. Dopo il caricamento del kernel e del file initrd, quest'ultimo attiva i dispositivi necessari per montare il file system radice (vedere <filename>/boot/zipl/active_devices.txt</filename>). Viene quindi avviato un programma con spazio utente GRUB 2, che legge il file <filename>/boot/grub2/grub.cfg</filename>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Fase due:</term>
    <listitem>
     <para>
      Il kernel e l'initrd specificati in <filename>/boot/grub2/grub.cfg</filename> vengono avviati con il comando <command>kexec</command>. Tutti i dispositivi elencati nel file <filename>/boot/zipl/active_devices.txt</filename> vengono attivati, il file system radice viene montato e la procedura di avvio prosegue come sulle altre architetture.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect2>
</sect1>
