<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="64bit_issues.xml" version="5.0" xml:id="cha-64bit"> <title>64 位元系統環境中的 32 位元和 64 位元應用程式</title>

 <info>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:bugtracker/>
        <dm:translation>yes</dm:translation>
      </dm:docmanager>
    </info>
    <para>
  <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> 可用於<phrase os="sles">多種</phrase> 64 位元平台。開發商尚未將所有 32 位元應用程式移植至 64 位元系統。本章簡略說明 64 位元 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 平台上的 32 位元支援實作。
 </para>
 <para>
  適用於 64 位元平台 POWER、IBM Z 和 AMD64/Intel 64 的 <phrase os="sles"><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></phrase> 可讓現有的 32 位元應用程式<quote>無需額外設定</quote> <phrase os="sles">即可在 64 位元環境中執行。對應的 32 位元平台為：用於 POWER 的 POWER 和用於 AMD64/Intel 64 的 x86。</phrase>這項支援表示您可以繼續使用偏好的 32 位元應用程式，無需等到對應的 64 位元連接埠上市。<phrase os="sles">目前的 POWER 系統以 32 位元模式執行大部分應用程式，不過您可以執行 64 位元應用程式。</phrase>
 </para>


 <note>
  <title>不支援建構 32 位元應用程式</title>
  <para>
   <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 不支援編譯 32 位元應用程式。它只為 32 位元二進位檔案提供執行時期支援。
  </para>
 </note>


 <sect1 xml:id="sec-64bit-runt">
  <title>執行時期支援</title>

  <important>
   <title>不同應用程式版本之間的衝突</title>
   <para>
    如果某個應用程式有提供可在 32 位元和 64 位元環境下執行的版本，則同時安裝這兩個版本可能會導致問題。在這種情況下，請決定要安裝哪一個版本，以避免潛在的執行時期錯誤。
   </para>
   <para>
    此規則的一個例外是 PAM (可插入驗證模組)。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 在驗證程序中使用 PAM 做為使用者與應用程式之間的溝通層。在有執行 32 位元應用程式的 64 位元作業系統上，請務必安裝 32 位元和 64 位元的 PAM 版本。
   </para>
  </important>

  <para>
   每個應用程式需要一系列的程式庫才能正常執行。不幸的是，這些程式庫的 32 位元和 64 位元版本，名稱都一樣。它們必須透過其他方法來區分彼此。
  </para>

  <para>
   為了與 32 位元版本保持相容，64 位元和 32 位元程式庫將儲存在同一位置。在 32 位元和 64 位元環境中，<filename>libc.so.6</filename> 的 32 位元版本位於 <filename>/lib/libc.so.6</filename>。
  </para>

  <para>
   所有 64 位元程式庫和物件檔案都位於名為 <filename>lib64</filename> 的目錄。以往能在 <filename>/lib</filename> 和 <filename>/usr/lib</filename> 之下找到的 64 位元物件檔案，現在放在 <filename>/lib64</filename> 以及 <filename>/usr/lib64</filename> 底下。這表示在 <filename>/lib</filename> 和 <filename>/usr/lib</filename> 之下，有預留空間給 32 位元程式庫使用，因而兩種版本的檔案名稱能夠保持不變。
  </para>

  <para>
   如果 <filename>/lib</filename> 之下 32 位元子目錄的資料內容與字詞大小無關，則不會移動這些子目錄。此配置與 LSB (Linux Standards Base) 以及 FHS (File System Hierarchy Standard) 相容。
  </para>
 </sect1>
 <sect1 xml:id="sec-64bit-kernel">
  <title>核心規格</title>

  <para>
   適用於 AMD64/Intel 64<phrase os="sles">、POWER 和 IBM Z</phrase> 的 64 位元核心提供 64 位元和 32 位元兩種核心 ABI (應用程式二進位介面)。後者與對應的 32 位元核心的 ABI 是相同的。這意味著，32 位元和 64 位元應用程式與 64 位元核心的通訊方式相同。
  </para>

  <para>
   針對 64 位元核心的 32 位元系統呼叫模擬不支援系統程式使用的某些 API。這要視平台而定。因此，有少數應用程式 (例如 <command>lspci</command>) 必須<phrase os="sles">在非 POWER 平台上以 64 位元程式的形式編譯，才能正常運作。在 IBM Z 上，並非所有 ioctl 都可用於 32 位元核心 ABI</phrase>。
  </para>

  <para>
   64 位核心只能載入 64 位元核心模組。必須專門為 64 位元核心編譯 64 位元模組。無法在 64 位元核心下使用 32 位元核心模組。
  </para>

  <tip>
   <title>核心可載入模組</title>
   <para>
    部份應用程式需要個別的核心可載入式模組。如果您想要在 64 位元系統環境中使用 32 位元應用程式，請聯絡應用程式提供者與 SUSE。確定 64 位元版的核心可載入模組及 32 位元編譯版核心 API 適用於此模組。
   </para>
  </tip>
 </sect1>
</chapter>
