<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="fuse.xml" version="5.0" xml:id="cha-fuse">
 <title>使用 FUSE 存取檔案系統</title>
 <info>
      <abstract>
        <para>
    FUSE 是<emphasis>使用者空間中的檔案系統 (file system in user space)</emphasis> 的縮寫。這表示您可以非特權使用者的身分設定並掛接檔案系統。一般情況下，只有 <systemitem class="username">root</systemitem> 才能執行此任務。FUSE 自身就是一個核心模組。將 FUSE 與外掛程式結合便能延伸其功能，幾乎可存取所有檔案系統，如遠端 SSH 連接、ISO 影像及其他.
   </para>
      </abstract>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:bugtracker/>
        <dm:translation>yes</dm:translation>
      </dm:docmanager>
    </info>
    
 <sect1 xml:id="sec-fuse-config">
  <title>設定 FUSE</title>

  <para>
   您必須先安裝套件 <systemitem class="resource">fuse</systemitem> 才能使用 FUSE。是否需要以獨立套件形式提供的其他外掛程式，取決於要使用的檔案系統。 
  </para>

  <para>
   一般而言，您無需設定 FUSE。但建議您建立可將所有掛接點組合於其中的目錄。例如，可以建立目錄 <filename>~/mounts</filename> 並在該處插入不同檔案系統的子目錄。
  </para>
 </sect1>
 <sect1 xml:id="sec-fuse-ntfs">
  <title>掛接 NTFS 分割區</title>

  <para>
   <emphasis>新技術檔案系統</emphasis> (NTFS，New Technology File System) 是 Windows 的預設檔案系統。在一般情況下，由於非特權使用者無法使用外部 FUSE 程式庫掛接 NTFS 區塊裝置，因此下文所述的 Windows 分割區掛接程序需要 root 特權。
  </para>

  <procedure>
   <step>
    <para>
     切換為 <systemitem class="username">root</systemitem> 身份，然後安裝套件 <systemitem class="resource">ntfs-3g</systemitem>。 
    </para>
   </step>
   <step>
    <para>
     建立將用作掛接點的目錄，例如 <filename>~/mounts/windows</filename>。
    </para>
   </step>
   <step>
    <para>
     確定所需的 Windows 分割區。使用 YaST 並啟動磁碟分割程式模組，以檢視屬於 Windows 的分割區，但不要做任何修改。或者也可以切換為 <systemitem class="username">root</systemitem> 身份，然後執行 <command>/sbin/fdisk </command> <option>-l</option>。尋找分割區類型為 <literal>HPFS/NTFS</literal> 的分割區。
    </para>
   </step>
   <step>
    <para>
     在讀寫模式下裝載分割區。使用相應的 Windows 分割區取代佔位符 <replaceable>DEVICE</replaceable>：
    </para>
<screen><prompt>tux &gt; </prompt>ntfs-3g /dev/<replaceable>DEVICE</replaceable> <replaceable>MOUNT POINT</replaceable></screen>
    <para>
     若要在唯讀模式下使用 Windows 分割區，請附加 <option>-o ro</option>：
    </para>
<screen><prompt>tux &gt; </prompt>ntfs-3g /dev/<replaceable>DEVICE</replaceable> <replaceable>MOUNT POINT</replaceable> -o ro</screen>
    <para>
     指令 <command>ntfs-3g</command> 使用目前的使用者 (UID) 與群組 (GID) 裝載指定裝置。若要對其他使用者設定寫入權限，請使用指令 <command>id</command>
     <option> USER</option> 以取得 UID 與 GID 的輸出。使用下列指令進行設定：
    </para>
<screen><prompt role="root">root # </prompt>id tux
uid=1000(tux) gid=100(users) groups=100(users),16(dialout),33(video)
ntfs-3g /dev/<replaceable>DEVICE</replaceable> <replaceable>MOUNT POINT</replaceable> -o uid=1000,gid=100</screen>
    <para>
     可在 man 頁面中找到其他選項。
    </para>
   </step>
  </procedure>

  <para>
   若要卸載資源，請執行 <command>fusermount -u </command>
   <replaceable>掛接點</replaceable>。
  </para>
 </sect1>
 
 
 
 <sect1 xml:id="sec-fuse-moreinfo">
  <title>更多資訊</title>

  <para>
   如需詳細資訊，請參閱 FUSE 首頁：<link xlink:href="https://github.com/libfuse/libfuse"/>。
  </para>
 </sect1>
</chapter>
