<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="sle_update_upgrading.xml" version="5.0" xml:id="cha-upgrade-paths">
 <title>アップグレードパスと方法</title>
 <info>
  <abstract>
   <para>
    SUSE® Linux Enterprise (SLE)では、既存のシステムを新しいバージョンにアップグレードできます。たとえば、SLE 12 SP4を最新のSLE 15サービスパックにアップグレードできます。新たにインストールする必要はありません。ホームディレクトリ、データディレクトリ、システム設定などの既存のデータは、そのまま保持されます。CD/DVDドライブから、またはネットワーク上にある中央のインストールソースからアップデートできます。
   </para>

   <para>
    この章では、DVD、ネットワーク、自動化プロセス、SUSE Managerなどを使用して、SUSE Linux Enterprise システムを手動でアップグレードする方法について説明します。
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <sect1 xml:id="sec-upgrade-vs-fresh-install">
  <title>アップグレードと新規インストールの比較</title>
  <para>
   SUSEは<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>の2つのメジャーリリース間のアップデートをサポートしています。アップグレードと新規インストールのどちらが適切かは、特定のシナリオによって異なります。アップグレードの方が作業は少なくなりますが、新規インストールを行うと、リリースされた新機能のメリットを最大限受けられます。たとえば、ディスクレイアウトの変更、特定のファイルシステム機能、およびその他の改善などです。利用中のシステムを最大限活用するため、SUSEでは多くの場合、新規インストールをお勧めします。
  </para>
  <para>
   アップグレードと新規インストールのどちらを採用する場合も、システム設定とデフォルト値が要件に合っていることを確認する必要があります。
  </para>
  <para>
   特定のリリースのサービスパックから同じコードストリームの別のサービスパックにアップデートする場合は、新規インストールではなくアップグレードをお勧めします。とはいえ、このケースでも新規インストールを行う理由やシナリオも考えられます。どちらが適切かを判断できるのはお客様だけです。
  </para>
 </sect1>
 <sect1 xml:id="sec-upgrade-paths-supported">
  <title><phrase role="productname"><phrase os="sles">SLES</phrase></phrase> <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase>へのサポートされているアップグレードパス</title>
  <para>
   マイグレーションを実行する前に、<xref linkend="cha-update-preparation"/>をご覧ください。
  </para>
  <important>
   <title>クロスアーキテクチャアップグレードはサポートされない</title>
   <para>
    クロスアーキテクチャアップグレードは「サポートされません」。<phrase role="productname"><phrase os="sles"/></phrase>たとえば、32ビットバージョンの<emphasis>SUSE Linux Enterprise Server</emphasis>から64ビットバージョンへのアップグレードや、ビッグエンディアンからリトルエンディアンへのアップグレードなどがこれに該当します。
   </para>
   <para os="sles">
    具体的には、POWER版のSLE 11(ビッグエンディアン)からPOWER版のSLE <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase>(新規: リトルエンディアン)<emphasis/>はサポートされません。
   </para>
   <para>
    同様に、SUSE Linux Enterprise 15は、64ビット専用であるため、32ビットのSUSE Linux Enterprise 11システムからSUSE Linux Enterprise 15以降へのアップグレードもサポートされません。<emphasis/>
   </para>
   <para>
    クロスアーキテクチャアップグレードを行いたい場合は、新規インストールを実行する必要があります。
   </para>
  </important>

  <note>
   <title>サービスパックのスキップ</title>
   <para os="sles">
    最も単純なアップグレードパスは、すべてのサービスパックを連続してインストールすることです。SUSE Linux Enterprise 15製品ライン(GAとそれ以降のサービスパック)については、アップグレード時に1つのサービスパックをスキップすることもサポートされています。たとえば、SLE 15 GAからSLE 15 SP2へのアップグレードや、SLE 15 SP1からSLE 15 SP3へのアップグレードがサポートされます。
   </para>
   
  </note>

  <figure xml:id="fig-update-sle-paths-overview">
   <title>サポートされているアップグレードパスの概要</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata os="sles" fileref="upgrade-paths_sles.svg" width="100%" format="SVG"/>
     
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles" fileref="upgrade-paths_sles.png" width="80%" format="PNG"/>
     
    </imageobject>
   </mediaobject>
  </figure>

  <warning>
   <title>データベースのアップグレード</title>
   <para>
    この章で説明しているアップグレードパスは、マシンのOSとしてのSUSE Linux Enterpriseだけに適用されます。SUSE Linux Enterpriseが実行するすべてのアプリケーションに適用されるわけではありません。PostgreSQLやMariaDBデータベースなどのワークロードを使用している場合、データベースをアップグレードする前に、介在するOSのアップグレードが必要になる場合があります。
   </para>
   <para>
    OSのアップグレードを行う前に、<link xlink:href="https://www.suse.com/releasenotes/">リリースノート</link>でデータベースのバージョンを確認してください。新しいメジャーバージョンが出荷される場合、アップグレード手順について<xref linkend="cha-update-preparation"/>を参照してください。
   </para>
  </warning>

  <variablelist xml:id="vl-update-paths-supported">
   <title>バージョンごとにサポートされているアップグレードパス</title>
   
   <varlistentry os="sles">
    <term><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 11 GA / SP1 / SP2 / SP3 / SP4からのアップグレード</term>
    <listitem>
     <para>
      <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 11 SP4以前のサービスパックから直接アップグレードすることは、サポートされていません。<phrase role="productname"><phrase os="sles">SLES</phrase></phrase> <phrase role="productname"><phrase os="sles">15 SP3</phrase></phrase>に進むには、まず<phrase role="productnumber"><phrase os="sles;sled">SLES</phrase></phrase> 11 SP4 LTSSが必要です。
     </para>
     <para>
      新規インストールを行うことができない場合は、まず、<phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 11サービスパックを<phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 11 SP4 LTSSにアップグレードします。このアップグレードについては、<link xlink:href="https://doc.suse.com/sles/11-SP4/html/SLES-all/book-sle-deployment.html"><phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 11 SP4 『<citetitle>導入ガイド</citetitle></link>』を参照してください。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry os="sles">
    <term><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 11 SP4 LTSSからのアップグレード</term>
    <listitem>
     <para>
      <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 11 SP4からのアップグレードはオフラインアップグレードを介してのみサポートされます。詳細については、<xref linkend="cha-upgrade-offline"/>を参照してください。
     </para>
    </listitem>
   </varlistentry>
   
   <varlistentry>
    <term><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 12 GA / SP1 / SP2 / SP3 / SP4からのアップグレード</term>
    <listitem>
     <para>
      <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 12 SP4以前のサービスパックから直接アップグレードすることは、サポートされていません。<phrase role="productname"><phrase os="sles">SLES</phrase></phrase> <phrase role="productname"><phrase os="sles">15 SP3</phrase></phrase>に進むには、まず<phrase role="productnumber"><phrase os="sles;sled">SLES</phrase></phrase> 12 SP5が必要です。
     </para>
     <para>
      新規インストールを行うことができない場合は、まず、<phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 12サービスパックを<phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 12 SP5にアップグレードします。このアップグレードについては、<link os="sles" xlink:href="https://doc.suse.com/sles/12-SP5/html/SLES-all/book-sle-deployment.html"><phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 12 SP5 『<citetitle>導入ガイド</citetitle></link>』を参照してください。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry os="sles">
    <term><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 12 SP3 LTSS / SP4 LTSSからのアップグレード</term>
    <listitem>
     <para>
      <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 12 SP3 LTSSまたはSP4 LTSSからのアップグレードは、オフラインアップグレードでのみサポートされます。詳細については、<xref linkend="cha-upgrade-offline"/>を参照してください。
     </para>
    </listitem>
   </varlistentry>
   
   <varlistentry os="sles">
    <term><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 12 SP5からのアップグレード</term>
    <listitem>
     <para>
      <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 12 SP5からのアップグレードはオフラインアップグレードを介してのみサポートされます。詳細については、<xref linkend="cha-upgrade-offline"/>を参照してください。
     </para>
    </listitem>
   </varlistentry>
   
   <varlistentry os="sles">
    <term><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 15 GAからのアップグレード </term>
    <listitem>
     <para>
      <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 15 GAから直接アップグレードすることは、サポートされていません。<phrase role="productname"><phrase os="sles">SLES</phrase></phrase> <phrase role="productname"><phrase os="sles">15 SP3</phrase></phrase>に進むには、まず<phrase role="productnumber"><phrase os="sles;sled">SLES</phrase></phrase> 15 SP1が必要です。
     </para>
    </listitem>
   </varlistentry>
   
    <varlistentry os="sles">
     <term><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 15 SP1 / SP2からのアップグレード</term>
     <listitem>
      <para>
       <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 15 SP1またはSP2からのアップグレードは、オンラインとオフラインのどちらもサポートされています。詳細については、<xref linkend="sec-upgrade-paths-methods"/>を参照してください。
      </para>
     </listitem>
    </varlistentry>
   
   <varlistentry os="sles">
    <term>SUSE Linux Enterpriseのパブリッククラウドゲストのアップグレード</term>
    <listitem>
     <para>
      パブリッククラウドでのSLEゲストのアップグレードについては、<link xlink:href="https://doc.suse.com/suse-distribution-migration-system/1.0/single-html/distribution-migration-system/"><citetitle>Using the SUSE Distribution Migration System</citetitle></link>を参照してください。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry os="sles">
    <term>openSUSE Leap 15からのアップグレード</term>
    <listitem>
     <para>
      openSUSE Leap 15からのアップグレードはサポートされています。<xref linkend="sec-upgrade-online-leap-to-sle"/>を参照してください。Leapのサーバインストールのみがアップグレードをサポートされています。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

 </sect1>

 <sect1 xml:id="sec-upgrade-paths-methods">
  <title>オンラインアップグレードとオフラインアップグレード</title>
  <para>
   SUSEは、次のアップグレードおよびマイグレーションの方法をサポートしています。用語の詳細については、<xref linkend="sec-upgrade-background-terminology"/>を参照してください。次の2つの方法があります。
  </para>

  

  <variablelist>
   <varlistentry>
    <term>オンライン</term>
    <listitem>
     <para>
      実行中のオペレーティングシステム自体から実行されるアップグレード(システムが稼働中の状態)。例: ZypperまたはYaSTを使用したオンラインアップデート、SUSEカスタマーセンターまたはリポジトリミラーリングツール(RMT)を介して接続、SUSE Managerを介したソルトポリシー。
     </para>
     <para>
      詳細については、<xref linkend="cha-upgrade-online"/>を参照してください。
     </para>
     <para>
      同じメジャーリリースのサービスパック間でマイグレートする場合は、<xref linkend="sec-upgrade-online-yast"/>または<xref linkend="sec-upgrade-online-zypper"/>に従うことをお勧めします。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>オフライン</term>
    <listitem>
     <para>
      オフラインアップグレードは、アップグレードされるオペレーティングシステムが稼働して「いない」こと(システムダウン状態)を意味します。<emphasis/>代わりに、ターゲットオペレーティングシステムのインストーラが起動し(インストールメディアから、ネットワークまたはローカルブートローダを介して)、アップグレードを実行します。
     </para>
     <para>
      詳細については、<xref linkend="cha-upgrade-offline"/>を参照してください。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <important>
   <title>SUSE Managerクライアント</title>
   
   <para>
  マシンがSUSE Managerによって管理されている場合は、SUSE Managerドキュメントの説明に従ってアップデートしてください。「<citetitle>Client Migration</citetitle>」の手順については、<link xlink:href="https://documentation.suse.com/suma/"/>で入手可能な『<citetitle>SUSE Manager Upgrade Guide</citetitle>』を参照してください。
 </para>
  </important>
 </sect1>
</chapter>
