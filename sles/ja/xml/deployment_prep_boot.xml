<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_prep_boot.xml" version="5.0" role="General" xml:id="cha.deployment.prep_boot">
 <title>ターゲットシステムのブートの準備</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase>は複数の方法でインストールすることができます。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>をインストールするには、<xref linkend="cha.inst"/>で説明されている通常のメディアによるインストール以外に、ネットワークベースのさまざまなアプローチや、完全自動のアプローチも選択できます。
 </para>
 <para>
  それぞれの方法は、前提条件を記載したリストと、基本手順を記載したリストの2つのチェックリストを使用します。その後、これらのインストールシナリオの中で用いられているすべての方式についての詳細を説明します。
 </para>
 <note>
  <title>用語集</title>
  <para>
   以降のセクションでは、<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>を新たにインストールするシステムのことを「ターゲットシステム」または「インストールターゲット」と呼びます。<emphasis/><emphasis/><emphasis>リポジトリ</emphasis>(以前は<quote>インストールソース</quote>と呼ぶ)という言葉は、インストールデータのすべてのソースを表すために使用されます。これには、CDやDVDなどの物理メディアや、ネットワーク内でインストールデータを配布するネットワークサーバが含まれます。
  </para>
 </note>
 <para>
  このセクションでは、複雑なブートシナリオで必要となる設定タスクについて説明します。DHCP、PXEブート、TFTP、およびWake on LAN用の、すぐに使用できる設定例も含まれています。
 </para>
 <sect1 xml:id="sec.deployment.prep_boot.dhcp">
  <title>DHCPサーバのセットアップ</title>

  <para>
   DHCPサーバを設定するには、2種類の方法があります。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>のYaSTには、操作に使用するGUIが用意されています。設定ファイルは、手動で編集することもできます。<phrase os="sles">DHCPサーバの詳細については、<xref linkend="cha.dhcp"/>も参照してください。</phrase>
  </para>

  <sect2 xml:id="sec.deployment.prep_boot.dhcp.yast">
   <title>YaSTを使ったDHCPサーバのセットアップ</title>
   <para>
    TFTPサーバの場所をネットワーククライアントにアナウンスし、インストールターゲットが使用するブートイメージファイルを指定するには、DHCPサーバの設定に2つの宣言を追加します。
   </para>
   <procedure xml:id="proc.deployment.prep_boot.dhcp.yast">
    <step>
     <para>
      DHCPサーバのホストとなるマシンに<systemitem class="username">root</systemitem>としてログインします。
     </para>
    </step>
    <step>
     <para>
      <menuchoice><guimenu>YaST</guimenu><guimenu>ネットワークサービス</guimenu><guimenu>DHCPサーバ</guimenu></menuchoice>の順に選択します。
     </para>
    </step>
    <step>
     <para>
      基本的なDHCPサーバのセットアップウィザードを完了します。
     </para>
    </step>
    <step xml:id="st.deployment.prep_boot.dhcp.yast.expert">
     <para>
      <guimenu>エキスパート設定</guimenu>を選択し、起動ダイアログ終了の警告メッセージが表示されたら、<guimenu>はい</guimenu>を選択します。
     </para>
    </step>
    <step>
     <para>
      <guimenu>設定済みの宣言</guimenu>ダイアログで、新しいシステムを配置するサブネットを選択して、<guimenu>編集</guimenu>をクリックします。
     </para>
    </step>
    <step>
     <para>
      <guimenu>サブネットの設定</guimenu>ダイアログで、<guimenu>追加</guimenu>を選択して、サブネットの設定に新しいオプションを追加します。
     </para>
    </step>
    <step>
     <para>
      <option>filename</option>を選択して、値に<literal>pxelinux.0</literal>を入力します。
     </para>
    </step>
    <step>
     <para>
      他のオプション(<option>next-server</option>)を追加して、TFTPサーバのアドレスを値に設定します。
     </para>
    </step>
    <step>
     <para>
      <guimenu>OK</guimenu>をクリックした後、<guimenu>完了</guimenu>を選択して、DHCPサーバの設定を完了します。
     </para>
    </step>
   </procedure>
   <para>
    特定のホストに静的IPアドレスを提供するようにDHCPを設定するには、DHCPサーバ設定モジュールの<guimenu>エキスパート設定</guimenu><xref linkend="st.deployment.prep_boot.dhcp.yast.expert" xrefstyle="StepOnPage"/>から、ホストタイプの新たな宣言を追加します。このホスト宣言には、<option>hardware</option>および<option>fixed-address</option>オプションを追加して、適切な値を指定してください。
   </para>
  </sect2>

  <sect2 xml:id="sec.deployment.prep_boot.dhcp.man">
   <title>DHCPサーバの手動セットアップ</title>
   <para>
    すべてのDHCPサーバは、ネットワーククライアントへの自動アドレス割り当てのほか、TFTPサーバのIPアドレスとターゲットマシン上のインストールルーチンで取得する必要のあるファイルをアナウンスする必要があります。
   </para>
   <procedure xml:id="proc.deployment.prep_boot.dhcp.man">
    <step>
     <para>
      DHCPサーバのホストとなるマシンに<systemitem class="username">root</systemitem>としてログインします。
     </para>
    </step>
    <step>
     <para>
      <filename>/etc/dhcpd.conf</filename>にあるDHCPサーバの設定ファイルのサブネット設定に、次の行を追加します。
     </para>
<screen>subnet 192.168.1.0 netmask 255.255.255.0 {
  range dynamic-bootp 192.168.1.200 192.168.1.228;
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <replaceable>ip_tftp_server</replaceable>;
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename  "pxelinux.0";
}</screen>
     <para>
      <replaceable>ip_of_the_tftp_server</replaceable>は、TFTPサーバの実際のIPアドレスで置き換えてください。<filename>dhcpd.conf</filename>で利用可能なオプションの詳細については、<systemitem>dhcpd.conf</systemitem>のmanページを参照してください。
     </para>
    </step>
    <step>
     <para>
      <command>systemctl restart dhcpd</command>コマンドを実行して、DHCPサーバを再起動します。
     </para>
    </step>
   </procedure>
   <para>
    PXEおよびWake on LANインストールのリモート制御にSSHを使う場合には、DHCPがインストールターゲットに提供するIPアドレスを明示的に指定してください。そのためには、上記のDHCP設定を、以下の例に従って修正します。
   </para>
<screen>group {
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <replaceable>ip_tftp_server</replaceable>:
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename "pxelinux.0";
  host test {
    hardware ethernet <replaceable>mac_address</replaceable>;
    fixed-address <replaceable>some_ip_address</replaceable>;
    }
}
</screen>
   <para>
    host文は、インストールターゲットのホスト名になります。ホスト名とIPアドレスを特定のホストにバインドするには、そのシステムのハードウェア(MAC)アドレスを調べ、これを指定する必要があります。この例で使用されているすべての変数を、使用する環境にマッチする実際の値で置き換えてください。
   </para>
   <para>
    DHCPサーバをリスタートすると、サーバは指定されたホストに静的なIPを提供するので、そのシステムにSSHで接続することが可能になります。
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.tftp">
  <title>TFTPサーバのセットアップ</title>

  <para>
   SUSEベースのインストールを使用している場合は、YaSTを使用してTFTPサーバをセットできます。また、手動でTFTPサーバをセットアップすることもできます。TFTPサーバは、ターゲットシステムがブートして要求を送ったときに、ブートイメージを提供します。
  </para>

  <sect2 xml:id="sec.deployment.prep_boot.tftp.yast">
   <title>YaSTによるTFTPサーバのセットアップ</title>
   <procedure xml:id="proc.deployment.prep_boot.tftp.yast">
    <step>
     <para>
      <systemitem class="username">root</systemitem>としてログインします。
     </para>
    </step>
    <step>
     <para>
      <menuchoice><guimenu>YaST</guimenu><guimenu>ネットワークサービス</guimenu><guimenu>TFTPサーバ</guimenu></menuchoice>の順に選択して、要求されたパッケージをインストールします。
     </para>
    </step>
    <step>
     <para>
      <guimenu>有効にする</guimenu>をクリックして、サーバが起動し、ブートルーチンに含まれるようにします。この. xinetdがブート時にtftpdを起動するようにするために必要なユーザ操作はありません。
     </para>
    </step>
    <step>
     <para>
      <guimenu>ファイアウォール内でポートを開く</guimenu>をクリックして、マシンで動作しているファイアウォールで適切なポートを開きます。サーバでファイアウォールが動作していない場合には、このオプションは利用できません。
     </para>
    </step>
    <step>
     <para>
      <guimenu>参照</guimenu>をクリックして、ブートイメージのディレクトリを参照します。デフォルトのディレクトリ<filename>/tftpboot</filename>が作成され、自動的に選択されます。
     </para>
    </step>
    <step>
     <para>
      <guimenu>完了</guimenu>をクリックして、設定内容を適用し、サーバを起動します。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec.deployment.prep_boot.tftp.man">
   <title>TFTPサーバの手動セットアップ</title>
   <procedure xml:id="proc.deployment.prep_boot.tftp.man">
    <step>
     <para>
      <systemitem class="username">root</systemitem>としてログインして、<systemitem>tftp</systemitem>および<systemitem>xinetd</systemitem>パッケージをインストールします。
     </para>
    </step>
    <step>
     <para>
      もしまだ存在していなければ、<filename>/srv/tftpboot</filename>および<filename>/srv/tftpboot/pxelinux.cfg</filename>ディレクトリを作成します。
     </para>
    </step>
    <step>
     <para>
      <xref linkend="sec.deployment.prep_boot.pxe"/>で説明されているように、ブートイメージに必要な、適切なファイルを追加します。
     </para>
    </step>
    <step>
     <para>
      /etc/xinetd.d/<filename>にあるxinetdの設定ファイルを変更して、ブート時にTFTPサーバが起動するようにします。</filename>
     </para>
     <substeps performance="required">
      <step>
       <para>
        もしまだ存在していなければ、<filename>touch tftp</filename>コマンドで、このディレクトリに<command>tftp</command>というファイルを作成します。それから<command>chmod 755 tftp</command>を実行します。
       </para>
      </step>
      <step>
       <para>
        <filename>tftp</filename>ファイルを開いて、次の行を入力します。
       </para>
<screen>service tftp
{
        socket_type            = dgram
        protocol               = udp
        wait                   = yes
        user                   = root
        server                 = /usr/sbin/in.tftpd
        server_args            = -s /srv/tftpboot
        disable                = no
}
</screen>
      </step>
      <step>
       <para>
        このファイルを保存し、<command>systemctl restart xinetd</command>でxinetdをリスタートします。
       </para>
      </step>
     </substeps>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxe">
  <title>PXEブートの使用</title>

  <para>
   PXE(Preboot Execution Environment)の仕様書(<link xlink:href="http://www.pix.net/software/pxeboot/archive/pxespec.pdf"/>)では、いくらかの技術的な背景情報と、PXEの完全な仕様について知ることができます。
  </para>

  <procedure xml:id="proc.deployment.prep_boot.pxe">
   <step>
    <para>
     インストールリポジトリのディレクトリ<filename>boot/&lt;architecture&gt;/loader</filename>に移動し、次のコマンドの入力により、<filename>linux</filename>、<filename>initrd</filename>、<filename>message</filename>、<filename>biostest</filename>、および<filename>memtest</filename>の各ファイルを<filename>/srv/tftpboot</filename>ディレクトリにコピーします。
    </para>
<screen>cp -a linux initrd message biostest memtest /srv/tftpboot</screen>
   </step>
   <step>
    <para>
     YaSTで、インストールDVDから<systemitem>syslinux</systemitem>パッケージを直接インストールします。
    </para>
   </step>
   <step>
    <para>
     次のコマンドを入力して、<filename>/usr/share/syslinux/pxelinux.0</filename>ファイルを<filename>/srv/tftpboot</filename>ディレクトリにコピーします。
    </para>
<screen>cp -a /usr/share/syslinux/pxelinux.0 /srv/tftpboot
     </screen>
   </step>
   <step>
    <para>
     インストールリポジトリにディレクトリに移動し、次のコマンドを入力して、<filename>isolinux.cfg</filename>ファイルを<filename>/srv/tftpboot/pxelinux.cfg/default</filename>にコピーします。
    </para>
<screen>cp -a boot/&lt;architecture&gt;/loader/isolinux.cfg /srv/tftpboot/pxelinux.cfg/default
     </screen>
   </step>
   <step>
    <para>
     <filename>/srv/tftpboot/pxelinux.cfg/default</filename>ファイルを編集し、<literal>readinfo</literal>と<literal>framebuffer</literal>で始まる行を削除します。
    </para>
   </step>
   <step>
    <para>

     デフォルトの<option>failsafe</option>および<option>apic</option>ラベルのappend行に、以下のエントリを挿入します。
    </para>
    <variablelist>
     <varlistentry>
      <term><option>insmod=<replaceable>kernel module</replaceable></option>
      </term>
      <listitem>
       <para>
        このエントリを使用して、PXEクライアントでネットワークインストールを行うために必要なネットワークカーネルモジュールを指定します。<replaceable>kernel module</replaceable>には、ネットワークデバイスの適切なモジュール名を指定してください。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><option>netdevice=<replaceable>interface</replaceable></option>
      </term>
      <listitem>
       <para>
        このエントリは、ネットワークインストールで使用する、クライアントのネットワークインタフェースを定義します。これは、クライアントに複数のネットワークカードが装着されている場合にのみ必要です。適切に調整してください。ネットワークカードが1枚の場合には、このエントリは省略できます。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
<option>install=nfs://<replaceable>ip_instserver</replaceable>/<replaceable>path_to_repository</replaceable>/DVD1</option>
      </term>
      <listitem>
       <para>
        このエントリは、クライアントインストール用のNFSサーバとリポジトリを定義します。ip_instserver<replaceable>は、インストールサーバの実際のIPアドレスで置き換えてください。</replaceable><replaceable>path_to_repository</replaceable>は、リポジトリへの実際のパスで置き換える必要があります。HTTP、FTP、またはSMBのリポジトリについても、同様に指定します。ただし、プロトコルのプレフィクスは、<literal>http</literal>、<literal>ftp</literal>、または<literal>smb</literal>にする必要があります。
       </para>
       <important>
        <title>ブートオプションの追加</title>
        <para>
         SSHまたはVNCブートパラメータなどの、他のブートオプションをインストールルーチンに渡す必要がある場合には、それらを<option>install</option>エントリに追加します。パラメータの概要といくつかの例は、<xref linkend="sec.deployment.remoteinst.bootinst"/>を参照してください。
        </para>
       </important>
      </listitem>
     </varlistentry>
    </variablelist>
    <tip>
     <title>カーネルとInitrdのファイル名の変更</title>
     <para>
      カーネルとinitrdのイメージに異なるファイル名を使用することは可能です。これは、同じブートサーバから異なるオペレーティングシステムを提供する場合に便利です。ただし、PXE Boot用にTFTPによって設定されるファイル名にドットは1つしか許可されないので注意してください。
     </para>
    </tip>
    <para>
     <option>/srv/tftpboot/pxelinux.cfg/default</option>ファイルの例は、次のようなものです。リポジトリのプロトコルプレフィックスをネットワークのセットアップと一致するように調整し、<literal>install</literal>エントリに、オプション<literal>vnc</literal>と<literal>VNCPassword</literal>、またはオプション<literal>ssh</literal>と<literal>ssh.password</literal>を追加することによって、インストーラの接続に適した方法を指定します。<literal>\</literal>で区切られている行は、改行や<literal>\</literal>なしに、連続する1行として入力する必要があります。
    </para>
<screen>default harddisk

# default
label linux
  kernel linux
  append initrd=initrd ramdisk_size=65536 \
     install=nfs://<replaceable>ip_instserver</replaceable>/<replaceable>path_to_repository</replaceable>/<replaceable>product</replaceable>/DVD1

# repair
label repair
  kernel linux
  append initrd=initrd splash=silent repair=1 showopts

# rescue
label rescue
  kernel linux
  append initrd=initrd ramdisk_size=65536 rescue=1

# bios test
label firmware
  kernel linux
  append initrd=biostest,initrd splash=silent install=exec:/bin/run_biostest showopts

#  memory test
label memtest
  kernel memtest

#  hard disk
label harddisk
  localboot 0

implicit     0
display      message
prompt       1
timeout      100</screen>
   </step>
   <step>
    <para>
     <replaceable>ip_instserver</replaceable>と<replaceable>path_to_repository</replaceable>を設定で使用されている値で置き換えてください。
    </para>
    <para>
     以下のセクションは、このセットアップで使用するPXELINUXオプションの簡単なリファレンスとなっています。使用可能なオプションの詳細については、<filename>/usr/share/doc/packages/syslinux/</filename>にある、<systemitem>syslinux</systemitem>パッケージのドキュメントを参照してください。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxeopts">
  <title>PXELINUXの設定オプション</title>

  <para>
   ここに記されているのは、PXELINUX設定ファイルで利用可能なオプションの一部です。
  </para>

  <variablelist>
   <varlistentry>
    <term><option>APPEND <replaceable>options... </replaceable></option>
    </term>
    <listitem>
     <para>
      カーネルコマンドラインに1つまたは複数のオプションを追加します。これらは、自動ブートと手動ブートのどちらの場合でも追加されます。オプションはカーネルコマンドラインの先頭に追加されるので、通常は、明示的に入力したカーネルオプションで上書きできます。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>APPEND -</option>
    </term>
    <listitem>
     <para>
      何も追加しません。<option>LABEL</option>セクション内で、<option>APPEND</option>に引数として1つのハイフンを付ければ、グローバルな<option>APPEND</option>を上書きすることができます。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>DEFAULT <replaceable>kernel options</replaceable>...</option>
    </term>
    <listitem>
     <para>
      デフォルトのカーネルコマンドラインを設定します。PXELINUXが自動的にブートする場合には、DEFAULTの後のエントリがブートプロンプトに対して入力されたときのように動作します。加えて、自動ブートであることを示すautoオプションも自動的に追加されます。
     </para>
     <para>
      設定ファイルが存在しない、または設定ファイル内でDEFAULTエントリが定義されていない場合には、オプションの付かないカーネル名<quote>linux</quote>がデフォルトとなります。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><option>IFAPPEND <replaceable>FLAG</replaceable></option>
    </term>
    <listitem>
     <para>
      <replaceable>FLAG</replaceable>値に応じて、特定のオプションをカーネルコマンドラインに追加します。<option>IFAPPEND</option>オプションは、PXELINUXでのみ使用可能です。<replaceable>FLAG</replaceable>では、<xref linkend="tab.deployment.boot.pxeopts.ifappend"/>で説明されている値が必要です:
     </para>
     <table xml:id="tab.deployment.boot.pxeopts.ifappend">
      <title><option>IFAPPEND</option>から生成され、追加されたカーネルコマンドラインオプション</title>
      <tgroup cols="2">
       <colspec colwidth="1*"/>
       <colspec colwidth="4*"/>
       <thead>
        <row>
         <entry valign="middle">
          <para>
           引数
          </para>
         </entry>
         <entry>
          <para>
           生成されたカーネルコマンドライン/記述
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>
          <para>
           <option>1</option>
          </para>
         </entry>
         <entry>
<screen>ip=<replaceable>CLIENT_IP</replaceable>:<replaceable>BOOT_SERVER_IP</replaceable>:<replaceable>GW_IP</replaceable>:<replaceable>NETMASK</replaceable></screen>
          <para>
           プレースホルダは、DHCP/BOOTPまたはPXEブートサーバからの入力に基づいて置換されます。
          </para>
          <para>
           このオプションは、ブートされたシステムでDHCPクライアントを実行するための代替品ではないことに注意してください。定期的な更新がない場合、PXE BIOSによって取得されたリースは期限切れになり、IPアドレスはDHCPサーバによる再使用で使用可能になります。
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>2</option>
          </para>
         </entry>
         <entry>
<screen>BOOTIF=<replaceable>MAC_ADDRESS_OF_BOOT_INTERFACE</replaceable></screen>
          <para>
           このオプションは、インストールサーバが、DHCPサーバからの返信を受け取るまで、LANインタフェースを交互に検索する場合に、タイムアウトを回避する場合に有用です。このオプションを使用すると、initrdプログラムはシステムがブートされたインタフェースから断定することができます。linuxrcではこのオプションを読み込み、このネットワークインタフェースを使用します。
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>4</option>
          </para>
         </entry>
         <entry>
<screen>SYSUUID=<replaceable>SYSTEM_UUID</replaceable></screen>
          <para>
           小文字16進数でUUIDを追加します。<filename>/usr/share/doc/packages/syslinux/pxelinux.txt</filename>を参照してください。
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </table>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LABEL <replaceable>label</replaceable> KERNEL <replaceable>image</replaceable> APPEND <replaceable>options</replaceable>...</option>
    </term>
    <listitem>
     <para>
      ブートするカーネルとして<replaceable>label</replaceable>が入力された場合、PXELINUXは代わりに<replaceable>image</replaceable>をブートし、ファイルのグローバルセクション(最初の<option>LABEL</option>コマンドの前)で指定されたものの代わりに、指定された<option>APPEND</option>オプションを使用します。<replaceable>image</replaceable>のデフォルトは<replaceable>label</replaceable>と同じです。また、<option>APPEND</option>が指定されなかった場合には、グローバルエントリがデフォルトとして使用されます(あれば)。最大で128の<option>LABEL</option>エントリが使用できます。
     </para>

     <para>
      PXELINUXは次の構文を使用します。
     </para>
<screen>label <replaceable>mylabel</replaceable>
  kernel <replaceable>mykernel</replaceable>
  append <replaceable>myoptions</replaceable></screen>
     <para>
      ラベルは、ファイル名の場合のように切り詰められるので、切り詰められた後も固有性が保たれるように決める必要があります。たとえば、「v2.6.30」と「v2.6.31」という2つのラベルは、PXELINUXでは区別できません。これらは切り詰められるとどちらも同じDOSファイル名になるからです。
     </para>
     <para>
      カーネルは、Linuxカーネルである必要はなく、ブートセクタやCOMBOOTファイルであっても構いません。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LOCALBOOT <replaceable>type</replaceable></option>
    </term>
    <listitem>
     <para>
      PXELINUXでは、<option>KERNEL</option>オプションの代わりに<option>LOCALBOOT 0</option>を指定すると、 この特定のラベルが呼び出されて、カーネルブートの代わりにローカルディスクのブートが行われます。
     </para>
     <informaltable frame="topbot" rowsep="0">
      <tgroup cols="2">

       <thead>
        <row>
         <entry colname="1">
          <para>
           引数
          </para>
         </entry>
         <entry colname="2">
          <para>
           説明
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry colname="1">
          <para>
           <literal>0</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           通常のブートを行う
          </para>
         </entry>
        </row>
        <row>
         <entry colname="1">
          <para>
           <literal>4</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           まだメモリ上に常駐しているUNDI (Universal Network Driver Interface)ドライバを使用して、ローカルブートを行う
          </para>
         </entry>
        </row>
        <row>
         <entry colname="1">
          <para>
           <literal>5</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           まだメモリ上に常駐しているUNDIドライバを含め、PXEスタック全体でローカルブートを行う
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </informaltable>
     <para>
      他の値は定義されていません。UNDIやPXEスタックについて知らない場合は、<literal>0</literal>を指定してください。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>TIMEOUT <replaceable>time-out</replaceable></option>
    </term>
    <listitem>
     <para>
      自動的にブートする前に、ブートプロンプトをどれくらいの時間表示するかを指定します。単位は1/10秒です。タイムアウトは、ユーザがキーボードで何か入力するとキャンセルされます。この場合、ユーザがコマンドを入力するものとみなされます。タイムアウトの値を0に設定すると、タイムアウトは無効になります(これがデフォルトです)。タイムアウトの最大値は35996です(1時間よりほんの少しだけ短い時間です)。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>PROMPT<replaceable> flag_val</replaceable></option>
    </term>
    <listitem>
     <para>
      <option>flag_val</option>を0に設定すると、<keycap function="shift"/>か<keycap function="alt"/>キーが押された場合、または<keycap>Caps Lock</keycap>か<keycap>Scroll Lock</keycap>キーがセットされている場合にのみ、ブートプロンプトを表示します(デフォルト)。<option>flag_val</option>を1に設定すると、常にブートプロンプトを表示します。
     </para>
<screen>F2  <replaceable>filename</replaceable>
F1  <replaceable>filename</replaceable>
..etc...
F9  <replaceable>filename</replaceable>
F10 <replaceable>filename</replaceable></screen>
     <para>
      ブートプロンプトでファンクションキーを押したときに、指定されたファイルを表示します。これは、ブート前のオンラインヘルプ(おそらく、カーネルコマンドラインオプションのヘルプ)の実装に使用できます。以前のリリースとの後方互換性のために、<keycap>F10</keycap>を&lt;<literal>F0</literal>&gt;として入力することもできます。現在のところ、<keycap>F11</keycap>と<keycap>F12</keycap>にファイル名を関連付けることはできないことに注意してください。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxeprep">
  <title>ターゲットシステムでPXEブートの準備をする</title>

  <para>
   システムのBIOSで、PXEブートの準備をします。これには、BIOSのブート順でのPXEオプションの設定も含まれます。
  </para>

  <warning>
   <title>BIOSブートオーダー</title>
   <para>
    BIOSで、PXEオプションをハードディスクブートオプションの前に指定しないでください。さもないと、システムはブートのたびに再インストールを行おうとします。
   </para>
  </warning>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wolprep">
  <title>ターゲットシステムでWake on LANの準備をする</title>

  <para>
   Wake on LAN (WOL)では、インストールの前に適切なBIOSオプションを有効にすることが必要です。また、ターゲットシステムのMACアドレスを記録しておいてください。このデータは、Wake on LANを開始するために必要です。
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wol">
  <title>Wake on LAN</title>

  <para>
   Wake on LANを使えば、コンピュータのMACアドレスを含む特別なネットワークパケットを使って、コンピュータの電源を入れることができます。世界中のすべてのコンピュータは固有のMAC識別子を持っているので、間違って別のコンピュータの電源を入れてしまう心配はありません。
  </para>

  <important>
   <title>異なるネットワークセグメントにまたがるWake on LAN</title>
   <para>
    制御用のマシンが、起動すべきインストールターゲットと同じネットワークセグメント内にない場合には、WOL要求がマルチキャストとして送信されるように設定するか、またはそのネットワークセグメント内にあるマシンをリモートに制御して、要求の送信元として作動させてください。
   </para>
  </important>

  <para>
   SUSE Linux Enterprise Serverのユーザは、WOLと呼ばれるYaSTモジュールを使って、簡単にWake on LANを設定することができます。他のバージョンのSUSE LinuxベースのOSユーザは、コマンドラインツールを使用してください。
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wolyast">
  <title>YaSTを使ったWake on LAN</title>

  <procedure xml:id="proc.deployment.prep_boot.wolyast">
   <step>
    <para>
     <systemitem class="username">root</systemitem>としてログインします。
    </para>
   </step>
   <step>
    <para>
     <menuchoice><guimenu>YaST</guimenu><guimenu>ネットワークサービス</guimenu><guimenu>WOL</guimenu></menuchoice>の順に選択します。
    </para>
   </step>
   <step>
    <para>
     <guimenu>追加</guimenu>をクリックして、ターゲットシステムのホスト名とMACアドレスを入力します。
    </para>
   </step>
   <step>
    <para>
     このコンピュータの電源を入れるには、適切な項目を選択して、<guimenu>起動</guimenu>をクリックします。
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
