<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_images_procedure.xml" version="5.0" xml:id="cha-images-procedure">
 <title>Implementieren von Raw-Images</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase> bietet Raw-Images, die direkt auf Ihrem Gerätespeicher (Speicherkarte, USB-Speicherstick oder Festplatte) bereitgestellt werden können. Die Optionen für die Gerätetypen, auf denen Sie das Image bereitstellen können, sind von Ihrer jeweiligen Hardware abhängig; bitte beachten Sie die Hinweise in der Dokumentation des Herstellers.
 </para>

 <para>
  Zum Vorbereiten der Einrichtung benötigen Sie möglicherweise zwei separate Geräte. Ein Gerät für das Raw-Datenträger-Image, auf dem SLE Micro ausgeführt wird, und ein zweites Gerät, das als Konfigurationsmedium fungiert, z. B. ein USB-Datenträger. Sie können die Basis-Konfiguration auch ohne das Konfigurationsmedium ausführen. Für eine komplexere Konfiguration müssen Sie das Konfigurationsmedium vorbereiten. 
 </para>

 <para>
  Im Folgenden finden Sie eine Liste von Schritten, um ein Raw-Image auf Ihrem System zu implementieren:
 </para>
<procedure>
  <title>Implementieren eines Raw-Image</title>
  <step>
    <para>
      Bereiten Sie das Raw-Image wie in <xref linkend="proc-prepare-image"/> beschrieben vor.
    </para>
  </step>
  <step>
    <para>
      Bereiten Sie bei Bedarf das Konfigurationsmedium wie in <xref linkend="pro-preparing-configuration-device"/> beschrieben vor.
    </para>
  </step>
  <step>
    <para>
      Wenn Sie kein Konfigurationsmedium verwenden, gehen Sie wie in <xref linkend="sec-jeos-firstboot"/> beschrieben vor.
    </para>
  </step>
  <step>
    <para>
  Nach dem ersten Starten können Sie Ihre SLE Micro-Instanz mit dem Kommando <command>transactional-update</command> registrieren. Detaillierte Informationen finden Sie in <xref linkend="sec-images-registration"/>.
 </para>
  </step>
  <step>
    <para>
  Für SLE Micro sind Erweiterungen verfügbar. Wenn Sie eine dieser Erweiterungen verwenden möchten, nehmen Sie sie vom installierten System aus in Ihr Abonnement auf. Detaillierte Informationen finden Sie in <xref linkend="sec-adding-extension"/>.
 </para> 
  </step>
</procedure>

 <section xml:id="sec-raw-preparation">
  <title>Vorbereiten des Raw-Images</title>
  <para>
  So bereiten Sie das Raw-Image vor:
 </para> 
 <procedure xml:id="proc-prepare-image">
  <title>Vorbereiten des Raw-Datenträger-Images</title>
  <step>
   <para>
    Laden Sie das Raw-Image herunter und dekomprimieren Sie es:
   </para>
<screen><prompt>&gt; </prompt>xz -d <replaceable>DOWNLOADED_IMAGE.raw.xz</replaceable></screen>
  </step>
  <step>
   <para>
    Kopieren Sie das dekomprimierte Image auf das Gerät, auf dem SLE Micro ausgeführt werden soll:
   </para>
<screen><prompt>&gt; </prompt>dd if=<replaceable>DOWNLOADED_IMAGE.raw</replaceable> of=/dev/sd<replaceable>X</replaceable></screen>
  </step>
 </procedure>
</section>

<section xml:id="sec-prepare-device">
  <title>Vorbereiten des Konfigurationsgeräts</title>
 <para>
  Mit dem folgenden Verfahren bereiten Sie das Konfigurationsgerät (in der Regel ein USB-Speicherstick) vor. Beachten Sie, dass das Konfigurationsgerät beim ersten Starten mit dem Host verbunden sein muss, auf dem SLE Micro ausgeführt wird.
 </para>
 <procedure xml:id="pro-preparing-configuration-device">
 <title>Vorbereiten des Konfigurationsgeräts</title>
  <step>
   <para>
    Formatieren Sie den Datenträger mit einem Dateisystem, das von SLE Micro unterstützt wird: Ext3, Ext4 usw:
   </para>
<screen>
<prompt>&gt; </prompt>sudo mkfs.ext4 /dev/sd<replaceable>Y</replaceable>
</screen>
  </step>
  <step>
   <para>
    Legen Sie als Gerätekennung entweder <literal>ignition</literal> (wenn entweder Ignition oder Combustion verwendet wird) oder <literal>combustion</literal> fest (wenn nur Combustion verwendet wird). Ext4-Dateisystem:
   </para>
<screen><prompt>&gt; </prompt>sudo e2label /dev/sd<replaceable>Y</replaceable> ignition</screen>
   <para>
    Sie können ein beliebiges Konfigurationsspeichermedium verwenden, das von Ihrem Virtualisierungssystem oder Ihrer Hardware unterstützt wird: ISO-Image, USB-Speicherstick usw.
   </para>
  </step>
  <step>
   <para>
    Hängen Sie das Gerät ein:
   </para>
<screen>
<prompt>&gt; </prompt>sudo mount /dev/sdY /mnt
</screen>
  </step>
  <step>
   <para>
    Erstellen Sie die Verzeichnisstruktur gemäß <xref linkend="cha-images-ignition"/> oder <xref linkend="cha-images-combustion"/>, je nach dem verwendeten Konfigurationstool:
   </para>
<screen>
<prompt>&gt; </prompt>sudo mkdir -p /mnt/ignition/
</screen>
   <para>
    oder:
   </para>
<screen>
<prompt>&gt; </prompt>sudo mkdir -p /mnt/combustion/
</screen>
  </step>
  <step>
   <para>
    Bereiten Sie vor dem ersten Starten alle Elemente der Konfiguration vor, die von <xref linkend="cha-images-ignition" xrefstyle="template:Ignition"/> oder <xref linkend="cha-images-combustion" xrefstyle="template:Combustion"/> verwendet werden. Zum Anmelden bei Ihrem System müssen Sie ein Passwort für <systemitem class="username">root</systemitem> angeben oder die passwortlose Authentifizierung einrichten. Ansonsten ist nach dem ersten Starten kein Zugriff auf das System möglich.
   </para>
  </step>
</procedure>
  </section>

  <section xml:id="sec-jeos-firstboot">
    <title>Minimale Erstkonfiguration</title>
    <para>
      Wenn Sie beim ersten Booten des Raw-Images kein Konfigurationsgerät anschließen, können Sie mit <emphasis>jeos-firstboot</emphasis> eine minimale Konfiguration Ihres Systems wie folgt vornehmen:
    </para>
    <procedure>
      <title>Konfigurieren des Systems mit <emphasis>jeos-firstboot</emphasis></title>
      <step>
        <para>
          Bestätigen Sie die Konfiguration.
        </para>
        <informalfigure>
        <mediaobject>
          <imageobject role="fo">
     <imagedata fileref="slemicro_jeos_start.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="slemicro_jeos_start.png" width="100%"/>
    </imageobject>
    <textobject role="description"><phrase>jeos first boot</phrase>
    </textobject>
        </mediaobject>
      </informalfigure>
      </step>
      <step>
        <para>
          Wählen Sie ein Tastaturlayout und bestätigen Sie die Auswahl.
        </para>
        <informalfigure>
        <mediaobject>
          <imageobject role="fo">
     <imagedata fileref="slemicro_jeos_keyboard.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="slemicro_jeos_keyboard.png" width="100%"/>
    </imageobject>
    <textobject role="description"><phrase>jeos keyboard selection</phrase>
    </textobject>
        </mediaobject>
      </informalfigure>
      </step>
      <step>
        <para>
          Lesen Sie die Lizenzvereinbarung und akzeptieren Sie sie.
        </para>
        <informalfigure>
        <mediaobject>
          <imageobject role="fo">
     <imagedata fileref="slemicro_jeos_eula.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="slemicro_jeos_eula.png" width="100%"/>
    </imageobject>
    <textobject role="description"><phrase>jeos EULA</phrase>
    </textobject>
        </mediaobject>
      </informalfigure>
      </step>
      <step>
        <para>
          Wählen Sie eine Zeitzone.
        </para>
        <informalfigure>
        <mediaobject>
          <imageobject role="fo">
     <imagedata fileref="slemicro_jeos_timezone.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="slemicro_jeos_timezone.png" width="100%"/>
    </imageobject>
    <textobject role="description"><phrase>jeos time zone selection</phrase>
    </textobject>
        </mediaobject>
      </informalfigure>
      </step>
      <step>
        <para>
          Geben Sie ein Passwort für <systemitem class="username">root</systemitem> ein.
        </para>
        <informalfigure>
        <mediaobject>
          <imageobject role="fo">
     <imagedata fileref="slemicro_jeos_password.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="slemicro_jeos_password.png" width="100%"/>
    </imageobject>
    <textobject role="description"><phrase>root password</phrase>
    </textobject>
     </mediaobject>
   </informalfigure>
   </step>
   <step>
    <para>
      Bestätigen Sie das <systemitem class="username">root</systemitem>-Passwort.
    </para>
    <informalfigure>
    <mediaobject>
      <imageobject role="fo">
     <imagedata fileref="slemicro_jeos_password_confirm.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="slemicro_jeos_password_confirm.png" width="100%"/>
    </imageobject>
    <textobject role="description"><phrase>root password confirmation</phrase>
    </textobject>
        </mediaobject>
      </informalfigure>
      </step>
      <step>
        <para>
          Akzeptieren Sie die Anweisung zur Registrierung von SLE Micro.
        </para>
        <informalfigure>
        <mediaobject>
          <imageobject role="fo">
     <imagedata fileref="slemicro_jeos_statement.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="slemicro_jeos_statement.png" width="100%"/>
    </imageobject>
    <textobject role="description"><phrase>root password</phrase>
    </textobject>
        </mediaobject>
      </informalfigure>
      </step>
    </procedure>
  </section>
</chapter>
