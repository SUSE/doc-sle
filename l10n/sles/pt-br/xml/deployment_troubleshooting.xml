<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_troubleshooting.xml" version="5.0" role="General" xml:id="cha-installation-troubleshooting">
 <title>Solução de problemas</title>
 <info>
  <abstract>
   <para>
    Esta seção destaca alguns problemas comuns que você pode encontrar durante a instalação e oferece possíveis soluções ou alternativas.
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>sim</dm:translation>
  </dm:docmanager>
 </info>
 <sect1 xml:id="sec-installation-troubleshooting-checking-media">
  <title>Verificando a mídia</title>

  <para>
   Se você encontrar qualquer problema ao usar a mídia de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Desktop</phrase></phrase>, verifique a integridade da mídia. Inicialize da mídia e escolha <menuchoice><guimenu>Mais</guimenu> <guimenu>Verificar mídia de instalação</guimenu></menuchoice> no menu de boot. Um sistema mínimo é inicializado e permite escolher o dispositivo que será verificado. Selecione o respectivo dispositivo e clique em <guimenu>OK</guimenu> para confirmar e executar a verificação.
  </para>

  <para>
   No sistema em execução, inicie o YaST e escolha <menuchoice>
   <guimenu>Software</guimenu> <guimenu>Verificação de Mídia</guimenu> </menuchoice>. Insira o meio e clique em <guimenu>Iniciar Verificação</guimenu>. A verificação pode levar algum tempo.
  </para>

  <para>
   Se forem detectados erros durante a verificação, não use esse meio para a instalação. Problemas de mídia podem ocorrer, por exemplo, quando você mesmo gravou o meio no DVD. A gravação de mídia a baixa velocidade (4x) ajuda a evitar problemas.
  </para>
 </sect1>
 <sect1 xml:id="sec-installation-troubleshooting-dvd">
  <title>Nenhuma unidade inicializável disponível</title>

  <para>
   Se o computador não puder ser inicializado de uma unidade USB ou de DVD, haverá várias alternativas. Você também poderá usar essa opção se a sua unidade não for suportada pelo <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>.
  </para>

  <variablelist>
   <varlistentry>
    <term>Usando uma unidade flash USB ou uma unidade de DVD externa</term>
    <listitem>
     <para>
      O Linux oferece suporte à maioria das unidades flash USB ou de DVD existentes. Mesmo que o sistema não tenha uma unidade flash USB ou de DVD, ainda será possível usar uma unidade externa, conectada por USB, FireWire ou SCSI, para inicializar o sistema. Às vezes, uma atualização de firmware poderá ajudar se você tiver problemas.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Boot de rede via PXE</term>
    <listitem>
     <para>
      Se a máquina não tiver uma unidade flash USB e de DVD, mas oferecer uma conexão Ethernet ativa, execute a instalação completamente baseada em rede. <phrase os="sles;sled">Consulte a <xref linkend="sec-remote-installation-scenario-vncpxe"/> e a <xref linkend="sec-remote-installation-scenario-sshpxe"/> para obter detalhes.</phrase>
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Unidade flash USB</term>
    <listitem>
     <para>
      Você poderá usar uma unidade flash USB se a sua máquina não tiver uma unidade de DVD e uma conexão de rede. <phrase os="sles;sled">Para obter os detalhes, consulte o:</phrase>
     </para>
     <itemizedlist os="sles;sled">
      <listitem>
       <para arch="x86_64">
        <xref linkend="sec-x86-media"/>
       </para>
      </listitem>
      <listitem os="sles">
       <para arch="aarch64">
        <xref linkend="sec-aarch64-media"/>
       </para>
      </listitem>
     </itemizedlist>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec-installation-troubleshooting-bios">
  <title>Falha na inicialização da mídia de instalação</title>

  <para>
   Um motivo possível para a máquina não inicializar a mídia de instalação é uma configuração incorreta de sequência de boot no BIOS. A sequência de boot do BIOS deve ter uma unidade flash USB ou de DVD definida como a primeira entrada para a inicialização. De outra forma, a máquina tentaria inicializar de outro meio, normalmente o disco rígido. Você encontra instruções de como mudar a sequência de boot do firmware na documentação que acompanha sua placa-mãe, ou nos parágrafos a seguir.
  </para>

  <para>
   O BIOS é o software que habilita as funções mais básicas de um computador. Fabricantes de placas-mãe fornecem um BIOS especificamente fabricado para o hardware. Normalmente, a configuração do BIOS só pode ser acessada em um momento específico: quando a máquina está inicializando. Durante a fase de inicialização, a máquina executa vários testes de diagnóstico de hardware. Um deles é uma verificação de memória, indicado por um contador de memória. Quando o contador aparecer, procure uma linha, geralmente abaixo dele ou em algum local na parte inferior, mencionando a tecla a ser pressionada para acessar a configuração do BIOS. Geralmente, a tecla a ser pressionada é <keycap function="delete"/>, <keycap>F1</keycap> ou <keycap function="escape"/>. Pressione esta tecla até que a tela de configuração do BIOS seja exibida.
  </para>

  <procedure xml:id="pro-tinstallation-troubleshooting-bios">
   <title>Mudando a sequência de boot do BIOS</title>
   <step>
    <para>
     Digite o BIOS usando a tecla apropriada conforme anunciada pelas rotinas de inicialização e espere até que a tela do BIOS seja exibida.
    </para>
   </step>
   <step>
    <para>
     Para mudar a sequência de inicialização em um AWARD BIOS, procure a entrada <guimenu>BIOS FEATURES SETUP. </guimenu> Outros fabricantes talvez tenham um nome diferente para isso, como <guimenu>ADVANCED CMOS SETUP</guimenu>. Quando encontrar a entrada, selecione-a e confirme com <keycap function="enter"/>.
    </para>
   </step>
   <step>
    <para>
     Na tela exibida, procure uma subentrada denominada <guimenu>BOOT SEQUENCE</guimenu> ou <guimenu>BOOT ORDER</guimenu>. Modifique as configurações pressionando <keycap function="pageup"/> ou <keycap function="pagedown"/> até a unidade flash USB ou de DVD aparecer primeiro na lista.
    </para>
   </step>
   <step>
    <para>
     Saia da tela de configuração do BIOS pressionando <keycap function="escape"/>. Para gravar as mudanças, selecione <guimenu>SAVE &amp; EXIT SETUP</guimenu> ou pressione <keycap>F10</keycap>. Para confirmar que as configurações devem ser gravadas, pressione <keycap>Y</keycap>.
    </para>
   </step>
  </procedure>

  <procedure>
   <title>Mudando a sequência de boot em um BIOS SCSI (adaptador de host Adaptec)</title>
   <step>
    <para>
     Abra a configuração pressionando <keycombo> <keycap function="control"/>
     <keycap>A</keycap> </keycombo>.
    </para>
   </step>
   <step>
    <para>
     Selecione <guimenu>Utilitários de Disco</guimenu>. Os componentes de hardware conectados agora são exibidos.
    </para>
    <para>
     Anote o ID do SCSI da sua unidade flash USB ou de DVD.
    </para>
   </step>
   <step>
    <para>
     Saia do menu com <keycap function="escape"/>.
    </para>
   </step>
   <step>
    <para>
     Abra <guimenu>Definir Configurações do Adaptador</guimenu>. Em <guimenu>Opções Adicionais</guimenu>, selecione <guimenu>Opções do Dispositivo de Inicialização</guimenu> e pressione <keycap function="enter"/>.
    </para>
   </step>
   <step>
    <para>
     Insira o ID da unidade flash USB ou de DVD e pressione <keycap function="enter"/> novamente.
    </para>
   </step>
   <step>
    <para>
     Pressione <keycap function="escape"/> duas vezes para retornar à tela de inicialização do BIOS do SCSI.
    </para>
   </step>
   <step>
    <para>
     Saia dessa tela e confirme com <guimenu>Sim</guimenu> para inicializar o computador.
    </para>
   </step>
  </procedure>

  <para>
   Independentemente do idioma e do layout do teclado que a instalação final usará, a maioria das configurações do BIOS usa o layout de teclado dos EUA, conforme mostrado na figura a seguir:
  </para>

  <figure xml:id="fig-trouble-install-keyboard-us">
   <title>Layout do teclado dos EUA</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="keyboard_us.svg" width="75%" format="SVG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="keyboard_us.png" width="75%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="sec-installation-troubleshooting-noboot">
  <title>Falha de boot</title>

  <para>
   Há falha na inicialização de alguns tipos de hardware, principalmente os muito antigos ou muito recentes. Os motivos podem ser falta de suporte ao hardware no kernel de instalação ou drivers que causam problemas em alguns hardwares específicos.
  </para>

  <para>
   Se o seu sistema falhar na instalação usando o modo de <guimenu>instalação</guimenu> padrão da primeira tela de boot da instalação, tente o seguinte:
  </para>

  <procedure>
   <step>
    <para>
     Com a mídia de instalação ainda na unidade, reinicialize a máquina com <keycombo> <keycap function="control"/> <keycap function="alt"/>
     <keycap function="delete"/> </keycombo>     ou usando o botão de reinicialização do hardware.
    </para>
   </step>
   <step>
    <para>
     Quando a tela de boot for exibida, pressione <keycap>F5</keycap>, use as teclas de seta do teclado para navegar até <guimenu>Sem ACPI</guimenu> e pressione <keycap function="enter"/> para iniciar o processo de boot e instalação. Essa opção desabilita o suporte para as técnicas de gerenciamento de energia da ACPI.
    </para>
   </step>
   <step>
    <para>
     Prossiga com a instalação conforme descrito no <xref linkend="cha-install"/>.
    </para>
   </step>
  </procedure>

  <para>
   Se isso falhar, proceda como acima, mas escolha <guimenu>Configurações Seguras. </guimenu> Essa opção desabilita o suporte de ACPI e DMA. A maioria dos hardwares inicializará com essa opção.
  </para>

  <para>
   Se ambas as opções falharem, use o prompt dos parâmetros de boot para transmitir quaisquer parâmetros adicionais necessários para suportar esse tipo de hardware no kernel de instalação. Para obter mais informações sobre os parâmetros disponíveis como parâmetros de boot, consulte a documentação do kernel localizada em <filename>/usr/src/linux/Documentation/kernel-parameters.txt</filename>.
  </para>

  <tip>
   <title>Obtendo a documentação do kernel</title>
   <para>
    Instale o pacote <systemitem class="systemname">kernel-source</systemitem> para exibir a documentação do kernel.
   </para>
  </tip>

  <para>
   Há outros parâmetros de kernel relacionados à ACPI que podem ser digitados no prompt de boot antes da inicialização para instalação:
  </para>

  <variablelist>
   <varlistentry>
    <term><systemitem>acpi=off</systemitem></term>
    <listitem>
     <para>
      Esse parâmetro desabilita o subsistema completo da ACPI no seu computador. Isso poderá ser útil se o computador não puder lidar com a ACPI ou se você achar que a ACPI no computador causa problemas.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem>acpi=force</systemitem></term>
    <listitem>
     <para>
      Sempre habilite a ACPI mesmo que o computador tenha um BIOS antigo anterior ao ano 2000. Esse parâmetro também habilita a ACPI se ela foi definida em complemento a <systemitem>acpi=off</systemitem>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem>acpi=noirq</systemitem></term>
    <listitem>
     <para>
      Não use a ACPI para roteamento de IRQ.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem>acpi=ht</systemitem></term>
    <listitem>
     <para>
      Execute somente ACPI o suficiente para habilitar hyper-threading.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem>acpi=strict</systemitem></term>
    <listitem>
     <para>
      Tenha menos tolerância com plataformas que não sejam estritamente compatíveis com a especificação ACPI.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem>pci=noacpi</systemitem></term>
    <listitem>
     <para>
      Desabilita o roteamento de IRQ de PCI do novo sistema da ACPI.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem>pnpacpi=off</systemitem></term>
    <listitem>
     <para>
      Essa opção serve para problemas de porta serial ou paralela quando a configuração do BIOS contiver interrupções ou portas incorretas.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem>notsc</systemitem></term>
    <listitem>
     <para>
      Desabilita o contador da marcação de horário. Essa opção pode ser usada para solucionar problemas de tempo nos seus sistemas. Trata-se de um recurso recente, portanto, se você perceber regressões na sua máquina, principalmente relativas a horário ou mesmo um travamento total, vale a pena tentar essa opção.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem>nohz=off</systemitem></term>
    <listitem>
     <para>
      Desabilita o recurso nohz. Se a sua máquina trava, essa opção pode ajudar. Do contrário, ela não tem utilidade.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   Após determinar a combinação correta de parâmetros, o YaST os gravará automaticamente na configuração do carregador de boot para garantir que o sistema seja inicializado de modo apropriado na próxima vez.
  </para>

  <para>
   Se erros inexplicáveis ocorrerem quando o kernel for carregado ou durante a instalação, selecione <guimenu>Teste de Memória</guimenu> no menu de boot para verificar a memória. Se <guimenu>Teste de Memória</guimenu> retornar um erro, geralmente será um erro de hardware.
  </para>
 </sect1>
 <sect1 xml:id="sec-installation-troubleshooting-graph">
  <title>Falha na inicialização do instalador gráfico</title>

  <para>
   Depois que você insere o meio na unidade e reinicializa a máquina, a tela de instalação é exibida, mas depois que a opção <guimenu>Instalação</guimenu> é selecionada, o instalador gráfico não inicializa.
  </para>

  <para>
   Há várias maneiras de lidar com essa situação:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     Tente selecionar outra resolução de tela para as caixas de diálogo de instalação.
    </para>
   </listitem>
   <listitem>
    <para>
     Selecione <guimenu>Modo de Texto</guimenu> para a instalação.
    </para>
   </listitem>
   <listitem>
    <para>
     Faça uma instalação remota através de VNC usando o instalador gráfico.
    </para>
   </listitem>
  </itemizedlist>

  <procedure xml:id="pro-installation-troubleshooting-graph">
   <title>Mudar a resolução de tela para instalação</title>
   <step>
    <para>
     Inicialize para a instalação.
    </para>
   </step>
   <step>
    <para>
     Pressione <keycap>F3</keycap> para abrir um menu do qual selecionar uma resolução mais baixa para fins de instalação.
    </para>
   </step>
   <step>
    <para>
     Selecione <guimenu>Instalação</guimenu> e prossiga com a instalação conforme descrito no <xref linkend="cha-install"/>.
    </para>
   </step>
  </procedure>

  <procedure xml:id="pro-installation-troubleshooting-text">
   <title>Instalação em modo de texto</title>
   <step>
    <para>
     Inicialize para a instalação.
    </para>
   </step>
   <step>
    <para>
     Pressione <keycap>F3</keycap> e selecione <guimenu>Modo de Texto</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Selecione <guimenu>Instalação</guimenu> e prossiga com a instalação conforme descrito no <xref linkend="cha-install"/>.
    </para>
   </step>
  </procedure>

  <procedure xml:id="pro-trouble-install-vnc">
   <title>Instalação na VNC</title>
   <step>
    <para>
     Inicialize para a instalação.
    </para>
   </step>
   <step>
    <para>
     Insira o texto a seguir no prompt de parâmetros de boot:
    </para>
<screen>vnc=1 vncpassword=<replaceable>SOME_PASSWORD</replaceable></screen>
    <para>
     Substitua <replaceable>SENHA</replaceable> pela senha a ser usada para instalação do VNC.
    </para>
   </step>
   <step>
    <para>
     Selecione <guimenu>Instalação</guimenu> e pressione <keycap function="enter"/> para iniciar a instalação.
    </para>
    <para>
     Em vez de iniciar diretamente na rotina de instalação gráfica, o sistema continua em execução no modo de texto. Em seguida, o sistema é interrompido, exibindo uma mensagem com o endereço IP e o número da porta em que o instalador pode ser acessado por meio de uma interface de browser ou um aplicativo de viewer VNC.
    </para>
   </step>
   <step>
    <para>
     Se você usa um browser para acessar o instalador, inicie o browser e digite as informações de endereço fornecidas pelas rotinas de instalação na futura máquina do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> e pressione <keycap function="enter"/>:
    </para>
<screen>http://<replaceable>IP_ADDRESS_OF_MACHINE</replaceable>:5801</screen>
    <para>
     Uma caixa de diálogo é aberta na janela do browser solicitando a senha VNC. Insira-a e continue com a instalação conforme descrito no <xref linkend="cha-install"/>.
    </para>
    <important>
     <title>Suporte a várias plataformas</title>
     <para>
      A instalação através de VNC funciona com qualquer navegador em qualquer sistema operacional, desde que o suporte Java esteja habilitado.
     </para>
    </important>
    <para>
     Forneça o endereço IP e a senha do seu viewer do VNC quando solicitado. Uma janela é aberta, exibindo as caixas de diálogo de instalação. Prossiga com a instalação como de costume.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec-installation-troubleshooting-mini">
  <title>Apenas a tela de boot minimalista é iniciada</title>

  <para>
   Você inseriu o meio na unidade, as rotinas do BIOS foram encerradas, mas o sistema não inicia com a tela de boot gráfica. Em vez disso, ele inicia uma interface baseada em texto bem minimalista. Isso pode acontecer em qualquer máquina que não forneça memória gráfica suficiente para renderizar uma tela de boot gráfica.
  </para>

  <para>
   Embora a tela de boot de texto tenha aparência minimalista, ela oferece praticamente a mesma funcionalidade que a gráfica:
  </para>

  <variablelist>
   <varlistentry>
    <term>Opções de boot</term>
    <listitem>
     <para>
      Diferentemente da interface gráfica, os diversos parâmetros de boot não podem ser selecionados usando as teclas de cursor do teclado. O menu de inicialização da tela de boot em modo de texto oferece algumas palavras-chave no prompt de inicialização. Essas palavras-chave são mapeadas para as opções oferecidas na versão gráfica. Insira a sua opção e pressione <keycap function="enter"/> para iniciar o processo de boot.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Opções de boot personalizadas</term>
    <listitem>
     <para>
      Após selecionar um parâmetro de boot, insira a palavra-chave apropriada no prompt de boot ou insira alguns parâmetros de boot personalizados, conforme descrito na <xref linkend="sec-installation-troubleshooting-noboot"/>. Para iniciar o processo de instalação, pressione <keycap function="enter"/>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Resoluções de tela</term>
    <listitem>
     <para>
      Use as teclas de função (<keycap>F1</keycap> ... <keycap>F12</keycap>) para determinar a resolução de tela para instalação. Se você precisa inicializar no modo de texto, escolha <keycap>F3</keycap>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec-installation-troubleshooting-log" os="sles">
  <title>Arquivos de registro</title>

  <para>
   Para obter mais informações sobre os arquivos de registro que são criados durante a instalação, consulte o <xref linkend="sec-admsupport-install"/>.
  </para>
 </sect1>
</chapter>
