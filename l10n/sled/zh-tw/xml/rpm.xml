<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="rpm.xml" version="5.0" xml:id="sec-rpm">
 <title>RPM - 套件管理員</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  RPM (RPM 套件管理員) 用於管理軟體套件。主要指令為 <command>rpm</command> 和 <command>rpmbuild</command>。使用者、系統管理員和套件建立者可以在功能強大的 RPM 資料庫中查詢已安裝軟體的詳細資訊。
 </para>

 <para>
  <command>rpm</command> 有五種模式：安裝、解除安裝 (或更新) 軟體套件、重建 RPM 資料庫、查詢 RPM 庫或個別的 RPM 歸檔、對套件執行完整性檢查，以及簽署套件。<command>rpmbuild</command> 可用於建立初始來源的可安裝套件。
 </para>

 <para>
  可安裝的 RPM 歸檔以特殊二進位格式包裝封裝。這些歸檔中包含要安裝的程式檔案，以及供 <command>rpm</command> 用於在安裝過程中設定套件，或者儲存在 RPM 資料庫中以作記錄的某些中繼資訊。RPM 歸檔的副檔名通常為 <filename>.rpm</filename>。
 </para>

 <tip>
  <title>軟體開發套件</title>
  <para>
   對於數個套件，軟體開發所需的元件 (程式庫、標頭、Include 檔案等) 已分別封裝在不同的套件中。只有在您想要自行編譯軟體 (例如，最新的 GNOME 套件) 時，才需要這些開發套件。依副檔名 <literal>-devel</literal> 即可識別這些套件，例如 <systemitem class="resource">alsa-devel</systemitem> 和 <systemitem class="resource">gimp-devel</systemitem> 套件。
  </para>
 </tip>

 <sect2 xml:id="sec-rpm-package-auth">
  <title>驗證套件真實性</title>
  <para>
   RPM 套件具有 GPG 簽名。若要驗證 RPM 套件的簽名，請使用 <command>rpm --checksig </command>
   <replaceable>PACKAGE</replaceable>-1.2.3.rpm 指令來確定該套件是來自 SUSE 還是另一個可信機構。特別建議在從網際網路更新套件時使用此指令。
  </para>

  <para os="sles;sled">
   修復作業系統中的問題時，您可能需要將問題暫時修復 (PTF) 安裝到線上系統中。SUSE 提供的套件已使用特殊 PTF 金鑰簽署。但是，與 SUSE Linux Enterprise 11 相比，在 SUSE Linux Enterprise 12 系統上，預設不會輸入此金鑰。若要手動輸入該金鑰，請使用以下指令：
  </para>
  <screen os="sles;sled"><prompt>&gt; </prompt><command>sudo</command> rpm --import \
/usr/share/doc/packages/suse-build-key/suse_ptf_key.asc</screen>
  <para os="sles;sled">
   輸入該金鑰後，您可以在系統上安裝 PTF 套件。
  </para>
 </sect2>

 <sect2 xml:id="sec-rpm-packages-manage">
  <title>管理套件：安裝、更新和解除安裝</title>
  <para>
   通常，安裝 RPM 歸檔的過程非常簡單，只需使用 <command>rpm
   -i</command> <replaceable>PACKAGE</replaceable>.rpm。使用此指令可安裝套件，但是必須滿足其相依性條件，而且不能與其他套件衝突。如果 <command>rpm</command> 要求要安裝的套件必須符合相依性要求，會顯示錯誤訊息。RPM 資料庫會在背景確定未產生衝突，亦即特定檔案僅可屬於一個套件。藉由選擇不同選項，您可以強迫 <command>rpm</command> 忽略這些預設，但只有進階使用者才可以這樣做。否則，會危及系統完整性，還可能危害更新系統的能力。
  </para>
  <para>
   選項 <option>-U</option> 或 <option>--upgrade</option> 以及 <option>-F</option> 或 <option>--freshen</option> 可用於更新套件 (例如，<command>rpm -F</command>
   <replaceable>PACKAGE</replaceable>.rpm)。此指令會移除舊版的檔案，並立刻安裝新檔案。兩個版本之間的差別是：<option>-U</option> 安裝系統中先前不存在的套件，而 <option>-F</option> 只更新先前已安裝的套件。在更新時，<command>rpm</command> 會使用下列策略小心地更新組態檔：
  </para>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     如果系統管理員未變更組態檔，<command>rpm</command> 會安裝新版本的相應檔案。系統管理員不需要做任何動作。
    </para>
   </listitem>
   <listitem>
    <para>
     如果更新前系統管理員曾變更過組態檔案，則 <command>rpm</command> 會將變更的檔案儲存為副檔名為 <filename>.rpmorig</filename> 或 <filename>.rpmsave</filename> 的檔案 (備份檔案)，並安裝新套件中的版本。僅當原先安裝的檔案和較新的版本不同時，才執行此操作。如果是這種情況，請將備份檔案 (<filename>.rpmorig</filename> 或 <filename>.rpmsave</filename>) 與新安裝的檔案進行比較，然後在新檔案中再次進行變更。之後，請刪除所有 <filename>.rpmorig</filename> 和 <filename>.rpmsave</filename> 檔案，以免日後的更新出現問題。
    </para>
   </listitem>
   <listitem>
    <para>
     如果組態檔案已存在，<emphasis>並且</emphasis> <filename>.spec</filename> 檔案中指定了 <option>noreplace</option> 標籤，便會出現 <filename>.rpmnew</filename> 檔案。
    </para>
   </listitem>
  </itemizedlist>
  <para>
   更新後，在對 <filename>.rpmsave</filename> 和 <filename>.rpmnew</filename> 檔案進行比較後應將它們刪除，以防其阻礙日後的更新。如果 RPM 資料庫以前未能識別該檔案，則會為其指定副檔名 <filename>.rpmorig</filename>。
  </para>
  <para>
   否則，會使用 <filename>.rpmsave</filename>。換言之，<filename>.rpmorig</filename> 是在將外來格式更新為 RPM 後產生的。<filename>.rpmsave</filename> 是由舊版 RPM 更新為新版 RPM 所造成的。<filename>.rpmnew</filename> 不會透露任何關於系統管理員是否曾對組態檔案做過任何變更的資訊。<filename>/var/adm/rpmconfigcheck</filename> 中提供了這些檔案的清單。更新時不會覆寫某些組態檔案 (如 <filename>/etc/httpd/httpd.conf</filename>)，以便系統能夠持續運作。
  </para>
  <para>
   <option>-U</option> 參數的作用並<emphasis>不</emphasis>完全等同於使用 <option>-e</option> 選項進行解除安裝，再使用 <option>-i</option> 選項進行安裝，它還有其他作用。只要可能，就應使用 <option>-U</option>。
  </para>
  <para>
   若要移除套件，請輸入 <command>rpm -e</command>
   <replaceable>PACKAGE</replaceable>。此指令只在不存在未解決的相依性問題時才會刪除套件。只要其他應用程式還需要它，理論上無法刪除 Tcl/Tk。即使是這種情況下，RPM 還是可從資料庫呼叫以得到協助。如果由於某種原因無法進行這樣的刪除操作 (即使<emphasis>不</emphasis>存在其他相依性問題)，或許可以使用選項 <option>--rebuilddb</option> 來重建 RPM 資料庫。
  </para>
 </sect2>

 <sect2 xml:id="sec-rpm-delta">
  <title>增量 RPM 套件</title>
  <para>
   增量 RPM 套件包含舊版與新版 RPM 套件之間的差異。將增量 RPM 套用到舊版 RPM 上會產生一個全新的 RPM。但是您不需要取得舊版的 RPM，因為增量 RPM 也可以和安裝的 RPM 配合使用。增量 RPM 套件的大小比修補程式 RPM 還小，這一特點有利於透過網際網路傳送更新套件。缺點是使用增量 RPM 的更新作業會比一般或修補程式 RPM 消耗更多的 CPU 週期。
  </para>
  <para>
   <command>makedeltarpm</command> 和 <command>applydelta</command> 二進位檔案是增量 RPM 套件 (套件 <systemitem>deltarpm</systemitem>) 的一部分，可協助您建立和套用增量 RPM 套件。您可以使用下列指令建立名稱為 <filename>new.delta.rpm</filename> 的增量 RPM。以下指令假設 <filename>old.rpm</filename> 和 <filename>new.rpm</filename> 都存在：
  </para>
<screen><prompt>&gt; </prompt><command>sudo</command> makedeltarpm old.rpm new.rpm new.delta.rpm</screen>
  <para>
   如果已經安裝舊套件，使用 <command>applydeltarpm</command> 即可從檔案系統重新建構新 RPM：
  </para>
<screen><prompt>&gt; </prompt><command>sudo</command> applydeltarpm new.delta.rpm new.rpm</screen>
  <para>
   若要從舊 RPM 產生新 RPM，而不存取檔案系統，請使用 <option>-r</option> 選項：
  </para>
<screen><prompt>&gt; </prompt><command>sudo</command> applydeltarpm -r old.rpm new.delta.rpm new.rpm</screen>
  <para>
   請參閱 <filename>/usr/share/doc/packages/deltarpm/README</filename> 以取得技術細節。
  </para>
 </sect2>

 <sect2 xml:id="sec-rpm-query">
  <title> RPM 查詢 </title>
  <para>
   帶 <option>-q</option> 選項的 <command>rpm</command> 會啟動查詢，如此使用者便可檢查 RPM 歸檔 (透過新增選項 <option>-p</option>)，並查詢已安裝套件的 RPM 資料庫。有多個切換參數可用於指定所需的資訊類型。請參閱<xref linkend="tab-rpm-query"/>。
  </para>
  <table xml:id="tab-rpm-query">
   <title>基本 RPM 查詢選項</title>
   <tgroup cols="2">
    <tbody>
     <row>
      <entry>
       <para>
        <option>-i</option>
       </para>
      </entry>
      <entry>
       <para>
        套件資訊
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>-l</option>
       </para>
      </entry>
      <entry>
       <para>
        檔案清單
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>-f FILE</option>
       </para>
      </entry>
      <entry>
       <para>
        查詢包含 <replaceable>FILE</replaceable> 檔案的套件 (完整的路徑必須以 <replaceable>FILE</replaceable> 指定)
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>-s</option>
       </para>
      </entry>
      <entry>
       <para>
        含有狀態資訊的檔案清單 (隱含 <option>-l</option>)
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>-d</option>
       </para>
      </entry>
      <entry>
       <para>
        只列出文件檔案 (隱含 <literal>-l</literal>)
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>-c</option>
       </para>
      </entry>
      <entry>
       <para>
        只列出組態檔案 (隱含 <option>-l</option>)
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>--dump</option>
       </para>
      </entry>
      <entry>
       <para>
        含有完整詳細資訊的檔案清單 (與 <option>-l</option>、<option>-c</option> 或 <option>-d</option> 配合使用)
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>--provides</option>
       </para>
      </entry>
      <entry>
       <para>
        列出另一個套件可以使用 <option>--requires</option> 要求的套件功能
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>--requires</option>、<option>-R</option>
       </para>
      </entry>
      <entry>
       <para>
        套件所需的功能
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>--scripts</option>
       </para>
      </entry>
      <entry>
       <para>
        安裝指令碼 (預先安裝、後續安裝、解除安裝)
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
  <para>
   例如，指令 <command>rpm -q -i wget</command> 可顯示<xref linkend="aus-update-rpm-i"/> 中所示的資訊。
  </para>
  <example xml:id="aus-update-rpm-i">
   <title><command>rpm -q -i wget</command></title>

<screen os="sles;sled"><?dbsuse-fo font-size="0.70em"?>

Name        : wget
Version     : 1.14
Release     : 17.1
Architecture: x86_64
Install Date: Mon 30 Jan 2017 14:01:29 CET
Group       : Productivity/Networking/Web/Utilities
Size        : 2046483
License     : GPL-3.0+
Signature   : RSA/SHA256, Thu 08 Dec 2016 07:48:44 CET, Key ID 70af9e8139db7c82
Source RPM  : wget-1.14-17.1.src.rpm
Build Date  : Thu 08 Dec 2016 07:48:34 CET
Build Host  : sheep09
Relocations : (not relocatable)
Packager    : https://www.suse.com/
Vendor      : SUSE LLC &lt;https://www.suse.com/&gt;
URL         : http://www.gnu.org/software/wget/
Summary     : A Tool for Mirroring FTP and HTTP Servers
Description :
Wget enables you to retrieve WWW documents or FTP files from a server.
This can be done in script files or via the command line.
Distribution: SUSE Linux Enterprise 15
</screen>
  </example>
  <para>
   只有當您指定帶有完整路徑的完整檔案名稱時，選項 <option>-f</option> 才起作用。盡可能提供很多檔案名稱。例如：
  </para>
<screen><prompt>&gt; </prompt>rpm -q -f /bin/rpm /usr/bin/wget
rpm-4.14.1-lp151.13.10.x86_64
wget-1.19.5-lp151.4.1.x86_64
</screen>
  <para>
   如果只知道檔案名稱的一部分，可使用<xref linkend="dat-rpm-search"/>中所示的外圍指令碼。執行時，可將部份檔案名稱當作參數傳給指令碼。
  </para>
  <example xml:id="dat-rpm-search">
   <title>搜尋套件的指令碼</title>
<screen>#! /bin/sh
for i in $(rpm -q -a -l | grep $1); do
    echo "\"$i\" is in package:"
    rpm -q -f $i
    echo ""
done</screen>
  </example>
  <para>
   <command>rpm -q --changelog</command>
   <replaceable>PACKAGE</replaceable> 指令會依日期順序顯示有關特定套件的詳細變更資訊清單。
  </para>
  <para>
   藉由安裝的 RPM 資料庫，可執行驗證檢查。使用 <option>-V</option> 或 <option>--verify</option> 可啟動這些檢查。將 <command>rpm</command> 與此選項配合使用，將顯示套件中自安裝後已變更的所有檔案。<command>rpm</command> 使用八位字元符號來提供有關以下變更的提示：
  </para>
  <table xml:id="tab-rpm-verify">
   <title>RPM 驗證選項</title>
   <tgroup cols="2">
    <tbody>
     <row>
      <entry>
       <para>
        <option>5</option>
       </para>
      </entry>
      <entry>
       <para>
        MD5 檢查總數
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>S</option>
       </para>
      </entry>
      <entry>
       <para>
        檔案大小
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>L</option>
       </para>
      </entry>
      <entry>
       <para>
        符號連結
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>T</option>
       </para>
      </entry>
      <entry>
       <para>
        修改時間
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>D</option>
       </para>
      </entry>
      <entry>
       <para>
        主要和次要的設備編號
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>U</option>
       </para>
      </entry>
      <entry>
       <para>
        擁有者
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>G</option>
       </para>
      </entry>
      <entry>
       <para>
        群組
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>M</option>
       </para>
      </entry>
      <entry>
       <para>
        模式 (權限和檔案類型)
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
  <para>
   如果是組態檔，會印出字母 <option>c</option>。例如，若要檢查 <filename>/etc/wgetrc</filename> (<systemitem class="resource">wget</systemitem> 套件) 的變更，請使用以下指令：
  </para>
<screen><prompt>&gt; </prompt>rpm -V wget
S.5....T c /etc/wgetrc</screen>
  <para>
   RPM 資料庫的檔案放置在 <filename>/var/lib/rpm</filename> 中。如果分割區 <filename>/usr</filename> 的大小為 1 GB，則此資料庫可能會佔用將近 30 MB 的空間，特別是在全面更新之後。如果資料庫比預期大得多，建議使用選項 <option>--rebuilddb</option> 來重建資料庫。在執行之前，請備份舊的資料庫。<command>cron</command> 指令碼 <command>cron.daily</command> 每天都會建立資料庫副本 (以 gzip 格式封裝)，並將這些副本儲存在 <filename>/var/adm/backup/rpmdb</filename> 中。副本數量由 <filename>/etc/sysconfig/backup</filename> 中的變數 <systemitem>MAX_RPMDB_BACKUPS</systemitem> (預設值為 <option>5</option>) 控制。對於 1 GB 的 <filename>/usr</filename>，單個備份的大小大約為 1 MB。
  </para>
 </sect2>

 <sect2 xml:id="sec-rpm-sources">
  <title>安裝和編譯來源套件</title>
  <para>
   所有來源套件的副檔名都是 <filename>.src.rpm</filename> (來源 RPM)。
  </para>
  <note>
   <title>安裝的來源套件</title>
   <para>
    來源套件可從安裝媒體複製到硬碟，並用 YaST 解壓縮。但在套件管理員中，它們不會標示為已安裝 (<literal>[i]</literal>)。這是因為來源套件沒有輸入 RPM 資料庫中。只有<emphasis>已安裝的</emphasis>作業系統軟體會列在 RPM 資料庫中。您在<quote>安裝</quote>來源套件時，僅會將原始程式碼新增到系統中。
   </para>
  </note>
  <para>
   在 <filename>/usr/src/packages</filename> 中，必須存在用於 <command>rpm</command> 和 <command>rpmbuild</command> 的以下目錄 (除非在 <filename>/etc/rpmrc</filename> 這樣的檔案中指定了自訂設定)：
  </para>
  <variablelist>
   <varlistentry>
    <term><filename>SOURCES</filename>
    </term>
    <listitem>
     <para>
      存放原始來源 (<filename>.tar.bz2</filename> 或 <filename>.tar.gz</filename> 檔案等)，以及特定於套裝作業系統的調整 (多為 <filename>.diff</filename> 或 <filename>.patch</filename> 檔案)
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>SPECS</filename>
    </term>
    <listitem>
     <para>
      存放 <filename>.spec</filename> 檔案，類似於中繼 Makefile，可控制<emphasis>建構</emphasis>程序
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>BUILD</filename>
    </term>
    <listitem>
     <para>
      所有來源均在此目錄中解壓縮、修補和編譯
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>RPMS</filename>
    </term>
    <listitem>
     <para>
      儲存完整二進位套件的地方
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>SRPMS</filename>
    </term>
    <listitem>
     <para>
      此處為來源 RPM
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   使用 YaST 安裝來源套件時，所有必需的元件都安裝在 <filename>/usr/src/packages</filename> 中：來源和調整項存放於 <filename>SOURCES</filename> 中，相關的 <filename>.spec</filename> 檔案存放於 <filename>SPECS</filename> 中。
  </para>
  <warning>
   <title>系統完整性</title>
   <para>
    不要對系統元件 (<systemitem class="resource">glibc</systemitem>、<systemitem class="resource">rpm</systemitem> 等) 進行試驗，因為這樣會影響系統的穩定性。
   </para>
  </warning>
  <para>
   以下範例使用 <filename>wget.src.rpm</filename> 套件。安裝來源套件之後，會獲得類似下列清單中所列的檔案：
  </para>
<screen>/usr/src/packages/SOURCES/wget-1.19.5.tar.bz2
/usr/src/packages/SOURCES/wgetrc.patch
/usr/src/packages/SPECS/wget.spec</screen>
  <para>
   <command>rpmbuild</command> <option>-b<replaceable>X</replaceable></option>
   <filename>/usr/src/packages/SPECS/wget.spec</filename> 會啟動編譯。<replaceable>X</replaceable> 是萬用字元，代表建構程序的不同階段 (如需詳細資料，請參閱 <option>--help</option> 的輸出或 RPM 文件)。以下僅為簡略的說明：
  </para>
  <variablelist>
   <varlistentry>
    <term><option>-bp</option>
    </term>
    <listitem>
     <para>
      在 <filename>/usr/src/packages/BUILD</filename> 中準備來源：解壓縮和修補。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>-bc</option>
    </term>
    <listitem>
     <para>
      執行與 <option>-bp</option> 相同的操作，但還會進行編譯。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>-bi</option>
    </term>
    <listitem>
     <para>
      執行與 <option>-bp</option> 相同的操作，但還會安裝建構的軟體。警告：如果套件不支援 BuildRoot 功能，您可能會覆寫組態檔。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>-bb</option>
    </term>
    <listitem>
     <para>
      執行與 <option>-bi</option> 相同的操作，但還會建立二進位套件。如果編譯成功，二進位套件應該存放於 <filename>/usr/src/packages/RPMS</filename> 中。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>-ba</option>
    </term>
    <listitem>
     <para>
      執行與 <option>-bb</option> 相同的操作，但還會建立來源 RPM。如果編譯成功，二進位套件應該存放於 <filename>/usr/src/packages/SRPMS</filename> 中。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>--short-circuit</option>
    </term>
    <listitem>
     <para>
      略過部分步驟。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   現在可以使用 <command>rpm</command>
   <option>-i</option> (最好使用 <command>rpm</command>
   <option>-U</option>) 建立二進位 RPM。使用 <command>rpm</command> 來安裝會讓它出現在 RPM 資料庫中。
  </para>
  <para>
   請記住，規格檔案中的 <literal>BuildRoot</literal> 指令已棄用。如果您仍然需要此功能，請使用 <option>--buildroot</option> 選項做為替代方案。
  </para>
 </sect2>

 <sect2 xml:id="sec-rpm-build">
  <title>使用 build 編譯 RPM 套件</title>
  <para>
   許多套件中都包含不想要的檔案，它們會在 build 程序中增到執行系統中，因為導致危險產生。若要避免此狀況，可以使用 <systemitem>build</systemitem>，它會建立要在其中建置套件的定義環境。若要建立此 chroot 環境，必須提供 <command>build</command> 指令碼與完整的套件樹狀結構。此樹狀結構可在硬碟上、透過 NFS 或從 DVD 取得。使用 <command>build --rpms</command>
   <replaceable>DIRECTORY</replaceable> 設定位置。與 <command>rpm</command> 不同，<command>build</command> 指令會在原始目錄中尋找 <filename>.spec</filename> 檔案。若要使用系統中 <filename>/media/dvd</filename> 下掛接的 DVD 建立 <filename>wget</filename> (如上例所示)，請以 <systemitem class="username">root</systemitem> 使用者身分執行以下指令：
  </para>
<screen><prompt role="root"># </prompt>cd /usr/src/packages/SOURCES/
<prompt role="root"># </prompt>mv ../SPECS/wget.spec .
<prompt role="root"># </prompt>build --rpms /media/dvd/suse/ wget.spec</screen>
  <para>
   之後，系統便會在 <filename>/var/tmp/build-root</filename> 中建立一個極簡環境。套件將於此環境中建立。完成後，產生的套件將位於 <filename>/var/tmp/build-root/usr/src/packages/RPMS</filename>。
  </para>
  <para>
   <command>build</command> 指令碼提供其他多個選項。例如，讓指令碼偏好使用您自己的 RPM、省略建置環境的啟始化，或將 <command>rpm</command> 指令限制在上述某個階段。如需更多資訊，請使用 <command>build</command> <option>--help</option> 以及參閱 <command>build</command> 手冊頁。
  </para>
 </sect2>

 <sect2 xml:id="sec-rpm-tools">
  <title>用於 RPM 歸檔和 RPM 資料庫的工具</title>
  <para>
   Midnight Commander (<command>mc</command>) 可以顯示 RPM 歸檔的內容並複製部分內容。它將歸檔以虛擬檔案系統呈現，提供 Midnight Commander 的所有常見功能表選項。使用 <keycap>F3</keycap> 鍵可顯示 <filename>HEADER</filename>。使用游標和 <keycap function="enter"/> 可檢視歸檔結構。使用 <keycap>F5</keycap> 可複製歸檔元件。
  </para>
  <para>
   具有完整功能的套件管理員是以 YaST 模組的方式提供。如需詳細資料，請參閱<xref linkend="cha-yast-software"/>。
  </para>

 </sect2>
</sect1>
