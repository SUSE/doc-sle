<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="gnome_networking.xml" version="5.0" xml:id="cha.gnome.network" xml:lang="zh-cn">
 <title>访问网络资源</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  从您的桌面，您可以访问文件和目录，或者远程主机上的特定服务，或者使您自己的文件和目录可供网络中其他用户使用。<phrase role="productname"><phrase os="sled">SUSE® Linux Enterprise Desktop</phrase></phrase> 可提供以下方式来访问和创建网络共享资源。
 </para>
 <variablelist>
  <varlistentry>
   <term>网络浏览</term>
   <listitem>
    <para>
     文件管理器 GNOME Files 可让您浏览网络中的共享资源和服务。要了解与此有关的更多信息，请参见<xref linkend="sec.gnome.network.accshare"/>。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>在混合环境中共享目录</term>
   <listitem>
    <para>
     您可以使用 GNOME Files 来配置要与其他网络成员共享的文件和目录。使您的数据对来自 Windows 或 Linux 工作站的用户可读或可写。要了解与此有关的更多信息，请参见<xref linkend="sec.gnome.network.smbshare"/>。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>管理 Windows 文件</term>
   <listitem>
    <para>
     <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> 经过配置后可以集成到现有的 Windows 网络中。然后 Linux 计算机会像 Windows 客户端那样操作。它会从 Active Directory 域控制器中获取所有帐户信息，与 Windows 客户端执行的操作一样。要了解与此有关的更多信息，请参见<xref linkend="sec.gnome.network.ad.data"/>。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>配置和访问 Windows 网络打印机</term>
   <listitem>
    <para>
     可以通过 GNOME 控制中心配置 Windows 网络打印机。要了解如何操作，请参见<xref linkend="sec.gnome.network.ad.printer"/>。
    </para>
   </listitem>
  </varlistentry>
 </variablelist>
 <sect1 xml:id="sec.gnomeuser.start.network.connect">
  <title>连接到网络</title>

  <para>
   您可以通过有线和无线方式连接网络。要查看您的网络连接，请选中主面板右侧的网络图标。如果单击该图标，您可以在菜单中看到更多细节。单击连接名称可以查看更多细节及访问设置。
  </para>

  <para>
   要了解有关连接到网络的详细信息，请参见<xref linkend="cha.nm"/>。
  </para>
 </sect1>
 <sect1 xml:id="sec.gnome.network.general">
  <title>关于文件共享和网络浏览的一般说明</title>

  <important os="sles;sled">
   <title>设置前联系您的管理员</title>
   <para>
    您的网络中是否可以使用文件共享和网络浏览，以及在多大范围内使用，很大程度上取决于网络结构和计算机的配置。
   </para>
   <para>
    在设置文件共享或网络浏览之前，请与您的系统管理员联系。检查您的网络结构是否支持相应的功能，以及您公司的安全性策略是否允许这种设置。
   </para>
  </important>

  <para>
   网络浏览（对 Windows 共享为 SMB 浏览，对远程服务为 SLP 浏览）很大程度上依赖于计算机向网络中所有客户端发送广播消息的能力。这些消息和客户端对它们的回应使计算机可以检测到任何可用的共享或服务。
  </para>

  <para>
   要使广播有效工作，计算机必须与它查询的所有其他计算机处于同一子网。如果在您的计算机上无法进行网络浏览或检测到的共享和服务不符合预期，请<phrase os="sles;sled">联系您的系统管理员</phrase>，以确保您已连接到适当的子网。
  </para>

  <para>
   要允许网络浏览，计算机需要保持若干网络端口打开，以收发关于网络详细信息和共享及服务可用性的网络消息。<phrase os="sled;sles">标准 <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> 是按较高安全性来配置的，配备了可保障您的计算机在因特网上的安全的防火墙。</phrase>
  </para>

  <para>
   <phrase os="sled;sles">在调整防火墙配置之前，您需要请系统管理员将您的接口放置在内部区域中，或完全拆除防火墙（视公司的安全策略而定）。</phrase>如果您尝试浏览某个网络，但您的计算机上在运行具有限制性的防火墙，GNOME Files 会发出警告，指出您的安全性限制不允许查询该网络。
  </para>
 </sect1>
 <sect1 xml:id="sec.gnome.network.accshare">
  <title>访问网络共享</title>

  <para>
   您可以设置联网工作站来共享目录。通常，文件和目录都标记为允许用户远程访问。这些文件和文件夹称为<emphasis>网络共享</emphasis>。如果系统配置为可以访问网络共享，则可以使用文件管理器访问这些共享和浏览它们，就像它们处于本地计算机上一样容易。您对共享目录的访问级别（无论是只读还是写访问）取决于共享所有者授予您的权限。
  </para>

  <para>
   要访问网络共享，请打开 GNOME Files 并单击侧边栏中的<guimenu>其他位置</guimenu>GNOME Files 即会显示您有权访问的服务器和网络。双击要访问其共享的服务器或网络。您可能需要提供用户名和口令以通过服务器的身份验证。常见网络共享都是 SFTP 可访问资源（SSH 文件传输协议）或 Windows 共享。
  </para>



  <figure>
   <title>网络文件浏览器</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="network_browser.png" width="70%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="network_browser.png" width="70%" format="png"/>
    </imageobject>
   </mediaobject>
  </figure>

  <procedure>
   <title>添加网上邻居</title>
   <step>
    <para>
     打开 GNOME Files 并单击侧边栏中的<guimenu>其他位置</guimenu>。随即会出现一个<guimenu>连接到服务器</guimenu>文本框。
    </para>

   </step>
   <step>
    <para>
     输入服务器地址。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>连接</guimenu>。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.gnome.network.smbshare">
  <title>共享目录</title>

  <para>
   共享和交换文档在公司环境中是必需的。GNOME Files 可为您提供文件共享功能，让 Linux 和 Windows 用户都能访问您的文件和目录。
  </para>

  <sect2 xml:id="sec.gnome.network.sharingcomputer">
   <title>在计算机上启用共享</title>
   <para>
    只有在计算机上启用共享之后，才可以共享目录。要启用共享：
   </para>
   <procedure>
    <step>
     <para>
      从主菜单中启动 YaST。
     </para>
    </step>
    <step>
     <para>
      输入 <systemitem class="username">root</systemitem> 口令。
     </para>
    </step>
    <step>
     <para>
      在<guimenu>网络服务</guimenu>类别中，单击 <guimenu>Windows 域成员资格</guimenu>。
     </para>
    </step>
    <step>
     <para>
      单击<guimenu>允许用户共享目录</guimenu>，然后单击<guimenu>确定</guimenu>。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec.gnome.network.sharingfolder">
   <title>对目录启用共享</title>
   <para>
    要对某个目录配置文件共享，请执行以下操作：
   </para>
   <procedure>
    <step>
     <para>
      打开 GNOME Files。
     </para>
    </step>
    <step>
     <para>
      右键单击某个目录，然后从上下文菜单中选择<guimenu>共享选项</guimenu>。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="folder_sharing_1_a.png" width="35%" format="PNG"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="folder_sharing_1_a.png" width="35%" format="png"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      选择<guimenu>共享此文件夹</guimenu>。
     </para>
    </step>
    <step>
     <para>
      如果您希望其他用户能够写入此目录，请选择<guimenu>允许其他人在此文件夹中创建和删除文件</guimenu>。要允许用户在没有用户帐户的情况下也能进行访问，请选中 <guimenu>Guest 访问</guimenu>。
     </para>
    </step>
    <step>
     <para>
      单击<guimenu>创建共享</guimenu>。
     </para>
    </step>
    <step>
     <para>
      如果此目录尚不具有共享所需的权限，则会显示一个对话框。单击<guimenu>自动添加许可权限</guimenu>。
     </para>
    </step>
   </procedure>
   <para>
    目录图标会更改，指出该目录现已共享。
   </para>
   <important>
    <title>Samba 域浏览和防火墙</title>
    <para>
     Samba 域浏览只有在相应配置系统防火墙的情况下才起作用。完全禁用防火墙或将浏览界面指派到内部防火墙区域。<phrase os="sles;sled">请咨询系统管理员如何继续。</phrase>
    </para>
   </important>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.gnome.network.ad.data">
  <title>管理 Windows 文件</title>

  <para>
   在将 <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> 计算机用作 Active Directory 客户端的情况下，您可以浏览、查看和处理存放在 Windows 服务器上的数据。以下是最常见的示例：
  </para>

  <variablelist>
   <varlistentry>
    <term>使用 GNOME Files 浏览 Windows 文件</term>
    <listitem>
     <para>
      使用 GNOME Files 的网络浏览功能可浏览 Windows 数据。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>使用 GNOME Files 查看 Windows 数据</term>
    <listitem>
     <para>
      您可以使用 GNOME Files 像显示 Linux 目录的内容一样来显示 Windows 用户目录的内容。在 Windows 服务器上创建新的文件和目录。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>使用 GNOME 应用程序操作 Windows 数据</term>
    <listitem>
     <para>
      许多 GNOME 应用程序都允许您打开 Windows 服务器上的文件，处理这些文件，并将其保存回 Windows 服务器。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>单点登录</term>
    <listitem>
     <para>
      GNOME 应用程序（包括 GNOME Files）支持单点登录。这意味着，您在访问其他 Windows 资源时不需要重新进行身份验证。这些资源可能是 Web 服务器、代理服务器或群件服务器（如 Microsoft Exchange*）。系统会使用您在登录时提供的用户名和口令在后台以无提示模式处理所有此类身份验证。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   要使用 GNOME Files 访问 Windows 数据，请执行以下操作： <remark>taroth 2016-06-02: FIXME: check the procedure below with next Beta/
   samba team as the Windows network icon was not available in my installation
   </remark>
  </para>

  <procedure>
   <step>
    <para>
     打开 GNOME Files 并单击“位置”窗格中的<guimenu>网络</guimenu>。
    </para>
   </step>
   <step>
    <para>
     双击 <guimenu>Windows 网络</guimenu>。
    </para>
   </step>
   <step>
    <para>
     双击包含要访问的计算机的工作组图标。
    </para>
   </step>
   <step>
    <para>
     单击计算机的图标（如有提示，请按提示进行身份验证），并浏览到该计算机上的共享目录。
    </para>
   </step>
  </procedure>

  <para>
   要使用 GNOME Files 在 Windows 用户目录中创建目录，请像创建 Linux 目录一样来操作。
  </para>
 </sect1>
 <sect1 xml:id="sec.gnome.network.ad.printer">
  <title>配置和访问 Windows 网络打印机</title>



  <para>
   作为公司网络的一部分并针对 Windows Active Directory 服务器进行身份验证后，您就可以访问公司资源（如打印机）了。GNOME 允许配置从 Linux 客户端打印到 Windows 网络打印机上。
  </para>

  <para>
   要配置 Windows 网络打印机通过 Linux 工作站使用，请执行以下操作：
  </para>

  <procedure>
   <step>
    <para>
     在主菜单中单击<menuchoice><guimenu>应用程序</guimenu><guimenu>系统工具</guimenu> <guimenu>设置</guimenu><guimenu>打印机</guimenu></menuchoice>启动 GNOME 控制中心。
    </para>

    <note>
     <title>启动 CUPS 服务</title>
     <para>
      安装完 <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> 后，默认不会启动 CUPS 服务。如果<guimenu>打印机</guimenu>对话框显示讯息指出打印服务当前不可用，您需要手动启动 CUPS 服务。
     </para>
     <para>
      请打开外壳并键入以下命令启动该服务：
     </para>
<screen>sudo systemctl start cups</screen>
    </note>
   </step>
   <step>
    <para>
     单击<guimenu>解除锁定</guimenu>并输入 root 口令。<systemitem class="username"/>
    </para>
   </step>
   <step>
    <para>
     单击加号图标。
    </para>
   </step>
   <step>
    <para>
     选择通过 Samba 连接的 Windows 打印机。
    </para>
   </step>

  </procedure>

  <para>
   要打印到上面配置的 Windows 网络打印机，只需在可用打印机列表中选择它就行了。
  </para>
 </sect1>
</chapter>
