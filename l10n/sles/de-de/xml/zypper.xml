<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="zypper.xml" version="5.0" xml:id="sec-zypper">
 <title>Verwenden von zypper</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  Über den Kommandozeilen-Paketmanager Zypper können Sie Pakete installieren, aktualisieren und entfernen. Auch Repositorys werden hiermit verwaltet. Damit können Sie Software per Fernzugriff oder mithilfe von Shell-Skripten verwalten.
 </para>

 <sect2 xml:id="sec-zypper-usage">
  <title>Allgemeine Verwendung</title>
  <para>
   Die allgemeine Syntax von Zypper sieht wie folgt aus:
  </para>
<screen>zypper <option>[--global-options]</option> <replaceable>COMMAND</replaceable> <option> [--command-options]</option> <option>[arguments]</option></screen>

  <para>
   Die Komponenten in Klammern sind nicht erforderlich. Eine Liste der allgemeinen Optionen und aller Befehle erhalten Sie mit <command>zypper help</command>. Wenn Sie Hilfe zu einem bestimmten Befehl abrufen möchten, geben Sie <command>zypper help</command>
   <replaceable>BEFEHL</replaceable> ein.
  </para>
  <variablelist>
   <varlistentry>
    <term>Zypper-Kommandos</term>
    <listitem>
     <para>
      Am einfachsten führen Sie Zypper aus, indem Sie seinen Namen gefolgt von einem Kommando eingeben. Geben Sie z. B. für das Anwenden aller erforderlichen Patches auf das System Folgendes ein:
     </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper patch</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Globale Optionen</term>
    <listitem>
     <para>
      Zusätzlich können Sie aus einer oder mehreren globalen Optionen wählen, indem Sie sie direkt vor dem Kommando eingeben:
     </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper --non-interactive patch</screen>
     <para>
      Im Beispiel oben bedeutet die Option <option>--non-interactive</option>, dass das Kommando ausgeführt wird, ohne nach Informationen zu fragen (die Standardantworten werden automatisch angewendet).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Kommandospezifische Optionen</term>
    <listitem>
     <para>
      Um die spezifischen Optionen für ein bestimmtes Kommando zu verwenden, geben Sie sie direkt nach dem Kommando ein.
     </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper patch --auto-agree-with-licenses</screen>
     <para>
      Im Beispiel oben wird <option>--auto-agree-with-licenses</option> verwendet, um alle erforderlichen Patches auf ein System anzuwenden, ohne dass Sie aufgefordert werden, Lizenzen zu bestätigen. Stattdessen wird die Lizenz automatisch akzeptiert.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Argumente</term>
    <listitem>
     <para>
      Einige Kommandos erfordern ein oder mehrere Argumente. Wird beispielsweise das Kommando <command>install</command> verwendet, müssen Sie angeben, welches Paket oder welche Pakete Sie <emphasis>installieren</emphasis> möchten:
     </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install mplayer</screen>
     <para>
      Manche Optionen erfordern auch ein einzelnes Argument. Das folgende Kommando listet alle bekannten Muster auf:
     </para>
<screen><prompt>&gt; </prompt>zypper search -t pattern</screen>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   Sie können alle obigen Optionen kombinieren. Beispielsweise werden mit dem folgenden Kommando <package>mc</package>- und <package>vim</package>-Pakete mithilfe des <literal>factory</literal>-Repositorys installiert und ausführlich angegeben:
  </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper -v install --from factory mc vim</screen>
  <para>
   Mit der Option <option>--from</option> bleiben alle Repositorys aktiviert (damit alle Abhängigkeiten aufgelöst werden können), wenn das Paket aus dem angegebenen Repository abgerufen wird. <option>--repo</option> ist ein Alias für <option>--from</option>. Sie können beide verwenden.
  </para>
  <para>
   Die meisten Zypper-Kommandos besitzen eine <literal>dry-run</literal>-Option, die eine Simulation des angegebenen Kommandos ausführt. Sie kann für Tests verwendet werden.
  </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper remove --dry-run MozillaFirefox</screen>
  <para>
   Zypper unterstützt die globale Option <option>--userdata <replaceable>ZEICHENKETTE</replaceable></option>. Bei dieser Option können Sie eine Zeichenkette angeben, die dann in die Protokolle und Plugins von Zypper geschrieben wird (z. B. in das Btrfs-Plugin). Hiermit können Sie Transaktionen in Protokolldateien kennzeichnen.
  </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper --userdata <replaceable>STRING</replaceable> patch</screen>
 </sect2>

 <sect2 xml:id="sec-zypper-subcommands">
  <title>Verwenden von Zypper-Unterkommandos</title>
  <para>
   Die Zypper-Unterkommandos sind ausführbare Dateien und befinden sich im Verzeichnis, das mit der Konfigurationsoption <option>zypper_execdir</option> festgelegt wurde. Standardmäßig ist dies <filename>/usr/lib/zypper/commands</filename>. Wenn ein Unterkommando dort nicht zu finden ist, werden die restlichen $PATH-Speicherorte automatisch von Zypper danach durchsucht. So haben Sie die Möglichkeit, eigene lokale Erweiterungen zu erstellen und im Userspace zu speichern.
  </para>
  <para>
   Die Ausführung von Unterkommandos in der Zypper-Shell sowie die Verwendung globaler Zypper-Optionen wird nicht unterstützt.
  </para>
  <para>
   Listen Sie die verfügbaren Unterkommandos auf:
  </para>
<screen><prompt>&gt; </prompt>zypper help subcommand
[...]
Available zypper subcommands in '/usr/lib/zypper/commands'

  appstream-cache
  lifecycle
  migration
  search-packages

Zypper subcommands available from elsewhere on your $PATH

  log                   Zypper logfile reader
                            (/usr/sbin/zypper-log)
</screen>
  <para>
   Zeigen Sie die Hilfe-Bildschirm für ein Unterkommando an:
  </para>
<screen>
<prompt>&gt; </prompt>zypper help appstream-cache
</screen>
 </sect2>

 <sect2 xml:id="sec-zypper-softman">
  <title>Installieren und Entfernen von Software mit Zypper</title>
  <para>
   Verwenden Sie zur Installation oder Löschung von Paketen die folgenden Kommandos:
  </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install <replaceable>PACKAGE_NAME</replaceable>
<prompt>&gt; </prompt><command>sudo</command> zypper remove <replaceable>PACKAGE_NAME</replaceable></screen>

  <warning>
   <title>Entfernen Sie keine obligatorischen Systempakete</title>
   <para>
    Entfernen Sie keine obligatorischen Systempakete, wie <package>glibc</package> , <package>zypper</package> , <package>kernel</package> . Werden diese Pakete entfernt, kann das System instabil werden oder aufhören zu funktionieren.
   </para>
  </warning>
  <sect3 xml:id="sec-zypper-selectpackage">
   <title>Auswählen, welche Pakete zu installieren oder zu entfernen sind</title>
   <para>
    Es gibt verschiedene Methoden, Pakete mit den Kommandos <command>zypper install</command> und <command>zypper remove</command> zu adressieren.
   </para>
   <variablelist>
    <varlistentry>
     <term>Nach dem genauen Paketnamen</term>
     <listitem>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install MozillaFirefox</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Nach dem genauen Namen und der Versionsnummer des Pakets</term>
     <listitem>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install MozillaFirefox-52.2</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Nach dem Repository-Alias und dem Paketnamen</term>
     <listitem>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install mozilla:MozillaFirefox</screen>
      <para>
       Dabei ist <literal>mozilla</literal> der Alias des Repositorys, aus dem installiert werden soll.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Nach dem Paketnamen mit Wildcards</term>
     <listitem>
      <para>
       Sie können alle Pakete mit Namen auswählen, die mit einer bestimmten Zeichenfolge anfangen oder enden. Verwenden Sie Platzhalter mit äußerster Umsicht, vor allem beim Entfernen von Paketen. Das folgende Kommando installiert alle Pakete, deren Name mit <quote>Moz</quote> beginnt:
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install 'Moz*'</screen>
      <tip>
       <title>Entfernen aller <filename>-debuginfo</filename>-Pakete</title>
       <para>
        Beim Debuggen eines Problems müssen Sie unter Umständen zahlreiche <filename>-debuginfo</filename>-Pakete temporär installieren, mit denen Sie weitere Informationen zu den ausgeführten Prozessen erhalten. Nach Abschluss der Debugging-Sitzung bereinigen Sie die Umgebung wie folgt:
       </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper remove '*-debuginfo'</screen>
      </tip>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Nach Funktion</term>
     <listitem>
      <para>
       Wenn Sie beispielsweise ein Paket installieren möchten, ohne dessen Namen zu kennen, sind die Funktionen von Nutzen. Das folgende Kommando startet die Installation des Pakets <package>MozillaFirefox</package>:
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install firefox</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Nach Funktion, Hardware-Architektur oder Version</term>
     <listitem>
      <para>
       Zusammen mit einer Funktion können Sie eine Hardware-Architektur und eine Version angeben:
      </para>
      <itemizedlist>
       <listitem>
        <para>
         Der Name der gewünschten Hardware-Architektur wird nach einem Punkt an die Funktion angefügt. Um beispielsweise die AMD64-/Intel-64-Architekturen anzugeben (die in Zypper <literal>x86_64</literal> heißen), verwenden Sie Folgendes:
        </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install 'firefox.x86_64'</screen>
       </listitem>
       <listitem>
        <para>
         Versionen müssen am Ende der Zeile angefügt werden und ein Operator muss vorangestellt sein: <literal>&lt;</literal> (kleiner als), <literal>&lt;=</literal> (kleiner oder gleich), <literal>=</literal> (gleich), <literal>&gt;=</literal> (größer oder gleich), <literal>&gt;</literal> (größer als).
        </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install 'firefox&gt;=74.2'</screen>
       </listitem>
       <listitem>
        <para>
         Sie können auch eine Hardware-Architektur und eine Versionsanforderung kombinieren:
        </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install 'firefox.x86_64&gt;=74.2'</screen>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Nach dem Pfad der RPM-Datei</term>
     <listitem>
      <para>
       Sie können einen lokalen oder entfernten Pfad zu einem Paket angeben:
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install /tmp/install/MozillaFirefox.rpm
<prompt>&gt; </prompt><command>sudo</command> zypper install http://download.example.com/MozillaFirefox.rpm</screen>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect3>
  <sect3 xml:id="sec-zypper-combineinstall">
   <title>Kombinieren der Installation und der Entfernung von Paketen</title>
   <para>
    Zum gleichzeitigen Installieren und Entfernen von Paketen verwenden Sie die Modifikatoren <literal>+/-</literal>. Zum gleichzeitigen Installieren von <package>emacs</package> und Entfernen von <package>vim</package> verwenden Sie Folgendes:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install emacs -vim</screen>
   <para>
    Zum gleichzeitigen Entfernen von <package>emacs</package> und Installieren von <package>vim</package> verwenden Sie Folgendes:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper remove emacs +vim</screen>
   <para>
    Um zu vermeiden, dass der mit <literal>-</literal> beginnende Paketname als Kommandooption interpretiert wird, verwenden Sie ihn stets als das zweite Argument. Falls dies nicht möglich ist, stellen Sie ihm <literal>--</literal> voran:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install -emacs +vim       # Wrong
<prompt>&gt; </prompt><command>sudo</command> zypper install vim -emacs        # Correct
<prompt>&gt; </prompt><command>sudo</command> zypper install -- -emacs +vim    # Correct
<prompt>&gt; </prompt><command>sudo</command> zypper remove emacs +vim         # Correct</screen>
  </sect3>
  <sect3 xml:id="sec-zypper-clean">
   <title>Bereinigen von Abhängigkeiten entfernter Pakete</title>
   <para>
    Wenn (zusammen mit einem bestimmten Paket) automatisch alle Pakete entfernt werden sollen, die nach dem Entfernen dieses Pakets nicht mehr erforderlich sind, verwenden Sie die Option <option>--clean-deps</option>:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper rm --clean-deps <replaceable>PACKAGE_NAME</replaceable></screen>
  </sect3>
  <sect3 xml:id="sec-zypper-script">
   <title>Verwenden von Zypper in Skripten</title>
   <para>
    Standardmäßig verlangt Zypper eine Bestätigung, bevor ein ausgewähltes Paket installiert oder entfernt wird oder wenn ein Problem auftritt. Mit der Option <option>--non-interactive</option> können Sie dieses Verhalten deaktivieren. Die Option muss jedoch vor dem tatsächlich auszuführenden Kommando (<command>install</command>, <command>remove</command> oder <command>patch</command>) angegeben werden, wie im Folgenden erkennbar:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper <option>--non-interactive</option> install <replaceable>PACKAGE_NAME</replaceable></screen>
   <para>
    Mit dieser Option kann Zypper auch in Skripten und Cron-Aufträgen verwendet werden.
   </para>
  </sect3>
  <sect3 xml:id="sec-zypper-softman-sources">
   <title>Installieren oder Herunterladen von Quellpaketen</title>
   <para>
    Wenn Sie das entsprechende Quellpaket eines Pakets installieren möchten, verwenden Sie:
   </para>
<screen><prompt>&gt; </prompt>zypper source-install <replaceable>PACKAGE_NAME</replaceable></screen>
   <para>
    Wird das Kommando als <systemitem class="username">root</systemitem> ausgeführt, ist der Standardspeicherort der Quellpakete <filename>/usr/src/packages/</filename> und <filename>~/rpmbuild</filename>, wenn es als Benutzer ausgeführt wird. Diese Werte können in Ihrer lokalen <command>rpm</command>-Konfiguration geändert werden.
   </para>
   <para>
    Dieses Kommando installiert auch die Build-Abhängigkeiten des angegebenen Pakets. Wenn Sie dies nicht wünschen, fügen Sie den Schalter <literal>-D</literal> hinzu:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper source-install -D <replaceable>PACKAGE_NAME</replaceable></screen>
   <para>
    Um nur die Build-Abhängigkeiten zu installieren, verwenden Sie <literal>-d</literal>.
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper source-install -d <replaceable>PACKAGE_NAME</replaceable></screen>
   <para>
    Natürlich gelingt dies nur, wenn das Repository mit den Quellpaketen in Ihrer Repository-Liste aktiviert ist (es wird standardmäßig hinzugefügt, aber nicht aktiviert). Details zur Repository-Verwaltung finden Sie unter <xref linkend="sec-zypper-instrepo"/>.
   </para>
   <para>
    Eine Liste aller Quellpakete, die in Ihren Repositorys verfügbar sind, können Sie wie folgt abrufen:
   </para>
<screen><prompt>&gt; </prompt>zypper search -t srcpackage</screen>
   <para>
    Wenn Sie möchten, können Sie die Quellpakete für alle installierten Pakete in ein lokales Verzeichnis herunterladen. Zum Herunterladen von Quellpaketen verwenden Sie:
   </para>
<screen><prompt>&gt; </prompt>zypper source-download</screen>
   <para>
    Das Standardverzeichnis für heruntergeladene Dateien lautet <filename>/var/cache/zypper/source-download</filename>. Mit der Option <option>--directory</option> können Sie dieses Verzeichnis ändern. Sollen nur fehlende oder überzählige Pakete angezeigt werden, ohne Pakete herunterzuladen oder zu löschen, verwenden Sie die Option <option>--status</option>. Zum Löschen überzähliger Pakete verwenden Sie die Option <option>--delete</option>. Soll das Löschen deaktiviert werden, verwenden Sie die Option <option>--no-delete</option>.
   </para>
  </sect3>
  <sect3 xml:id="sec-zypper-softman-pluscontent">
   <title>Installieren von Paketen aus deaktivierten Repositorys</title>
   <para>
    In der Regel können Sie nur Pakete aus aktivierten Repositorys installieren oder aktualisieren. Mit der Option <option>--plus-content <replaceable>TAG</replaceable></option> können Sie bestimmte Repositorys aktualisieren, temporär während der aktuellen Zypper-Sitzung aktivieren und nach Abschluss der Sitzung wieder deaktivieren.
   </para>
   <para>
    Sollen beispielsweise Repositorys mit zusätzlichen <filename>-debuginfo</filename>- oder <filename>-debugsource</filename>-Paketen aktiviert werden, geben Sie <option>--plus-content debug</option> ein. Diese Option kann mehrfach angegeben werden.
   </para>
   <para>
    Sollen diese „Debug“-Repositorys vorübergehend aktiviert werden, damit Sie ein bestimmtes <filename>&#x2011;debug info</filename>-Paket installieren können, geben Sie die Option wie folgt an:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper --plus-content debug \
   install "debuginfo(build-id)=eb844a5c20c70a59fc693cd1061f851fb7d046f4"</screen>
   <para>
    Die Zeichenkette <literal>build-id</literal> wird von <command>gdb</command> für fehlende debuginfo-Pakete zurückgegeben.
   </para>
   <note>
    <title>Deaktivierte Installationsmedien</title>
    <para>
     <remark>cwickert 2019-04-18: JSC#SLE-3191</remark>
     Repositoys von den Installationsmedien von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> werden weiterhin konfiguriert, doch nach der erfolgreichen Installation deaktiviert. Sie können anstelle der Online-Repositorys die Option <option>--plus-content</option> verwenden, um Pakete von den Installationsmedien zu installieren. Stellen Sie vor dem Aufruf von <command>zypper</command> sicher, dass das Installationsmedium verfügbar ist. Legen Sie dazu beispielsweise die DVD im Laufwerk des Rechners ein.
    </para>
   </note>
  </sect3>
  <sect3 xml:id="sec-zypper-softman-util">
   <title>Dienstprogramme</title>
   <para>
    Wenn Sie prüfen möchten, ob alle Abhängigkeiten noch erfüllt sind, und fehlende Abhängigkeiten reparieren möchten, verwenden Sie:
   </para>
<screen><prompt>&gt; </prompt>zypper verify</screen>
   <para>
    Zusätzlich zu Abhängigkeiten, die erfüllt sein müssen, <quote>empfehlen</quote> einige Pakete andere Pakete. Diese empfohlenen Pakete werden installiert, wenn sie aktuell verfügbar und installierbar sind. Falls empfohlene Pakete erst nach der Installation des empfehlenden Pakets (durch Hinzufügen zusätzlicher Pakete oder zusätzlicher Hardware) zur Verfügung steht, verwenden Sie das folgende Kommando: 
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install-new-recommends</screen>
   <para>
    Dieses Kommando ist nach dem Anschließen einer Webcam oder eines WLAN-Geräts äußerst nützlich. Hiermit werden Treiber für das Gerät und die zugehörige Software installiert, sofern verfügbar. Die Treiber und die zugehörige Software sind nur dann installierbar, wenn bestimmte Hardware-Abhängigkeiten erfüllt sind.
   </para>
  </sect3>
 </sect2>

 <sect2 xml:id="sec-zypper-softup">
  <title>Aktualisieren von Software mit Zypper</title>
  <para>
   Es gibt drei verschiedene Möglichkeiten, Software mithilfe von Zypper zu installieren: durch Installation von Patches, durch Installation einer neuen Version eines Pakets oder durch Aktualisieren der kompletten Distribution. Letzteres wird mit <command>zypper dist-upgrade</command> erreicht. Durchführen von Upgrades von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> wird im <phrase os="sles;sled"><xref linkend="cha-upgrade-paths"/></phrase> erläutert.
  </para>
  <sect3 xml:id="sec-zypper-softup-patch">
   <title>Installieren aller erforderlichen Patches</title>
   <para>
    Neue Versionen installierter Pakete lassen sich am zuverlässigsten durch <emphasis>Patching</emphasis> von SUSE Linux Enterprise installieren. Hiermit wird gewährleistet, dass alle erforderlichen Pakete mit der richtigen Version installiert und alle Paketversionen, die als <emphasis>conflicting</emphasis> (Konflikte) gekennzeichnet sind, ausgelassen werden.
   </para>
   <para>
    Um alle offiziell herausgegebenen Patches für Ihr System zu installieren, führen Sie Folgendes aus:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper patch</screen>
   <para>
    Alle verfügbaren Patches aus den auf Ihrem Computer konfigurierten Repositorys werden auf Relevanz für Ihre Installation überprüft. Sind sie relevant (und nicht als <literal>optional</literal> oder <literal>feature</literal> klassifiziert), werden sie sofort installiert. Die erfolgreiche Ausführung von <command>zypper patch</command> gewährleistet, dass Versionspakete mit Schwachstellen nur dann installiert werden, wenn Sie die entsprechende Ausnahme bestätigen. <phrase os="sles;sled">Beachten Sie, dass das offizielle Aktualisierungs-Repository erst verfügbar ist, nachdem Sie Ihre <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-Installation registriert haben.</phrase>
   </para>
   <para>
    Umfasst ein zu installierendes Patch Änderungen, die einen System-Reboot erfordern, werden Sie zuvor benachrichtigt.
   </para>
   <para>
    Mit dem einfachen Befehl <command>zypper patch</command> werden keine Patches aus Drittanbieter-Repositorys angewendet. Sollen auch die Drittanbieter-Repositorys aktualisiert werden, geben Sie die Befehlsoption <literal>with-update</literal> wie folgt an:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper patch --with-update</screen>
   <para>
    Um auch optionale Patches zu installieren, verwenden Sie Folgendes:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper patch --with-optional</screen>
   <remark>
    The structure here is a bit unfortunate: We explain how to use the
    --cve/--bugzilla options in more detail below ("Listing Patches").
    However, the first bit people get is the very brief intro immediately below.
    Not sure whether to replicate all the information from "Listing Patches"
    here.
    - sknorr, 2016-04-25
   </remark>
   <para>
    Um alle Patches zu installieren, die zu einem bestimmten Bugzilla-Problem gehören, verwenden Sie Folgendes:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper patch --bugzilla=<replaceable>NUMBER</replaceable></screen>
   <para>
    Um alle Patches zu installieren, die zu einem bestimmten CVE-Datenbankeintrag gehören, verwenden Sie Folgendes:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper patch --cve=<replaceable>NUMBER</replaceable></screen>
   <para>
    Zum Installieren eines Sicherheits-Patches mit der CVE-Nummer <literal>CVE-2010-2713</literal> führen Sie beispielsweise Folgendes aus:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper patch --cve=CVE-2010-2713</screen>
   <para>
    Um nur Patches zu installieren, die Auswirkungen auf Zypper und die Paketverwaltung an sich haben, verwenden Sie Folgendes:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper patch --updatestack-only</screen>
   <para>
    Denken Sie daran, dass andere Befehlsoptionen, mit denen auch andere Repositorys aktualisiert würden, außer Acht gelassen werden, wenn Sie die Befehlsoption <literal>updatestack-only</literal> angeben.
   </para>
  </sect3>
  <sect3 xml:id="sec-zypper-softup-listpatch">
   <title>Auflisten von Patches</title>
   <para>
    Um herauszufinden, ob Patches verfügbar sind, erlaubt Zypper das Anzeigen der folgenden Informationen:
   </para>
   <variablelist>
    <varlistentry>
     <term>Anzahl der erforderlichen Patches</term>
     <listitem>
      <para>
       Um die Anzahl der erforderlichen Patches aufzulisten (Patches, die für Ihr System gelten, aber noch nicht installiert sind), verwenden Sie <command>patch-check</command>:
      </para>
<screen><prompt>&gt; </prompt>zypper patch-check
Loading repository data...
Reading installed packages...
5 patches needed (1 security patch)</screen>
      <para>
       Dieses Kommando kann mit der Option <option>--updatestack-only</option> kombiniert werden, um nur Patches aufzulisten, die Auswirkungen auf Zypper und die Paketverwaltung an sich haben.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Liste der erforderlichen Patches</term>
     <listitem>
      <para>
       Um alle erforderlichen Patches aufzulisten (Patches, die für Ihr System gelten, aber noch nicht installiert sind), verwenden Sie <command>zypper list-patches</command>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Liste aller Patches</term>
     <listitem>
      <para>
       Um alle für <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> verfügbaren Patches aufzulisten, unabhängig davon, ob sie bereits installiert sind oder für Ihre Installation gelten, verwenden Sie <command>zypper patches</command>.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    Sie können auch Patches für bestimmte Probleme auflisten und installieren. Dazu geben Sie das Kommando <command>zypper list-patches</command> mit den folgenden Optionen ein:
   </para>
   <variablelist>
    <varlistentry>
     <term>Nach Bugzilla-Problemen</term>
     <listitem>
      <para>
       Um alle Patches mit Bezug zu Bugzilla-Problemen aufzulisten, verwenden Sie die Option <option>--bugzilla</option>.
      </para>
      <para>
       Um Patches für einen bestimmten Fehler aufzulisten, können Sie auch eine Fehlernummer angeben: <option>--bugzilla=<replaceable>NUMMER</replaceable></option>. Fügen Sie Kommas zwischen den Fehlernummern hinzu, um nach Patches mit Bezug zu mehreren Bugzilla-Problemen zu suchen, z. B.:
      </para>
<screen><prompt>&gt; </prompt>zypper list-patches --bugzilla=972197,956917</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Nach CVE-Nummer</term>
     <listitem>
      <para>
       Um alle erforderlichen Patches aufzulisten, die Bezug zu einem Eintrag in der CVE-Datenbank (Common Vulnerabilities and Exposures) haben, verwenden Sie die Option <option>--cve</option>.
      </para>
      <para>
       Um Patches für einen bestimmten CVE-Datenbankeintrag aufzulisten, können Sie auch eine CVE-Nummer angeben: <option>--cve=<replaceable>NUMMER</replaceable></option>. Fügen Sie Kommas zwischen den CVE-Nummern hinzu, um nach Patches mit Bezug zu mehreren CVE-Datenbankeinträgen zu suchen, z. B.:
      </para>
<screen><prompt>&gt; </prompt>zypper list-patches --cve=CVE-2016-2315,CVE-2016-2324</screen>
     </listitem>
     </varlistentry>
     <varlistentry>
      <term>Abrufen von zurückgezogenen Patches</term>
      <listitem>
        <para>
          Im Codestream von SUSE Linux Enterprise 15 werden bestimmte Patches automatisch zurückgezogen. Wartungsaktualisierungen werden gründlich getestet, denn das Risiko, dass Aktualisierungen einen neuen Fehler mit sich bringen, kann nicht ausgeschlossen werden. Wenn eine Aktualisierung tatsächlich einen Fehler enthält, wird eine neue Aktualisierung (mit höherer Versionsnummer) ausgegeben, die den fehlerhaften Patch zurücksetzt und seine neuerliche Installation verhindert. Sie können die zurückgezogenen Patches mit <command>zypper</command> abrufen:
        </para>
        <screen><prompt>&gt; </prompt><command>zypper lp --all |grep retracted</command>
SLE-Module-Basesystem15-SP3-Updates | SUSE-SLE-Module-Basesystem-15-SP3-2021-1965 
 | recommended | important | ---    | retracted  | Recommended update for multipath-tools 
SLE-Module-Basesystem15-SP3-Updates | SUSE-SLE-Module-Basesystem-15-SP3-2021-2689 
 | security    | important | ---    | retracted  | Security update for cpio
SLE-Module-Basesystem15-SP3-Updates | SUSE-SLE-Module-Basesystem-15-SP3-2021-3655 
 | security    | important | reboot | retracted  | Security update for the Linux Kernel</screen> 
        <para>
          So erhalten Sie ausführliche Informationen zu einem zurückgezogenen (oder einem beliebigen) Patch:
        </para>
        <screen><prompt>&gt; </prompt><command>zypper patch-info SUSE-SLE-Product-SLES-15-2021-2689</command>
Loading repository data...
Reading installed packages...

Information for patch SUSE-SLE-Product-SLES-15-2021-2689:
---------------------------------------------------------
Repository  : SLE-Product-SLES15-LTSS-Updates
Name        : SUSE-SLE-Product-SLES-15-2021-2689
Version     : 1
Arch        : noarch
Vendor      : maint-coord@suse.de
Status      : retracted
Category    : security
Severity    : important
Created On  : Mon 16 Aug 2021 03:44:00 AM PDT
Interactive : ---
Summary     : Security update for cpio
Description : 
    This update for cpio fixes the following issues:

    It was possible to trigger Remote code execution due to a integer overflow 
    (CVE-2021-38185, bsc#1189206)

    UPDATE:
    This update was buggy and could lead to hangs, so it has been retracted. 
    There will be a follow up update.
    [...]</screen>   
      </listitem>
     </varlistentry>
     <varlistentry>
       <term>Patch mit Paketkonflikten</term>
       <listitem>
<screen>
Information for patch openSUSE-SLE-15.3-2022-333:
-------------------------------------------------
Repository  : Update repository with updates from SUSE Linux Enterprise 15
Name        : openSUSE-SLE-15.3-2022-333
Version     : 1
Arch        : noarch
Vendor      : maint-coord@suse.de
Status      : needed
Category    : security
Severity    : important
Created On  : Fri Feb  4 09:30:32 2022
Interactive : reboot
Summary     : Security update for xen
Description :
    This update for xen fixes the following issues:

    - CVE-2022-23033: Fixed guest_physmap_remove_page not removing the p2m mappings. (XSA-393) (bsc#1194576)
    - CVE-2022-23034: Fixed possible DoS by a PV guest Xen while unmapping a grant. (XSA-394) (bsc#1194581)
    - CVE-2022-23035: Fixed insufficient cleanup of passed-through device IRQs. (XSA-395) (bsc#1194588)
Provides    : patch:openSUSE-SLE-15.3-2022-333 = 1
Conflicts   : [22]
    xen.src &lt; 4.14.3_06-150300.3.18.2
    xen.noarch &lt; 4.14.3_06-150300.3.18.2
    xen.x86_64 &lt; 4.14.3_06-150300.3.18.2
    xen-devel.x86_64 &lt; 4.14.3_06-150300.3.18.2
    xen-devel.noarch &lt; 4.14.3_06-150300.3.18.2
[...]
</screen>
        <para>
         Der obige Patch steht mit betroffenen oder angreifbaren Versionen von 22 Paketen in Konflikt. Die Installation eines betroffenen oder angreifbaren Pakets löst einen Konflikt aus und der Patch wird als <emphasis>needed</emphasis> (erforderlich) eingestuft. <command>zypper patch</command> versucht, alle verfügbaren Patches zu installieren. Auftretende Probleme werden gemeldet, und Sie werden informiert, dass nicht alle Aktualisierungen installiert wurden. Zur Behebung des Konflikts können Sie die betroffenen oder angreifbaren Pakete entweder aktualisieren oder entfernen. Mit SUSE-Aktualisierungs-Repositorys lassen sich auch reparierte Pakete übermitteln, sodass Konflikte routinemäßig in Form von Aktualisierungen behoben werden. Sollte ein Paket nicht aktualisiert werden können (z. B. aufgrund von Abhängigkeitsproblemen oder Paketsperren), wird der Benutzer gebeten, das Löschen dieses Pakets zu genehmigen, woraufhin das Paket gelöscht wird.
        </para>
       </listitem>
      </varlistentry>
    </variablelist>
   <para>
    Um alle Patches aufzulisten, unabhängig davon, ob sie erforderlich sind, verwenden Sie zusätzlich die Option <option>--all</option>. Um beispielsweise alle Patches aufzulisten, denen eine CVE-Nummer zugewiesen ist, verwenden Sie Folgendes:
   </para>
<screen><?dbsuse-fo font-size="0.70em"?>
<prompt>&gt; </prompt>zypper list-patches --all --cve
Issue | No.           | Patch             | Category    | Severity  | Status
------+---------------+-------------------+-------------+-----------+----------
cve   | CVE-2019-0287 | SUSE-SLE-Module.. | recommended | moderate  | needed
cve   | CVE-2019-3566 | SUSE-SLE-SERVER.. | recommended | moderate  | not needed
[...]</screen>
  </sect3>
  <sect3 xml:id="sec-zypper-softup-update">
   <title>Installieren neuer Paketversionen</title>
   <para>
    Wenn ein Repository neue Pakete enthält, aber keine Patches zur Verfügung stellt, zeigt <command>zypper patch</command> keinerlei Wirkung. Verwenden Sie zum Aktualisieren aller installierten Pakete mit neueren verfügbaren Versionen das folgende Kommando:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper update</screen>
<important>
 <para>
  <command>zypper update</command> ignoriert problematische Pakete. Ist ein Paket beispielsweise gesperrt, überspringt <command>zypper update</command> dieses Paket auch dann, wenn eine höhere Version verfügbar ist. Umgekehrt meldet <command>zypper patch</command> einen Konflikt, wenn das Paket als angreifbar eingestuft wird.
 </para>
</important>
   <para>
    Zum Aktualisieren einzelner Pakete geben Sie das Paket mit dem Aktualisierungs- oder Aktualisierungskommando an:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper update <replaceable>PACKAGE_NAME</replaceable>
<prompt>&gt; </prompt><command>sudo</command> zypper install <replaceable>PACKAGE_NAME</replaceable></screen>
   <para>
    Mit dem Kommando kann eine Liste mit allen neuen installierbaren Paketen abgerufen werden.
   </para>
<screen><prompt>&gt; </prompt>zypper list-updates</screen>
   <para>
    Dieses Kommando listet ausschließlich Pakete auf, die die folgenden Kriterien erfüllen:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      stammt von demselben Hersteller wie das bereits installierte Paket,
     </para>
    </listitem>
    <listitem>
     <para>
      umfasst Repositorys mit mindestens derselben Priorität wie das bereits installierte Paket,
     </para>
    </listitem>
    <listitem>
     <para>
      ist installierbar (alle Abhängigkeiten wurden erfüllt).
     </para>
    </listitem>
   </itemizedlist>
   <para>
    Eine Liste <emphasis>aller</emphasis> neuen verfügbaren Pakete (unabhängig davon, ob diese Pakete installierbar sind oder nicht) erhalten Sie mit Folgendem:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper list-updates --all</screen>
   <para>
    Um festzustellen, warum ein neues Paket nicht installiert werden kann, verwenden Sie das Kommando <command>zypper install</command> oder <command>zypper update</command>, wie oben beschrieben.
   </para>
  </sect3>
  <sect3 xml:id="sec-zypper-softup-orphaned">
   <title>Ermitteln verwaister Pakete</title>
   <para>
    Immer, wenn Sie ein Repository aus Zypper entfernen oder Ihr System aktualisieren, erhalten manche Pakete den Status <quote>Verwaist</quote>. Diese <emphasis>verwaisten</emphasis> Pakete gehören zu keinem aktiven Repository mehr. Mit dem folgenden Kommando erhalten Sie eine entsprechende Liste:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper packages --orphaned</screen>
   <para>
    Anhand dieser Liste können Sie entscheiden, ob ein Paket noch benötigt wird oder sicher entfernt werden kann.
   </para>
  </sect3>

 </sect2>

 <sect2 xml:id="sec-zypper-ps">
  <title>Ermitteln von Prozessen und Diensten, die gelöschte Dateien verwenden</title>
  <para>
   Beim Anwenden von Patches, beim Aktualisieren oder beim Entfernen von Paketen können auf dem System Prozesse aktiv sein, die weiterhin Dateien verwenden, die durch die Aktualisierung oder das Entfernen gelöscht wurden. Verwenden Sie <command>zypper ps</command>, um Prozesse aufzulisten, die gelöschte Dateien verwenden. Falls der Prozess zu einem bekannten Dienst gehört, wird der Dienstname aufgelistet und der Dienst kann leicht neu gestartet werden. Standardmäßig zeigt <command>zypper ps</command> eine Tabelle an:
  </para>
<screen><?dbsuse-fo font-size="0.70em"?>
<prompt>&gt; </prompt>zypper ps
PID   | PPID | UID | User  | Command      | Service      | Files
------+------+-----+-------+--------------+--------------+-------------------
814   | 1    | 481 | avahi | avahi-daemon | avahi-daemon | /lib64/ld-2.19.s-&gt;
      |      |     |       |              |              | /lib64/libdl-2.1-&gt;
      |      |     |       |              |              | /lib64/libpthrea-&gt;
      |      |     |       |              |              | /lib64/libc-2.19-&gt;
[...]</screen>
  <simplelist><member><emphasis role="bold">PID</emphasis>: ID des Prozesses
   </member><member><emphasis role="bold">PPID</emphasis>: ID des übergeordneten Prozesses
   </member><member><emphasis role="bold">UID</emphasis>: ID des Benutzers, der den Prozess ausführt
   </member><member><emphasis role="bold">Login</emphasis>: Anmeldename des Benutzers, der den Prozess ausführt
   </member><member><emphasis role="bold">Command</emphasis>: Kommando, mit dem der Prozess ausgeführt wurde
   </member><member><emphasis role="bold">Service</emphasis>: Dienstname (nur wenn das Kommando einem Systemdienst zugeordnet ist)
   </member><member><emphasis role="bold">Files</emphasis>: Liste der gelöschten Dateien
   </member>
  </simplelist>
  <para>
   Das Ausgabeformat von <command>zypper ps</command> kann wie folgt gesteuert werden:
  </para>
  <variablelist>
   <varlistentry>
    <term><command>zypper ps</command><option>-s</option></term>
    <listitem>
     <para>
      Kurze Tabelle ohne gelöschte Dateien erstellen.
     </para>
<screen><?dbsuse-fo font-size="0.70em"?>
<prompt>&gt; </prompt>zypper ps -s
PID   | PPID | UID  | User    | Command      | Service
------+------+------+---------+--------------+--------------
814   | 1    | 481  | avahi   | avahi-daemon | avahi-daemon
817   | 1    | 0    | root    | irqbalance   | irqbalance
1567  | 1    | 0    | root    | sshd         | sshd
1761  | 1    | 0    | root    | master       | postfix
1764  | 1761 | 51   | postfix | pickup       | postfix
1765  | 1761 | 51   | postfix | qmgr         | postfix
2031  | 2027 | 1000 | tux     | bash         |</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>zypper ps</command><option>-ss</option></term>
    <listitem>
     <para>
      Nur Prozesse anzeigen, die einem Systemdienst zugewiesen sind.
     </para>
<screen>PID   | PPID | UID  | User    | Command      | Service
------+------+------+---------+--------------+--------------
814   | 1    | 481  | avahi   | avahi-daemon | avahi-daemon
817   | 1    | 0    | root    | irqbalance   | irqbalance
1567  | 1    | 0    | root    | sshd         | sshd
1761  | 1    | 0    | root    | master       | postfix
1764  | 1761 | 51   | postfix | pickup       | postfix
1765  | 1761 | 51   | postfix | qmgr         | postfix</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>zypper ps</command><option>-sss</option></term>
    <listitem>
     <para>
      Nur Systemdienste anzeigen, die gelöschte Dateien verwenden.
     </para>
<screen>avahi-daemon
irqbalance
postfix
sshd</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>zypper ps</command><option>--print &quot;systemctl status %s&quot;</option></term>
    <listitem>
     <para>
      Kommandos zum Abrufen von Statusinformationen für Dienste anzeigen, die einen Neustart erfordern könnten.
     </para>
<screen>systemctl status avahi-daemon
systemctl status irqbalance
systemctl status postfix
systemctl status sshd</screen>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   Weitere Informationen zum Handhaben von Diensten finden Sie unter <xref linkend="cha-systemd"/>.
  </para>
 </sect2>


 <sect2 xml:id="sec-zypper-instrepo">
  <title>Verwalten von Repositorys mit Zypper</title>
  <para>
   Sämtliche Installations- und Patch-Kommandos von Zypper sind von der Liste der bekannten Repositorys abhängig. Um alle dem System bekannten Repositorys aufzulisten, verwenden Sie das Kommando:
  </para>
<screen><prompt>&gt; </prompt>zypper repos</screen>
  <para>
   Das Ergebnis ist der folgenden Ausgabe ähnlich:
  </para>
  <example xml:id="ex-zypper-repos">
   <title>Zypper – Liste der bekannten Repositorys</title>
<screen os="sles;sled"><prompt>&gt; </prompt>zypper repos
# | Alias        | Name          | Enabled | Refresh
--+--------------+---------------+---------+--------
1 | SLEHA-15-GEO | SLEHA-15-GEO  | Yes     | No
2 | SLEHA-15     | SLEHA-15      | Yes     | No
3 | SLES15       | SLES15        | Yes     | No</screen>

  </example>
  <para>
   Bei der Angabe von Repositorys kann in verschiedenen Kommandos ein Alias, URI oder eine Repository-Nummber aus der Ausgabe des Kommandos <command>zypper repos</command> verwendet werden. Ein Repository-Alias ist eine Kurzform des Repository-Namens, der in Repository-Kommandos verwendet wird. Beachten Sie dabei, dass sich die Repository-Nummern nach dem Bearbeiten der Repository-Liste ändern können. Der Alias ändert sich nie von alleine.
  </para>
  <para>
   Standardmäßig werden Details wie URI oder Priorität des Repositorys nicht angezeigt. Verwenden Sie das folgende Kommando, um alle Details aufzulisten:
  </para>
<screen><prompt>&gt; </prompt>zypper repos -d</screen>
  <sect3 xml:id="sec-zypper-instrepo-add">
   <title>Hinzufügen von Repositorys</title>
   <para>
    Zum Hinzufügen eines Repository, führen Sie Folgendes aus:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper addrepo <replaceable>URI</replaceable> <replaceable>ALIAS</replaceable></screen>
   <para>
    <replaceable>URI</replaceable> kann ein Internet-Repository, eine Netzwerkressource, ein Verzeichnis oder eine CD oder DVD sein (für Details siehe <link xlink:href="https://en.opensuse.org/openSUSE:Libzypp_URIs"/>). Der <replaceable>ALIAS</replaceable> ist ein Kürzel und eine eindeutige Kennung für das Repository. Sie können ihn frei wählen, vorausgesetzt, er ist eindeutig. Zypper gibt eine Warnung aus, wenn Sie einen Alias angeben, der bereits verwendet wird. 
   </para>
  </sect3>
  <sect3 xml:id="sec-zypper-instrepo-refresh">
   <title>Aktualisieren von Repositorys</title>
   <para>
    Mit <command>Zypper</command> können Sie Änderungen in Paketen aus konfigurierten Repositorys abrufen. Rufen Sie die Änderungen wie folgt ab:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper refresh</screen>
   <note>
    <title>Standardverhalten von <command>zypper</command></title>
    <para>
     Standardmäßig führen bestimmte Befehle <command>refresh</command> automatisch aus, sodass dieser Befehl nicht explizit aufgerufen werden muss.
    </para>
   </note>
   <para>
    Mit der Option <literal>--plus-content</literal> für <command>refresh</command> können Sie Änderungen auch in deaktivierten Repositorys abrufen:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper --plus-content refresh</screen>
   <para>
    Diese Option ruft Änderungen in Repositorys ab und behält dabei den Zustand der deaktivierten Repositorys unverändert bei – also deaktiviert.
   </para>
  </sect3>
  <sect3 xml:id="sec-zypper-instrepo-rm">
   <title>Entfernen von Repositorys</title>
   <para>
    Wenn ein Repository von der Liste entfernt werden soll, verwenden Sie das Kommando <command>zypper removerepo</command> zusammen mit dem Alias oder der Nummer des zu löschenden Repositorys. Um beispielsweise das Repository <literal os="sles;sled">SLEHA-12-GEO</literal> aus <xref linkend="ex-zypper-repos"/> zu entfernen, verwenden Sie eines der folgenden Kommandos:
   </para>
<screen os="sles;sled"><prompt>&gt; </prompt><command>sudo</command> zypper removerepo 1
<prompt>&gt; </prompt><command>sudo</command> zypper removerepo "SLEHA-12-GEO"</screen>

  </sect3>
  <sect3 xml:id="sec-zypper-instrepo-mofify">
   <title>Ändern von Repositorys</title>
   <para>
    Aktivieren oder deaktivieren von Repositorys mit <command>zypper modifyrepo</command>. Mit diesem Kommando können Sie auch die Eigenschaften des Repositorys (z. B. Aktualisierungsverhalten, Name oder Priorität) ändern. Das folgende Kommando aktiviert das Repository mit dem Namen <literal>updates</literal>, aktiviert die automatische Aktualisierung und stellt seine Priorität auf 20 ein:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper modifyrepo -er -p 20 'updates'</screen>
   <para>
    Das Ändern von Repositorys ist nicht auf ein einziges Repository beschränkt – Sie können auch Gruppen bearbeiten:
   </para>
   <simplelist><member><option>-a</option>: alle Repositorys</member><member><option>-l</option>: lokale Repositorys</member><member><option>-t</option>: entfernte Repositorys</member><member><option>-m <replaceable>TYPE</replaceable></option>: Repositorys eines bestimmten Typs (wobei <replaceable>TYPE</replaceable> einer der folgenden sein kann: <literal>http</literal>, <literal>https</literal>, <literal>ftp</literal>, <literal>cd</literal>, <literal>dvd</literal>, <literal>dir</literal>, <literal>file</literal>, <literal>cifs</literal>, <literal>smb</literal>, <literal>nfs</literal>, <literal>hd</literal>, <literal>iso</literal>) </member>
   </simplelist>
   <para>
    Zum Umbenennen eines Repository-Alias verwenden Sie das Kommando <literal>renamerepo</literal>. Das folgende Beispiel ändert den Alias von <literal>Mozilla Firefox</literal> in <literal>firefox</literal>:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper renamerepo 'Mozilla Firefox' firefox</screen>
  </sect3>
 </sect2>

 <sect2 xml:id="sec-zypper-query">
  <title>Abfragen von Repositorys und Paketen mit Zypper</title>
  <para>
   Zypper bietet zahlreiche Methoden zur Abfrage von Repositorys oder Paketen. Verwenden Sie die folgenden Kommandos, um eine Liste aller verfügbaren Produkte, Muster, Pakete oder Patches zu erhalten:
  </para>
<screen><prompt>&gt; </prompt>zypper products
<prompt>&gt; </prompt>zypper patterns
<prompt>&gt; </prompt>zypper packages
<prompt>&gt; </prompt>zypper patches</screen>
  <para>
   Zur Abfrage aller Repositorys auf bestimmte Pakete verwenden Sie <literal>search</literal>. Mit dem Befehl <literal>info</literal> erhalten Sie Informationen zu bestimmten Paketen.
  </para>
  <sect3 xml:id="sec-zypper-query-search">
   <title>Suchen nach Software</title>
   <para>
    Der Befehl <command>zypper search</command> lässt sich auf Paketnamen oder optional auf Paketzusammenfassungen und -beschreibungen anwenden. Zeichenketten, die mit <literal>/</literal> umschlossen sind, werden als reguläre Ausdrücke behandelt. Standardmäßig unterscheidet der Suchvorgang keine Groß- und Kleinschreibung.
   </para>
   <variablelist>
    <varlistentry>
     <term>Einfache Suche nach einem Paketnamen mit dem Namensbestandteil <literal>fire</literal></term>
     <listitem>
<screen><prompt>&gt; </prompt>zypper search "fire"</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Einfache Suche nach dem genauen Paketnamen <literal>MozillaFirefox</literal></term>
     <listitem>
<screen><prompt>&gt; </prompt>zypper search --match-exact "MozillaFirefox"</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Suche auf Paketbeschreibungen und -zusammenfassungen ausdehnen</term>
     <listitem>
<screen><prompt>&gt; </prompt>zypper search -d fire</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Nur Pakete anzeigen, die nicht bereits installiert sind</term>
     <listitem>
<screen><prompt>&gt; </prompt>zypper search -u fire</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Pakete anzeigen, die die Zeichenkette <literal>fir</literal> enthalten, nicht gefolgt von <literal>e</literal></term>
     <listitem>
<screen><prompt>&gt; </prompt>zypper se "/fir[^e]/"</screen>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect3>
  <sect3 xml:id="sec-zypper-query-search-packages" os="sles;sled">
   <title>Suchen nach Paketen in allen SLE-Modulen</title>
   <para>
    Mit dem Unterkommando <command>search-packages</command> suchen Sie Pakete innerhalb und außerhalb der aktuell aktivierten SLE-Module. Mit diesem Kommando wird das SUSE Customer Center kontaktiert und alle Module werden nach passenden Paketen durchsucht, wie zum Beispiel:
   </para>
<screen><prompt>&gt; </prompt>zypper search-packages <replaceable>package1</replaceable> <replaceable>package2</replaceable></screen>
   <para>
    <command>zypper search-packages</command> bietet folgende Optionen:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Suchen nach einer genauen Übereinstimmung mit der Suchzeichenkette: <option>-x</option>, <option>--match-exact</option>
     </para>
    </listitem>
    <listitem>
     <para>
      Gruppieren der Ergebnisse nach Modul (Standard: Nach Paket gruppieren): <option>-g,</option> <option>--group-by-module</option>
     </para>
    </listitem>
    <listitem>
     <para>
      Anzeigen detaillierterer Informationen zu Paketen: <option>-d</option>, <option>--details</option>
     </para>
    </listitem>
    <listitem>
     <para>
      Ausgeben von Suchergebnissen in XML: <option>--xmlout</option>
     </para>
    </listitem>
   </itemizedlist>
  </sect3>
  <sect3 xml:id="sec-zypper-query-what-provides">
   <title>Suchen nach bestimmten Funktionen</title>
   <para>
    Verwenden Sie zur Suche nach Paketen, die eine spezielle Funktion bieten, das Kommando <literal>what-provides</literal>. Wenn Sie beispielsweise wissen möchten, welches Paket das Perl-Modul <literal>SVN::Core</literal> bereitstellt, verwenden Sie das folgende Kommando:
   </para>
<screen><prompt>&gt; </prompt>zypper what-provides 'perl(SVN::Core)'</screen>
   <para>
    <literal>what-provides<replaceable> -PAKETNAME</replaceable></literal> ähnelt dem Befehl <command>rpm -q --whatprovides</command>
    <replaceable> PAKETNAME</replaceable>; RPM kann jedoch nur Abfragen für die RPM-Datenbank (Datenbank mit allen installierten Paketen) durchführen. zypper informiert Sie auf der anderen Seite über Anbieter der Möglichkeit von einem beliebigen Repository, nicht nur von denen, die installiert sind.
   </para>
  </sect3>
  <sect3 xml:id="sec-zypper-query-info">
   <title>Anzeigen von Paketinformationen</title>
   <para>
    Um einzelne Pakete abzufragen, verwenden Sie <command>info</command> mit einem exakten Paketnamen als Argument. Hiermit werden detaillierte Informationen zu einem Paket angezeigt. Falls der Paketname nicht mit einem Paketnamen aus den Repositorys übereinstimmt, gibt der Befehl ausführliche Informationen zu den fehlenden Pakettreffern aus. Wenn Sie einen bestimmten Typ festlegen (mit der Option <literal>-t</literal>) und dieser Typ nicht vorhanden ist, gibt der Befehl andere verfügbare Treffer aus, jedoch ohne ausführliche Informationen.
   </para>
   <para>
    Wenn Sie ein Quellpaket angeben, zeigt der Befehl die aus dem Quellpaket aufgebauten Binärpakete. Wenn Sie ein Binärpaket angeben, gibt der Befehl die Quellpakete aus, aus denen das Binärpaket aufgebaut wurde.
   </para>
   <para>
    Um auch die Elemente abzurufen, die für das Paket erforderlich/empfohlen sind, verwenden Sie die Optionen <option>--requires</option> und <option>--recommends</option>:
   </para>
<screen><prompt>&gt; </prompt>zypper info --requires MozillaFirefox</screen>
  </sect3>
 </sect2>

 <sect2 xml:id="sec-zypper-lifecycle" os="sles;sled">
  <title>Anzeigen von Paketinformationen</title>
  <para>
   SUSE-Produkte werden im Allgemeinen 10 Jahre lang unterstützt. Häufig können Sie diesen standardmäßigen Lebenszyklus anhand der erweiterten Supportangebote von SUSE verlängern und drei Jahre Support erhalten. Den genauen Support-Lebenszyklus für Ihr Produkt finden Sie unter <link xlink:href="https://www.suse.com/lifecycle"/>.
  </para>
  <para>
   Mit dem Kommando <command>zypper lifecycle</command> ermitteln Sie den Lebenszyklus Ihres Produkts und des unterstützten Pakets (siehe unten):
  </para>
<screen><prompt role="root"># </prompt><command>zypper lifecycle</command>
    Product end of support
Codestream: SUSE Linux Enterprise Server 15             2028-07-31
    Product: SUSE Linux Enterprise Server 15 SP3        n/a*

Module end of support
Basesystem Module                                       n/a*
Desktop Applications Module                             n/a*
Server Applications Module                              n/a*

Package end of support if different from product:
autofs                                   Now, installed 5.1.3-7.3.1, update available 5.1.3-7.6.1
</screen>
 </sect2>

 <sect2 xml:id="sec-zypper-configure">
  <title>Konfigurieren von Zypper</title>
  <para>
   Zypper ist nunmehr mit einer Konfigurationsdatei ausgestattet, in der Sie die Arbeitsweise von Zypper dauerhaft verändern können (wahlweise systemweit oder benutzerspezifisch). Für systemweite Änderungen bearbeiten Sie <filename>/etc/zypp/zypper.conf</filename>. Für benutzerspezifische Änderungen bearbeiten Sie <filename>~/.zypper.conf</filename>. Falls <filename>~/.zypper.conf</filename> noch nicht vorhanden ist, können Sie <filename>/etc/zypp/zypper.conf</filename> als Schablone verwenden. Kopieren Sie diese Datei in <filename>~/.zypper.conf</filename>, und passen Sie sie nach Ihren Anforderungen an. Weitere Informationen zu den verfügbaren Optionen finden Sie in den Kommentaren in der Datei.
  </para>
 </sect2>

 <sect2 xml:id="sec-zypper-trouble">
  <title>Fehlersuche</title>
  <para>
   Falls Sie aus konfigurierten Repositorys heraus nicht problemlos auf Pakete zugreifen können (Zypper kann beispielsweise ein bestimmtes Paket nicht finden, obwohl Sie wissen, dass sich dieses Paket in einem der Repositorys befindet), aktualisieren Sie probeweise die Repositorys:
  </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper refresh</screen>
  <para>
   Falls das nicht wirkt, probieren Sie Folgendes:
  </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper refresh -fdb</screen>
  <para>
   Damit wird eine vollständige Aktualisierung und ein kompletter Neuaufbau der Datenbank erzwungen, außerdem ein erzwungener Download von Roh-Metadaten.
  </para>
 </sect2>

 <sect2 xml:id="sec-zypper-rollback">
  <title>Zypper-Rollback-Funktion im Btrfs-Dateisystem</title>
  <para>
   Wenn das Btrfs-Dateisystem in der Stammpartition verwendet wird und <command></command> installiert ist, ruft Zypper automatisch <command>Snapper</command> auf, wenn an das Dateisystem Änderungen übermittelt werden, um entsprechende Dateisystem-Snapshots zu erstellen. Diese Snapshots können verwendet werden, um alle durch Zypper vorgenommenen Änderungen rückgängig zu machen. Weitere Informationen zu diesem Thema finden Sie unter dem Stichwort <xref linkend="cha-snapper"/>.
  </para>
 </sect2>

 <sect2 xml:id="sec-zypper-more">
  <title>Weitere Informationen</title>
  <para>
   Wenn Sie weitere Informationen zur Verwaltung von Software benötigen, geben Sie den Befehl <command>zypper help</command>, <command>zypper help</command>
   <replaceable>BEFEHL</replaceable> in die Befehlszeile ein oder rufen Sie die man-Seite <command>zypper(8)</command> auf. Eine ausführliche Kommandoreferenz mit <literal>Tricks</literal> zu den wichtigsten Kommandos sowie Informationen zur Verwendung von Zypper in Skripten und Anwendungen finden Sie unter <link xlink:href="https://en.opensuse.org/SDB:Zypper_usage"/>. Eine Liste der Software-Änderungen in der aktuellen <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-Version finden Sie unter <link xlink:href="https://en.opensuse.org/openSUSE:Zypper_versions"/>.
  </para>
 </sect2>
</sect1>
