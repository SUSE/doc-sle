<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_printer.xml" version="5.0" xml:id="sec-yast-hw-print">
 <title>Configuración de una impresora</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>sí</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  YaST se puede usar para configurar una impresora local conectada al equipo mediante USB y para configurar la impresión mediante impresoras en red. También es posible compartir impresoras en red. Hay disponible más información sobre la impresión (datos generales, detalles técnicos y resolución de problemas) en el <xref linkend="cha-print"/>.
 </para>

 <para>
  En YaST haga clic en <menuchoice> <guimenu> Hardware</guimenu>
  <guimenu> Impresora</guimenu> </menuchoice>  para iniciar el módulo de impresora. Se abre por defecto en la vista <guimenu>Configuraciones de impresoras,</guimenu> que muestra una lista de todas las impresoras disponibles y configuradas. Resulta especialmente útil cuando se tiene acceso a muchas impresoras en la red. Desde aquí, también puede <guimenu>imprimir una página de prueba</guimenu> y configurar las impresoras.
 </para>

 <note>
  <title>inicio de CUPS</title>
  <para>
   Para imprimir desde su sistema, CUPS se debe estar ejecutando. En caso de que no lo esté, se le pedirá que lo inicie. Responda <guimenu>Sí</guimenu> o no podrá configurar la impresión. Si CUPS no se inicia durante el arranque, también se le pedirá que habilite esta función. Se recomienda responder <guimenu>Sí,</guimenu> ya que si no lo hace, CUPS deberá iniciarse manualmente cada vez que se arranque.
  </para>
 </note>

 <sect2 xml:id="sec-yast-hw-print-local">
  <title>Configuración de impresoras</title>
  <para>
   Normalmente, las impresoras USB se detectan automáticamente. Existen dos razones posibles por las que una impresora no se detecte automáticamente:
  </para>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     La impresora USB está apagada.
    </para>
   </listitem>
   <listitem>
    <para>
     No es posible establecer una comunicación entre la impresora y el equipo. Compruebe el cable y las conexiones para asegurarse de que la impresora está conectada correctamente. Si este fuera el caso, puede que el problema no esté relacionado con la impresora, sino con la conexión USB.
    </para>
   </listitem>
  </itemizedlist>
  <para>
   La configuración de una impresora es un proceso que consiste en tres pasos: especificar el tipo de conexión, elegir un controlador y asignar un nombre a la cola de impresión para la configuración.
  </para>
  <para>
   En muchos modelos de impresoras hay disponibles varios controladores. A la hora de configurar la impresora, YaST, por norma general, usa por defecto los controladores marcados como <literal>recomendados</literal>. Habitualmente, no es necesario cambiar el controlador. Sin embargo, si desea que una impresora en color imprima solo en blanco y negro, puede usar un controlador que no admita la impresión en color. Si experimenta problemas de rendimiento con una impresora PostScript a la hora de imprimir gráficos, pruebe a cambiar de un controlador PostScript a un controlador PCL (siempre que la impresora admita el lenguaje PCL).
  </para>
  <para>
   Si no aparece ningún controlador para la impresora, puede probar a seleccionar uno genérico con un lenguaje estándar adecuado en la lista. Consulte la documentación de la impresora para averiguar qué lenguaje (el conjunto de comandos que controlan la impresora) admite. Si no funciona, consulte la <xref linkend="sec-yast-hw-print-local-get-ppd"/> para buscar otra solución posible.
  </para>
  <para>
   Las impresoras no se usan nunca directamente. Se hace a través de una cola de impresión. De esta forma se garantiza que varios trabajos simultáneos se pueden poner en cola y procesarse consecutivamente. Cada cola de impresión se asigna a un controlador específico, y una impresora puede tener varias colas. Esto hace posible configurar una segunda cola en una impresora en color que imprima solo en blanco y negro, por ejemplo. Consulte el <xref linkend="sec-print-workflow"/> para obtener más información acerca de las colas de impresión.
  </para>
  <procedure xml:id="pro-y2-hw-print-local-config">
   <title>Adición de una impresora nueva</title>
   <step>
    <para>
     Inicie el módulo de impresora de YaST mediante <menuchoice>
     <guimenu>Hardware</guimenu> <guimenu>Impresora</guimenu></menuchoice>.
    </para>
   </step>
   <step>
    <para>
     En la pantalla <guimenu>Configuraciones de impresoras,</guimenu> haga clic en <guimenu>Añadir.</guimenu>
    </para>
   </step>
   <step>
    <para>
     Si la impresora ya aparece en <literal>Especificar la conexión,</literal> continúe con el siguiente paso. De lo contrario, intente usar <guimenu>Detectar más</guimenu> o iniciar el <guimenu>Asistente de conexión.</guimenu>
    </para>
   </step>
   <step>
    <para>
     En el recuadro de texto, en el apartado de <literal>Buscar y asignar un controlador,</literal> introduzca el nombre del fabricante y el modelo y haga clic en <guimenu>Buscar.</guimenu>
    </para>
   </step>
   <step>
    <para>
     Seleccione un controlador válido para la impresora. Se recomienda elegir el primer controlador de la lista. Si no se muestra ningún controlador adecuado:
    </para>
    <substeps performance="required">
     <step>
      <para>
       Compruebe el término de búsqueda.
      </para>
     </step>
     <step>
      <para>
       Amplíe la búsqueda haciendo clic en <guimenu>Buscar más.</guimenu>
      </para>
     </step>
     <step>
      <para>
       Añada un controlador como se describe en la <xref linkend="sec-yast-hw-print-local-get-ppd"/>.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     Especifique el <literal>Tamaño de papel por defecto.</literal>
    </para>
   </step>
   <step>
    <para>
     En el campo <guimenu>Ponga un nombre arbitrario,</guimenu> introduzca un nombre único para la cola de impresión.
    </para>
   </step>
   <step>
    <para>
     La impresora está ya configurada con los ajustes por defecto y lista para usarse. Haga clic en <guimenu>Aceptar</guimenu> para volver a la vista <guimenu>Configuraciones de impresoras.</guimenu> La impresora recién configurada se mostrará en la lista de impresoras.
    </para>
   </step>
  </procedure>
  <sect3 xml:id="sec-yast-hw-print-local-get-ppd">
   <title>Adición de controladores con YaST</title>
   <para>
    No todos los controladores de impresora disponibles para <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> se instalan por defecto. Si no hay ningún controlador adecuado disponible en el recuadro de diálogo <guimenu>Buscar y asignar un controlador</guimenu> al añadir una nueva impresora, instale un paquete que contenga los controladores necesarios para sus impresoras:
   </para>
   <procedure>
    <title>Instalación de paquetes de controlador adicionales</title>
    <step>
     <para>
      Inicie el módulo de impresora de YaST mediante <menuchoice>
      <guimenu>Hardware</guimenu> <guimenu>Impresora</guimenu> </menuchoice>.
     </para>
    </step>
    <step>
     <para>
      En la pantalla <guimenu>Configuraciones de impresoras,</guimenu> haga clic en <guimenu>Añadir.</guimenu>
     </para>
    </step>
    <step>
     <para>
      En la sección de <literal>búsqueda y asignación de un controlador,</literal> haga clic en la opción de <guimenu>paquetes de controladores.</guimenu>
     </para>
    </step>
    <step>
     <para>
      Seleccione uno o varios paquetes de controlador adecuados de la lista. <emphasis>No</emphasis> especifique la vía a un archivo de descripción de impresora.
     </para>
    </step>
    <step>
     <para>
      Haga clic en <guimenu>Aceptar</guimenu> y confirme la instalación del paquete.
     </para>
    </step>
    <step>
     <para>
      Para usar directamente estos controladores, siga el procedimiento descrito en el <xref linkend="pro-y2-hw-print-local-config"/>.
     </para>
    </step>
   </procedure>
   <para>
    Las impresoras PostScript no necesitan software de controlador de impresora. Las impresoras PostScript solo necesitan un archivo PPD (descripción de impresora PostScript) que coincida con el modelo concreto. El fabricante de la impresora proporciona los archivos PPD.
   </para>
   <para>
    Si no hay ningún archivo PPD adecuado disponible en el recuadro de diálogo <guimenu>Buscar y asignar un controlador</guimenu> al añadir una impresora PostScript, instale un archivo PPD para su impresora:
   </para>
   <para>
    Hay disponibles varias fuentes de archivos PPD. Se recomienda probar en primer lugar los paquetes de controlador incluidos con <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> que no se instalan por defecto (consulte la información siguiente para obtener instrucciones de instalación). Si estos paquetes no contienen controladores adecuados para la impresora, obtenga los archivos PPD directamente del proveedor de la impresora o del CD de controladores de una impresora PostScript. Para obtener información, consulte <xref linkend="sec-print-prob-ppd"/>. Otra alternativa es buscar archivos PPD en <link xlink:href="http://www.linuxfoundation.org/collaborate/workgroups/openprinting/database/databaseintro"/>, la <quote>base de datos de impresoras de OpenPrinting.org</quote>. Al descargar archivos PPD de OpenPrinting, tenga en cuenta que siempre se muestra el estado de compatibilidad de Linux más reciente, que <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> no tiene por qué cumplir necesariamente.
   </para>
   <procedure>
    <title>Adición de un archivo PPD para impresoras PostScript</title>
    <step>
     <para>
      Inicie el módulo de impresora de YaST mediante <menuchoice>
      <guimenu>Hardware</guimenu> <guimenu>Impresora</guimenu> </menuchoice>.
     </para>
    </step>
    <step>
     <para>
      En la pantalla <guimenu>Configuraciones de impresoras,</guimenu> haga clic en <guimenu>Añadir.</guimenu>
     </para>
    </step>
    <step>
     <para>
      En la sección de <literal>búsqueda y asignación de un controlador,</literal> haga clic en la opción de <guimenu>paquetes de controladores.</guimenu>
     </para>
    </step>
    <step>
     <para>
      Introduzca la vía completa al archivo PPD en el recuadro de texto situado bajo <literal>Hacer que un archivo de descripción de impresora esté disponible.</literal>
     </para>
    </step>
    <step>
     <para>
      Haga clic en <guimenu>Aceptar</guimenu> para volver a la pantalla <literal>Añadir nueva configuración de impresora.</literal>
     </para>
    </step>
    <step>
     <para>
      Para usar directamente este archivo PPD, continúe como se describe en el <xref linkend="pro-y2-hw-print-local-config"/>.
     </para>
    </step>
   </procedure>
  </sect3>
  <sect3 xml:id="sec-yast-hw-print-local-tune">
   <title>Edición de una configuración de impresora local</title>
   <para>
    Si se edita una configuración existente de una impresora, es posible cambiar ajustes básicos como el tipo de conexión y el controlador. También es posible modificar la configuración por defecto de tamaño del papel, la resolución, el origen de medios, etc. Puede cambiar los identificadores de la impresora modificando la descripción o la ubicación de la impresora.
   </para>
   <procedure>
    <step>
     <para>
      Inicie el módulo de impresora de YaST mediante <menuchoice>
      <guimenu>Hardware</guimenu> <guimenu>Impresora</guimenu> </menuchoice>.
     </para>
    </step>
    <step>
     <para>
      En la pantalla <guimenu>Configuraciones de impresoras,</guimenu> seleccione una configuración de impresora local de la lista y haga clic en <guimenu>Editar.</guimenu>
     </para>
    </step>
    <step>
     <para>
      Cambie el tipo de conexión o el controlador tal y como se describe en el <xref linkend="pro-y2-hw-print-local-config"/>. Esto solo es necesario si tiene problemas con la configuración actual.
     </para>
    </step>
    <step>
     <para>
      También es posible convertir esta impresora en el dispositivo por defecto marcando la casilla <guimenu>Impresora por defecto.</guimenu>
     </para>
    </step>
    <step>
     <para>
      Ajuste la configuración por defecto haciendo clic en <guimenu>Todas las opciones del controlador actual.</guimenu> Para cambiar un ajuste, expanda la lista de opciones haciendo clic en el signo <literal>+</literal> oportuno. Para cambiar los ajustes por defecto, haga clic en una opción. Aplique los cambios haciendo clic en <guimenu>Aceptar.</guimenu>
     </para>
    </step>
   </procedure>
  </sect3>
 </sect2>

 <sect2 xml:id="sec-yast-hw-print-network">
  <title>Configuración de la impresión mediante la red con YaST</title>
  <para>
   Las impresoras de red no se detectan automáticamente. Se deben configurar manualmente mediante el módulo de impresora de YaST. Según la configuración de la red, es posible imprimir en un servidor de impresión (CUPS, LPD, SMB o IPX) o directamente en una impresora de red (preferiblemente mediante TCP). Para acceder a la vista de configuración de la impresión en red, seleccione <guimenu>Imprimir a través de la red</guimenu> en el panel izquierdo del módulo de impresora de YaST.
  </para>
  <sect3 xml:id="sec-yast-hw-print-network-cups">
   <title>Uso de CUPS</title>
   <para>
    En un entorno Linux, CUPS se suele usar para imprimir a través de la red. La configuración más sencilla consiste en imprimir solo a través de un único servidor CUPS al que pueden acceder directamente todos los clientes. Imprimir a través de más de un servidor CUPS requiere que se ejecute un daemon CUPS local que comunique con los servidores CUPS remotos.
   </para>
   <important>
    <title>Exploración de las colas de impresión de red</title>
    <para>
     Los servidores CUPS anuncian sus colas de impresión en la red mediante el protocolo de exploración CUPS tradicional o mediante Bonjour/DNS-SD. Los clientes tienen que poder explorar estas listas, a fin de que los usuarios puedan seleccionar impresoras concretas a las que enviar los trabajos de impresión. Para explorar las colas de impresión de red, el servicio <systemitem class="daemon">cups-browsed</systemitem> proporcionado por el paquete <systemitem class="resource">cups-filters-cups-browsed</systemitem> se debe ejecutar en todos los clientes que impriman mediante servidores CUPS. <systemitem class="daemon">cups-browsed</systemitem> se inicia automáticamente al configurar la impresión en red con YaST.
    </para>
    <para>
     Si la exploración no funciona después de iniciar <systemitem class="daemon">cups-browsed</systemitem>, es probable que los servidores CUPS anuncien las colas de impresión de red mediante Bonjour/DNS-SD. En este caso, debe instalar también el paquete <systemitem class="resource">avahi</systemitem> e iniciar el servicio asociado con el comando <command>sudo systemctl start avahi-daemon</command> en todos los clientes.
    </para>
   </important>
   <procedure>
    <title>Impresión a través de un único servidor CUPS</title>
    <step>
     <para>
      Inicie el módulo de impresora de YaST mediante <menuchoice>
      <guimenu>Hardware</guimenu> <guimenu>Impresora</guimenu> </menuchoice>.
     </para>
    </step>
    <step>
     <para>
      En el panel izquierdo, lance la pantalla <guimenu>Imprimir mediante la red.</guimenu>
     </para>
    </step>
    <step>
     <para>
      Marque <guimenu>Realizar todas las impresiones directamente a través de un servidor remoto CUPS</guimenu> y especifique el nombre o la dirección IP del servidor.
     </para>
    </step>
    <step>
     <para>
      Haga clic en <guimenu>Servidor de prueba</guimenu> para asegurarse de que ha seleccionado el valor correcto de nombre o dirección IP.
     </para>
    </step>
    <step>
     <para>
      Haga clic en <guimenu>Aceptar</guimenu> para volver a la pantalla <guimenu>Configuraciones de impresoras.</guimenu> Ahora se muestran todas las impresoras disponibles a través del servidor CUPS.
     </para>
    </step>
   </procedure>
   <procedure>
    <title>Impresión a través de varios servidores CUPS</title>
    <step>
     <para>
      Inicie el módulo de impresora de YaST mediante <menuchoice>
      <guimenu>Hardware</guimenu> <guimenu>Impresora</guimenu> </menuchoice>.
     </para>
    </step>
    <step>
     <para>
      En el panel izquierdo, lance la pantalla <guimenu>Imprimir mediante la red.</guimenu>
     </para>
    </step>
    <step>
     <para>
      Marque la casilla <guimenu>Aceptar anuncios de impresoras desde los servidores CUPS.</guimenu>
     </para>
    </step>
    <step>
     <para>
      En <literal>Valores de configuración generales,</literal> especifique los servidores que desea utilizar. Puede aceptar conexiones de todas las redes disponibles o de hosts específicos. Si elige esta última opción, deberá especificar los nombres de host o las direcciones IP.
     </para>
    </step>
    <step>
     <para>
      Confirme haciendo clic en <guimenu>Aceptar</guimenu> y en <guimenu>Sí</guimenu> cuando se le pida que inicie un servidor CUPS local. Después de iniciar el servidor, YaST volverá a la pantalla <guimenu>Configuraciones de impresoras.</guimenu> Haga clic en <guimenu>Actualizar lista</guimenu> para ver las impresoras detectadas hasta el momento. Vuelva a hacer clic en este botón por si hubiera más impresoras disponibles.
     </para>
    </step>
   </procedure>
  </sect3>
  <sect3 xml:id="sec-yast-hw-print-network-other">
   <title>Uso de servidores de impresión distintos de CUPS</title>
   <para>
    Si la red ofrece servicios de impresión distintos de CUPS, inicie el módulo de impresora de YaST con <menuchoice>
    <guimenu> Hardware</guimenu><guimenu>Impresora</guimenu></menuchoice> y abra la pantalla <guimenu>Imprimir a través de la red</guimenu> del panel izquierdo. Inicie el <guimenu>Asistente de conexión</guimenu> y seleccione el <guimenu>Tipo de conexión</guimenu> adecuado. Pida al administrador de la red los detalles necesarios para configurar una impresora de red en su entorno.
   </para>
  </sect3>
 </sect2>

 <sect2 xml:id="sec-yast-hw-print-share">
  <title>Uso compartido de impresoras en red</title>
  <para>
   Las impresoras gestionadas por un daemon CUPS local se pueden compartir en la red y convertir así el equipo en un servidor CUPS. Normalmente, para compartir una impresora se habilita el denominado <quote>modo de exploración</quote> de CUPS. Si la exploración está habilitada, las colas de impresión locales se ponen a disposición de la red y quedan a la escucha de daemons CUPS remotos. También es posible configurar un servidor CUPS dedicado que gestione todas las colas de impresión y al que puedan acceder directamente los clientes remotos. En este caso, no es necesario habilitar la exploración.
  </para>
  <procedure>
   <title>Uso compartido de impresoras</title>
   <step>
    <para>
     Inicie el módulo de impresora de YaST mediante <menuchoice>
     <guimenu>Hardware</guimenu> <guimenu>Impresora</guimenu> </menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Acceda a la pantalla <guimenu>Compartir impresoras</guimenu> desde el panel de la izquierda.
    </para>
   </step>
   <step>
    <para>
     Seleccione <guimenu>Permitir acceso remoto</guimenu>. Marque también la casilla <guimenu>Para equipos en la red local</guimenu> y habilite el modo de exploración marcando también <guimenu>Publicar las impresoras por defecto en la red local.</guimenu>
    </para>
   </step>
   <step>
    <para>
     Haga clic en <guimenu>Aceptar</guimenu> para reiniciar el servidor CUPS y volver a la pantalla <guimenu>Configuraciones de impresoras.</guimenu>
    </para>
   </step>
   <step>
    <para>
     En referencia a la configuración de CUPS y del cortafuegos, consulte <link xlink:href="https://en.opensuse.org/SDB:CUPS_and_SANE_Firewall_settings"/>.
    </para>
   </step>
  </procedure>
 </sect2>
</sect1>
