<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<sect1 id="sec.grub2.yast2.config">
 <title>Configuring the Boot Loader with &yast;</title><indexterm>

 <primary>booting</primary>

 <secondary>configuring</secondary>

 <tertiary>&yast;</tertiary></indexterm><indexterm>

 <primary>&yast;</primary>

 <secondary>boot configuration</secondary></indexterm>

 <para>
  The easiest way to configure general options of the boot loader in your
  &productname; system is to use the &yast; module. In the &yastcc;, select
  <menuchoice> <guimenu>System</guimenu> <guimenu>Boot
  Loader</guimenu></menuchoice>. As in
  <xref
   linkend="fig.grub2.yast.bootloader.config"/>, this shows the current
  boot loader configuration of your system and allows you to make changes.
 </para>

 <figure id="fig.grub2.yast.bootloader.config">
  <title>Boot Loader Settings</title>
  <mediaobject>
   <imageobject role="fo">
    <imagedata fileref="yast2_bootloader.png" width="75%" format="PNG"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="yast2_bootloader.png" width="75%" format="PNG"/>
   </imageobject>
  </mediaobject>
 </figure>
 
 <para>
  Use the <guimenu>Boot Loader Installation</guimenu> tab to view and change
  settings related to type, location and advanced loader settings. To use
  the &grub; boot loader, make sure it is selected from the list of
  available boot loaders.
 </para>

 <sect2 id="sec.grub2.yast2.config.loader">
  <title>Changing Boot Loader Type</title><indexterm>
   <primary>&yast;</primary>
   <secondary>boot loader</secondary>
   <tertiary>type</tertiary></indexterm><indexterm>
    <primary>&yast;</primary>
    <secondary>&grub;</secondary></indexterm>
  <para>
   Set the boot loader type in <guimenu>Boot Loader Installation</guimenu>.
   The default boot loader in &productname; is &grub;. To use GRUB or
   GRUB2-EFI, proceed as follows:
  </para>
  <procedure id="pro.sec.grub2.yast2.config.loader">
   <title>Changing the Boot Loader Type</title>
   <step>
    <para>
     For <guimenu>Boot Loader</guimenu>, select <guimenu>GRUB2</guimenu>,
     <guimenu>GRUB2-EFI</guimenu> or one of the other entries.
    </para>
    <important>
     <para>
      If you have an EFI system you can only install GRUB2-EFI, otherwise your
      system is no longer bootable.
     </para>
    </important>
   </step>
   <step>
    <para>
     In the dialog that opens, select one of the following actions:
    </para>
    <variablelist>
     <varlistentry>
      <term><guimenu>Propose New Configuration</guimenu>
      </term>
      <listitem>
       <para>
        Have &yast; propose a new configuration.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Convert Current Configuration</guimenu>
      </term>
      <listitem>
       <para>
        Have &yast; convert the current configuration. When converting the
        configuration, some settings may be lost.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Start New Configuration from Scratch</guimenu>
      </term>
      <listitem>
       <para>
        Write a custom configuration. This action is not available during
        the installation of &productname;.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Read Configuration Saved on Disk</guimenu>
      </term>
      <listitem>
       <para>
        Load your own boot loader configuration file. This action is
        not available during the installation of &productname;.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </step>
   <step>
    <para>
     Click <guimenu>OK</guimenu> two times to save the changes.
    </para>
   </step>
  </procedure>
  <para>
   During the conversion, the old &grub; configuration is saved to the
   disk. To use it, simply change the boot loader type back to &grub; and
   choose <guimenu>Restore Configuration Saved before Conversion</guimenu>.
   This action is available only on an installed system.
  </para>
  <note>
   <title>Custom Boot Loader</title>
   <para>
    To use a boot loader other than the ones listed, select
    <guimenu>Do Not Install Any Boot Loader</guimenu>. Read the documentation
    of your boot loader carefully before choosing this option.
   </para>
  </note>
 </sect2>

 <sect2 id="sec.grub2.yast2.location">
  <title>Modifying the Boot Loader Location</title><indexterm>
  <primary>&yast; </primary>
  <secondary>boot loader</secondary>
  <tertiary>location</tertiary></indexterm>
  <para>
   To modify the location of the boot loader, follow these steps:
  </para>
  <procedure id="pro.sec.grub2.yast2.location">
   <title>Changing the Boot Loader Location</title>
   <step>
    <para>
     Select the <guimenu>Boot Loader Installation</guimenu> menu and then
     choose one of the following options for <guimenu>Boot Loader
     Location</guimenu>:
    </para>
    <variablelist>
     <varlistentry>
      <term><guimenu>Boot from Master Boot Record</guimenu>
      </term>
      <listitem>
       <para>
        This installs the boot loader in the MBR of the first disk
        (according to the boot sequence preset in the BIOS).
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Boot from Root Partition</guimenu>
      </term>
      <listitem>
       <para>
        This installs the boot loader in the boot sector of the
        <filename>/</filename> partition (this is the default).
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Boot from Boot Partition</guimenu>
      </term>
      <listitem>
       <para>
        This installs the boot loader in the boot sector of the
        <filename>/boot</filename> partition.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Boot from Extended Partition</guimenu>
      </term>
      <listitem>
       <para>
        This installs the boot loader in the extended partition container.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Custom Boot Partition</guimenu>
      </term>
      <listitem>
       <para>
        Use this option to specify the location of the boot loader manually.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </step>
   <step>
    <para>
     Click <guimenu>OK</guimenu> to apply your changes.
    </para>
   </step>
  </procedure>
 </sect2>

 <sect2 id="sec.grub2.yast2.config.order">
  <title>Adjusting the Disk Order</title><indexterm>
  <primary>&yast;</primary>
  <secondary>boot loader</secondary>
  <tertiary>disk order</tertiary></indexterm>
  <para>
   If your computer has more than one hard disk, you can specify the boot
   sequence of the disks. For more information look
   at <xref linkend="sec.grub2.map"/>.
  </para>
  <procedure id="pro.sec.grub2.yast2.config.order">
   <title>Setting the Disk Order</title>
   <step>
    <para>
     Open the <guimenu>Boot Loader Installation</guimenu> menu.
    </para>
   </step>
   <step>
    <para>
     Click <guimenu>Boot Loader Installation Details</guimenu>.
    </para>
   </step>
   <step>
    <para>
     If more than one disk is listed, select a disk and click
     <guimenu>Up</guimenu> or <guimenu>Down</guimenu> to reorder the
     displayed disks.
    </para>
   </step>
   <step>
    <para>
     Click <guimenu>OK</guimenu> two times to save the changes.
    </para>
   </step>
  </procedure>
 </sect2>

 <sect2 id="sec.grub2.yast2.config.advanced">
  <title>Configuring Advanced Options</title><indexterm>
  <primary>&yast;</primary>
  <secondary>boot configuration</secondary>
  <tertiary>advanced</tertiary></indexterm>
  <para>
   Advanced boot options can be configured via <menuchoice><guimenu>Boot
   Loader Installation</guimenu> <guimenu>Boot Loader Options</guimenu></menuchoice>.
  </para>
  
  <sect3 id="sec.grub2.yast2.config.advanced.tab1">
   <title>Tab 1: <guimenu>Boot Loader Options</guimenu></title>
   <figure id="fig.grub2.yast.bootloader.options">
    <title>Boot loader Options</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2_bootloader_options.png" width="75%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2_bootloader_options.png" width="75%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <variablelist>
    <varlistentry>
     <term><guimenu>Boot Loader Time-Out</guimenu></term>
     <listitem>
      <para>
       Change the value of <guimenu>Time-Out in Seconds</guimenu> by typing in
       a new value and clicking the appropriate arrow key with your mouse.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Probe Foreign OS</guimenu></term>
     <listitem>
      <para>
       When selected, the boot loader searches for other systems like Windows or
       other Linux installations.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Hide Menu on Boot</guimenu>
     </term>
     <listitem>
      <para>
       Hides the boot menu and boots the default entry.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Adjusting the Default Boot Entry</guimenu>
     </term>
     <listitem>
      <para>
       Select the desired entry from the <quote>Default Boot Section</quote>
       list. Note that the <quote>></quote> sign in the boot entry name delimits
       the boot section and its subsection.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry id="vle.grub2.yast2.boot.password">
     <term><guimenu>Protect Boot Loader with Password</guimenu></term>
     <listitem>
      <para>
       Protects the boot loader and the system with an additional password. For
       more details see <xref linkend="sec.grub2.password"/>.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>  
  </sect3>
  
  <sect3 id="sec.grub2.yast2.config.advanced.tab2">
   <title>Tab 2: <guimenu>Kernel Parameters</guimenu></title>
   <figure id="fig.grub2.yast.kernel.parameters">
    <title>Kernel Parameters</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2_bootloader_kernel_parameters.png" width="75%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2_bootloader_kernel_parameters.png" width="75%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <variablelist>
    <varlistentry>
     <term><guimenu>VGA Mode</guimenu></term>
     <listitem>
      <para>
       The VGA Mode option specifies the default screen resolution during the
       boot process. 
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Kernel Command Line Parameter</guimenu></term>
     <listitem>
      <para>
       The Kernel Parameters are added at the end of the default parameters.
       Optional Parameters are only added to the normal kernel and the fail-safe
       parameters are added only added to the fail-safe or recovery kernel. For a
       list of all possible parameters, see
       <ulink url="https://en.opensuse.org/Linuxrc"/>.
      </para>
     </listitem>
    </varlistentry>    
    <varlistentry>
     <term><guimenu>Use graphical console</guimenu>
     </term>
     <listitem>
      <para>
       When checked, the boot menu appears on a graphical splash screen
       rather than in a text mode. The resolution of the boot screen can be
       then set from the <guimenu>Console resolution</guimenu> list, and
       graphical theme definition file can be specified with the
       <guimenu>Console theme</guimenu> file-chooser.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Use Serial Console</guimenu>
     </term>
     <listitem>
      <para>
       If your machine is controlled via a serial console, activate this
       option and specify which COM port to use at which speed. See
       <command>info grub</command> or
       <ulink
        url="http://www.gnu.org/software/grub/manual/grub.html#Serial-terminal"/>
      </para>
     </listitem>
    </varlistentry>
   </variablelist>  
  </sect3>
  
  <sect3 id="sec.grub2.yast2.config.advanced.tab3">
   <title>Tab 3: <guimenu>Boot Code Options</guimenu></title>
   <figure id="fig.grub2.yast.boot.code.options">
    <title>Kernel Parameters</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2_bootloader_boot_code.png" width="75%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2_bootloader_boot_code.png" width="75%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <variablelist>
    <varlistentry>
     <term><guimenu>Set Active Flag in Partition Table for Boot
      Partition</guimenu>
     </term>
     <listitem>
      <para>
       Activates the partition that contains the boot loader. Some legacy
       operating systems (such as Windows) can only boot from an active
       partition.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Write Generic Boot Code to MBR</guimenu>
     </term>
     <listitem>
      <para>
       Replaces the current MBR with generic, operating system independent
       code.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>  
  </sect3>
  
 </sect2>
 
</sect1>
