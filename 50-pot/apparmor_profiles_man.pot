msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2018-08-18 23:28+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Put one translator per line, in the form NAME <EMAIL>, YEAR1, YEAR2
msgctxt "_"
msgid "translator-credits"
msgstr ""

#. (itstool) path: chapter/title
#: xml/apparmor_profiles_man.xml:9
msgid "Building Profiles from the Command Line"
msgstr ""

#. (itstool) path: chapter/para
#: xml/apparmor_profiles_man.xml:16
msgid "<phrase>AppArmor®</phrase> provides the user the ability to use a command line interface rather than a graphical interface to manage and configure the system security. Track the status of <phrase>AppArmor</phrase> and create, delete, or modify <phrase>AppArmor</phrase> profiles using the <phrase>AppArmor</phrase> command line tools."
msgstr ""

#. (itstool) path: tip/title
#: xml/apparmor_profiles_man.xml:23
msgid "Background Information"
msgstr ""

#. (itstool) path: tip/para
#: xml/apparmor_profiles_man.xml:24
msgid "Before starting to manage your profiles using the <phrase>AppArmor</phrase> command line tools, check out the general introduction to <phrase>AppArmor</phrase> given in <xref linkend=\"cha.apparmor.concept\"/> and <xref linkend=\"cha.apparmor.profiles\"/>."
msgstr ""

#. (itstool) path: sect1/title
#: xml/apparmor_profiles_man.xml:32
msgid "Checking the <phrase>AppArmor</phrase> Status"
msgstr ""

#. (itstool) path: sect1/para
#: xml/apparmor_profiles_man.xml:34
msgid "<phrase>AppArmor</phrase> can be in any one of three states:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:40
msgid "Unloaded"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:42
msgid "<phrase>AppArmor</phrase> is not activated in the kernel."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:48
msgid "Running"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:50
msgid "<phrase>AppArmor</phrase> is activated in the kernel and is enforcing <phrase>AppArmor</phrase> program policies."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:57
msgid "Stopped"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:59
msgid "<phrase>AppArmor</phrase> is activated in the kernel, but no policies are enforced."
msgstr ""

#. (itstool) path: sect1/para
#: xml/apparmor_profiles_man.xml:66
msgid "Detect the state of <phrase>AppArmor</phrase> by inspecting <filename>/sys/kernel/security/apparmor/profiles</filename>. If <command>cat /sys/kernel/security/apparmor/profiles</command> reports a list of profiles, <phrase>AppArmor</phrase> is running. If it is empty and returns nothing, <phrase>AppArmor</phrase> is stopped. If the file does not exist, <phrase>AppArmor</phrase> is unloaded."
msgstr ""

#. (itstool) path: sect1/para
#: xml/apparmor_profiles_man.xml:74
msgid "Manage <phrase>AppArmor</phrase> with <command>systemctl</command>. It lets you perform the following operations:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:81
msgid "<command>sudo systemctl start apparmor</command>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:84
msgid "Behavior depends on the state of <phrase>AppArmor</phrase>. If it is not activated, <option>start</option> activates and starts it, putting it in the running state. If it is stopped, <option>start</option> causes the re-scan of <phrase>AppArmor</phrase> profiles usually found in <filename>/etc/apparmor.d</filename> and puts <phrase>AppArmor</phrase> in the running state. If <phrase>AppArmor</phrase> is already running, <option>start</option> reports a warning and takes no action."
msgstr ""

#. (itstool) path: note/title
#: xml/apparmor_profiles_man.xml:94
msgid "Already Running Processes"
msgstr ""

#. (itstool) path: note/para
#: xml/apparmor_profiles_man.xml:95
msgid "Already running processes need to be restarted to apply the <phrase>AppArmor</phrase> profiles on them."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:103
msgid "<command>sudo systemctl stop apparmor</command>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:106
msgid "Stops <phrase>AppArmor</phrase> if it is running by removing all profiles from kernel memory, effectively disabling all access controls, and putting <phrase>AppArmor</phrase> into the stopped state. If the <phrase>AppArmor</phrase> is already stopped, <option>stop</option> tries to unload the profiles again, but nothing happens."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:116
msgid "<command>sudo systemctl reload apparmor</command>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:119
msgid "Causes the <phrase>AppArmor</phrase> module to re-scan the profiles in <filename>/etc/apparmor.d</filename> without unconfining running processes. Freshly created profiles are enforced and recently deleted ones are removed from the <filename>/etc/apparmor.d</filename> directory."
msgstr ""

#. (itstool) path: sect1/title
#: xml/apparmor_profiles_man.xml:179
msgid "Building <phrase>AppArmor</phrase> Profiles"
msgstr ""

#. (itstool) path: sect1/para
#: xml/apparmor_profiles_man.xml:181
msgid "The <phrase>AppArmor</phrase> module profile definitions are stored in the <filename>/etc/apparmor.d</filename> directory as plain text files. For a detailed description of the syntax of these files, refer to <xref linkend=\"cha.apparmor.profiles\"/>."
msgstr ""

#. (itstool) path: sect1/para
#: xml/apparmor_profiles_man.xml:188
msgid "All files in the <filename>/etc/apparmor.d</filename> directory are interpreted as profiles and are loaded as such. Renaming files in that directory is not an effective way of preventing profiles from being loaded. You must remove profiles from this directory to prevent them from being read and evaluated effectively, or call <command>aa-disable</command> on the profile, which will create a symbolic link in <filename>/etc/apparmor.d/disabled/</filename>."
msgstr ""

#. (itstool) path: sect1/para
#: xml/apparmor_profiles_man.xml:198
msgid "You can use a text editor, such as <command>vi</command>, to access and make changes to these profiles. The following sections contain detailed steps for building profiles:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:206
msgid "Adding or Creating <phrase>AppArmor</phrase> Profiles"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:208
msgid "Refer to <xref linkend=\"sec.apparmor.commandline.add\"/>"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:214
msgid "Editing <phrase>AppArmor</phrase> Profiles"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:216
msgid "Refer to <xref linkend=\"sec.apparmor.commandline.edit\"/>"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:222
msgid "Deleting <phrase>AppArmor</phrase> Profiles"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:224
msgid "Refer to <xref xrefstyle=\"SectTitleOnPage\" linkend=\"sec.apparmor.commandline.del\"/>"
msgstr ""

#. (itstool) path: sect1/title
#: xml/apparmor_profiles_man.xml:245
msgid "Adding or Creating an <phrase>AppArmor</phrase> Profile"
msgstr ""

#. (itstool) path: sect1/para
#: xml/apparmor_profiles_man.xml:247
msgid "To add or create an <phrase>AppArmor</phrase> profile for an application, you can use a systemic or stand-alone profiling method, depending on your needs. Learn more about these two approaches in <xref linkend=\"sec.apparmor.commandline.profiling\"/>."
msgstr ""

#. (itstool) path: sect1/title
#: xml/apparmor_profiles_man.xml:255
msgid "Editing an <phrase>AppArmor</phrase> Profile"
msgstr ""

#. (itstool) path: sect1/para
#: xml/apparmor_profiles_man.xml:257
msgid "The following steps describe the procedure for editing an <phrase>AppArmor</phrase> profile:"
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:264
#: xml/apparmor_profiles_man.xml:313
msgid "If you are not currently logged in as <systemitem class=\"username\">root</systemitem>, enter <command>su</command> in a terminal window."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:270
#: xml/apparmor_profiles_man.xml:319
msgid "Enter the <systemitem class=\"username\">root</systemitem> password when prompted."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:275
msgid "Go to the profile directory with <command>cd /etc/apparmor.d/</command>."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:281
msgid "Enter <command>ls</command> to view all profiles currently installed."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:286
msgid "Open the profile to edit in a text editor, such as vim."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:291
msgid "Make the necessary changes, then save the profile."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:296
#: xml/apparmor_profiles_man.xml:342
msgid "Restart <phrase>AppArmor</phrase> by entering <command>systemctl reload apparmor</command> in a terminal window."
msgstr ""

#. (itstool) path: sect1/title
#: xml/apparmor_profiles_man.xml:304
msgid "Deleting an <phrase>AppArmor</phrase> Profile"
msgstr ""

#. (itstool) path: sect1/para
#: xml/apparmor_profiles_man.xml:306
msgid "The following steps describe the procedure for deleting an <phrase>AppArmor</phrase> profile."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:324
msgid "Go to the <phrase>AppArmor</phrase> directory with <command>cd /etc/apparmor.d/</command>."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:330
msgid "Enter <command>ls</command> to view all the <phrase>AppArmor</phrase> profiles that are currently installed."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:336
msgid "Delete the profile with <command>rm</command> <replaceable>PROFILENAME</replaceable>."
msgstr ""

#. (itstool) path: sect1/title
#: xml/apparmor_profiles_man.xml:350
msgid "Two Methods of Profiling"
msgstr ""

#. (itstool) path: sect1/para
#: xml/apparmor_profiles_man.xml:352
msgid "Given the syntax for <phrase>AppArmor</phrase> profiles in <xref xrefstyle=\"SectTitleOnPage\" linkend=\"cha.apparmor.profiles\"/>, you could create profiles without using the tools. However, the effort involved would be substantial. To avoid such a situation, use the <phrase>AppArmor</phrase> tools to automate the creation and refinement of profiles."
msgstr ""

#. (itstool) path: sect1/para
#: xml/apparmor_profiles_man.xml:360
msgid "There are two ways to approach <phrase>AppArmor</phrase> profile creation. Tools are available for both methods."
msgstr ""

#. (itstool) path: varlistentry/term
#. (itstool) path: sect2/title
#: xml/apparmor_profiles_man.xml:367
#: xml/apparmor_profiles_man.xml:418
msgid "Stand-Alone Profiling"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:369
msgid "A method suitable for profiling small applications that have a finite runtime, such as user client applications like mail clients. For more information, refer to <xref linkend=\"sec.apparmor.commandline.profiling.stand-alone\"/>."
msgstr ""

#. (itstool) path: varlistentry/term
#. (itstool) path: sect2/title
#: xml/apparmor_profiles_man.xml:378
#: xml/apparmor_profiles_man.xml:435
msgid "Systemic Profiling"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:380
msgid "A method suitable for profiling many programs at once and for profiling applications that may run for days, weeks, or continuously across reboots, such as network server applications like Web servers and mail servers. For more information, refer to <xref linkend=\"sec.apparmor.commandline.profiling.systemic\"/>."
msgstr ""

#. (itstool) path: sect1/para
#: xml/apparmor_profiles_man.xml:391
msgid "Automated profile development becomes more manageable with the <phrase>AppArmor</phrase> tools:"
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:398
msgid "Decide which profiling method suits your needs."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:403
msgid "Perform a static analysis. Run either <command>aa-genprof</command> or <command>aa-autodep</command>, depending on the profiling method chosen."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:410
msgid "Enable dynamic learning. Activate learning mode for all profiled programs."
msgstr ""

#. (itstool) path: sect2/para
#: xml/apparmor_profiles_man.xml:419
msgid "Stand-alone profile generation and improvement is managed by a program called <command>aa-genprof</command>. This method is easy because <command>aa-genprof</command> takes care of everything, but is limited because it requires <command>aa-genprof</command> to run for the entire duration of the test run of your program (you cannot reboot the machine while you are still developing your profile)."
msgstr ""

#. (itstool) path: sect2/para
#: xml/apparmor_profiles_man.xml:427
msgid "To use <command>aa-genprof</command> for the stand-alone method of profiling, refer to <xref linkend=\"sec.apparmor.commandline.profiling.summary.genprof\"/>."
msgstr ""

#. (itstool) path: sect2/para
#: xml/apparmor_profiles_man.xml:436
msgid "This method is called <emphasis>systemic profiling</emphasis> because it updates all of the profiles on the system at once, rather than focusing on the one or few targeted by <command>aa-genprof</command> or stand-alone profiling. With systemic profiling, profile construction and improvement are somewhat less automated, but more flexible. This method is suitable for profiling long-running applications whose behavior continues after rebooting, or many programs at once."
msgstr ""

#. (itstool) path: sect2/para
#: xml/apparmor_profiles_man.xml:445
msgid "Build an <phrase>AppArmor</phrase> profile for a group of applications as follows:"
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:450
msgid "Create profiles for the individual programs that make up your application."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:454
msgid "Although this approach is systemic, <phrase>AppArmor</phrase> only monitors those programs with profiles and their children. To get <phrase>AppArmor</phrase> to consider a program, you must at least have <command>aa-autodep</command> create an approximate profile for it. To create this approximate profile, refer to <xref linkend=\"sec.apparmor.commandline.profiling.summary.autodep\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:464
msgid "Put relevant profiles into learning or complain mode."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:467
msgid "Activate learning or complain mode for all profiled programs by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/apparmor_profiles_man.xml:471
#, no-wrap
msgid ""
"aa-complain /etc/apparmor.d/*"
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:472
msgid "in a terminal window while logged in as <systemitem class=\"username\">root</systemitem>. This functionality is also available through the YaST Profile Mode module, described in <xref linkend=\"sec.apparmor.yast.manage.profmodes\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:478
msgid "When in learning mode, access requests are not blocked, even if the profile dictates that they should be. This enables you to run through several tests (as shown in <xref linkend=\"st.apparmor.commandline.profiling.systemic.exec\"/>) and learn the access needs of the program so it runs properly. With this information, you can decide how secure to make the profile."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:486
msgid "Refer to <xref linkend=\"sec.apparmor.commandline.profiling.summary.complain\"/> for more detailed instructions for using learning or complain mode."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:493
msgid "Exercise your application."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:496
msgid "Run your application and exercise its functionality. How much to exercise the program is up to you, but you need the program to access each file representing its access needs. Because the execution is not being supervised by <command>aa-genprof</command>, this step can go on for days or weeks and can span complete system reboots."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:505
msgid "Analyze the log."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:508
msgid "In systemic profiling, run <command>aa-logprof</command> directly instead of letting <command>aa-genprof</command> run it (as in stand-alone profiling). The general form of <command>aa-logprof</command> is:"
msgstr ""

#. (itstool) path: step/screen
#: xml/apparmor_profiles_man.xml:514
#, no-wrap
msgid ""
"aa-logprof [ -d <replaceable>/path/to/profiles</replaceable> ] [ -f <replaceable>/path/to/logfile</replaceable> ]"
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:515
msgid "Refer to <xref linkend=\"sec.apparmor.commandline.profiling.summary.logprof\"/> for more information about using <command>aa-logprof</command>."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:522
msgid "Repeat <xref linkend=\"st.apparmor.commandline.profiling.systemic.exec\"/> and <xref linkend=\"st.apparmor.commandline.profiling.systemic.log\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:527
msgid "This generates optimal profiles. An iterative approach captures smaller data sets that can be trained and reloaded into the policy engine. Subsequent iterations generate fewer messages and run faster."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:534
msgid "Edit the profiles."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:537
msgid "You should review the profiles that have been generated. You can open and edit the profiles in <filename>/etc/apparmor.d/</filename> using a text editor."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:544
msgid "Return to enforce mode."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:547
msgid "This is when the system goes back to enforcing the rules of the profiles, not only logging information. This can be done manually by removing the <literal>flags=(complain)</literal> text from the profiles or automatically by using the <command>aa-enforce</command> command, which works identically to the <command>aa-complain</command> command, except it sets the profiles to enforce mode. This functionality is also available through the YaST Profile Mode module, described in <xref linkend=\"sec.apparmor.yast.manage.profmodes\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:559
msgid "To ensure that all profiles are taken out of complain mode and put into enforce mode, enter <command>aa-enforce /etc/apparmor.d/*</command>."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:566
msgid "Re-scan all profiles."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:569
msgid "To have <phrase>AppArmor</phrase> re-scan all of the profiles and change the enforcement mode in the kernel, enter <command>systemctl reload apparmor</command>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/apparmor_profiles_man.xml:579
msgid "Summary of Profiling Tools"
msgstr ""

#. (itstool) path: sect2/para
#: xml/apparmor_profiles_man.xml:580
msgid "All of the <phrase>AppArmor</phrase> profiling utilities are provided by the <systemitem>apparmor-utils</systemitem> RPM package and are stored in <filename>/usr/sbin</filename>. Each tool has a different purpose."
msgstr ""

#. (itstool) path: sect3/title
#: xml/apparmor_profiles_man.xml:586
msgid "aa-autodep—Creating Approximate Profiles"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:587
msgid "This creates an approximate profile for the program or application selected. You can generate approximate profiles for binary executables and interpreted script programs. The resulting profile is called <quote>approximate</quote> because it does not necessarily contain all of the profile entries that the program needs to be properly confined by <phrase>AppArmor</phrase>. The minimum <command>aa-autodep</command> approximate profile has, at minimum, a base include directive, which contains basic profile entries needed by most programs. For certain types of programs, <command>aa-autodep</command> generates a more expanded profile. The profile is generated by recursively calling <command>ldd(1)</command> on the executables listed on the command line."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:600
msgid "To generate an approximate profile, use the <command>aa-autodep</command> program. The program argument can be either the simple name of the program, which <command>aa-autodep</command> finds by searching your shell's path variable, or it can be a fully qualified path. The program itself can be of any type (ELF binary, shell script, Perl script, etc.). <command>aa-autodep</command> generates an approximate profile to improve through the dynamic profiling that follows."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:610
msgid "The resulting approximate profile is written to the <filename>/etc/apparmor.d</filename> directory using the <phrase>AppArmor</phrase> profile naming convention of naming the profile after the absolute path of the program, replacing the forward slash (<literal>/</literal>) characters in the path with period (<literal>.</literal>) characters. The general syntax of <command>aa-autodep</command> is to enter the following in a terminal window when logged in as <systemitem class=\"username\">root</systemitem>:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/apparmor_profiles_man.xml:619
#, no-wrap
msgid ""
"aa-autodep [ -d <replaceable>/PATH/TO/PROFILES</replaceable> ] [<replaceable>PROGRAM1</replaceable> <replaceable>PROGRAM2</replaceable>...]"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:620
msgid "If you do not enter the program name or names, you are prompted for them. <replaceable>/path/to/profiles</replaceable> overrides the default location of <filename>/etc/apparmor.d</filename>, should you keep profiles in a location other than the default."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:626
msgid "To begin profiling, you must create profiles for each main executable service that is part of your application (anything that might start without being a child of another program that already has a profile). Finding all such programs depends on the application in question. Here are several strategies for finding such programs:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:635
msgid "Directories"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:637
msgid "If all the programs to profile are in one directory and there are no other programs in that directory, the simple command <command>aa-autodep</command> <replaceable>/path/to/your/programs/*</replaceable> creates basic profiles for all programs in that directory."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:647
msgid "pstree -p"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:649
msgid "You can run your application and use the standard Linux <command>pstree</command> command to find all processes running. Then manually hunt down the location of these programs and run the <command>aa-autodep</command> for each one. If the programs are in your path, <command>aa-autodep</command> finds them for you. If they are not in your path, the standard Linux command <command>find</command> might be helpful in finding your programs. Execute <command>find / -name '</command> <replaceable>MY_APPLICATION</replaceable>' -print to determine an application's path (<replaceable>MY_APPLICATION</replaceable> being an example application). You may use wild cards if appropriate."
msgstr ""

#. (itstool) path: sect3/title
#: xml/apparmor_profiles_man.xml:667
msgid "aa-complain—Entering Complain or Learning Mode"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:668
msgid "The complain or learning mode tool (<command>aa-complain</command>) detects violations of <phrase>AppArmor</phrase> profile rules, such as the profiled program accessing files not permitted by the profile. The violations are permitted, but also logged. To improve the profile, turn complain mode on, run the program through a suite of tests to generate log events that characterize the program's access needs, then postprocess the log with the <phrase>AppArmor</phrase> tools to transform log events into improved profiles."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:678
msgid "Manually activating complain mode (using the command line) adds a flag to the top of the profile so that <literal>/bin/foo</literal> becomes <literal>/bin/foo flags=(complain)</literal>. To use complain mode, open a terminal window and enter one of the following lines as <systemitem class=\"username\">root</systemitem>:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:688
#: xml/apparmor_profiles_man.xml:789
msgid "If the example program (<replaceable>PROGRAM1</replaceable>) is in your path, use:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/apparmor_profiles_man.xml:692
#, no-wrap
msgid ""
"aa-complain [<replaceable>PROGRAM1</replaceable> <replaceable>PROGRAM2</replaceable> ...]"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:695
msgid "If the program is not in your path, specify the entire path as follows:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/apparmor_profiles_man.xml:699
#, no-wrap
msgid ""
"aa-complain /sbin/<replaceable>PROGRAM1</replaceable>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:702
msgid "If the profiles are not in <filename>/etc/apparmor.d</filename>, use the following to override the default location:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/apparmor_profiles_man.xml:706
#, no-wrap
msgid ""
"aa-complain <replaceable>/path/to/profiles/</replaceable><replaceable>PROGRAM1</replaceable>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:709
#: xml/apparmor_profiles_man.xml:811
msgid "Specify the profile for <replaceable>/sbin/program1</replaceable> as follows:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/apparmor_profiles_man.xml:713
#, no-wrap
msgid ""
"aa-complain /etc/apparmor.d/sbin.<replaceable>PROGRAM1</replaceable>"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:716
msgid "Each of the above commands activates the complain mode for the profiles or programs listed. If the program name does not include its entire path, <command>aa-complain</command> searches <envar>$PATH</envar> for the program. For example, <command>aa-complain /usr/sbin/*</command> finds profiles associated with all of the programs in <filename>/usr/sbin</filename> and puts them into complain mode. <command>aa-complain /etc/apparmor.d/*</command> puts all of the profiles in <filename>/etc/apparmor.d</filename> into complain mode."
msgstr ""

#. (itstool) path: tip/title
#: xml/apparmor_profiles_man.xml:727
#: xml/apparmor_profiles_man.xml:834
msgid "Toggling Profile Mode with YaST"
msgstr ""

#. (itstool) path: tip/para
#: xml/apparmor_profiles_man.xml:728
#: xml/apparmor_profiles_man.xml:835
msgid "YaST offers a graphical front-end for toggling complain and enforce mode. See <xref linkend=\"sec.apparmor.yast.manage.profmodes\"/> for information."
msgstr ""

#. (itstool) path: sect3/title
#: xml/apparmor_profiles_man.xml:736
msgid "aa-decode—Decoding Hex-encoded Strings in <phrase>AppArmor</phrase> Log Files"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:737
msgid "<command>aa-decode</command> will decode hex-encoded strings in the <phrase>AppArmor</phrase> log output. It can also process the audit log on standard input, convert any hex-encoded <phrase>AppArmor</phrase> log entries, and display them on standard output."
msgstr ""

#. (itstool) path: sect3/title
#: xml/apparmor_profiles_man.xml:745
msgid "aa-disable—Disabling an <phrase>AppArmor</phrase> Security Profile"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:746
msgid "Use <command>aa-disable</command> to disable the enforcement mode for one or more <phrase>AppArmor</phrase> profiles. This command will unload the profile from the kernel, and prevent the profile from being loaded on <phrase>AppArmor</phrase> start-up. Use <command>aa-enforce</command> or <command>aa-complain</command> utilities to change this behavior."
msgstr ""

#. (itstool) path: sect3/title
#: xml/apparmor_profiles_man.xml:755
msgid "aa-easyprof—Easy Profile Generation"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:756
msgid "<command>aa-easyprof</command> provides an easy-to-use interface for <phrase>AppArmor</phrase> profile generation. <command>aa-easyprof</command> supports the use of templates and profile groups to quickly profile an application. While <command>aa-easyprof</command> can help with profile generation, its utility is dependent on the quality of the templates, profile groups and abstractions used. Also, this tool may create a profile that is less restricted than when creating a profile manually or with <command>aa-genprof</command> and <command>aa-logprof</command>."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:766
msgid "For more information, see the man page of <command>aa-easyprof</command> (8)."
msgstr ""

#. (itstool) path: sect3/title
#: xml/apparmor_profiles_man.xml:772
msgid "aa-enforce—Entering Enforce Mode"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:773
msgid "The enforce mode detects violations of <phrase>AppArmor</phrase> profile rules, such as the profiled program accessing files not permitted by the profile. The violations are logged and not permitted. The default is for enforce mode to be enabled. To log the violations only, but still permit them, use complain mode."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:780
msgid "Manually activating enforce mode (using the command line) removes the complain flag from the top of the profile so that <literal>/bin/foo flags=(complain)</literal> becomes <literal>/bin/foo</literal>. To use enforce mode, open a terminal window and enter one of the following lines as <systemitem class=\"username\">root</systemitem>."
msgstr ""

#. (itstool) path: listitem/screen
#: xml/apparmor_profiles_man.xml:793
#, no-wrap
msgid ""
"aa-enforce [<replaceable>PROGRAM1</replaceable> <replaceable>PROGRAM2</replaceable> ...]"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:796
msgid "If the program is not in your path, specify the entire path, as follows:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/apparmor_profiles_man.xml:800
#, no-wrap
msgid ""
"aa-enforce /sbin/<replaceable>PROGRAM1</replaceable>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:803
msgid "If the profiles are not in <replaceable>/etc/apparmor.d</replaceable>, use the following to override the default location:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/apparmor_profiles_man.xml:808
#, no-wrap
msgid ""
"aa-enforce -d <replaceable>/path/to/profiles/     program1</replaceable>"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/apparmor_profiles_man.xml:815
#, no-wrap
msgid ""
"aa-enforce /etc/apparmor.d/sbin.<replaceable>PROGRAM1</replaceable>"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:818
msgid "Each of the above commands activates the enforce mode for the profiles and programs listed."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:822
msgid "If you do not enter the program or profile names, you are prompted to enter one. <replaceable>/path/to/profiles</replaceable> overrides the default location of <filename>/etc/apparmor.d</filename>."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:827
msgid "The argument can be either a list of programs or a list of profiles. If the program name does not include its entire path, <command>aa-enforce</command> searches <envar>$PATH</envar> for the program."
msgstr ""

#. (itstool) path: sect3/title
#: xml/apparmor_profiles_man.xml:843
msgid "aa-exec—Confining a Program with the Specified Profile"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:844
msgid "Use <command>aa-exec</command> to launch a program confined by a specified profile and/or profile namespace. If both a profile and namespace are specified, the program will be confined by the profile in the new namespace. If only a profile namespace is specified, the profile name of the current confinement will be used. If neither a profile nor namespace is specified, the command will be run using the standard profile attachment—as if you did not use the <command>aa-exec</command> command."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:854
msgid "For more information on the command's options, see its manual page <command>man 8 aa-exec</command>."
msgstr ""

#. (itstool) path: sect3/title
#: xml/apparmor_profiles_man.xml:860
msgid "aa-genprof—Generating Profiles"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:861
msgid "<command>aa-genprof</command> is <phrase>AppArmor</phrase>'s profile generating utility. It runs <command>aa-autodep</command> on the specified program, creating an approximate profile (if a profile does not already exist for it), sets it to complain mode, reloads it into <phrase>AppArmor</phrase>, marks the log, and prompts the user to execute the program and exercise its functionality. Its syntax is as follows:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/apparmor_profiles_man.xml:869
#, no-wrap
msgid ""
"aa-genprof [ -d <replaceable>/path/to/profiles</replaceable> ]  <replaceable>PROGRAM</replaceable>"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:870
msgid "To create a profile for the Apache Web server program httpd2-prefork, do the following as <systemitem class=\"username\">root</systemitem>:"
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:876
msgid "Enter <command>systemctl stop apache2</command>."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:881
msgid "Next, enter <command>aa-genprof httpd2-prefork</command>."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:884
msgid "Now <command>aa-genprof</command> does the following:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:889
msgid "Resolves the full path of httpd2-prefork using your shell's path variables. You can also specify a full path. On <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase>, the default full path is <phrase><filename>/usr/sbin/httpd2-prefork</filename></phrase>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:897
msgid "Checks to see if there is an existing profile for httpd2-prefork. If there is one, it updates it. If not, it creates one using the <command>aa-autodep</command> as described in <xref linkend=\"sec.apparmor.commandline.profiling.summary\"/>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:905
msgid "Puts the profile for this program into learning or complain mode so that profile violations are logged, but are permitted to proceed. A log event looks like this (see <filename>/var/log/audit/audit.log</filename>):"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/apparmor_profiles_man.xml:911
#, no-wrap
msgid ""
"type=APPARMOR_ALLOWED msg=audit(1189682639.184:20816): \\\n"
"apparmor=\"DENIED\" operation=\"file_mmap\" parent=2692 \\\n"
"profile=\"/usr/sbin/httpd2-prefork//HANDLING_UNTRUSTED_INPUT\" \\\n"
"name=\"/var/log/apache2/access_log-20140116\" pid=28730 comm=\"httpd2-prefork\" \\\n"
"requested_mask=\"::r\" denied_mask=\"::r\" fsuid=30 ouid=0"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:916
msgid "If you are not running the audit daemon, the <phrase>AppArmor</phrase> events are logged directly to <systemitem class=\"daemon\">systemd</systemitem> journal (see <xref linkend=\"cha.journalctl\"/>):"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/apparmor_profiles_man.xml:921
#, no-wrap
msgid ""
"Sep 13 13:20:30 K23 kernel: audit(1189682430.672:20810): \\\n"
"apparmor=\"DENIED\" operation=\"file_mmap\" parent=2692 \\\n"
"profile=\"/usr/sbin/httpd2-prefork//HANDLING_UNTRUSTED_INPUT\" \\\n"
"name=\"/var/log/apache2/access_log-20140116\" pid=28730 comm=\"httpd2-prefork\" \\\n"
"requested_mask=\"::r\" denied_mask=\"::r\" fsuid=30 ouid=0"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:926
msgid "They also can be viewed using the <command>dmesg</command> command:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/apparmor_profiles_man.xml:929
#, no-wrap
msgid ""
"audit(1189682430.672:20810): apparmor=\"DENIED\" \\\n"
"operation=\"file_mmap\" parent=2692 \\\n"
"profile=\"/usr/sbin/httpd2-prefork//HANDLING_UNTRUSTED_INPUT\" \\\n"
"name=\"/var/log/apache2/access_log-20140116\" pid=28730 comm=\"httpd2-prefork\" \\\n"
"requested_mask=\"::r\" denied_mask=\"::r\" fsuid=30 ouid=0"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:936
msgid "Marks the log with a beginning marker of log events to consider. For example:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/apparmor_profiles_man.xml:940
#, no-wrap
msgid ""
"\n"
"Sep 13 17:48:52 figwit root: GenProf: e2ff78636296f16d0b5301209a04430d"
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:946
msgid "When prompted by the tool, run the application to profile in another terminal window and perform as many of the application functions as possible. Thus, the learning mode can log the files and directories to which the program requires access to function properly. For example, in a new terminal window, enter <command>systemctl start apache2</command>."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:956
msgid "Select from the following options that are available in the <command>aa-genprof</command> terminal window after you have executed the program function:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:963
msgid "<keycap>S</keycap> runs <command>aa-genprof</command> on the system log from where it was marked when <command>aa-genprof</command> was started and reloads the profile. If system events exist in the log, <phrase>AppArmor</phrase> parses the learning mode log files. This generates a series of questions that you must answer to guide <command>aa-genprof</command> in generating the security profile."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:973
msgid "<keycap>F</keycap> exits the tool."
msgstr ""

#. (itstool) path: note/para
#: xml/apparmor_profiles_man.xml:979
msgid "If requests to add hats appear, proceed to <xref linkend=\"cha.apparmor.hat\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:986
msgid "Answer two types of questions:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:991
msgid "A resource is requested by a profiled program that is not in the profile (see <xref linkend=\"ex.apparmor.commandline.profiling.summary.genprof.learn\"/>)."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:998
msgid "A program is executed by the profiled program and the security domain transition has not been defined (see <xref linkend=\"ex.apparmor.commandline.profiling.summary.genprof.perms\"/>)."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:1005
msgid "Each of these categories results in a series of questions that you must answer to add the resource or program to the profile. <xref linkend=\"ex.apparmor.commandline.profiling.summary.genprof.learn\"/> and <xref linkend=\"ex.apparmor.commandline.profiling.summary.genprof.perms\"/> provide examples of each one. Subsequent steps describe your options in answering these questions."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1016
msgid "Dealing with execute accesses is complex. You must decide how to proceed with this entry regarding which execute permission type to grant to this entry:"
msgstr ""

#. (itstool) path: example/title
#: xml/apparmor_profiles_man.xml:1022
msgid "Learning Mode Exception: Controlling Access to Specific Resources"
msgstr ""

#. (itstool) path: example/screen
#: xml/apparmor_profiles_man.xml:1023
#, no-wrap
msgid ""
"Reading log entries from /var/log/audit/audit.log.\n"
"Updating AppArmor profiles in /etc/apparmor.d.\n"
"\n"
"Profile:  /usr/sbin/xinetd\n"
"Program:  xinetd\n"
"Execute:  /usr/lib/cups/daemon/cups-lpd\n"
"Severity: unknown\n"
"\n"
"(I)nherit / (P)rofile / (C)hild / (N)ame / (U)nconfined / (X)ix / (D)eny / Abo(r)t / (F)inish"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1035
msgid "Inherit (ix)"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1037
msgid "The child inherits the parent's profile, running with the same access controls as the parent. This mode is useful when a confined program needs to call another confined program without gaining the permissions of the target's profile or losing the permissions of the current profile. This mode is often used when the child program is a <emphasis>helper application</emphasis>, such as the <command>/usr/bin/mail</command> client using <command>less</command> as a pager."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1050
msgid "Profile (px/Px)"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1052
msgid "The child runs using its own profile, which must be loaded into the kernel. If the profile is not present, attempts to execute the child fail with permission denied. This is most useful if the parent program is invoking a global service, such as DNS lookups or sending mail with your system's MTA."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1059
msgid "Choose the <guimenu>profile with clean exec</guimenu> (Px) option to scrub the environment of environment variables that could modify execution behavior when passed to the child process."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1068
msgid "Child (cx/Cx)"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1070
msgid "Sets up a transition to a subprofile. It is like px/Px transition, except to a child profile."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1074
msgid "Choose the <guimenu>profile with clean exec</guimenu> (Cx) option to scrub the environment of environment variables that could modify execution behavior when passed to the child process."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1083
msgid "Unconfined (ux/Ux)"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1085
msgid "The child runs completely unconfined without any <phrase>AppArmor</phrase> profile applied to the executed resource."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1089
msgid "Choose the <guimenu>unconfined with clean exec</guimenu> (Ux) option to scrub the environment of environment variables that could modify execution behavior when passed to the child process. Note that running unconfined profiles introduces a security vulnerability that could be used to evade <phrase>AppArmor</phrase>. Only use it as a last resort."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1100
msgid "mmap (m)"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1102
msgid "This permission denotes that the program running under the profile can access the resource using the mmap system call with the flag <envar>PROT_EXEC</envar>. This means that the data mapped in it can be executed. You are prompted to include this permission if it is requested during a profiling run."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1112
#: xml/apparmor_profiles_man.xml:1252
#: xml/apparmor_profiles_man.xml:1549
msgid "Deny"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1114
msgid "Adds a <literal>deny</literal> rule to the profile, and permanently prevents the program from accessing the specified directory path entries. <phrase>AppArmor</phrase> then continues to the next event."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1123
#: xml/apparmor_profiles_man.xml:1302
#: xml/apparmor_profiles_man.xml:1599
msgid "Abort"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1125
#: xml/apparmor_profiles_man.xml:1304
#: xml/apparmor_profiles_man.xml:1601
msgid "Aborts <command>aa-logprof</command>, losing all rule changes entered so far and leaving all profiles unmodified."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1132
#: xml/apparmor_profiles_man.xml:1311
#: xml/apparmor_profiles_man.xml:1608
msgid "Finish"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1134
#: xml/apparmor_profiles_man.xml:1313
#: xml/apparmor_profiles_man.xml:1610
msgid "Closes <command>aa-logprof</command>, saving all rule changes entered so far and modifying all profiles."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1143
msgid "<xref linkend=\"ex.apparmor.commandline.profiling.summary.genprof.perms\"/> shows <phrase>AppArmor</phrase> suggest allowing a globbing pattern <filename>/var/run/nscd/*</filename> for reading, then using an abstraction to cover common Apache-related access rules."
msgstr ""

#. (itstool) path: example/title
#: xml/apparmor_profiles_man.xml:1150
msgid "Learning Mode Exception: Defining Permissions for an Entry"
msgstr ""

#. (itstool) path: example/screen
#: xml/apparmor_profiles_man.xml:1151
#, no-wrap
msgid ""
"Profile:  /usr/sbin/httpd2-prefork\n"
"Path:     /var/run/nscd/dbSz9CTr\n"
"Mode:     r\n"
"Severity: 3\n"
"\n"
"  1 - /var/run/nscd/dbSz9CTr\n"
" [2 - /var/run/nscd/*]\n"
"\n"
"(A)llow / [(D)eny] / (G)lob / Glob w/(E)xt / (N)ew / Abo(r)t / (F)inish / (O)pts\n"
"Adding /var/run/nscd/* r to profile.\n"
"\n"
"Profile:  /usr/sbin/httpd2-prefork\n"
"Path:     /proc/11769/attr/current\n"
"Mode:     w\n"
"Severity: 9\n"
"\n"
" [1 - #include &lt;abstractions/apache2-common&gt;]\n"
"  2 - /proc/11769/attr/current\n"
"  3 - /proc/*/attr/current\n"
"\n"
"(A)llow / [(D)eny] / (G)lob / Glob w/(E)xt / (N)ew / Abo(r)t / (F)inish / (O)pts\n"
"Adding #include &lt;abstractions/apache2-common&gt; to profile.\n"
""
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1175
msgid "<phrase>AppArmor</phrase> provides one or more paths or includes. By entering the option number, select the desired options then proceed to the next step."
msgstr ""

#. (itstool) path: note/para
#: xml/apparmor_profiles_man.xml:1181
msgid "Not all of these options are always presented in the <phrase>AppArmor</phrase> menu."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1187
msgid "<literal>#include</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1190
msgid "This is the section of an <phrase>AppArmor</phrase> profile that refers to an include file, which procures access permissions for programs. By using an include, you can give the program access to directory paths or files that are also required by other programs. Using includes can reduce the size of a profile. It is good practice to select includes when suggested."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1201
msgid "Globbed Version"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1203
msgid "This is accessed by selecting <guimenu>Glob</guimenu> as described in the next step. For information about globbing syntax, refer to <xref linkend=\"sec.apparmor.profiles.glob\"/>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1211
msgid "Actual Path"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1213
msgid "This is the literal path to which the program needs access so that it can run properly."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1220
msgid "After you select the path or include, process it as an entry into the <phrase>AppArmor</phrase> profile by selecting <guimenu>Allow</guimenu> or <guimenu>Deny</guimenu>. If you are not satisfied with the directory path entry as it is displayed, you can also <guimenu>Glob</guimenu> it."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1227
msgid "The following options are available to process the learning mode entries and build the profile:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1233
#: xml/apparmor_profiles_man.xml:1529
msgid "Select <keycap function=\"enter\"/>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1236
msgid "Allows access to the selected directory path."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1242
#: xml/apparmor_profiles_man.xml:1539
msgid "Allow"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1244
msgid "Allows access to the specified directory path entries. <phrase>AppArmor</phrase> suggests file permission access. For more information, refer to <xref linkend=\"sec.apparmor.profiles.perm\"/>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1254
msgid "Prevents the program from accessing the specified directory path entries. <phrase>AppArmor</phrase> then continues to the next event."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1261
#: xml/apparmor_profiles_man.xml:1558
msgid "New"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1263
msgid "Prompts you to enter your own rule for this event, allowing you to specify a regular expression. If the expression does not actually satisfy the event that prompted the question in the first place, <phrase>AppArmor</phrase> asks for confirmation and lets you reenter the expression."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1273
#: xml/apparmor_profiles_man.xml:1570
msgid "Glob"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1275
msgid "Select a specific path or create a general rule using wild cards that match a broader set of paths. To select any of the offered paths, enter the number that is printed in front of the path then decide how to proceed with the selected item."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1281
#: xml/apparmor_profiles_man.xml:1578
msgid "For more information about globbing syntax, refer to <xref linkend=\"sec.apparmor.profiles.glob\"/>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1288
#: xml/apparmor_profiles_man.xml:1585
msgid "Glob w/Ext"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1290
#: xml/apparmor_profiles_man.xml:1587
msgid "This modifies the original directory path while retaining the file name extension. For example, <filename>/etc/apache2/file.ext</filename> becomes <filename>/etc/apache2/*.ext</filename>, adding the wild card (asterisk) in place of the file name. This allows the program to access all files in the suggested directory that end with the <literal>.ext</literal> extension."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:1324
msgid "To view and edit your profile using <command>vi</command>, enter <command>vi /etc/apparmor.d/</command> <replaceable>PROFILENAME</replaceable> in a terminal window. To enable syntax highlighting when editing an <phrase>AppArmor</phrase> profile in vim, use the commands <command>:syntax on</command> then <command>:set syntax=apparmor</command>. For more information about vim and syntax highlighting, refer to <xref linkend=\"sec.apparmor.commandline.profiling.summary.vim\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:1336
msgid "Restart <phrase>AppArmor</phrase> and reload the profile set including the newly created one using the <command>systemctl reload apparmor</command> command."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1343
msgid "Like the graphical front-end for building <phrase>AppArmor</phrase> profiles, the YaST Add Profile Wizard, <command>aa-genprof</command> also supports the use of the local profile repository under <filename>/etc/apparmor/profiles/extras</filename> and the remote <phrase>AppArmor</phrase> profile repository."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1351
msgid "To use a profile from the local repository, proceed as follows:"
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:1356
msgid "Start <command>aa-genprof</command> as described above."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:1359
msgid "If <command>aa-genprof</command> finds an inactive local profile, the following lines appear on your terminal window:"
msgstr ""

#. (itstool) path: step/screen
#: xml/apparmor_profiles_man.xml:1363
#, no-wrap
msgid ""
"Profile: /usr/bin/opera\n"
"\n"
" [1 - Inactive local profile for /usr/bin/opera]\n"
"\n"
"[(V)iew Profile] / (U)se Profile / (C)reate New Profile / Abo(r)t / (F)inish"
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:1370
msgid "To use this profile, press <keycap>U</keycap> (<guimenu>Use Profile</guimenu>) and follow the profile generation procedure outlined above."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:1375
msgid "To examine the profile before activating it, press <keycap>V</keycap> (<guimenu>View Profile</guimenu>)."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:1379
msgid "To ignore the existing profile, press <keycap>C</keycap> (<guimenu>Create New Profile</guimenu>) and follow the profile generation procedure outlined above to create the profile from scratch."
msgstr ""

#. (itstool) path: step/para
#: xml/apparmor_profiles_man.xml:1387
msgid "Leave <command>aa-genprof</command> by pressing <keycap>F</keycap> (<guimenu>Finish</guimenu>) when you are done and save your changes."
msgstr ""

#. (itstool) path: sect3/title
#: xml/apparmor_profiles_man.xml:1395
msgid "aa-logprof—Scanning the System Log"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1396
msgid "<command>aa-logprof</command> is an interactive tool used to review the complain and enforce mode events found in the log entries in <filename>/var/log/audit/audit.log</filename>, or directly in the <systemitem class=\"daemon\">systemd</systemitem> journal (see <xref linkend=\"cha.journalctl\"/>), and generate new entries in <phrase>AppArmor</phrase> security profiles."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1403
msgid "When you run <command>aa-logprof</command>, it begins to scan the log files produced in complain and enforce mode and, if there are new security events that are not covered by the existing profile set, it gives suggestions for modifying the profile. <command>aa-logprof</command> uses this information to observe program behavior."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1411
msgid "If a confined program forks and executes another program, <command>aa-logprof</command> sees this and asks the user which execution mode should be used when launching the child process. The execution modes <emphasis>ix</emphasis>, <emphasis>px</emphasis>, <emphasis>Px</emphasis>, <emphasis>ux</emphasis>, <emphasis>Ux</emphasis>, <emphasis>cx</emphasis>, <emphasis>Cx</emphasis>, and named profiles, are options for starting the child process. If a separate profile exists for the child process, the default selection is <emphasis>Px</emphasis>. If one does not exist, the profile defaults to <emphasis>ix</emphasis>. Child processes with separate profiles have <command>aa-autodep</command> run on them and are loaded into <phrase>AppArmor</phrase>, if it is running."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1425
msgid "When <command>aa-logprof</command> exits, profiles are updated with the changes. If <phrase>AppArmor</phrase> is active, the updated profiles are reloaded and, if any processes that generated security events are still running in the null-XXXX profiles (unique profiles temporarily created in complain mode), those processes are set to run under their proper profiles."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1432
msgid "To run <command>aa-logprof</command>, enter <command>aa-logprof</command> into a terminal window while logged in as <systemitem class=\"username\">root</systemitem>. The following options can be used for <command>aa-logprof</command>:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1440
msgid "<command>aa-logprof -d</command><replaceable>/path/to/profile/directory/</replaceable>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1443
msgid "Specifies the full path to the location of the profiles if the profiles are not located in the standard directory, <filename>/etc/apparmor.d/</filename>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1451
msgid "<command>aa-logprof -f</command><replaceable>/path/to/logfile/</replaceable>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1454
msgid "Specifies the full path to the location of the log file if the log file is not located in the default directory or <filename>/var/log/audit/audit.log</filename>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1462
msgid "<command>aa-logprof -m \"string marker in logfile\"</command>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1465
msgid "Marks the starting point for <command>aa-logprof</command> to look in the system log. <command>aa-logprof</command> ignores all events in the system log before the specified mark. If the mark contains spaces, it must be surrounded by quotes to work correctly. For example:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/apparmor_profiles_man.xml:1472
#, no-wrap
msgid ""
"aa-logprof -m \"17:04:21\""
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1473
msgid "or"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/apparmor_profiles_man.xml:1476
#, no-wrap
msgid ""
"aa-logprof -m e2ff78636296f16d0b5301209a04430d"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1480
msgid "<command>aa-logprof</command> scans the log, asking you how to handle each logged event. Each question presents a numbered list of <phrase>AppArmor</phrase> rules that can be added by pressing the number of the item on the list."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1485
msgid "By default, <command>aa-logprof</command> looks for profiles in <filename>/etc/apparmor.d/</filename>. Often running <command>aa-logprof</command> as <systemitem class=\"username\">root</systemitem> is enough to update the profile. However, there might be times when you need to search archived log files, such as if the program exercise period exceeds the log rotation window (when the log file is archived and a new log file is started). If this is the case, you can enter <command>zcat -f `ls -1tr</command> <replaceable>/path/to/logfile*</replaceable>` | aa-logprof -f -."
msgstr ""

#. (itstool) path: sect3/title
#: xml/apparmor_profiles_man.xml:1498
msgid "aa-logprof Example 1"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1499
msgid "The following is an example of how <command>aa-logprof</command> addresses httpd2-prefork accessing the file <filename>/etc/group</filename>. <literal>[]</literal> indicates the default option."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1505
msgid "In this example, the access to <command>/etc/group</command> is part of httpd2-prefork accessing name services. The appropriate response is <literal>1</literal>, which includes a predefined set of <phrase>AppArmor</phrase> rules. Selecting <literal>1</literal> to <literal>#include</literal> the name service package resolves all of the future questions pertaining to DNS lookups and makes the profile less brittle in that any changes to DNS configuration and the associated name service profile package can be made once, rather than needing to revise many profiles."
msgstr ""

#. (itstool) path: sect3/screen
#: xml/apparmor_profiles_man.xml:1515
#, no-wrap
msgid ""
"\n"
"Profile:  /usr/sbin/httpd2-prefork\n"
"Path:     /etc/group\n"
"New Mode: r\n"
"\n"
"[1 - #include &lt;abstractions/nameservice&gt;]\n"
" 2 - /etc/group\n"
"[(A)llow] / (D)eny / (N)ew / (G)lob / Glob w/(E)xt / Abo(r)t / (F)inish\n"
""
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1524
msgid "Select one of the following responses:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1532
msgid "Triggers the default action, which is, in this example, allowing access to the specified directory path entry."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1541
msgid "Allows access to the specified directory path entries. <phrase>AppArmor</phrase> suggests file permission access. For more information about this, refer to <xref linkend=\"sec.apparmor.profiles.perm\"/>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1551
msgid "Permanently prevents the program from accessing the specified directory path entries. <phrase>AppArmor</phrase> then continues to the next event."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1560
msgid "Prompts you to enter your own rule for this event, allowing you to specify whatever form of regular expression you want. If the expression entered does not actually satisfy the event that prompted the question in the first place, <phrase>AppArmor</phrase> asks for confirmation and lets you reenter the expression."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1572
msgid "Select either a specific path or create a general rule using wild cards that matches on a broader set of paths. To select any of the offered paths, enter the number that is printed in front of the paths then decide how to proceed with the selected item."
msgstr ""

#. (itstool) path: sect3/title
#: xml/apparmor_profiles_man.xml:1619
msgid "aa-logprof Example 2"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1620
msgid "For example, when profiling vsftpd, see this question:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/apparmor_profiles_man.xml:1623
#, no-wrap
msgid ""
"Profile:  /usr/sbin/vsftpd\n"
"Path:     /y2k.jpg\n"
"\n"
"New Mode: r\n"
"\n"
"[1 - /y2k.jpg]\n"
"\n"
"(A)llow / [(D)eny] / (N)ew / (G)lob / Glob w/(E)xt / Abo(r)t / (F)inish\n"
""
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1634
msgid "Several items of interest appear in this question. First, note that vsftpd is asking for a path entry at the top of the tree, even though vsftpd on <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase> serves FTP files from <filename>/srv/ftp</filename> by default. This is because vsftpd uses chroot and, for the portion of the code inside the chroot jail, <phrase>AppArmor</phrase> sees file accesses in terms of the chroot environment rather than the global absolute path."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1644
msgid "The second item of interest is that you should grant FTP read access to all JPEG files in the directory, so you could use <guimenu>Glob w/Ext</guimenu> and use the suggested path of <literal>/*.jpg</literal>. Doing so collapses all previous rules granting access to individual <literal>.jpg</literal> files and forestalls any future questions pertaining to access to <filename>.jpg</filename> files."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1653
msgid "Finally, you should grant more general access to FTP files. If you select <guimenu>Glob</guimenu> in the last entry, <command>aa-logprof</command> replaces the suggested path of <filename>/y2k.jpg</filename> with <filename>/*</filename>. Alternatively, you should grant even more access to the entire directory tree, in which case you could use the <guimenu>New</guimenu> path option and enter <literal>/**.jpg</literal> (which would grant access to all <literal>.jpg</literal> files in the entire directory tree) or <filename>/**</filename> (which would grant access to all files in the directory tree)."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1665
msgid "These items deal with read accesses. Write accesses are similar, except that it is good policy to be more conservative in your use of regular expressions for write accesses. Dealing with execute accesses is more complex. Find an example in <xref linkend=\"ex.apparmor.commandline.profiling.summary.genprof.learn\"/>."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1672
msgid "In the following example, the <filename>/usr/bin/mail</filename> mail client is being profiled and <command>aa-logprof</command> has discovered that <command>/usr/bin/mail</command> executes <command>/usr/bin/less</command> as a helper application to <quote>page</quote> long mail messages. Consequently, it presents this prompt:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/apparmor_profiles_man.xml:1680
#, no-wrap
msgid ""
"\n"
"/usr/bin/nail -&gt; /usr/bin/less\n"
"(I)nherit / (P)rofile / (C)hild / (N)ame / (U)nconfined / (X)ix / (D)eny\n"
""
msgstr ""

#. (itstool) path: note/para
#: xml/apparmor_profiles_man.xml:1685
msgid "The actual executable file for <filename>/usr/bin/mail</filename> turns out to be <filename>/usr/bin/nail</filename>, which is not a typographical error."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1691
msgid "The program <filename>/usr/bin/less</filename> appears to be a simple one for scrolling through text that is more than one screen long and that is in fact what <filename>/usr/bin/mail</filename> is using it for. However, <command>less</command> is actually a large and powerful program that uses many other helper applications, such as <command>tar</command> and <command>rpm</command>."
msgstr ""

#. (itstool) path: tip/para
#: xml/apparmor_profiles_man.xml:1700
msgid "Run <command>less</command> on a tar file or an RPM file and it shows you the inventory of these containers."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1705
msgid "You do not want to run <command>rpm</command> automatically when reading mail messages (that leads directly to a Microsoft* Outlook–style virus attack, because RPM has the power to install and modify system programs), so, in this case, the best choice is to use <guimenu>Inherit</guimenu>. This results in the less program executed from this context running under the profile for <filename>/usr/bin/mail</filename>. This has two consequences:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1716
msgid "You need to add all of the basic file accesses for <filename>/usr/bin/less</filename> to the profile for <filename>/usr/bin/mail</filename>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1723
msgid "You can avoid adding the helper applications, such as <command>tar</command> and <command>rpm</command>, to the <filename>/usr/bin/mail</filename> profile so that when <filename>/usr/bin/mail</filename> runs <filename>/usr/bin/less</filename> in this context, the less program is far less dangerous than it would be without <phrase>AppArmor</phrase> protection. Another option is to use the Cx execute modes. For more information on execute modes, see <xref linkend=\"sec.apparmor.profiles.exec\"/>."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1735
msgid "In other circumstances, you might instead want to use the <guimenu>Profile</guimenu> option. This has the following effects on <command>aa-logprof</command>:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1742
msgid "The rule written into the profile uses px/Px, which forces the transition to the child's own profile."
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1748
msgid "<command>aa-logprof</command> constructs a profile for the child and starts building it, in the same way that it built the parent profile, by assigning events for the child process to the child's profile and asking the <command>aa-logprof</command> user questions. The profile will also be applied if you run the child as a stand-alone program."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1757
msgid "If a confined program forks and executes another program, <command>aa-logprof</command> sees this and asks the user which execution mode should be used when launching the child process. The execution modes of inherit, profile, unconfined, child, named profile, or an option to deny the execution are presented."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1764
msgid "If a separate profile exists for the child process, the default selection is profile. If a profile does not exist, the default is inherit. The inherit option, or <literal>ix</literal>, is described in <xref linkend=\"sec.apparmor.profiles.perm\"/>."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1770
msgid "The profile option indicates that the child program should run in its own profile. A secondary question asks whether to sanitize the environment that the child program inherits from the parent. If you choose to sanitize the environment, this places the execution modifier <literal>Px</literal> in your <phrase>AppArmor</phrase> profile. If you select not to sanitize, <literal>px</literal> is placed in the profile and no environment sanitizing occurs. The default for the execution mode is <literal>Px</literal> if you select profile execution mode."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1780
msgid "The unconfined execution mode is not recommended and should only be used in cases where there is no other option to generate a profile for a program reliably. Selecting unconfined opens a warning dialog asking for confirmation of the choice. If you are sure and choose <guimenu>Yes</guimenu>, a second dialog ask whether to sanitize the environment. To use the execution mode <literal>Ux</literal> in your profile, select <guimenu>Yes</guimenu>. To use the execution mode <literal>ux</literal> in your profile instead, select <guimenu>No</guimenu>. The default value selected is <literal>Ux</literal> for unconfined execution mode."
msgstr ""

#. (itstool) path: important/title
#: xml/apparmor_profiles_man.xml:1793
msgid "Running Unconfined"
msgstr ""

#. (itstool) path: important/para
#: xml/apparmor_profiles_man.xml:1794
msgid "Selecting <literal>ux or Ux</literal> is very dangerous and provides no enforcement of policy (from a security perspective) of the resulting execution behavior of the child program."
msgstr ""

#. (itstool) path: sect3/title
#: xml/apparmor_profiles_man.xml:1806
msgid "aa-unconfined—Identifying Unprotected Processes"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1807
msgid "The <command>aa-unconfined</command> command examines open network ports on your system, compares that to the set of profiles loaded on your system, and reports network services that do not have <phrase>AppArmor</phrase> profiles. It requires <systemitem class=\"username\">root</systemitem> privileges and that it not be confined by an <phrase>AppArmor</phrase> profile."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1814
msgid "<command>aa-unconfined</command> must be run as <systemitem class=\"username\">root</systemitem> to retrieve the process executable link from the <filename>/proc</filename> file system. This program is susceptible to the following race conditions:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1822
msgid "An unlinked executable is mishandled"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1828
msgid "A process that dies between <command>netstat(8)</command> and further checks is mishandled"
msgstr ""

#. (itstool) path: note/para
#: xml/apparmor_profiles_man.xml:1835
msgid "This program lists processes using TCP and UDP only. In short, this program is unsuitable for forensics use and is provided only as an aid to profiling all network-accessible processes in the lab."
msgstr ""

#. (itstool) path: sect3/title
#: xml/apparmor_profiles_man.xml:1843
msgid "aa-notify"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1844
msgid "<command>aa-notify</command> is a handy utility that displays <phrase>AppArmor</phrase> notifications in your desktop environment. This is very convenient if you do not want to inspect the <phrase>AppArmor</phrase> log file, but rather let the desktop inform you about events that violate the policy. To enable <phrase>AppArmor</phrase> desktop notifications, run <command>aa-notify</command>:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/apparmor_profiles_man.xml:1851
#, no-wrap
msgid ""
"sudo aa-notify -p -u <replaceable>USERNAME</replaceable> --display <replaceable>DISPLAY_NUMBER</replaceable>"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1852
msgid "where <replaceable>USERNAME</replaceable> is your user name under which you are logged in, and <replaceable>DISPLAY_NUMBER</replaceable> is the X Window display number you are currently using, such as <literal>:0</literal>. The process is run in the background, and shows a notification each time a deny event happens."
msgstr ""

#. (itstool) path: tip/para
#: xml/apparmor_profiles_man.xml:1860
msgid "The active X Window display number is saved in the <literal>$DISPLAY</literal> variable, so you can use <literal>--display $DISPLAY</literal> to avoid finding out the current display number."
msgstr ""

#. (itstool) path: figure/title
#: xml/apparmor_profiles_man.xml:1868
msgid "<command>aa-notify Message in GNOME</command>"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/apparmor_profiles_man.xml:1871
#: xml/apparmor_profiles_man.xml:1874
msgctxt "_"
msgid "external ref='aa-notify.png' md5='__failed__'"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1878
msgid "With the <option>-s <replaceable>DAYS</replaceable></option> option, you can also configure <command>aa-notify</command> to display a summary of notifications for the specified number of past days. For more information on <command>aa-notify</command>, see its man page <command>man 8 aa-notify</command>."
msgstr ""

#. (itstool) path: sect3/title
#: xml/apparmor_profiles_man.xml:1887
msgid "apparmor.vim"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1888
msgid "A syntax highlighting file for the vim text editor highlights various features of an <phrase>AppArmor</phrase> profile with colors. Using vim and the <phrase>AppArmor</phrase> syntax mode for vim, you can see the semantic implications of your profiles with color highlighting. Use vim to view and edit your profile by typing vim at a terminal window."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1895
msgid "To enable the syntax coloring when you edit an <phrase>AppArmor</phrase> profile in vim, use the commands <literal>:syntax on</literal> then <literal>:set syntax=apparmor</literal>. To make sure vim recognizes the edited file type correctly as an <phrase>AppArmor</phrase> profile, add"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/apparmor_profiles_man.xml:1901
#, no-wrap
msgid ""
"# vim:ft=apparmor"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1902
msgid "at the end of the profile."
msgstr ""

#. (itstool) path: tip/para
#: xml/apparmor_profiles_man.xml:1906
msgid "<command>vim</command> comes with <phrase>AppArmor</phrase> highlighting automatically enabled for files in /etc/apparmor.d/."
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1911
msgid "When you enable this feature, vim colors the lines of the profile for you:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1917
msgid "Blue"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1919
msgid "Comments"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1925
msgid "White"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1927
msgid "Ordinary read access lines"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1933
msgid "Brown"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1935
msgid "Capability statements and complain flags"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1941
msgid "Yellow"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1943
msgid "Lines that grant write access"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1949
msgid "Green"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1951
msgid "Lines that grant execute permission (either ix or px)"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1957
msgid "Red"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1959
msgid "Lines that grant unconfined access (ux)"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1965
msgid "Red background"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1967
msgid "Syntax errors that will not load properly into the <phrase>AppArmor</phrase> modules"
msgstr ""

#. (itstool) path: sect3/para
#: xml/apparmor_profiles_man.xml:1973
msgid "Use the <systemitem>apparmor.vim</systemitem> and <systemitem>vim</systemitem> man pages and the <option>:help syntax</option> from within the vim editor for further vim help about syntax highlighting. The <phrase>AppArmor</phrase> syntax is stored in <filename>/usr/share/vim/current/syntax/apparmor.vim.</filename>"
msgstr ""

#. (itstool) path: sect1/title
#: xml/apparmor_profiles_man.xml:1984
msgid "Important File Names and Directories"
msgstr ""

#. (itstool) path: sect1/para
#: xml/apparmor_profiles_man.xml:1986
msgid "The following list contains the most important files and directories used by the <phrase>AppArmor</phrase> framework. If you intend to manage and troubleshoot your profiles manually, make sure that you know about these files and directories:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:1995
msgid "<filename>/sys/kernel/security/apparmor/profiles</filename>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:1998
msgid "Virtualized file representing the currently loaded set of profiles."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:2004
msgid "<filename>/etc/apparmor/</filename>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:2007
msgid "Location of <phrase>AppArmor</phrase> configuration files."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:2013
msgid "<filename>/etc/apparmor/profiles/extras/</filename>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:2016
msgid "A local repository of profiles shipped with <phrase>AppArmor</phrase>, but not enabled by default."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:2023
msgid "<filename>/etc/apparmor.d/</filename>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:2026
msgid "Location of profiles, named with the convention of replacing the <literal>/</literal> in paths with <literal>.</literal> (not for the root <literal>/</literal>) so profiles are easier to manage. For example, the profile for the program <filename>/usr/sbin/ntpd</filename> is named <filename>usr.sbin.ntpd</filename>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:2037
msgid "<filename>/etc/apparmor.d/abstractions/</filename>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:2040
msgid "Location of abstractions."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:2046
msgid "<filename>/etc/apparmor.d/program-chunks/</filename>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:2049
msgid "Location of program chunks."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/apparmor_profiles_man.xml:2055
msgid "<filename>/proc/*/attr/current</filename>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/apparmor_profiles_man.xml:2058
msgid "Check this file to review the confinement status of a process and the profile that is used to confine the process. The <command>ps</command> <option>auxZ</option> command retrieves this information automatically."
msgstr ""

