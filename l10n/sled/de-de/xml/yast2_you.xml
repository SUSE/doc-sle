<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_you.xml" version="5.0" xml:id="cha-onlineupdate-you">
 <title>YaST-Online-Aktualisierung</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  SUSE stellt fortlaufend Sicherheitsaktualisierungen für Ihr Softwareprodukt bereit. Standardmäßig stellt das Miniprogramm für die Aktualisierung sicher, dass Ihr System stets auf dem neuesten Stand ist. Weitere Informationen zu diesem Miniprogramm finden Sie im <xref linkend="sec-updater"/>. Dieses Kapitel behandelt das alternative Tool für die Aktualisierung von Software-Paketen: die YaST-Online-Aktualisierung.
 </para>
 <para>
  Die aktuellen Patches für <phrase role="productname"><phrase os="sled">SUSE® Linux Enterprise Desktop</phrase></phrase> sind über ein Software-Aktualisierungs-Repository verfügbar. <phrase os="sles;sled">Wenn Sie Ihr Produkt während der Installation registriert haben, ist das Aktualisierungs-Repository bereits konfiguriert. Falls Sie <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> noch nicht registriert haben, starten Sie die <guimenu>Produktkonfiguration</guimenu> in YaST.</phrase> Alternativ können Sie ein Aktualisierungs-Repository manuell von einer verbürgten Quelle hinzufügen. Starten Sie zum Hinzufügen oder Entfernen von Repositorys den Repository-Manager über <menuchoice> <guimenu>Software</guimenu>
  <guimenu>Software-Repositorys</guimenu> </menuchoice> in YaST. Weitere Informationen zum Repository Manager finden Sie im <xref linkend="sec-yast-software-instsource"/>.
 </para>
 <note os="sles;sled">
  <title>Fehler beim Zugriff auf den Aktualisierungskatalog</title>
  <para>
   Wenn Sie keinen Zugriff auf den Aktualisierungskatalog erhalten, liegt das eventuell daran, dass Ihr Abo abgelaufen ist. In der Regel umfasst <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> ein einjähriges oder dreijähriges Abo, mit dem Sie Zugriff auf den Aktualisierungskatalog erhalten. Dieser Zugriff wird verweigert, sobald das Abo beendet ist.
  </para>
  <para>
   Falls der Zugriff zum Aktualisierungskatalog verweigert wird, wird eine Warnmeldung angezeigt, mit der Sie aufgefordert werden, das SUSE Customer Center aufzurufen und Ihr Abo zu überprüfen. Das SUSE Customer Center erreichen Sie unter <link xlink:href="https://scc.suse.com//"/>.
  </para>
 </note>
 <note os="sles;sled">
 <title>Firewall-Einstellungen zum Erhalten von Aktualisierungen</title>
 <para>
  Standardmäßig blockiert die Firewall von <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> nur eingehende Verbindungen. Wenn sich Ihr System hinter einer anderen Firewall befindet, die ausgehenden Datenverkehr blockiert, stellen Sie sicher, dass Sie Verbindungen mit <link xlink:href="https://scc.suse.com/"/> und <link xlink:href="https://updates.suse.com"/> über die Ports 80 und 443 zulassen, um Aktualisierungen zu erhalten.
 </para>
</note>
 <para>
  SUSE bietet Aktualisierungen mit verschiedenen Relevanzstufen:
 </para>
 <variablelist>
  <varlistentry>
   <term>Sicherheitsaktualisierungen</term>
   <listitem>
    <para>
     Beseitigen ernsthafte Sicherheitsrisiken und sollten stets installiert werden.
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>Empfohlene Aktualisierungen</term>
   <listitem>
    <para>
     Beseitigen Probleme, die Ihrem Rechner schaden können.
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>Optionale Aktualisierungen</term>
   <listitem>
    <para>
     Beseitigen nicht sicherheitsrelevante Probleme oder bieten Verbesserungen.
    </para>
   </listitem>
  </varlistentry>
 </variablelist>
 <sect1 xml:id="sec-onlineupdate-you-overview">
  <title>Das Dialogfeld „Online-Aktualisierung“</title>

  <para>
   Zum Öffnen des Dialogfelds <guimenu>Online-Aktualisierung</guimenu> starten Sie YaST, und wählen Sie <menuchoice> <guimenu>Software </guimenu> <guimenu>Online-Aktualisierung</guimenu> </menuchoice>. Stattdessen können Sie es auch von der Kommandozeile aus mit dem Kommando <command>yast2 online_update</command> starten.
  </para>

  <para>
   Das Fenster <guimenu>Online-Update</guimenu> ist in vier Abschnitte unterteilt. 
  </para>

  <figure>
   <title>YaST-Online-Aktualisierung</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_you.png" width="75%" os="sles;sled"/>
     
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_you.png" width="75%" os="sles;sled"/>
     
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Unter <guimenu>Zusammenfassung</guimenu> im linken Bereich werden die verfügbaren Patches für <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> aufgeführt. Die Patches werden nach Sicherheitsrelevanz (<literal>Sicherheit</literal>, <literal>Empfohlen</literal> und <literal>Optional</literal>) sortiert. Sie können die Ansicht des Abschnitts <guimenu>Zusammenfassung</guimenu> ändern, indem Sie eine der folgenden Optionen unter <guimenu>Patch-Kategorie anzeigen</guimenu> auswählen:
  </para>

  <variablelist>
   <varlistentry>
    <term><guimenu>Erforderliche Patches</guimenu> (Standardansicht)</term>
    <listitem>
     <para>
      Nicht installierte Patches für Pakete, die auf Ihrem System installiert sind.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Nicht erforderliche Patches</guimenu>
    </term>
    <listitem>
     <para>
      Patches für Pakete, die nicht auf Ihrem System installiert sind, oder Patches, die nicht mehr erforderlich sind (weil die relevanten Pakete bereits von einer anderen Quelle aktualisiert wurden).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Alle Patches</guimenu>
    </term>
    <listitem>
     <para>
      Alle verfügbaren Patches für <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   Jeder Listeneintrag im Abschnitt <guimenu>Zusammenfassung</guimenu> besteht aus einem Symbol und dem Patch-Namen. Eine Übersicht der möglichen Symbole und deren Bedeutung erhalten Sie, wenn Sie die Taste <keycombo> <keycap function="shift"/> <keycap>F1</keycap>
   </keycombo> drücken. Die erforderlichen Aktionen für Patches der Kategorie <literal>Sicherheit</literal> und <literal>Empfohlen</literal> sind automatisch voreingestellt. Möglich sind die Aktionen <guimenu>Automatisch installieren</guimenu>, <guimenu>Automatisch aktualisieren</guimenu> und <guimenu>Automatisch löschen</guimenu>. 
  </para>

  <para>
   Wenn Sie ein aktuelles Paket aus einem anderen als dem Aktualisierungs-Repository installieren, können die Anforderungen eines Patches für dieses Paket mit dieser Installation erfüllt sein. In diesem Fall wird ein Häkchen vor der Patchzusammenfassung angezeigt. Das Patch wird in der Liste angezeigt, bis Sie es für die Installation kennzeichnen. Dadurch wird nicht das Patch installiert (da das Paket bereits aktuell ist), sondern das Patch als installiert gekennzeichnet.
  </para>

  <para>
   Wählen Sie einen Eintrag im Abschnitt <guimenu>Zusammenfassung</guimenu> aus, um eine kurze <guimenu>Patch-Beschreibung</guimenu> unten links im Dialogfeld anzuzeigen. Im Abschnitt oben rechts werden die Pakete aufgeführt, die im ausgewählten Patch enthalten sind (ein Patch kann aus mehreren Paketen bestehen). Klicken Sie im Abschnitt oben rechts auf einen Eintrag, um Details zu dem entsprechenden Paket, das im Patch enthalten ist, anzuzeigen.
  </para>
 </sect1>
 <sect1 xml:id="sec-onlineupdate-you-install">
  <title>Installieren von Patches</title>

  <para>
   Im Dialogfeld der YaST-Online-Aktualisierung können Sie wahlweise alle verfügbaren Patches gleichzeitig installieren oder die gewünschten Patches manuell auswählen. Außerdem können Sie Patches, die auf das System angewendet wurden, zurücksetzen.
  </para>

  <para>
   Standardmäßig sind alle neuen Patches (außer den <literal>optionalen</literal>), die derzeit für Ihr System verfügbar sind, bereits zur Installation markiert. Sie werden automatisch angewendet, sobald Sie auf <guimenu>Übernehmen</guimenu> oder <guimenu>Anwenden</guimenu> klicken. Falls das System bei einem oder mehreren Patches neu gebootet werden muss, werden Sie hierüber informiert, bevor die Patch-Installation beginnt. Sie können dann die Installation der ausgewählten Patches fortsetzen, die Installation aller Patches, für die das System neu gebootet werden muss, überspringen und die restlichen Patches installieren oder auch zur manuellen Patch-Auswahl zurückkehren.
  </para>

  <procedure>
   <title>Anwenden von Patches mit der YaST-Online-Aktualisierung</title>
   <step>
    <para>
     Starten Sie YaST, und wählen Sie <menuchoice> <guimenu>Software</guimenu>
     <guimenu>Online-Aktualisierung</guimenu> </menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Sollen alle neuen Patches (ausgenommen die <literal>optionalen</literal> Patches), die derzeit für Ihr System verfügbar sind, automatisch angewendet werden, klicken Sie auf <guimenu>Anwenden</guimenu> oder <guimenu>Übernehmen</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Ändern Sie zunächst die Auswahl der Patches, die Sie anwenden möchten:
    </para>
    <substeps performance="required">
     <step>
      <para>
       Verwenden Sie die verfügbaren Filter und Ansichten der Schnittstelle. Detaillierte Informationen finden Sie in <xref linkend="sec-onlineupdate-you-overview"/>.
      </para>
     </step>
     <step>
      <para>
       Wählen Sie die Patches gemäß Ihren Anforderungen aus (bzw. heben Sie die Auswahl der Patches wieder auf), und wählen Sie die entsprechende Aktion im Kontextmenü.
      </para>
      <important>
       <title>Anwenden von Sicherheitsaktualisierungen ohne Ausnahme</title>
       <para>
        Heben Sie die Auswahl der <literal>sicherheitsrelevanten</literal> Patches nicht ohne stichhaltigen Grund auf. Diese Patches beseitigen ernsthafte Sicherheitsrisiken und schützen Ihr System vor Angriffen.
       </para>
      </important>
     </step>
     <step>
      <para>
       Die meisten Patches umfassen Aktualisierungen für mehrere Pakete. Wenn Sie Aktionen für einzelne Pakete ändern möchten, klicken Sie mit der rechten Maustaste auf ein Paket in der Paketansicht und wählen Sie eine Aktion.
      </para>
     </step>
     <step>
      <para>
       Bestätigen Sie Ihre Auswahl, und wenden Sie die ausgewählten Patches mit <guimenu>Anwenden</guimenu> oder <guimenu>Übernehmen</guimenu> an.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     Klicken Sie nach abgeschlossener Installation auf <guimenu>Beenden</guimenu>, um das YaST-Dialogfeld <guimenu>Online-Aktualisierung</guimenu> zu verlassen. Ihr System ist nun auf dem neuesten Stand.
    </para>
   </step>
  </procedure>
 </sect1>

 <sect1 xml:id="sec-onlineupdate-retracted-patches">
  <title>Anzeigen von zurückgezogenen Patches</title> 
  
  <para>
    Wartungsaktualisierungen werden gründlich getestet, damit das Risiko, einen Fehler zu verursachen, auf ein Minimum reduziert wird. Wenn ein Patch tatsächlich einen Fehler enthält, wird er automatisch zurückgezogen. Eine neue Aktualisierung (mit höherer Versionsnummer) wird ausgegeben, die den fehlerhaften Patch zurücksetzt und seine neuerliche Installation verhindert. Die zurückgezogenen Patches und den zugehörigen Verlauf finden Sie auf dem Karteireiter <guimenu>Package Classification</guimenu> (Paketklassifikation).
  </para>
  <figure>
   <title>Anzeigen von zurückgezogenen Patches und ihres Verlaufs</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_retracted_patches.png" width="75%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_retracted_patches.png" width="75%"/>
    </imageobject>
   </mediaobject>
  </figure>  
</sect1>

 <sect1 xml:id="sec-onlineupdate-you-automatically">
  <title>Automatische Online-Aktualisierungen</title>

  <para>
   Bei YaST können Sie automatische Aktualisierungen mit täglichem, wöchentlichem oder monatlichem Zeitplan konfigurieren. Installieren Sie das Paket <systemitem class="resource">yast2-online-update-configuration</systemitem>.
  </para>

  <para>
   Standardmäßig werden die Aktualisierungen als Delta-RPMs heruntergeladen. Das Neuaufbauen von RPM-Paketen aus Delta-RPMs bewirkt eine hohe Belastung des Arbeitsspeichers und des Prozessors. Aus Leistungsgründen müssen Sie daher bei bestimmten Einrichtungen oder Hardware-Konfigurationen die Verwendung von Delta-RPMs deaktivieren.
  </para>

  <para>
   Einige Patches, z. B. Kernel-Updates oder Pakete mit Lizenzvereinbarungen, erfordern Benutzerinteraktion, wodurch der automatische Aktualisierungsprozess angehalten würde. Sie können konfigurieren, dass Patches, für die ein Eingreifen des Benutzers erforderlich ist, übersprungen werden sollen.
  </para>
  
  <para>
      Auf dem Karteireiter <guimenu>Patches</guimenu> im YaST-<guimenu>Software</guimenu>-Modul finden Sie die verfügbaren und installierten Patches, einschließlich der Verweise auf Fehlerberichte und CVE-Bulletins.
  </para>

  <procedure>
   <title>Konfigurieren der automatischen Online-Aktualisierung</title>
   <step>
    <para>
     Nach der Installation starten Sie YaST und wählen Sie <menuchoice>
     <guimenu>Software</guimenu> <guimenu>Online-Aktualisierung</guimenu>
     </menuchoice> aus. Wählen Sie <menuchoice><guimenu>Konfiguration</guimenu>
     <guimenu>Online-Aktualisierung</guimenu></menuchoice>. Falls <package>yast2-online-update-configuration</package> nicht installiert ist, werden Sie dazu aufgefordert.
    </para>
      <figure>
   <title>Konfiguration der YaST-Online-Aktualisierung</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_autoupdate.png" width="75%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_autoupdate.png" width="75%"/>
    </imageobject>
   </mediaobject>
  </figure>
    <para>
     Sie können das Modul auch mit dem Kommando <command>yast2 online_update_configuration</command> von der Kommandozeile aus starten.
    </para>
    
   </step>
   <step>
    <para>
     Legen Sie das Aktualisierungsintervall fest: <guimenu>Täglich</guimenu>, <guimenu>Wöchentlich</guimenu> oder <guimenu>Monatlich</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Bei manchen Patches ist möglicherweise das Eingreifen des Administrators erforderlich, beispielsweise wenn wichtige Services neu gestartet werden. Es könnte zum Beispiel eine Aktualisierung für Docker Open Source Engine sein, bei der alle Container neu gestartet werden müssen. Vor der Installation dieser Patches wird der Benutzer über die Konsequenzen informiert und aufgefordert, die Installation des Patchs zu bestätigen. Derartige Patches werden als <quote>Interaktive Patches</quote> bezeichnet.
    </para>
    <para>
     Bei der automatischen Installation von Patches wird angenommen, dass Sie die Installation von interaktiven Patches akzeptiert haben. Wenn Sie diese Patches vor der Installation lieber prüfen möchten, aktivieren Sie das Kontrollkästchen für <guimenu>Interaktive Patches überspringen</guimenu>. In diesem Fall werden interaktive Patches beim automatischen Patching übersprungen. Stellen Sie sicher, dass Sie regelmäßig eine manuelle Online-Aktualisierung ausführen, um zu prüfen, ob interaktive Patches zur Installation bereitstehen.
    </para>
   </step>
   <step>
    <para>
     Damit Lizenzvereinbarungen automatisch akzeptiert werden, aktivieren Sie die Option <guimenu>Lizenzen zustimmen</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Sollen alle Pakete automatisch installiert werden, die durch die aktualisierten Pakete empfohlen werden, aktivieren Sie <guimenu>Empfohlene Pakete einbeziehen</guimenu>.
    </para>
   </step>

   <step>
    <para>
     Soll die Verwendung von Delta-RPMs (aus Leistungsgründen) deaktiviert werden, deaktivieren Sie <guimenu>Delta-RPMs verwenden</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Sollen die Patches nach Kategorie gefiltert werden (z. B. Sicherheits-Patches oder empfohlene Patches), aktivieren Sie das Kontrollkästchen für <guimenu>Nach Kategorie filtern</guimenu>, und fügen Sie die entsprechenden Patch-Kategorien aus der Liste hinzu. Es werden nur Patches aus den ausgewählten Kategorien installiert. Es hat sich bewährt, nur automatische <guimenu>Sicherheit</guimenu>-Aktualisierungen zu aktiveren und alle anderen manuell zu prüfen. Patches sind normalerweise zuverlässig, doch Sie sollten Nicht-Sicherheit-Patches testen und ein Rollback durchführen, wenn dabei Probleme auftreten. 
    </para>
    <itemizedlist>
        <listitem>
            <para>In der Kategorie <guimenu>Paketverwaltung und YaST</guimenu> werden Patches für die Paketverwaltung sowie YaST-Funktionen und -Module zur Verfügung gestellt.
            </para>
        </listitem>
        <listitem>
            <para>Patches der Kategorie <guimenu>Sicherheit</guimenu> enthalten wichtige Aktualisierungen und Fehlerkorrekturen.
            </para>
        </listitem>
        <listitem>
            <para>Patches der Kategorie <guimenu>Empfohlen</guimenu> sind optionale Fehlerkorrekturen und Verbesserungen.
            </para>
        </listitem>
        <listitem>
            <para>Die Kategorie <guimenu>Optional</guimenu> enthält neue Pakete.</para>
        </listitem>
        <listitem>
            <para>Die Kategorie <guimenu>Sonstige</guimenu> entspricht der Kategorie „Verschiedenes“.
                </para>
        </listitem>
        <listitem>
            <para>Die Kategorie <guimenu>Dokument</guimenu> wird nicht genutzt.
            </para>
        </listitem>
    </itemizedlist>            
    
   </step>
   <step>
    <para>
     Bestätigen Sie Ihre Konfiguration durch Klicken auf <guimenu>OK</guimenu>.
    </para>
   </step>
  </procedure>

  <para>
   Die automatische Online-Aktualisierung startet das System im Anschluss nicht automatisch neu. Sind Paketaktualisierungen vorhanden, die einen System-Reboot erfordern, müssen Sie dies manuell durchführen.
  </para>
 </sect1>
</chapter>
