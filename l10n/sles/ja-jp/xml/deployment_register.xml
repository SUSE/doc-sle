<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_register.xml" version="5.0" xml:id="cha-register-sle">
 <title>SUSE Linux Enterpriseの登録とモジュール/拡張機能の管理</title>
 <info>
  <abstract>
   <para>
    テクニカルサポート情報や製品のアップデートを入手するには、SUSEカスタマセンターで<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>を登録してアクティブ化する必要があります。この登録はインストール中に行うことをお勧めします。これにより、最新の更新プログラムとパッチが提供されているシステムをインストールできるようになるからです。ただし、ネットワークに接続していない場合や登録手順を飛ばしたい場合は、後でインストール済みシステムからいつでも登録できます。
   </para>
   <para>
    モジュールおよび拡張機能はシステムに機能を追加し、必要に応じてシステムをカスタマイズすることができます。これらのコンポーネントも登録される必要があり、YaSTまたはコマンドラインツールで管理できます。詳細については、<xref linkend="art-modules"/>を参照してください。
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <note>
  <title>SUSEアカウント</title>
  <para>
   SUSE Customer Centerでの登録にはSUSEアカウントが必要です。SUSEアカウントをまだ作成していない場合は、SUSEのカスタマセンターのホームページ(<link xlink:href="https://scc.suse.com/"/>)でアカウントを作成します。
  </para>
 </note>

 <tip>
  <title>システムの登録解除</title>
  <para>
   すべてのモジュールおよび拡張機能を含むシステムを完全に登録解除するには、コマンドラインツール<command>SUSEConnect</command>を使用します。システムを登録解除すると、登録サーバ上のそのエントリが削除され、モジュール、拡張機能、および製品それ自体のすべてのリポジトリも削除されます。
  </para>
  <screen><prompt>tux &gt; </prompt>sudo SUSEConnect -d</screen>
 </tip>

 <sect1 xml:id="sec-register-sle-installation">
  <title>インストール時の登録</title>
  <para>
   登録する最も簡単で推奨される方法は、インストール時に行う方法です。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>の最新のパッチレベルをインストールできるだけでなく、追加のインストールメディアを提供する必要なくすべてのモジュールおよび拡張機能にアクセスできます。これはインストールするすべてのモジュールまたは拡張機能も該当します。登録プロセスの詳細については、<xref linkend="sec-yast-install-scc-registration"/>を参照してください。
  </para>
  <para>
   システムがインストール時に正常に登録された場合、YaSTはSUSE Customer Centerによって提供されるオンラインリポジトリを追加します。これにより、ローカルインストールソースが使用できなくなった場合に問題が発生するのを防ぎ、常にオンラインリポジトリから最新の更新が取得されるようになります。
  </para>
 </sect1>

 <sect1 os="sles" xml:id="sec-register-sle-ay">
  <title>自動展開時の登録</title>
  <para>
   AutoYaSTを使用してインスタンスを自動的に展開する場合、AutoYaSTの制御ファイルに情報を書き込んで、システムをインストール中に登録することができます。詳細については、<xref linkend="CreateProfile-Register"/>を参照してください。
  </para>
 </sect1>
 <sect1 xml:id="sec-register-sle-system">
  <title>インストールシステムからの登録</title>
  <para>
   インストール中に登録をスキップした場合、またはシステムを再登録したい場合は、YaSTモジュール<guimenu>製品の登録</guimenu>またはコマンドラインツール<command>SUSEConnect</command>を使用して、いつでもシステムを登録できます。
  </para>

  <sect2 xml:id="sec-register-sle-system-yast">
   <title>YaSTでの登録</title>
   <para>
    システムを登録するには、<menuchoice><guimenu>YaST</guimenu>
    <guimenu>ソフトウェア</guimenu> <guimenu>製品の登録</guimenu></menuchoice>に移動します。最初に<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>を登録してから、使用可能にするモジュールおよび拡張機能を選択します。
   </para>

   <important>
    <title>モジュールおよび拡張機能</title>
    <para>
     登録をスキップし、SLE-15-SP1-Packagesメディアからインストールしてシステムをインストールした場合は、すべてのモジュールおよび拡張機能の登録がインストール中に選択されていることを確認します。登録されているモジュールおよび拡張機能のセキュリティアップデートおよびパッチのみ受信されます。
    </para>
   </important>

   <procedure>
    <title>YaSTでの製品の登録</title>
    <step>
     <para>
      <menuchoice><guimenu>YaST</guimenu>
      <guimenu>ソフトウェア</guimenu> <guimenu>製品の登録</guimenu></menuchoice>に移動します。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="sles_yast_register.png" width="75%" format="png"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="sles_yast_register.png" width="100%" format="png"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      各自または各自の組織が登録の管理に使用しているSUSEアカウントに関連付けられた<guimenu/>電子メールアドレスを指定します。また、<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>に添付されている<guimenu>登録コード</guimenu>も入力します。
     </para>
    </step>
    <step>
     <para>
      デフォルトでは、SUSEカスタマセンターにシステムを登録します。これを実現するには次のステップを続行します。
     </para>
     <para>
      組織でローカル登録サーバが提供されている場合は、自動検出されたサーバのリストからいずれかのサーバを選択できます。または、<guimenu>Register System via local SMT Server (ローカルSMTサーバを介してシステムを登録する)</guimenu>にあるURLを指定してください。
     </para>
    </step>
    <step>
     <para>
      <guimenu>次へ</guimenu>を選択して、登録プロセスを開始します。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>は、選択したサーバで登録され、関連するリポジトリがシステムに追加されます。<guimenu>拡張機能とモジュールの選択</guimenu>ダイアログが開きます。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="sles_yast_extensions.png" width="75%" format="png"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="sles_yast_extensions.png" width="100%" format="png"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      システムで使用可能にするすべてのモジュールと拡張機能を選択します。事前に選択されたモジュール(<guimenu>Basesystem Module</guimenu> <phrase os="sles">と<guimenu>Server Applications Module</guimenu></phrase>)を少なくとも選択する必要があります。また、インストール時に追加したすべての追加モジュールまたは拡張機能も選択してください。すべての拡張機能には、有料の追加の登録コードが必要であることに注意してください。<guimenu>次へ</guimenu>で続行します。
     </para>
    </step>
    <step>
     <para>
      選択肢に応じて、ここで1つ以上のライセンス契約を受諾する必要がある場合があります。すべてのコンポーネントが選択したサーバで登録され、関連付けられているリポジトリがシステムに追加されます。
     </para>
    </step>
    <step>
     <para>
      YaSTパッケージインストーラが開いて、各モジュールのリリースパッケージ、またモジュールおよび拡張機能の選択に応じて、追加のパッケージがインストールされます。事前選択されているパッケージはすべて「選択解除しない」<emphasis/>ことを強くお勧めします。ただし、追加のパッケージは選択解除しても構いません。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="sles_yast_extensions_install.png" width="75%" format="png"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="sles_yast_extensions_install.png" width="100%" format="png"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
     <para>
      登録プロセスを終了するには、<guimenu>了解</guimenu>および<guimenu>完了</guimenu>を選択します。
     </para>
    </step>
   </procedure>
   </sect2>

  <sect2 xml:id="sec-register-sle-system-suseconnect">
   <title>SUSEConnectを使用した登録</title>
   <para>
    システムおよびモジュールと拡張機能の登録は、<command>SUSEConnect</command>を使用して、コマンドラインからも可能です。このセクションの範囲を超えた情報については、<command>man 8 SUSEConnect</command>でのインラインドキュメントを参照してください。
   </para>
   <procedure>
    <title>SUSEConnectでの製品の登録</title>
    <step>
     <para>
      SUSE Customer Centeｒで、<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>を登録するには、次のように<command>SUSEConnect</command>を実行します。
     </para>
     <screen><prompt>tux &gt; </prompt>sudo SUSEConnect -r <replaceable>REGISTRATION_CODE</replaceable> -e <replaceable>EMAIL_ADDRESS</replaceable></screen>
     <para>
      ローカル登録サーバで登録するには、さらに次のようにサーバへのURLも入力します。
     </para>
     <screen><prompt>tux &gt; </prompt>sudo SUSEConnect -r <replaceable>REGISTRATION_CODE</replaceable> -e <replaceable>EMAIL_ADDRESS</replaceable> \
--url "https://suse_register.example.com/"</screen>
     <para>
      <replaceable>REGISTRATION_CODE</replaceable>は、<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>と一緒に受け取った登録コードで置き換えます。<replaceable>EMAIL_ADDRESS</replaceable>は、各自または各自の組織が登録の管理に使用しているSUSEアカウントに関連付けられた電子メールアドレスで置き換えます。
     </para>
     <para>
      このプロセスは、<guimenu>Basesystem Module</guimenu>
      <phrase os="sles">と<guimenu>Server Applications Module</guimenu></phrase>を登録し、関連するリポジトリをシステムに追加します。
     </para>
    </step>
    <step>
     <para>
      2つのデフォルトリポジトリを含む<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>がこれで登録されました。追加のモジュールまたは拡張機能を登録する場合は、<xref linkend="sec-register-sle-add-modules"/>で概説されるように進みます。
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-register-sle-add-modules">
  <title>実行中のシステムでのモジュールおよび拡張機能の管理</title>
  <para>
   システムにインストールされ登録された後でも、モジュールおよび拡張機能の追加および削除は依然として可能です。このタスクには、YaSTまたは<command>SUSEConnect</command>のいずれかを使用できます。詳細については、<xref linkend="art-modules"/>を参照してください。
  </para>
  <sect2 xml:id="sec-register-sle-add-modules-yast">
   <title>YaSTを使用したモジュールおよび拡張機能の追加</title>
   <procedure>
    <step>
     <para>
      <menuchoice><guimenu>YaST</guimenu>
      <guimenu>ソフトウェア</guimenu><guimenu>システム拡張/システムモジュールの追加</guimenu></menuchoice> に移動します。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="sles_yast_extensions.png" width="75%" format="png"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="sles_yast_extensions.png" width="100%" format="png"/>
        

       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      モジュールまたは拡張機能を追加するには、インストールするすべてのコンポーネントを選択します。すべての拡張機能には、有料の追加の登録コードが必要であることに注意してください。
     </para>
    </step>
    <step>
     <para>
      すべての追加コンポーネントは登録したサーバで登録され、関連付けられているリポジトリがシステムに追加されます。
     </para>
    </step>
    <step>
     <para>
      YaSTパッケージインストーラが開いて、各モジュールのリリースパッケージ、またモジュールおよび拡張機能の選択に応じて、追加のパッケージがインストールされます。事前選択されているパッケージはすべて「選択解除しない」<emphasis/>ことを強くお勧めします。ただし、追加のパッケージは選択解除しても構いません。
     </para>
     <para>
      プロセスを終了するには、<guimenu>了解</guimenu>および<guimenu>完了</guimenu>を選択します。
     </para>
    </step>
   </procedure>
   <tip>
    <title>モジュールの依存関係</title>
    <para>
     他のパッケージに依存して機能することが可能なソフトウェアパッケージと同様に、モジュールには他のモジュールに対する依存関係がある場合があります。この場合、依存するモジュールは自動的にインストール用に選択されています。
    </para>
   </tip>

  </sect2>

  <sect2 xml:id="sec-register-sle-delete-modules-yast">
   <title>YaSTを使用したモジュールおよび拡張機能の削除</title>
   <procedure>
    <step>
     <para>
      <menuchoice><guimenu>YaST</guimenu>
      <guimenu>ソフトウェア</guimenu> <guimenu>アドオン製品</guimenu></menuchoice>に移動します。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="sles_yast_addon.png" width="75%" format="png"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="sles_yast_addon.png" width="100%" format="png"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      削除するモジュールまたは拡張機能を選択し、<guimenu>削除</guimenu>をクリックします。選択したコンポーネントのすべてのパッケージが削除されるという警告を確認します。
     </para>
    </step>
    <step>
     <para>
      YaSTソフトウェアマネージャが開き、削除されるモジュールまたは拡張機能のすべてのインストール済みパッケージのリストが表示されます。それらすべてを削除するには、<guimenu>了解</guimenu>をクリックします。削除したモジュールまたは拡張機能のパッケージのアップデートは取得されなくなるため、これを実行することを強くお勧めします。パッケージを保持する場合は、削除する各モジュールまたは拡張機能の<literal>*-release</literal>パッケージを削除してください。
     </para>
     <para>
      <guimenu>了解</guimenu>、次に<guimenu>OK</guimenu>で続行します。
     </para>
    </step>
   </procedure>
   <warning>
    <title>モジュールの削除</title>
    <para>
     <guimenu>Basesystem Module</guimenu>は削除しないことに注意してください。<phrase os="sles"><guimenu>Server Applications Module</guimenu></phrase>も削除しないことをお勧めします。
    </para>
   </warning>

   <warning>
    <title>削除したモジュールおよび拡張機能のパッケージのアップデートはありません</title>
    <para>
     削除したモジュールまたは拡張機能のパッケージを保持することを選択する場合は、これらのパッケージのアップデートは受信されなくなります。アップデートにはセキュリティの修正プログラムが含まれるため、当該パッケージを保持することにより、システムへのセキュリティリスクが生じる可能性があります。
    </para>
   </warning>

  </sect2>

  <sect2 xml:id="sec-register-sle-add-modules-cmd">
   <title>SUSEConnectを使用したモジュールおよび拡張機能の追加/削除</title>
   <procedure>
    <step>
     <para>
      使用可能な拡張機能の概要を取得するには、<command>SUSEConnect -list-extensions</command>を実行します。
     </para>
     <screen os="sles"><prompt>tux &gt; </prompt>sudo SUSEConnect -list-extensions
AVAILABLE EXTENSIONS AND MODULES

  Basesystem Module 15 SP1 x86_64 (Installed)
  Deactivate with: SUSEConnect -d -p sle-module-basesystem/15.1/x86_64

    Containers Module 15 SP1 x86_64
    Activate with: SUSEConnect -p sle-module-containers/15.1/x86_64

    Desktop Applications Module 15 SP1 x86_64
    Activate with: SUSEConnect -p sle-module-desktop-applications/15.1/x86_64

      Development Tools Module 15 SP1 x86_64
      Activate with: SUSEConnect -p sle-module-development-tools/15.1/x86_64

      SUSE Linux Enterprise Workstation Extension 15 SP1 x86_64
      Activate with: SUSEConnect -p sle-we/15.1/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

    SUSE Cloud Application Platform Tools Module 15 SP1 x86_64
    Activate with: SUSEConnect -p sle-module-cap-tools/15.1/x86_64

    SUSE Linux Enterprise Live Patching 15 SP1 x86_64
    Activate with:
      SUSEConnect -p sle-module-live-patching/15.1/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

    SUSE Package Hub 15 SP1 x86_64
    Activate with: SUSEConnect -p PackageHub/15.1/x86_64

    Server Applications Module 15 SP1 x86_64 (Installed)
    Deactivate with: SUSEConnect -d -p sle-module-server-applications/15.1/x86_64

      Legacy Module 15 SP1 x86_64
      Activate with: SUSEConnect -p sle-module-legacy/15.1/x86_64

      Public Cloud Module 15 SP1 x86_64
      Activate with: SUSEConnect -p sle-module-public-cloud/15.1/x86_64

      SUSE Enterprise Storage 6 x86_64
      Activate with: SUSEConnect -p ses/6/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

      SUSE Linux Enterprise High Availability Extension 15 SP1 x86_64
      Activate with: SUSEConnect -p sle-ha/15.1/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

      Web and Scripting Module 15 SP1 x86_64
      Activate with: SUSEConnect -p sle-module-web-scripting/15.1/x86_64

MORE INFORMATION

You can find more information about available modules here:
https://www.suse.com/products/server/features/modules.html</screen>


    </step>
    <step>
     <para>
      コンポーネントを追加または削除するには、モジュールまたは拡張機能を有効化/無効化するためのリストにあるコマンドを実行します。拡張機能を追加するには、有料の追加の登録コードが必要であることに注意してください。
     </para>
    </step>
   </procedure>

   <warning>
    <title>モジュールの削除</title>
    <para>
     <guimenu>Basesystem Module</guimenu>は削除しないことに注意してください。<phrase os="sles"><guimenu>Server Applications Module</guimenu></phrase>も削除しないことをお勧めします。
    </para>
   </warning>

   <important>
    <title>パッケージの自動インストール/削除は実行されない</title>
    <para>
     <command>SUSEConnect</command>を使用してモジュールおよび拡張機能を追加または削除する際には、コンポーネントが登録解除され、各リポジトリまたはサービスがシステムから削除されます。パッケージのインストールまたは削除は実行されません。これを自動で実行したい場合は、YaSTを使用して、モジュールおよび拡張機能を追加または削除します。
    </para>
    <para>
     つまり、モジュールまたは拡張機能を追加する際に、デフォルトパッケージまたはパターンの自動インストールは実行されません。コマンドラインでZypperを使用するか、<menuchoice><guimenu>YaST</guimenu> <guimenu>ソフトウェア管理</guimenu></menuchoice>を実行してこれを手動で実行する必要があります。
    </para>
    <para>
     つまり、モジュールまたは拡張機能を削除する際に、自動クリーンアップが実行されません。モジュールまたは拡張機能に属していたすべてのパッケージは、システムにインストールされたまま残りますが、リポジトリに関連付けられなくなるため、アップデートは受信されなくなります。これらのいわゆる<quote>孤立した</quote>パッケージを削除するには、コマンドラインでZypperを使用します。<command>zypper packages --orphaned</command>は、これらのパッケージを一覧表示し、<command>zypper remove</command>は1つ以上のパッケージを削除します。または、<menuchoice><guimenu>YaST</guimenu> <guimenu>ソフトウェア管理</guimenu></menuchoice>を使用して、孤立したパッケージを一覧表示して削除します。
    </para>
   </important>

   <warning>
    <title>削除したモジュールおよび拡張機能のパッケージのアップデートはありません</title>
    <para>
     削除したモジュールまたは拡張機能のパッケージを保持することを選択する場合は、これらのパッケージのアップデートは受信されなくなります。アップデートにはセキュリティの修正プログラムが含まれるため、当該パッケージを保持することにより、システムへのセキュリティリスクが生じる可能性があります。
    </para>
   </warning>

  </sect2>
 </sect1>
</chapter>
