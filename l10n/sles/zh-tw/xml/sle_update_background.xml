<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="sle_update_background.xml" version="5.0" xml:id="cha-upgrade-background">
 <title>生命週期和支援</title>
 <info>
  <abstract>
   <para>
    本章提供有關術語、SUSE 產品生命週期、Service Pack 版本，以及建議的升級規則的背景資訊。
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>是</dm:translation>
  </dm:docmanager>
 </info>
 <sect1 xml:id="sec-upgrade-background-terminology">
  <title>術語</title>

  <para>
   本節使用了一些詞彙。若要理解相關資訊，請參閱下面的定義：
  </para>

  <variablelist>
   <varlistentry xml:id="vle-upgrade-background-term-backporting">
    <term>回移</term>
    <listitem>
     <para>
      回移是指調整較新版軟體中的特定變更並將其套用至較舊版本。最常用的情況是修正舊軟體元件中的安全漏洞。它通常也是維護模型的一部分，用於提供增強功能或 (較少見的) 新功能。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-upgrade-background-term-deltarpm">

    <term>增量 RPM</term>
    <listitem>
     <para>
      增量 RPM 只包括某套件兩個定義版本之間的二進位差異，因此，它的下載大小最小。安裝之前，會在本地機器上重建完整的 RPM 套件。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-upgrade-background-term-downstream">
    <term>下游</term>
    <listitem>
     <para>
      軟體在開放原始碼領域中如何開發的一種比喻說法 (與<emphasis>上游</emphasis>相對)。<emphasis>下游</emphasis>一詞指的是這樣的人員或組織 (如 SUSE)：他們將上游中的源代碼與其他軟體相整合，以建立由終端使用者使用的套裝作業系統。因此，軟體會將下游從其開發者經由整合器流向終端使用者。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-upgrade-background-term-extension">
    <term>延伸</term>
    <term>附加產品</term>
    <listitem>
     <para>
      延伸和協力廠商附加產品為 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 提供了額外的產品功能，提升了產品價值。它們由 SUSE 及 SUSE 的合作夥伴提供，並且在基礎產品 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 之上註冊並進行安裝。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-upgrade-background-term-ltss">
    <term>LTSS</term>
    <listitem>
     <para>
      LTSS 是 Long Term Service Pack Support 的縮寫，它以 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 延伸的形式提供。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-upgrade-background-term-majorrelease">
    <term>主要版本</term>
    <term>正式發行 (GA) 版本</term>
    <listitem>
     <para>
      SUSE Linux Enterprise (或任何軟體產品) 的主要版本是一個新版本，其中會引入新功能和工具、停用先前淘汰的元件，並加入一些不反向相容的變更。例如，SUSE Linux Enterprise 12 或 15 都是主要版本。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-upgrade-background-term-migration">
    <term>移轉</term>
    <listitem>
     <para>
      使用線上更新工具或安裝媒體來安裝相關的修補程式，從而對 Service Pack (SP) 進行更新。它會將已安裝系統的所有套件更新到最新狀態。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-upgrade-background-term-migration-target">
    <term>移轉目標</term>
    <listitem>
     <para>
      系統可移轉到的相容產品集，包含產品/延伸的版本以及儲存庫的 URL。移轉目標隨時會發生變化，並依存於安裝的延伸。可以選取多個移轉目標，例如 SLE 15 SP1 和 SES 6。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-upgrade-background-term-module">
    <term>模組</term>
    <listitem>
     <para>
      模組則全部由 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 支援，生命週期也不同。它們具有明確定義的範圍並僅透過線上通道提供。若要訂閱 SUSE Customer Center、RMT (儲存庫鏡像工具) 或 SUSE Manager，必須先在這些通道中註冊。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-upgrade-background-term-package">

    <term>套件</term>
    <listitem>
     <para>
      套件是採用 <literal>rpm</literal> 格式的壓縮檔案，它包含特定程式的所有檔案，包括組態、範例及文件等選用元件。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-upgrade-background-term-patch">

    <term>修補程式</term>
    <listitem>
     <para>
      修補程式由一或多個套件組成，並可透過增量 RPM 的方式進行套用。它還可能引入對尚未安裝之套件的相依性。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-upgrade-background-term-servicepack">
    <term>Service Pack (SP)</term>
    <listitem>
     <para>
      將多個修補程式合併為一種易於安裝或部署的形式。Service Pack 都指定了編號，通常包含程式的安全性修正、更新、升級或增強。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-upgrade-background-term-upstream">
    <term>上游</term>
    <listitem>
     <para>
      軟體在開放原始碼領域中如何開發的一種比喻說法 (與<emphasis>下游</emphasis>相對)。<emphasis>上游</emphasis>一詞指的是做為源代碼分發之軟體的原始專案、原著者或維護者。回饋、修補程式、功能增強或其他改善從終端使用者或貢獻者流向上游開發者。他們決定是整合還是拒絕申請。
     </para>
     <para>
      如果專案成員決定整合該申請，它將會在更新版本的軟體中體現出來。接受的申請將會讓有關各方均獲益。
     </para>
     <para>
      如果申請不被接受，則可能是出於不同的原因：該申請的狀態不符合專案準則、該申請無效或已整合，或者是不符合專案的利益或藍圖。不被接受的申請使得上游開發者更難處理，因為他們需要讓其修補程式與上游代碼保持同步。一般會避免這種做法，但是有時候仍需要這樣做。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="vle-upgrade-background-term-update">
    <term>更新</term>
    <listitem>
     <para>
      安裝某個套件的較新<emphasis>次要</emphasis>版本，其中通常包含安全修復或錯誤修復。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-upgrade-background-term-upgrade">
    <term>升級</term>
    <listitem>
     <para>
      安裝套件或套裝作業系統的較新<emphasis>主要</emphasis>版本，會引入<emphasis>新功能</emphasis>。如需各升級選項之間的區別資訊，請參閱<xref linkend="sec-upgrade-paths-methods"/>。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec-upgrade-background-life-cycle">
  <title>產品生命週期</title>



  <para>
   SUSE 產品的生命週期如下：
  </para>

  <itemizedlist>
   <listitem>
    <para>
     SUSE Linux Enterprise Server 的生命週期為 13 年：10 年的一般支援以及 3 年的延伸支援。
    </para>
   </listitem>
   <listitem>
    <para>
     SUSE Linux Enterprise Desktop 的生命週期為 10 年：7 年的一般支援以及 3 年的延伸支援。
    </para>
   </listitem>
   <listitem>
    <para>
     主要版本每 4 年發行一次。Service Pack 每 12-14 個月發行一次。
    </para>
   </listitem>
  </itemizedlist>

  <para>
   當新的 Service Pack 發行後，SUSE 會在 6 個月後停止對上一個 Service Pack 的支援。<xref linkend="fig-update-releases-service-packs"/>描述了提到的一些方面。
  </para>

  <figure xml:id="fig-update-releases-service-packs">
   <title>主要版本和 Service Pack</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="new-maintenance-model.svg" width="95%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="new-maintenance-model.png" width="95%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   如果您需要更多時間來設計、驗證和測試您的升級計劃，長期 Service Pack 支援可將您的支援延長 12 到 36 個月 (以 12 個月為單位遞增)。如此，對於任何 Service Pack，您總共可以獲得 2 到 5 年的支援。如需詳細資料，請參閱<xref linkend="fig-update-maintenance-long-term-service-pack"/>。
  </para>

  <figure xml:id="fig-update-maintenance-long-term-service-pack">
   <title>長期 Service Pack 支援</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="new-maintenance-model+ltss.svg" width="95%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="new-maintenance-model+ltss.png" width="95%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   如需詳細資訊，請參閱 <link xlink:href="https://www.suse.com/products/long-term-service-pack-support/"/>。
  </para>
  <para>
   如需生命週期、發行頻率和更迭期支援期限的詳細資訊，請參閱 <link xlink:href="https://www.suse.com/lifecycle"/>。
  </para>
 </sect1>
 <sect1 xml:id="sec-upgrade-background-modules">
  <title>模組相依項和生命週期</title>
  <para>
   如需模組、其相依項和生命週期的清單，請參閱<xref linkend="article-modules"/>。
  </para>
 </sect1>
 <sect1 xml:id="sec-upgrade-background-lifecyclereport">
  <title>產生定期生命週期報告</title>
  <para>
   <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 可定期檢查所有已安裝產品的支援狀態變更，如有變更，則會透過電子郵件傳送報告。若要產生報告，請安裝 <package>zypper-lifecycle-plugin</package>
   (透過 <command>zypper in zypper-lifecycle-plugin</command> 指令)。
  </para>
  <para>
   使用 <command>systemctl</command> 指令在系統上啟用報告產生功能：
  </para>
  <screen><prompt role="root">root # </prompt><command>systemctl</command> enable lifecycle-report</screen>
  <para>
   可使用任何文字編輯器，在 <filename>/etc/sysconfig/lifecycle-report</filename> 檔案中設定報告電子郵件的收件人和標題，以及產生報告的期間。<literal>MAIL_TO</literal> 和 <literal>MAIL_SUBJ</literal> 設定分別定義郵件收件人和標題，而 <literal>DAYS</literal> 則設定產生報告的間隔。
  </para>
  <para>
   報告顯示的是變更發生之後 (而不是之前) 的支援狀態變更。如果變更是在最後一份報告產生之後立即發生的，則您最長可能需要 14 天才會收到變更通知。在設定 <literal>DAYS</literal> 選項時，需考慮到這一點。您可以依據自己的要求變更以下組態項目：
  </para>
  <screen>MAIL_TO='root@localhost'
MAIL_SUBJ='Lifecycle report'
DAYS=14</screen>
  <para>
   最新報告可在檔案 <filename>/var/lib/lifecycle/report</filename> 中獲得。該檔案包含兩個區段。第一段指出所使用產品的支援已結束。第二個區段列出套件以及它們的支援結束日期和更新可用性。
  </para>
 </sect1>
 <sect1 xml:id="sec-upgrade-background-supportlevel">
  <title>支援層級</title>

  <para>
   延伸支援層級從第 10 年開始，到第 13 年結束。這些支援包括延續的 L3 工程層級診斷和反應式重要錯誤修正。具有這些支援層級，您將接收到針對以下弱點的更新：核心中可被輕易利用的 root 弱點，以及其他無需使用者互動即可直接執行的 root 弱點。此外，它們還支援現有的工作負載、軟體堆疊和硬體，其中只對少數套件不提供支援。<xref linkend="tab-security-and-bug-fixes"/> 中提供了綜覽。
  </para>

  <table xml:id="tab-security-and-bug-fixes">
   <title>安全性更新和錯誤修復</title>
   <tgroup cols="6">
    <colspec colname="c1"/>
    <colspec colname="c2"/>
    <colspec colname="c3"/>
    <colspec colname="c4"/>
    <colspec colname="c5"/>
    <colspec colname="c6"/>
    <thead>
     <row>
      <entry/>
      <entry namest="c2" nameend="c4" align="center">
       <para>
        最新 Service Pack (SP) 的一般支援
       </para>
      </entry>
      <entry>
       <para>
        先前 SP (含 LTSS) 的一般支援
       </para>
      </entry>
      <entry>
       <para>
        使用 LTSS 的延長支援
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        特性
       </para>
      </entry>
      <entry>
       <para>
        1-5 年
       </para>
      </entry>
      <entry>
       <para>
        6-7 年
       </para>
      </entry>
      <entry>
       <para>
        8-10 年
       </para>
      </entry>
      <entry>
       <para>
        4-10 年
       </para>
      </entry>
      <entry>
       <para>
        10-13 年
       </para>
      </entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry>
       <para>
        技術服務
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        存取修補程式與修正程式
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        存取文件與知識庫
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        支援現有堆疊與工作負載
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        支援新部署
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        受限制 (根據合作夥伴和客戶要求)
       </para>
      </entry>
      <entry>
       <para>
        受限制 (根據合作夥伴和客戶要求)
       </para>
      </entry>
      <entry>
       <para>
        否
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        改善申請
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        受限制 (根據合作夥伴和客戶要求)
       </para>
      </entry>
      <entry>
       <para>
        受限制 (根據合作夥伴和客戶要求)
       </para>
      </entry>
      <entry>
       <para>
        否
       </para>
      </entry>
      <entry>
       <para>
        否
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        硬體啟用與最佳化
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        受限制 (根據合作夥伴和客戶要求)
       </para>
      </entry>
      <entry>
       <para>
        受限制 (根據合作夥伴和客戶要求)
       </para>
      </entry>
      <entry>
       <para>
        否
       </para>
      </entry>
      <entry>
       <para>
        否
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        透過 SUSE SolidDriver 程式 (先前稱為 PLDP) 進行驅動程式更新
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        受限制 (根據合作夥伴和客戶要求)
       </para>
      </entry>
      <entry>
       <para>
        受限制 (根據合作夥伴和客戶要求)
       </para>
      </entry>
      <entry>
       <para>
        否
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        從最新 SP 向後移植修正程式
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        受限制 (根據合作夥伴和客戶要求)
       </para>
      </entry>
      <entry>
       <para>
        無
       </para>
      </entry>
      <entry>
       <para>
        無
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        安全性更新 <superscript>1</superscript>
       </para>
      </entry>
      <entry>
       <para>
        全部
       </para>
      </entry>
      <entry>
       <para>
        全部
       </para>
      </entry>
      <entry>
       <para>
        全部
       </para>
      </entry>
      <entry>
       <para>
        僅關鍵
       </para>
      </entry>
      <entry>
       <para>
        僅關鍵
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        缺陷解決方法
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        是
       </para>
      </entry>
      <entry>
       <para>
        受限制 (僅限嚴重性層級 1 和 2 的缺陷)
       </para>
      </entry>
      <entry>
       <para>
        受限制 (僅限嚴重性層級 1 和 2 的缺陷)
       </para>
      </entry>
      <entry>
       <para>
        受限制 (僅限嚴重性層級 1 和 2 的缺陷)
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
  <para>
  <superscript>1</superscript> 如需 SUSE Linux Enterprise 更新政策的更多資訊，請參閱下面的<link xlink:href="https://www.suse.com/support/kb/doc/?id=000018318">知識庫文章</link>。
  </para>
 </sect1>

 <sect1 xml:id="sec-upgrade-background-register">
  <title>使用 SUSEConnect 註冊和取消註冊機器</title>
  <para>
   註冊時，系統將從 SUSE Customer Center (參閱 <link xlink:href="https://scc.suse.com/"/>) 或本地註冊代理 (如 SMT) 接收儲存庫。儲存庫名稱會對應到客戶中心中的特定 URI。若要列出系統上所有可用的儲存庫，請按如下方式使用 <command>zypper</command>：
  </para>
<screen><prompt role="root">root # </prompt><command>zypper</command> repos -u</screen>
  <para>
   這會顯示系統上所有可用儲存庫的清單。對於每個儲存庫，都會列出其別名、名稱以及它是否啟用並將重新整理。選項 <option>-u</option> 還會顯示其來源的 URI。
  </para>
  <para>
   若要註冊您的機器，請執行 SUSEConnect，例如：
  </para>
<screen><prompt role="root">root # </prompt><command>SUSEConnect</command> -r <replaceable>REGCODE</replaceable></screen>
  <para>
   若要取消註冊機器，也可以使用 SUSEConnect：
  </para>
<screen><prompt role="root">root # </prompt><command>SUSEConnect</command> --de-register</screen>
  <para>
   若要查看本地安裝的產品及其狀態，請使用以下指令：
  </para>
<screen><prompt role="root">root # </prompt><command>SUSEConnect</command> -s</screen>
 </sect1>
 <sect1 xml:id="sec-upgrade-background-identify-version">
  <title>識別 SLE 版本</title>
  <para>
   如需識別 SLE 安裝的版本，請檢查 <filename>/etc/os-release</filename> 檔案的內容。
  </para>
  <para>
   可以使用 <command>zypper</command> 獲取機器可讀的 XML 輸出：
  </para>
<screen><prompt>tux &gt; </prompt><command>zypper --no-remote --no-refresh --xmlout --non-interactive products -i</command>
&lt;?xml version='1.0'?&gt;
&lt;stream&gt;
&lt;product-list&gt;
&lt;product name="SLES" version="15" release="0" epoch="0" arch="x86_64" vendor="SUSE" summary="SUSE Linux Enterprise Server 15" repo="@System" productline="sles" registerrelease="" shortname="SLES15" flavor="" isbase="true" installed="true"&gt;&lt;endoflife time_t="0" text="0"/&gt;&lt;registerflavor/&gt;&lt;description&gt;SUSE Linux Enterprise offers [...]&lt;/description&gt;&lt;/product&gt;
&lt;/product-list&gt;
&lt;/stream&gt;
</screen>
 </sect1>
</chapter>
