<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_you.xml" version="5.0" xml:id="cha.onlineupdate.you">
 <title>YaST 線上更新</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info><indexterm> <primary>更新</primary><secondary>線上</secondary></indexterm><indexterm><primary>線上更新</primary><secondary>YaST</secondary></indexterm>
 <para>
  SUSE 為您的產品提供持續的軟體安全性更新。依預設，更新 Applet 可以讓您的系統保持最新狀態。如需有關更新 Applet 的詳細資訊，請參閱<xref linkend="sec.updater"/>。本章介紹了用於更新軟體套件的替代工具：YaST 線上更新。
 </para>
 <para>
  可從更新軟體儲存庫中取得適用於 <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> 的最新修補程式。如果在安裝期間已註冊了產品，則表明已設定更新儲存庫。如果您尚未註冊 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>，可在 YaST 中啟動<guimenu>產品註冊</guimenu>。或者，您可以從信任的來源手動新增更新儲存庫。若要新增或移除儲存庫，請透過 YaST 中的<menuchoice><guimenu>軟體</guimenu> <guimenu>軟體儲存庫</guimenu></menuchoice>啟動儲存庫管理員。<xref linkend="sec.y2.sw.instsource"/> 中提供了有關儲存庫管理員的詳細資訊。
 </para>
 <note>
  <title>存取更新目錄時發生錯誤</title>
  <para>
   <remark condition="generic"> 2008-02-29 - fs: Fate #303284 </remark>如果您無法存取更新目錄，原因可能是訂閱已過期。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 通常提供一年或三年的訂閱，您可以在這個時間段內存取更新目錄。訂閱期結束後，對更新目錄的存取將被拒絕。
  </para>
  <para>
   存取更新目錄遭拒絕時，系統會顯示一則警告訊息，建議您造訪 SUSE Customer Center 以查看您的訂閱。SUSE Customer Center 的網址為 <link xlink:href="https://scc.suse.com//"/>。
  </para>
 </note>
 <para>
  SUSE 提供了具有不同關聯層級的更新︰
 </para>
 <variablelist>
  <varlistentry>
   <term>安全性更新</term>
   <listitem>
    <para>
     修復嚴重的安全性問題，必須予以安裝。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>推薦性更新</term>
   <listitem>
    <para>
     修復可能會破壞電腦的問題。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>選擇性更新</term>
   <listitem>
    <para>
     修復與安全性無關的問題或提供增強功能。
    </para>
   </listitem>
  </varlistentry>
 </variablelist>
 <sect1 xml:id="sec.onlineupdate.you.overview">
  <title>線上更新對話方塊</title>

  <para>
   若要開啟 YaST<guimenu>線上更新</guimenu>對話方塊，請啟動 YaST 並選取<menuchoice><guimenu>軟體</guimenu> <guimenu>線上更新</guimenu></menuchoice>。或者，也可以在指令行中使用 <command>yast2 online_update</command> 指令進行啟動。
  </para>

  <para>
   <guimenu>線上更新</guimenu>視窗包含四個區段。
  </para>

  <figure>
   <title>YaST 線上更新</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_you.png" width="75%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_you.png" width="75%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   左側的<guimenu>摘要</guimenu>區段列出了 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 可用的修補程式。修補程式根據安全性關聯程度 (<literal>安全性</literal>、<literal>建議</literal>和<literal>選擇性</literal>) 進行排序。您可以從<guimenu>顯示修補程式類別</guimenu>中選取以下其中一個選項，以變更<guimenu>摘要</guimenu>區段的檢視窗︰
  </para>

  <variablelist>
   <varlistentry>
    <term><guimenu>需要的修補程式</guimenu> (預設檢視窗)</term>
    <listitem>
     <para>
      適用於系統上安裝的套件，但尚未安裝的修補程式。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>不需要的修補程式</guimenu>
    </term>
    <listitem>
     <para>
      適用於系統上未安裝之套件的修補程式，或已滿足其執行要求的修補程式 (相關套件已從其他來源進行更新)。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>所有修補程式</guimenu>
    </term>
    <listitem>
     <para>
      <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的所有可用修補程式。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   <guimenu>摘要</guimenu>區段中的每個清單項目包含一個符號和修補程式名稱。有關可用符號及其含義的綜覽，請按 <keycombo> <keycap function="shift"/> <keycap>F1</keycap> </keycombo>。「<literal>安全性</literal>」和「<literal>建議</literal>」狀態的修補程式所要求的動作已自動預設。這些動作包括<guimenu>自動安裝</guimenu>、<guimenu>自動更新</guimenu>和<guimenu>自動刪除</guimenu>。
  </para>

  <para>
   如果從更新儲存庫以外的其他儲存庫安裝最新的套件，則可以使用此安裝來滿足此套件之修補程式的需求。在此情況下，會有一個核取標記顯示在修補程式摘要的前面。僅當您將修補程式標示為已安裝時，該修補程式才會顯示在清單中。事實上這並沒有安裝修補程式 (因為套件已經是最新的)，而是將修補程式標示為已安裝。
  </para>

  <para>
   在<guimenu>摘要</guimenu>區段中選取一個項目，可在對話方塊的左下角看到簡短的<guimenu>修補程式描述</guimenu>。右上方的區段列出了所選修補程式中包含的套件 (一個修補程式可以包含多個套件)。按一下右上方區段中的項目，可檢視修補程式中包含的各套件的詳細資料。
  </para>
 </sect1>
 <sect1 xml:id="sec.onlineupdate.you.install">
  <title>安裝修補程式</title>

  <para>
   YaST 的「線上更新」對話方塊可讓您一次性安裝所有可用的修補程式，或者手動選取要套用至系統的修補程式。您還可以回復已套用至系統的修補程式。
  </para>

  <para>
   依預設，目前您系統可用的所有新修補程式 (<literal>選擇性</literal>修補程式除外) 均已標示為可供安裝。按一下<guimenu>接受</guimenu>或<guimenu>套用</guimenu>後，這些修補程式將自動套用。如果一或多個修補程式需要將系統重新開機，則在開始安裝修補程式之前，系統會發出相關通知。此時，您可以選擇繼續安裝所選修補程式、跳過需要重新開機之所有修補程式的安裝並安裝剩餘的修補程式，或者返回修補程式手動選擇畫面。
  </para>

  <procedure>
   <title>使用 YaST 線上更新套用修補程式</title>
   <step>
    <para>
     啟動 YaST，然後選取<menuchoice><guimenu>軟體</guimenu> <guimenu>線上更新</guimenu></menuchoice>。
    </para>
   </step>
   <step>
    <para>
     若要自動套用目前您系統可用的所有新修補程式 (<literal>選擇性</literal>修補程式除外)，請接著按<guimenu>套用</guimenu>或<guimenu>接受</guimenu>，開始安裝預先選取的修補程式。
    </para>
   </step>
   <step>
    <para>
     首先修改要套用的修補程式選擇︰
    </para>
    <substeps performance="required">
     <step>
      <para>
       使用介面提供的相應過濾器和檢視窗。如需詳細資訊，請參閱<xref linkend="sec.onlineupdate.you.overview"/>。
      </para>
     </step>
     <step>
      <para>
       根據您的需求和意愿選取或取消選取修補程式，方法是在修補程式上按一下滑鼠右鍵，然後從內容功能表中選擇相應的動作。
      </para>
      <important>
       <title>始終套用安全性更新</title>
       <para>
        除非很有必要，否則請不要取消選取任何<literal>安全性</literal>相關的修補程式。因為這些修補程式負責修復嚴重的安全性問題，可防止您的系統被入侵。
       </para>
      </important>
     </step>
     <step>
      <para>
       大部分的修補程式都會包含多套件的更新。若要變更對單一套件所執行的動作，請在套件檢視窗中的套件上按一下滑鼠右鍵，然後選擇一個動作.
      </para>
     </step>
     <step>
      <para>
       若要確認您的選擇並套用所選修補程式，請按一下<guimenu>套用</guimenu>或<guimenu>接受</guimenu>繼續。
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     安裝完成後，請按一下<guimenu>完成</guimenu>離開 YaST<guimenu>線上更新</guimenu>。您的系統現在已是最新狀態。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.onlineupdate.you.automatically">
  <title>自動線上更新</title>

  <para>
   YaST 還提供有設定每日、每週或每月執行自動更新的選項。若要使用相應的模組，您需要先安裝 <systemitem class="resource">yast2-online-update-configuration</systemitem> 套件。
  </para>

  <para>
   依預設更新將下載為 delta RPM。由於從 delta RPM 重建 RPM 套件是一件消耗記憶體和處理器的任務，出於效能考量，某些設定或硬體組態可能要求您停用 delta RPM。
  </para>

  <para>
   某些修補程式 (例如核心更新或需要授權合約的套件) 需要使用者互動，而這可能會讓自動更新程序停止下來。您可以設定為跳過需要使用者互動的修補程式。
  </para>

  <procedure>
   <title>設定自動線上更新</title>
   <step>
    <para>
     安裝後，啟動 YaST 並選取<menuchoice><guimenu>軟體</guimenu> <guimenu>線上更新組態</guimenu></menuchoice>。
    </para>
    <para>
     您也可以在指令行中使用 <command>yast2 online_update_configuration</command> 指令啟動模組。
    </para>
   </step>
   <step>
    <para>
     啟用<guimenu>自動線上更新</guimenu>。
    </para>
   </step>
   <step>
    <para>
     選擇更新間隔：<guimenu>每日</guimenu>、<guimenu>每週</guimenu>或<guimenu>每月</guimenu>。
    </para>
   </step>
   <step>
    <para>
     若要自動接受所有授權合約，請啟用<guimenu>同意授權</guimenu>。
    </para>
   </step>
   <step>
    <para>
     如果您要更新程序繼續以完全自動化的方式執行，可以選取<guimenu>跳過互動式修補程式</guimenu>。
    </para>
    <important>
     <title>跳過修補程式</title>
     <para>
      如果您選擇跳過需要互動的所有套件，請經常執行手動<guimenu>線上更新</guimenu>，以便這些修補程式也能予以安裝。否則，您可能會錯過部分重要的修補程式。
     </para>
    </important>
   </step>
   <step>
    <para>
     若要自動安裝已更新套件推薦的所有套件，請啟用<guimenu>包含推薦的套件</guimenu>。
    </para>
   </step>

   <step>
    <para>
     若要停用 delta RPM (出於效能方面的考量)，請停用<guimenu>使用 Delta RPM</guimenu>。
    </para>
   </step>
   <step>
    <para>
     若要根據類別 (例如安全性或推薦) 過濾修補程式，請啟用<guimenu>根據類別過濾</guimenu>並新增清單中的相應修補程式類別。系統將會只安裝所選類別的修補程式，跳過其他類別。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>確定</guimenu>確認您的組態。
    </para>
   </step>
  </procedure>

  <para>
   自動線上更新隨後不會自動重新啟動系統。如果套件更新需要重新開機系統才能生效，則您需要手動重新開機。
  </para>
 </sect1>
</chapter>
