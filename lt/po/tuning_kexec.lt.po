msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2018-09-30 01:10+0200\n"
"PO-Revision-Date: 2018-09-30 01:10+0200\n"
"Last-Translator: Automatically generated\n"
"Language-Team: none\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: lt\n"
"Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && (n"
"%100<10 || n%100>=20) ? 1 : 2);\n"

#. Put one translator per line, in the form NAME <EMAIL>, YEAR1, YEAR2
msgctxt "_"
msgid "translator-credits"
msgstr ""

#. (itstool) path: chapter/title
#: xml/tuning_kexec.xml:8
msgid "Kexec and Kdump"
msgstr ""

#. (itstool) path: chapter/para
#: xml/tuning_kexec.xml:15
msgid ""
"Kexec is a tool to boot to another kernel from the currently running one. "
"You can perform faster system reboots without any hardware initialization. "
"You can also prepare the system to boot to another kernel if the system "
"crashes."
msgstr ""

#. (itstool) path: sect1/title
#: xml/tuning_kexec.xml:22
msgid "Introduction"
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:24
msgid ""
"With Kexec, you can replace the running kernel with another one without a "
"hard reboot. The tool is useful for several reasons:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:31
msgid "Faster system rebooting"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:34
msgid ""
"If you need to reboot the system frequently, Kexec can save you significant "
"time."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:40
msgid "Avoiding unreliable firmware and hardware"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:43
msgid ""
"Computer hardware is complex and serious problems may occur during the "
"system start-up. You cannot always replace unreliable hardware immediately. "
"Kexec boots the kernel to a controlled environment with the hardware already "
"initialized. The risk of unsuccessful system start is then minimized."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:52
msgid "Saving the dump of a crashed kernel"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:55
msgid ""
"Kexec preserves the contents of the physical memory. After the "
"<emphasis>production</emphasis> kernel fails, the <emphasis>capture</"
"emphasis> kernel (an additional kernel running in a reserved memory range) "
"saves the state of the failed kernel. The saved image can help you with the "
"subsequent analysis."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:64
msgid "Booting without GRUB 2 configuration"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:67
msgid ""
"When the system boots a kernel with Kexec, it skips the boot loader stage. "
"The normal booting procedure can fail because of an error in the boot loader "
"configuration. With Kexec, you do not depend on a working boot loader "
"configuration."
msgstr ""

#. (itstool) path: sect1/title
#: xml/tuning_kexec.xml:77
msgid "Required Packages"
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:79
msgid ""
"To use Kexec on <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE® "
"Leap</phrase><phrase os=\"sles\">SUSE® Linux Enterprise Server</"
"phrase><phrase os=\"sled\">SUSE® Linux Enterprise Desktop</phrase></phrase> "
"to speed up reboots or avoid potential hardware problems, make sure that the "
"package <systemitem>kexec-tools</systemitem> is installed. It contains a "
"script called <command>kexec-bootloader</command>, which reads the boot "
"loader configuration and runs Kexec using the same kernel options as the "
"normal boot loader."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:98
msgid ""
"To set up an environment that helps you obtain debug information in case of "
"a kernel crash, make sure that the package <systemitem>makedumpfile</"
"systemitem> is installed."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:104
msgid ""
"The preferred method of using Kdump in <phrase role=\"productname\"><phrase "
"os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise "
"Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase></"
"phrase> is through the YaST Kdump module. To use the YaST module, make sure "
"that the package <literal>yast2-kdump</literal> is installed."
msgstr ""

#. (itstool) path: sect1/title
#: xml/tuning_kexec.xml:112
msgid "Kexec Internals"
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:114
msgid ""
"The most important component of Kexec is the <filename>/sbin/kexec</"
"filename> command. You can load a kernel with Kexec in two different ways:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:122
msgid ""
"Load the kernel to the address space of a production kernel for a regular "
"reboot:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:126
#, no-wrap
msgid "<prompt role=\"root\">root # </prompt><command>kexec</command> <option>-l</option> <replaceable>KERNEL_IMAGE</replaceable>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:127
msgid ""
"You can later boot to this kernel with <command>kexec</command> <option>-e</"
"option>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:133
msgid "Load the kernel to a reserved area of memory:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:136
#, no-wrap
msgid "<prompt role=\"root\">root # </prompt><command>kexec</command> <option>-p</option> <replaceable>KERNEL_IMAGE</replaceable>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:137
msgid "This kernel will be booted automatically when the system crashes."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:143
msgid ""
"If you want to boot another kernel and preserve the data of the production "
"kernel when the system crashes, you need to reserve a dedicated area of the "
"system memory. The production kernel never loads to this area because it "
"must be always available. It is used for the capture kernel so that the "
"memory pages of the production kernel can be preserved."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:151
msgid ""
"To reserve the area, append the option <option>crashkernel</option> to the "
"boot command line of the production kernel. To determine the necessary "
"values for <option>crashkernel</option>, follow the instructions in <xref "
"linkend=\"sec.tuning.kexec.crashkernel\"/>."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:157
msgid ""
"Note that this is not a parameter of the capture kernel. The capture kernel "
"does not use Kexec."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:162
msgid ""
"The capture kernel is loaded to the reserved area and waits for the kernel "
"to crash. Then, Kdump tries to invoke the capture kernel because the "
"production kernel is no longer reliable at this stage. This means that even "
"Kdump can fail."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:169
msgid ""
"To load the capture kernel, you need to include the kernel boot parameters. "
"Usually, the initial RAM file system is used for booting. You can specify it "
"with <option>--initrd</option><literal>=</literal><replaceable>FILENAME</"
"replaceable>. With <option>--append</option><literal>=</"
"literal><replaceable>CMDLINE</replaceable>, you append options to the "
"command line of the kernel to boot."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:178
msgid ""
"It is helpful to include the command line of the production kernel if these "
"options are necessary for the kernel to boot. You can simply copy the "
"command line with <option>--append</option><literal>=</literal><replaceable>"
"\"$(cat /proc/cmdline)\"</replaceable> or add more options with <option>--"
"append</option><literal>=</literal><replaceable>\"$(cat /proc/cmdline) "
"more_options\"</replaceable>."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:187
msgid ""
"You can always unload the previously loaded kernel. To unload a kernel that "
"was loaded with the <option>-l</option> option, use the <command>kexec</"
"command> <option>-u</option> command. To unload a crash kernel loaded with "
"the <option>-p</option> option, use <command>kexec</command> <option>-p</"
"option> <option>-u</option> command."
msgstr ""

#. (itstool) path: sect1/title
#: xml/tuning_kexec.xml:197
msgid "Calculating <option>crashkernel</option> Allocation Size"
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:199
msgid ""
"To use Kexec with a capture kernel and to use Kdump in any way, RAM needs to "
"be allocated for the capture kernel. The allocation size depends on the "
"expected hardware configuration of the computer, therefore you need to "
"specify it."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:205
msgid ""
"The allocation size also depends on the hardware architecture of your "
"computer. Make sure to follow the procedure intended for your system "
"architecture."
msgstr ""

#. (itstool) path: procedure/title
#: xml/tuning_kexec.xml:212
msgid "Allocation Size on AMD64/Intel 64"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:214
msgid ""
"To find out the base value for the computer, run the following in a terminal:"
msgstr ""

#. (itstool) path: step/screen
#: xml/tuning_kexec.xml:218 xml/tuning_kexec.xml:395
#, no-wrap
msgid "<prompt role=\"root\">root # </prompt><command>kdumptool</command> calibrate"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:219 xml/tuning_kexec.xml:396
msgid ""
"This command returns a list of values. All values are given in megabytes."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:225
msgid ""
"Write down the values of <literal>Low</literal> and <literal>High</literal>."
msgstr ""

#. (itstool) path: note/title
#: xml/tuning_kexec.xml:230
msgid ""
"Significance of <literal>Low</literal> and <literal>High</literal> Values"
msgstr ""

#. (itstool) path: note/para
#: xml/tuning_kexec.xml:233
msgid ""
"On AMD64/Intel 64 computers, the <literal>High</literal> value stands for "
"the memory reservation for all available memory. The <literal>Low</literal> "
"value stands for the memory reservation in the DMA32 zone, that is, all the "
"memory up to the 4 GB mark."
msgstr ""

#. (itstool) path: note/para
#: xml/tuning_kexec.xml:244
msgid ""
"If the computer has less than 4 GB of RAM, the <literal>High</literal> "
"memory reservation is allocated and the <literal>Low</literal> memory "
"reservation is ignored. If the computer has more than 4 GB of RAM, the "
"<literal>Low</literal> memory reservation is allocated additionally."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:258
msgid ""
"Adapt the <literal>High</literal> value from the previous step for the "
"number of LUN kernel paths (paths to storage devices) attached to the "
"computer. A sensible value in megabytes can be calculated using this formula:"
msgstr ""

#. (itstool) path: step/screen
#: xml/tuning_kexec.xml:264
#, no-wrap
msgid "SIZE_HIGH = <replaceable>RECOMMENDATION</replaceable> + (<replaceable>LUNs</replaceable> / 2)"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:265 xml/tuning_kexec.xml:414
msgid "The following parameters are used in this formula:"
msgstr ""

#. (itstool) path: formalpara/title
#: xml/tuning_kexec.xml:271
msgid "SIZE_HIGH"
msgstr ""

#. (itstool) path: formalpara/para
#: xml/tuning_kexec.xml:272
msgid "The resulting value for <literal>High</literal>."
msgstr ""

#. (itstool) path: formalpara/title
#: xml/tuning_kexec.xml:279 xml/tuning_kexec.xml:428
msgid "RECOMMENDATION"
msgstr ""

#. (itstool) path: formalpara/para
#: xml/tuning_kexec.xml:280
msgid ""
"The value recommended by <command>kdumptool calibrate</command> for "
"<literal>High</literal>."
msgstr ""

#. (itstool) path: formalpara/title
#: xml/tuning_kexec.xml:288 xml/tuning_kexec.xml:437
msgid "LUNs"
msgstr ""

#. (itstool) path: formalpara/para
#: xml/tuning_kexec.xml:289 xml/tuning_kexec.xml:438
msgid ""
"The maximum number of LUN kernel paths that you expect to ever create on the "
"computer. Exclude multipath devices from this number, as these are ignored."
msgstr ""

#. (itstool) path: important/title
#: xml/tuning_kexec.xml:305
msgid "Adjust for Large Amounts of RAM"
msgstr ""

#. (itstool) path: important/para
#: xml/tuning_kexec.xml:306
msgid ""
"For machines that have multiple terabytes (!) of RAM, such as many servers "
"running SAP HANA, you need to additionally adjust the amount of both Kdump "
"High and Low Memory."
msgstr ""

#. (itstool) path: important/para
#: xml/tuning_kexec.xml:311
msgid ""
"Experience suggests that in such cases, you might be successful using the "
"following formulas:"
msgstr ""

#. (itstool) path: important/screen
#: xml/tuning_kexec.xml:315
#, no-wrap
msgid "SIZE_HIGH = (<replaceable>RECOMMENDATION</replaceable> * <replaceable>RAM_IN_TB</replaceable>) + (<replaceable>LUNs</replaceable> / 2)"
msgstr ""

#. (itstool) path: important/screen
#: xml/tuning_kexec.xml:316
#, no-wrap
msgid "SIZE_LOW = (<replaceable>RECOMMENDATION</replaceable> * <replaceable>RAM_IN_TB</replaceable>) + <replaceable>CUSTOM_DRIVER-RESERVATION_ADJUSTMENT</replaceable>"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:320
msgid ""
"If the drivers for your device make many reservations in the DMA32 zone, the "
"<literal>Low</literal> value also needs to be adjusted. However, there is no "
"simple formula to calculate these. Finding the right size can therefore be a "
"process of trial and error."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:326
msgid ""
"For the beginning, use the <literal>Low</literal> value recommended by "
"<command>kdumptool calibrate</command>."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:332 xml/tuning_kexec.xml:449
msgid "The values now need to be set in the correct location."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/tuning_kexec.xml:337
msgid "If you are changing the kernel command line directly"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:339 xml/tuning_kexec.xml:456
msgid "Append the following kernel option to your boot loader configuration:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:343
#, no-wrap
msgid "crashkernel=<replaceable>SIZE_HIGH</replaceable>,high crashkernel=<replaceable>SIZE_LOW</replaceable>,low"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:344
msgid ""
"Replace the placeholders <replaceable>SIZE_HIGH</replaceable> and "
"<replaceable>SIZE_LOW</replaceable> with the appropriate value from the "
"previous steps and append the letter <literal>M</literal> (for megabytes)."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:350 xml/tuning_kexec.xml:466
msgid "As an example, the following is valid:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:353
#, no-wrap
msgid "crashkernel=<replaceable>36M</replaceable>,high crashkernel=<replaceable>72M</replaceable>,low"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/tuning_kexec.xml:357
msgid "If you are using the YaST GUI:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:359
msgid ""
"Set <guimenu>Kdump Low Memory</guimenu> to the determined <literal>Low</"
"literal> value."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:363
msgid ""
"Set <guimenu>Kdump High Memory</guimenu> to the determined <literal>High</"
"literal> value."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/tuning_kexec.xml:370
msgid "If you are using the YaST command line interface:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:372
msgid "Use the following command:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:375
#, no-wrap
msgid "<prompt role=\"root\">root # </prompt>yast kdump startup enable alloc_mem=<replaceable>LOW</replaceable>,<replaceable>HIGH</replaceable>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:376
msgid ""
"Replace <replaceable>LOW</replaceable> with the determined <literal>Low</"
"literal> value. Replace <replaceable>HIGH</replaceable> with the determined "
"<literal>HIGH</literal> value."
msgstr ""

#. (itstool) path: procedure/title
#: xml/tuning_kexec.xml:389
msgid "Allocation Size on POWER and IBM Z"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:391
msgid ""
"To find out the basis value for the computer, run the following in a "
"terminal:"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:402
msgid "Write down the value of <literal>Low</literal>."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:407
msgid ""
"Adapt the <literal>Low</literal> value from the previous step for the number "
"of LUN kernel paths (paths to storage devices) attached to the computer. A "
"sensible value in megabytes can be calculated using this formula:"
msgstr ""

#. (itstool) path: step/screen
#: xml/tuning_kexec.xml:413
#, no-wrap
msgid "SIZE_LOW = <replaceable>RECOMMENDATION</replaceable> + (<replaceable>LUNs</replaceable> / 2)"
msgstr ""

#. (itstool) path: formalpara/title
#: xml/tuning_kexec.xml:420
msgid "SIZE_LOW"
msgstr ""

#. (itstool) path: formalpara/para
#: xml/tuning_kexec.xml:421
msgid "The resulting value for <literal>Low</literal>."
msgstr ""

#. (itstool) path: formalpara/para
#: xml/tuning_kexec.xml:429
msgid ""
"The value recommended by <command>kdumptool calibrate</command> for "
"<literal>Low</literal>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/tuning_kexec.xml:454
msgid "If you are working on the command line"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:460
#, no-wrap
msgid "crashkernel=<replaceable>SIZE_LOW</replaceable>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:461
msgid ""
"Replace the placeholder<replaceable>SIZE_LOW</replaceable> with the "
"appropriate value from the previous step and append the letter <literal>M</"
"literal> (for megabytes)."
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:469
#, no-wrap
msgid "crashkernel=<replaceable>108M</replaceable>"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/tuning_kexec.xml:473
msgid "If you are working in YaST"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:475
msgid ""
"Set <guimenu>Kdump Memory</guimenu> to the determined <literal>Low</literal> "
"value."
msgstr ""

#. (itstool) path: tip/title
#: xml/tuning_kexec.xml:486
msgid "Excluding Unused and Inactive CCW Devices on IBM Z"
msgstr ""

#. (itstool) path: tip/para
#: xml/tuning_kexec.xml:487
msgid ""
"Depending on the number of available devices the calculated amount of memory "
"specified by the <option>crashkernel</option> kernel parameter may not be "
"sufficient. Instead of increasing the value, you may alternatively limit the "
"amount of devices visible to the kernel. This will lower the required amount "
"of memory for the \"crashkernel\" setting."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:496
msgid ""
"To ignore devices you can run the <command>cio_ignore</command> tool to "
"generate an appropriate stanza to ignore all devices, except the ones "
"currently active or in use."
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:501
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt><command>sudo</command> cio_ignore -u -k\n"
"cio_ignore=all,!da5d,!f500-f502"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:503
msgid ""
"When you run <command>cio_ignore -u -k</command>, the blacklist will become "
"active and replace any existing blacklist immediately. Unused devices are "
"not being purged, so they still appear in the channel subsystem. But adding "
"new channel devices (via CP ATTACH under z/VM or dynamic I/O configuration "
"change in LPAR) will treat them as blacklisted. To prevent this, preserve "
"the original setting by running <command>sudo cio_ignore -l</command> first "
"and reverting to that state after running <command>cio_ignore -u -k</"
"command>. As an alternative, add the generated stanza to the regular kernel "
"boot parameters."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:517
msgid ""
"Now add the <option>cio_ignore</option> kernel parameter with the stanza "
"from above to <envar>KDUMP_CMDLINE_APPEND</envar> in <filename>/etc/"
"sysconfig/kdump</filename>, for example:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:522
#, no-wrap
msgid "KDUMP_COMMANDLINE_APPEND=\"cio_ignore=all,!da5d,!f500-f502\""
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:525
msgid ""
"Activate the setting by restarting <systemitem class=\"service\">kdump</"
"systemitem>:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:529
#, no-wrap
msgid "systemctl restart kdump.service"
msgstr ""

#. (itstool) path: sect1/title
#: xml/tuning_kexec.xml:536
msgid "Basic Kexec Usage"
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:538
msgid "To use Kexec, ensure the respective service is enabled and running:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:544
msgid "Make sure the Kexec service is loaded at system start:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:547
#, no-wrap
msgid "<prompt>tux &gt; </prompt><command>sudo</command> systemctl enable kexec-load.service"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:550
msgid "Make sure the Kexec service is running:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:553
#, no-wrap
msgid "<prompt>tux &gt; </prompt><command>sudo</command> systemctl start kexec-load.service"
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:557
msgid ""
"To verify if your Kexec environment works properly, try rebooting into a new "
"Kernel with Kexec. Make sure no users are currently logged in and no "
"important services are running on the system. Then run the following command:"
msgstr ""

#. (itstool) path: sect1/screen
#: xml/tuning_kexec.xml:564
#, no-wrap
msgid "systemctl kexec"
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:566
msgid ""
"The new kernel previously loaded to the address space of the older kernel "
"rewrites it and takes control immediately. It displays the usual start-up "
"messages. When the new kernel boots, it skips all hardware and firmware "
"checks. Make sure no warning messages appear."
msgstr ""

#. (itstool) path: tip/title
#: xml/tuning_kexec.xml:574
msgid "Using Kexec with the reboot Command"
msgstr ""

#. (itstool) path: tip/para
#: xml/tuning_kexec.xml:575
msgid ""
"To make <command>reboot</command> use kexec, rather than performing a "
"regular reboot, run the following command:"
msgstr ""

#. (itstool) path: tip/screen
#: xml/tuning_kexec.xml:579
#, no-wrap
msgid "ln -s /usr/lib/systemd/system/kexec.target /etc/systemd/system/reboot.target"
msgstr ""

#. (itstool) path: tip/para
#: xml/tuning_kexec.xml:580
msgid ""
"You can revert this at any time by deleting <filename>etc/systemd/system/"
"reboot.target</filename>."
msgstr ""

#. (itstool) path: sect1/title
#: xml/tuning_kexec.xml:588
msgid "How to Configure Kexec for Routine Reboots"
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:590
msgid ""
"Kexec is often used for frequent reboots. For example, if it takes a long "
"time to run through the hardware detection routines or if the start-up is "
"not reliable."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:596
msgid ""
"Note that firmware and the boot loader are not used when the system reboots "
"with Kexec. Any changes you make to the boot loader configuration will be "
"ignored until the computer performs a hard reboot."
msgstr ""

#. (itstool) path: sect1/title
#: xml/tuning_kexec.xml:603
msgid "Basic Kdump Configuration"
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:605
msgid ""
"You can use Kdump to save kernel dumps. If the kernel crashes, it is useful "
"to copy the memory image of the crashed environment to the file system. You "
"can then debug the dump file to find the cause of the kernel crash. This is "
"called <quote>core dump</quote>."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:612
msgid ""
"Kdump works similarly to Kexec (see <xref linkend=\"cha.tuning.kexec\"/>). "
"The capture kernel is executed after the running production kernel crashes. "
"The difference is that Kexec replaces the production kernel with the capture "
"kernel. With Kdump, you still have access to the memory space of the crashed "
"production kernel. You can save the memory snapshot of the crashed kernel in "
"the environment of the Kdump kernel."
msgstr ""

#. (itstool) path: tip/title
#: xml/tuning_kexec.xml:623
msgid "Dumps over Network"
msgstr ""

#. (itstool) path: tip/para
#: xml/tuning_kexec.xml:624
msgid ""
"In environments with limited local storage, you need to set up kernel dumps "
"over the network. Kdump supports configuring the specified network interface "
"and bringing it up via <systemitem>initrd</systemitem>. Both LAN and VLAN "
"interfaces are supported. Specify the network interface and the mode (DHCP "
"or static) either with YaST, or using the <option>KDUMP_NETCONFIG</option> "
"option in the <filename>/etc/sysconfig/kdump</filename> file."
msgstr ""

#. (itstool) path: important/title
#: xml/tuning_kexec.xml:636
msgid "Target File System for Kdump Must Be Mounted During Configuration"
msgstr ""

#. (itstool) path: important/para
#: xml/tuning_kexec.xml:637
msgid ""
"When configuring Kdump, you can specify a location to which the dumped "
"images will be saved (default: <filename>/var/crash</filename>). This "
"location must be mounted when configuring Kdump, otherwise the configuration "
"will fail."
msgstr ""

#. (itstool) path: sect2/title
#: xml/tuning_kexec.xml:646
msgid "Manual Kdump Configuration"
msgstr ""

#. (itstool) path: sect2/para
#: xml/tuning_kexec.xml:647
msgid ""
"Kdump reads its configuration from the <filename>/etc/sysconfig/kdump</"
"filename> file. To make sure that Kdump works on your system, its default "
"configuration is sufficient. To use Kdump with the default settings, follow "
"these steps:"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:656
msgid ""
"Determine the amount of memory needed for Kdump by following the "
"instructions in <xref linkend=\"sec.tuning.kexec.crashkernel\"/>. Make sure "
"to set the kernel parameter <option>crashkernel</option>."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:663
msgid "Reboot the computer."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:668
msgid "Enable the Kdump service:"
msgstr ""

#. (itstool) path: step/screen
#: xml/tuning_kexec.xml:671
#, no-wrap
msgid "<prompt role=\"root\">root # </prompt><command>systemctl</command> enable kdump"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:679
msgid ""
"You can edit the options in <filename>/etc/sysconfig/kdump</filename>. "
"Reading the comments will help you understand the meaning of individual "
"options."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:686
msgid ""
"Execute the init script once with <command>sudo systemctl start kdump</"
"command>, or reboot the system."
msgstr ""

#. (itstool) path: sect2/para
#: xml/tuning_kexec.xml:692
msgid ""
"After configuring Kdump with the default values, check if it works as "
"expected. Make sure that no users are currently logged in and no important "
"services are running on your system. Then follow these steps:"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:699
msgid ""
"Switch to the rescue target with <command>systemctl isolate rescue.target</"
"command>"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:705
msgid "Restart the Kdump service:"
msgstr ""

#. (itstool) path: step/screen
#: xml/tuning_kexec.xml:708
#, no-wrap
msgid "<prompt role=\"root\">root # </prompt><command>systemctl</command> start kdump"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:711
msgid "Unmount all the disk file systems except the root file system with:"
msgstr ""

#. (itstool) path: step/screen
#: xml/tuning_kexec.xml:714
#, no-wrap
msgid "<prompt role=\"root\">root # </prompt><command>umount</command> -a"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:717
msgid "Remount the root file system in read-only mode:"
msgstr ""

#. (itstool) path: step/screen
#: xml/tuning_kexec.xml:720
#, no-wrap
msgid "<prompt role=\"root\">root # </prompt><command>mount</command> -o remount,ro /"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:723
msgid ""
"Invoke a <quote>kernel panic</quote> with the <literal>procfs</literal> "
"interface to Magic SysRq keys:"
msgstr ""

#. (itstool) path: step/screen
#: xml/tuning_kexec.xml:727
#, no-wrap
msgid "<prompt role=\"root\">root # </prompt><command>echo</command> c &gt; /proc/sysrq-trigger"
msgstr ""

#. (itstool) path: important/title
#: xml/tuning_kexec.xml:731
msgid "Size of Kernel Dumps"
msgstr ""

#. (itstool) path: important/para
#: xml/tuning_kexec.xml:732
msgid ""
"The <literal>KDUMP_KEEP_OLD_DUMPS</literal> option controls the number of "
"preserved kernel dumps (default is 5). Without compression, the size of the "
"dump can take up to the size of the physical RAM memory. Make sure you have "
"sufficient space on the <filename>/var</filename> partition."
msgstr ""

#. (itstool) path: sect2/para
#: xml/tuning_kexec.xml:740
msgid ""
"The capture kernel boots and the crashed kernel memory snapshot is saved to "
"the file system. The save path is given by the <literal>KDUMP_SAVEDIR</"
"literal> option and it defaults to <filename>/var/crash</filename>. If "
"<literal>KDUMP_IMMEDIATE_REBOOT</literal> is set to <literal>yes</literal> , "
"the system automatically reboots the production kernel. Log in and check "
"that the dump has been created under <filename>/var/crash</filename>."
msgstr ""

#. (itstool) path: sect3/title
#: xml/tuning_kexec.xml:751
msgid "Static IP Configuration for Kdump"
msgstr ""

#. (itstool) path: sect3/para
#: xml/tuning_kexec.xml:752
msgid ""
"In case Kdump is configured to use a static IP configuration from a network "
"device, you need to add the network configuration to the "
"<envar>KDUMP_COMMANDLINE_APPEND</envar> variable in <filename>/etc/sysconfig/"
"kdump</filename>."
msgstr ""

#. (itstool) path: example/title
#: xml/tuning_kexec.xml:759
msgid "Kdump: Example Configuration Using a Static IP Setup"
msgstr ""

#. (itstool) path: example/para
#: xml/tuning_kexec.xml:760
msgid "The following setup has been configured:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:765
msgid ""
"eth0 has been configured with the static IP address <systemitem class="
"\"etheraddress\">192.168.1.1/24</systemitem>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:770
msgid ""
"eth1 has been configured with the static IP address <systemitem class="
"\"etheraddress\">10.50.50.100/20</systemitem>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:775
msgid ""
"The Kdump configuration in <filename>/etc/sysconfig/kdump</filename> looks "
"like:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:779
#, no-wrap
msgid ""
"KDUMP_CPUS=1\n"
"KDUMP_IMMEDIATE_REBOOT=yes\n"
"KDUMP_SAVEDIR=ftp://anonymous@10.50.50.140/crashdump/\n"
"KDUMP_KEEP_OLD_DUMPS=5\n"
"KDUMP_FREE_DISK_SIZE=64\n"
"KDUMP_VERBOSE=3\n"
"KDUMP_DUMPLEVEL=31\n"
"KDUMP_DUMPFORMAT=lzo\n"
"KDUMP_CONTINUE_ON_ERROR=yes\n"
"KDUMP_NETCONFIG=eth1:static\n"
"KDUMP_NET_TIMEOUT=30"
msgstr ""

#. (itstool) path: example/para
#: xml/tuning_kexec.xml:792
msgid ""
"Using this configuration, Kdump fails to reach the network when trying to "
"write the dump to the FTP server. To solve this issue, add the network "
"configuration to <envar>KDUMP_COMMANDLINE_APPEND</envar> in <filename>/etc/"
"sysconfig/kdump</filename>. The general pattern for this looks like the "
"following:"
msgstr ""

#. (itstool) path: example/screen
#: xml/tuning_kexec.xml:799
#, no-wrap
msgid "KDUMP_COMMANDLINE_APPEND='ip=<replaceable>CLIENT IP</replaceable>:<replaceable>SERVER IP</replaceable>:<replaceable>GATEWAY IP</replaceable>:<replaceable>NETMASK</replaceable>:<replaceable>CLIENT HOSTNAME</replaceable>:<replaceable>DEVICE</replaceable>:<replaceable>PROTOCOL</replaceable>'"
msgstr ""

#. (itstool) path: example/para
#: xml/tuning_kexec.xml:800
msgid "For the example configuration this would result in:"
msgstr ""

#. (itstool) path: example/screen
#: xml/tuning_kexec.xml:803
#, no-wrap
msgid "KDUMP_COMMANDLINE_APPEND='ip=10.50.50.100:10.50.50.140:10.60.48.1:255.255.240.0:dump-client:eth1:none'"
msgstr ""

#. (itstool) path: sect2/title
#: xml/tuning_kexec.xml:809
msgid "YaST Configuration"
msgstr ""

#. (itstool) path: sect2/para
#: xml/tuning_kexec.xml:810
msgid ""
"To configure Kdump with YaST, you need to install the <systemitem>yast2-"
"kdump</systemitem> package. Then either start the <guimenu>Kernel Kdump</"
"guimenu> module in the <guimenu>System</guimenu> category of <guimenu>YaST "
"Control Center</guimenu>, or enter <command>yast2 kdump</command> in the "
"command line as <systemitem class=\"username\">root</systemitem>."
msgstr ""

#. (itstool) path: figure/title
#: xml/tuning_kexec.xml:818
msgid "YaST Kdump Module: Start-Up Page"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/tuning_kexec.xml:821 xml/tuning_kexec.xml:824
msgctxt "_"
msgid "external ref='yast2_kdump_startup.png' md5='__failed__'"
msgstr ""

#. (itstool) path: figure/mediaobject
#: xml/tuning_kexec.xml:819
msgid ""
"<imageobject role=\"fo\"> <imagedata fileref=\"yast2_kdump_startup.png\" "
"width=\"60%\" format=\"PNG\"/> </imageobject> <imageobject role=\"html\"> "
"<imagedata fileref=\"yast2_kdump_startup.png\" width=\"70%\" format=\"PNG\"/"
"> </imageobject> <textobject> <phrase> Screenshot of the YaST Kdump Module </"
"phrase> </textobject>"
msgstr ""

#. (itstool) path: sect2/para
#: xml/tuning_kexec.xml:833
msgid ""
"In the <guimenu>Start-Up</guimenu> window, select <guimenu>Enable Kdump</"
"guimenu>."
msgstr ""

#. (itstool) path: sect2/para
#: xml/tuning_kexec.xml:837
msgid ""
"The values for <guimenu>Kdump Memory</guimenu> are automatically generated "
"the first time you open the window. However, that does not mean that they "
"are always sufficient. To set the right values, follow the instructions in "
"<xref linkend=\"sec.tuning.kexec.crashkernel\"/>."
msgstr ""

#. (itstool) path: important/title
#: xml/tuning_kexec.xml:845
msgid ""
"After Hardware Changes, Set <guimenu>Kdump Memory</guimenu> Values Again"
msgstr ""

#. (itstool) path: important/para
#: xml/tuning_kexec.xml:848
msgid ""
"If you have set up Kdump on a computer and later decide to change the amount "
"of RAM or hard disks available to it, YaST will continue to display and use "
"outdated memory values."
msgstr ""

#. (itstool) path: important/para
#: xml/tuning_kexec.xml:853
msgid ""
"To work around this, determine the necessary memory again, as described in "
"<xref linkend=\"sec.tuning.kexec.crashkernel\"/>. Then set it manually in "
"YaST."
msgstr ""

#. (itstool) path: sect2/para
#: xml/tuning_kexec.xml:859
msgid ""
"Click <guimenu>Dump Filtering</guimenu> in the left pane, and check what "
"pages to include in the dump. You do not need to include the following "
"memory content to be able to debug kernel problems:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:866
msgid "Pages filled with zero"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:871
msgid "Cache pages"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:876
msgid "User data pages"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:881
msgid "Free pages"
msgstr ""

#. (itstool) path: sect2/para
#: xml/tuning_kexec.xml:886
msgid ""
"In the <guimenu>Dump Target</guimenu> window, select the type of the dump "
"target and the URL where you want to save the dump. If you selected a "
"network protocol, such as FTP or SSH, you need to enter relevant access "
"information as well."
msgstr ""

#. (itstool) path: tip/title
#: xml/tuning_kexec.xml:893
msgid "Sharing the Dump Directory with Other Applications"
msgstr ""

#. (itstool) path: tip/para
#: xml/tuning_kexec.xml:894
msgid ""
"It is possible to specify a path for saving Kdump dumps where other "
"applications also save their dumps. When cleaning its old dump files, Kdump "
"will safely ignore other applications' dump files."
msgstr ""

#. (itstool) path: sect2/para
#: xml/tuning_kexec.xml:900
msgid ""
"Fill the <guimenu>Email Notification</guimenu> window information if you "
"want Kdump to inform you about its events via e-mail and confirm your "
"changes with <guimenu>OK</guimenu> after fine tuning Kdump in the "
"<guimenu>Expert Settings</guimenu> window. Kdump is now configured."
msgstr ""

#. (itstool) path: sect2/title
#: xml/tuning_kexec.xml:910
msgid "Kdump over SSH"
msgstr ""

#. (itstool) path: sect2/para
#: xml/tuning_kexec.xml:911
msgid ""
"Dump files usually contain sensitive data which should be protected from "
"unauthorized disclosure. To allow transmission of such data over an insecure "
"network, Kdump can save dump files to a remote machine using the SSH "
"protocol."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:919
msgid ""
"The target host identity must be known to Kdump. This is needed to ensure "
"that sensitive data is never sent to an imposter. When Kdump generates a new "
"<systemitem>initrd</systemitem>, it runs <command>ssh-keygen -F "
"<replaceable>TARGET_HOST</replaceable></command> to query the target host's "
"identity. This works only if <replaceable>TARGET_HOST</replaceable> public "
"key is already known. An easy way to achieve that is to make an SSH "
"connection to <replaceable>TARGET_HOST</replaceable> as <systemitem class="
"\"username\">root</systemitem> on the Kdump host."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:933
msgid ""
"Kdump must be able to authenticate to the target machine. Only public key "
"authentication is currently available. By default, Kdump will use "
"<systemitem class=\"username\">root</systemitem>'s private key, but it is "
"advisable to make a separate key for Kdump. This can be done with "
"<command>ssh-keygen</command>:"
msgstr ""

#. (itstool) path: step/screen
#: xml/tuning_kexec.xml:942
#, no-wrap
msgid "<prompt role=\"root\">root # </prompt><command>ssh-keygen</command> -f <replaceable>~/.ssh/kdump_key</replaceable>"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:945
msgid ""
"Press <keycap function=\"enter\"/> when prompted for passphrase (that is, do "
"not use any passphrase)."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:951
msgid ""
"Open <filename>/etc/sysconfig/kdump</filename> and set "
"<literal>KDUMP_SSH_IDENTITY</literal> to <replaceable>kdump_key</"
"replaceable>. You can use full path to the file if it is not placed under "
"<filename>~/.ssh</filename>."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:961
msgid "Set up the Kdump SSH key to authorize logins to the remote host."
msgstr ""

#. (itstool) path: step/screen
#: xml/tuning_kexec.xml:964
#, no-wrap
msgid "<prompt role=\"root\">root # </prompt><command>ssh-copy-id</command> -i <replaceable>~/.ssh/kdump_key</replaceable> <replaceable>TARGET_HOST</replaceable>"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:967
msgid "Set up <literal>KDUMP_SAVEDIR</literal>. There are two options:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/tuning_kexec.xml:973
msgid "Secure File Transfer Protocol (sftp)"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:975
msgid ""
"SFTP is the preferred method for transmitting files over SSH. The target "
"host must enable the sftp subsystem (SLE default). Example:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:980
#, no-wrap
msgid "KDUMP_SAVEDIR=sftp://<replaceable>TARGET_HOST</replaceable><replaceable>/path/to/dumps</replaceable>"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/tuning_kexec.xml:984
msgid "Secure Shell Protocol (ssh)"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:986
msgid ""
"Some other distributions use SSH to run some commands on the target host. "
"<phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</"
"phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os="
"\"sled\">SUSE Linux Enterprise Desktop</phrase></phrase> can also use this "
"method. The Kdump user on the target host must have a login shell that can "
"execute these commands: <command>mkdir</command>, <command>dd</command> and "
"<command>mv</command>. Example:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/tuning_kexec.xml:993
#, no-wrap
msgid "KDUMP_SAVEDIR=ssh://<replaceable>TARGET_HOST</replaceable><replaceable>/path/to/dumps</replaceable>"
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:999
msgid "Restart the Kdump service to use the new configuration."
msgstr ""

#. (itstool) path: sect1/title
#: xml/tuning_kexec.xml:1007
msgid "Analyzing the Crash Dump"
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:1009
msgid ""
"After you obtain the dump, it is time to analyze it. There are several "
"options."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:1014
msgid ""
"The original tool to analyze the dumps is GDB. You can even use it in the "
"latest environments, although it has several disadvantages and limitations:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1022
msgid "GDB was not specifically designed to debug kernel dumps."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1027
msgid "GDB does not support ELF64 binaries on 32-bit platforms."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1032
msgid ""
"GDB does not understand other formats than ELF dumps (it cannot debug "
"compressed dumps)."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:1039
msgid ""
"That is why the <command>crash</command> utility was implemented. It "
"analyzes crash dumps and debugs the running system as well. It provides "
"functionality specific to debugging the Linux kernel and is much more "
"suitable for advanced debugging."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:1046
msgid ""
"If you want to debug the Linux kernel, you need to install its debugging "
"information package in addition. Check if the package is installed on your "
"system with:"
msgstr ""

#. (itstool) path: sect1/screen
#: xml/tuning_kexec.xml:1051
#, no-wrap
msgid "<prompt>tux &gt; </prompt><command>zypper</command> se kernel | <command>grep</command> debug"
msgstr ""

#. (itstool) path: important/title
#: xml/tuning_kexec.xml:1054
msgid "Repository for Packages with Debugging Information"
msgstr ""

#. (itstool) path: important/para
#: xml/tuning_kexec.xml:1055
msgid ""
"If you subscribed your system for online updates, you can find "
"<quote>debuginfo</quote> packages in the <literal>*-Debuginfo-Updates</"
"literal> online installation repository relevant for <phrase role="
"\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles"
"\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux "
"Enterprise Desktop</phrase></phrase> <phrase role=\"productnumber\"><phrase "
"os=\"osuse\">15.0</phrase><phrase os=\"sles;sled\">15</phrase></phrase>. Use "
"YaST to enable the repository."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:1064
msgid ""
"To open the captured dump in <command>crash</command> on the machine that "
"produced the dump, use a command like this:"
msgstr ""

#. (itstool) path: sect1/screen
#: xml/tuning_kexec.xml:1068
#, no-wrap
msgid ""
"<command>crash</command> <replaceable>/boot/vmlinux-2.6.32.8-0.1-default.gz</replaceable> \\\n"
"<replaceable>/var/crash/2010-04-23-11\\:17/vmcore</replaceable>"
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:1071
msgid ""
"The first parameter represents the kernel image. The second parameter is the "
"dump file captured by Kdump. You can find this file under <filename>/var/"
"crash</filename> by default."
msgstr ""

#. (itstool) path: tip/title
#: xml/tuning_kexec.xml:1078
msgid "Getting Basic Information from a Kernel Crash Dump"
msgstr ""

#. (itstool) path: tip/para
#: xml/tuning_kexec.xml:1079
msgid ""
"<phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</"
"phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os="
"\"sled\">SUSE Linux Enterprise Desktop</phrase></phrase> ships with the "
"utility <command>kdumpid</command> (included in a package with the same "
"name) for identifying unknown kernel dumps. It can be used to extract basic "
"information such as architecture and kernel release. It supports lkcd, "
"diskdump, Kdump files and ELF dumps. When called with the <option>-v</"
"option> switch it tries to extract additional information such as machine "
"type, kernel banner string and kernel configuration flavor."
msgstr ""

#. (itstool) path: sect2/title
#: xml/tuning_kexec.xml:1091
msgid "Kernel Binary Formats"
msgstr ""

#. (itstool) path: sect2/para
#: xml/tuning_kexec.xml:1092
msgid ""
"The Linux kernel comes in Executable and Linkable Format (ELF). This file is "
"usually called <literal>vmlinux</literal> and is directly generated in the "
"compilation process. Not all boot loaders support ELF binaries, especially "
"on the AMD64/Intel 64 architecture. The following solutions exist on "
"different architectures supported by <phrase role=\"productname\"><phrase os="
"\"osuse\">openSUSE® Leap</phrase><phrase os=\"sles\">SUSE® Linux Enterprise "
"Server</phrase><phrase os=\"sled\">SUSE® Linux Enterprise Desktop</phrase></"
"phrase>."
msgstr ""

#. (itstool) path: sect3/title
#: xml/tuning_kexec.xml:1101
msgid "AMD64/Intel 64"
msgstr ""

#. (itstool) path: sect3/para
#: xml/tuning_kexec.xml:1102
msgid ""
"Kernel packages for AMD64/Intel 64 from SUSE contain two kernel files: "
"<filename>vmlinuz</filename> and <filename>vmlinux.gz</filename>."
msgstr ""

#. (itstool) path: formalpara/title
#: xml/tuning_kexec.xml:1109
msgid "<filename>vmlinuz</filename>"
msgstr ""

#. (itstool) path: formalpara/para
#: xml/tuning_kexec.xml:1110
msgid "This is the file executed by the boot loader."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1114
msgid ""
"The Linux kernel consists of two parts: the kernel itself (<literal>vmlinux</"
"literal>) and the setup code run by the boot loader. These two parts are "
"linked together to create <filename>vmlinuz</filename> (note the "
"distinction: <literal>z</literal> compared to <literal>x</literal>)."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1122
msgid ""
"In the kernel source tree, the file is called <filename>bzImage</filename>."
msgstr ""

#. (itstool) path: formalpara/title
#: xml/tuning_kexec.xml:1129
msgid "<filename>vmlinux.gz</filename>"
msgstr ""

#. (itstool) path: formalpara/para
#: xml/tuning_kexec.xml:1130
msgid ""
"This is a compressed ELF image that can be used by <command>crash</command> "
"and GDB. The ELF image is never used by the boot loader itself on AMD64/"
"Intel 64. Therefore, only a compressed version is shipped."
msgstr ""

#. (itstool) path: sect3/title
#: xml/tuning_kexec.xml:1141
msgid "POWER"
msgstr ""

#. (itstool) path: sect3/para
#: xml/tuning_kexec.xml:1142
msgid ""
"The <systemitem>yaboot</systemitem> boot loader on POWER also supports "
"loading ELF images, but not compressed ones. In the POWER kernel package, "
"there is an ELF Linux kernel file <filename>vmlinux</filename>. Considering "
"<command>crash</command>, this is the easiest architecture."
msgstr ""

#. (itstool) path: sect3/para
#: xml/tuning_kexec.xml:1149
msgid ""
"If you decide to analyze the dump on another machine, you must check both "
"the architecture of the computer and the files necessary for debugging."
msgstr ""

#. (itstool) path: sect3/para
#: xml/tuning_kexec.xml:1154
msgid ""
"You can analyze the dump on another computer only if it runs a Linux system "
"of the same architecture. To check the compatibility, use the command "
"<command>uname</command> <option>-i</option> on both computers and compare "
"the outputs."
msgstr ""

#. (itstool) path: sect3/para
#: xml/tuning_kexec.xml:1160
msgid ""
"If you are going to analyze the dump on another computer, you also need the "
"appropriate files from the <systemitem>kernel</systemitem> and "
"<systemitem>kernel debug</systemitem> packages."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:1167
msgid ""
"Put the kernel dump, the kernel image from <filename>/boot</filename>, and "
"its associated debugging info file from <filename>/usr/lib/debug/boot</"
"filename> into a single empty directory."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:1175
msgid ""
"Additionally, copy the kernel modules from <filename>/lib/modules/$(uname -"
"r)/kernel/</filename> and the associated debug info files from <filename>/"
"usr/lib/debug/lib/modules/$(uname -r)/kernel/</filename> into a subdirectory "
"named <filename>modules</filename>."
msgstr ""

#. (itstool) path: step/para
#: xml/tuning_kexec.xml:1184
msgid ""
"In the directory with the dump, the kernel image, its debug info file, and "
"the <filename>modules</filename> subdirectory, start the <command>crash</"
"command> utility:"
msgstr ""

#. (itstool) path: step/screen
#: xml/tuning_kexec.xml:1189
#, no-wrap
msgid "<prompt>tux &gt; </prompt><command>crash</command> <replaceable>VMLINUX-VERSION vmcore</replaceable>"
msgstr ""

#. (itstool) path: sect3/para
#: xml/tuning_kexec.xml:1192
msgid ""
"Regardless of the computer on which you analyze the dump, the crash utility "
"will produce output similar to this:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/tuning_kexec.xml:1196
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt><command>crash</command> <replaceable>/boot/vmlinux-2.6.32.8-0.1-default.gz</replaceable> \\\n"
"<replaceable>/var/crash/2010-04-23-11\\:17/vmcore</replaceable>\n"
"\n"
"crash 4.0-7.6\n"
"Copyright (C) 2002, 2003, 2004, 2005, 2006, 2007, 2008  Red Hat, Inc.\n"
"Copyright (C) 2004, 2005, 2006  IBM Corporation\n"
"Copyright (C) 1999-2006  Hewlett-Packard Co\n"
"Copyright (C) 2005, 2006  Fujitsu Limited\n"
"Copyright (C) 2006, 2007  VA Linux Systems Japan K.K.\n"
"Copyright (C) 2005  NEC Corporation\n"
"Copyright (C) 1999, 2002, 2007  Silicon Graphics, Inc.\n"
"Copyright (C) 1999, 2000, 2001, 2002  Mission Critical Linux, Inc.\n"
"This program is free software, covered by the GNU General Public License,\n"
"and you are welcome to change it and/or distribute copies of it under\n"
"certain conditions.  Enter \"help copying\" to see the conditions.\n"
"This program has absolutely no warranty.  Enter \"help warranty\" for details.\n"
"\n"
"GNU gdb 6.1\n"
"Copyright 2004 Free Software Foundation, Inc.\n"
"GDB is free software, covered by the GNU General Public License, and you are\n"
"welcome to change it and/or distribute copies of it under certain conditions.\n"
"Type \"show copying\" to see the conditions.\n"
"There is absolutely no warranty for GDB.  Type \"show warranty\" for details.\n"
"This GDB was configured as \"x86_64-unknown-linux-gnu\"...\n"
"\n"
"      KERNEL: /boot/vmlinux-2.6.32.8-0.1-default.gz\n"
"   DEBUGINFO: /usr/lib/debug/boot/vmlinux-2.6.32.8-0.1-default.debug\n"
"    DUMPFILE: /var/crash/2009-04-23-11:17/vmcore\n"
"        CPUS: 2\n"
"        DATE: Thu Apr 23 13:17:01 2010\n"
"      UPTIME: 00:10:41\n"
"LOAD AVERAGE: 0.01, 0.09, 0.09\n"
"       TASKS: 42\n"
"    NODENAME: eros\n"
"     RELEASE: 2.6.32.8-0.1-default\n"
"     VERSION: #1 SMP 2010-03-31 14:50:44 +0200\n"
"     MACHINE: x86_64  (2999 Mhz)\n"
"      MEMORY: 1 GB\n"
"       PANIC: \"SysRq : Trigger a crashdump\"\n"
"         PID: 9446\n"
"     COMMAND: \"bash\"\n"
"        TASK: ffff88003a57c3c0  [THREAD_INFO: ffff880037168000]\n"
"         CPU: 1\n"
"       STATE: TASK_RUNNING (SYSRQ)\n"
"<prompt>crash&gt; </prompt>"
msgstr ""

#. (itstool) path: sect3/para
#: xml/tuning_kexec.xml:1241
msgid ""
"The command output prints first useful data: There were 42 tasks running at "
"the moment of the kernel crash. The cause of the crash was a SysRq trigger "
"invoked by the task with PID 9446. It was a Bash process because the "
"<command>echo</command> that has been used is an internal command of the "
"Bash shell."
msgstr ""

#. (itstool) path: sect3/para
#: xml/tuning_kexec.xml:1248
msgid ""
"The <command>crash</command> utility builds upon GDB and provides many "
"additional commands. If you enter <command>bt</command> without any "
"parameters, the backtrace of the task running at the moment of the crash is "
"printed:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/tuning_kexec.xml:1254
#, no-wrap
msgid ""
"\n"
"<prompt>crash&gt; </prompt><command>bt</command>\n"
"PID: 9446   TASK: ffff88003a57c3c0  CPU: 1   COMMAND: \"bash\"\n"
" #0 [ffff880037169db0] crash_kexec at ffffffff80268fd6\n"
" #1 [ffff880037169e80] __handle_sysrq at ffffffff803d50ed\n"
" #2 [ffff880037169ec0] write_sysrq_trigger at ffffffff802f6fc5\n"
" #3 [ffff880037169ed0] proc_reg_write at ffffffff802f068b\n"
" #4 [ffff880037169f10] vfs_write at ffffffff802b1aba\n"
" #5 [ffff880037169f40] sys_write at ffffffff802b1c1f\n"
" #6 [ffff880037169f80] system_call_fastpath at ffffffff8020bfbb\n"
"    RIP: 00007fa958991f60  RSP: 00007fff61330390  RFLAGS: 00010246\n"
"    RAX: 0000000000000001  RBX: ffffffff8020bfbb  RCX: 0000000000000001\n"
"    RDX: 0000000000000002  RSI: 00007fa959284000  RDI: 0000000000000001\n"
"    RBP: 0000000000000002   R8: 00007fa9592516f0   R9: 00007fa958c209c0\n"
"    R10: 00007fa958c209c0  R11: 0000000000000246  R12: 00007fa958c1f780\n"
"    R13: 00007fa959284000  R14: 0000000000000002  R15: 00000000595569d0\n"
"    ORIG_RAX: 0000000000000001  CS: 0033  SS: 002b\n"
"<prompt>crash&gt; </prompt>\n"
msgstr ""

#. (itstool) path: sect3/para
#: xml/tuning_kexec.xml:1273
msgid ""
"Now it is clear what happened: The internal <command>echo</command> command "
"of Bash shell sent a character to <filename>/proc/sysrq-trigger</filename>. "
"After the corresponding handler recognized this character, it invoked the "
"<literal>crash_kexec()</literal> function. This function called "
"<literal>panic()</literal> and Kdump saved a dump."
msgstr ""

#. (itstool) path: sect3/para
#: xml/tuning_kexec.xml:1281
msgid ""
"In addition to the basic GDB commands and the extended version of "
"<command>bt</command>, the crash utility defines other commands related to "
"the structure of the Linux kernel. These commands understand the internal "
"data structures of the Linux kernel and present their contents in a human "
"readable format. For example, you can list the tasks running at the moment "
"of the crash with <command>ps</command>. With <command>sym</command>, you "
"can list all the kernel symbols with the corresponding addresses, or inquire "
"an individual symbol for its value. With <command>files</command>, you can "
"display all the open file descriptors of a process. With <command>kmem</"
"command>, you can display details about the kernel memory usage. With "
"<command>vm</command>, you can inspect the virtual memory of a process, even "
"at the level of individual page mappings. The list of useful commands is "
"very long and many of these accept a wide range of options."
msgstr ""

#. (itstool) path: sect3/para
#: xml/tuning_kexec.xml:1297
msgid ""
"The commands that we mentioned reflect the functionality of the common Linux "
"commands, such as <command>ps</command> and <command>lsof</command>. To find "
"out the exact sequence of events with the debugger, you need to know how to "
"use GDB and to have strong debugging skills. Both of these are out of the "
"scope of this document. In addition, you need to understand the Linux "
"kernel. Several useful reference information sources are given at the end of "
"this document."
msgstr ""

#. (itstool) path: sect1/title
#: xml/tuning_kexec.xml:1311
msgid "Advanced Kdump Configuration"
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:1313
msgid ""
"The configuration for Kdump is stored in <filename>/etc/sysconfig/kdump</"
"filename>. You can also use YaST to configure it. Kdump configuration "
"options are available under <menuchoice><guimenu>System</guimenu> "
"<guimenu>Kernel Kdump</guimenu></menuchoice> in <guimenu>YaST Control "
"Center</guimenu>. The following Kdump options may be useful for you."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:1322
msgid ""
"You can change the directory for the kernel dumps with the "
"<option>KDUMP_SAVEDIR</option> option. Keep in mind that the size of kernel "
"dumps can be very large. Kdump will refuse to save the dump if the free disk "
"space, subtracted by the estimated dump size, drops below the value "
"specified by the <option>KDUMP_FREE_DISK_SIZE</option> option. Note that "
"<option>KDUMP_SAVEDIR</option> understands the URL format "
"<replaceable>PROTOCOL://SPECIFICATION</replaceable>, where "
"<replaceable>PROTOCOL</replaceable> is one of <option>file</option>, "
"<option>ftp</option>, <option>sftp</option>, <option>nfs</option> or "
"<option>cifs</option>, and <option>specification</option> varies for each "
"protocol. For example, to save kernel dump on an FTP server, use the "
"following URL as a template: <option>ftp://username:password@ftp.example."
"com:123/var/crash</option>."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:1338
msgid ""
"Kernel dumps are usually huge and contain many pages that are not necessary "
"for analysis. With <option>KDUMP_DUMPLEVEL</option> option, you can omit "
"such pages. The option understands numeric value between 0 and 31. If you "
"specify <replaceable>0</replaceable>, the dump size will be largest. If you "
"specify <replaceable>31</replaceable>, it will produce the smallest dump. "
"For a complete table of possible values, see the manual page of "
"<command>kdump</command> (<command>man 7 kdump</command>)."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:1348
msgid ""
"Sometimes it is very useful to make the size of the kernel dump smaller. For "
"example, if you want to transfer the dump over the network, or if you need "
"to save some disk space in the dump directory. This can be done with "
"<option>KDUMP_DUMPFORMAT</option> set to <literal>compressed</literal>. The "
"<command>crash</command> utility supports dynamic decompression of the "
"compressed dumps."
msgstr ""

#. (itstool) path: important/title
#: xml/tuning_kexec.xml:1358
msgid "Changes to the Kdump Configuration File"
msgstr ""

#. (itstool) path: important/para
#: xml/tuning_kexec.xml:1359
msgid ""
"You always need to execute <command>systemctl restart kdump</command> after "
"you make manual changes to <filename>/etc/sysconfig/kdump</filename>. "
"Otherwise, these changes will take effect next time you reboot the system."
msgstr ""

#. (itstool) path: sect1/title
#: xml/tuning_kexec.xml:1368
msgid "For More Information"
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:1370
msgid ""
"There is no single comprehensive reference to Kexec and Kdump usage. "
"However, there are helpful resources that deal with certain aspects:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1378
msgid ""
"For the Kexec utility usage, see the manual page of <command>kexec</command> "
"(<command>man 8 kexec</command>)."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1384
msgid ""
"IBM provides comprehensive documentation on how to use dump tools on the "
"IBM Z architecture at <link xlink:href=\"http://www.ibm.com/developerworks/"
"linux/linux390/development_documentation.html\"/>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1391
msgid ""
"You can find general information about Kexec at <link xlink:href=\"http://"
"www.ibm.com/developerworks/linux/library/l-kexec.html\"/> . Might be "
"slightly outdated."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1398
msgid ""
"For more details on Kdump specific to <phrase role=\"productname\"><phrase "
"os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise "
"Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase></"
"phrase>, see <link xlink:href=\"http://ftp.suse.com/pub/people/tiwai/kdump-"
"training/kdump-training.pdf\"/> ."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1405
msgid ""
"An in-depth description of Kdump internals can be found at <link xlink:href="
"\"http://lse.sourceforge.net/kdump/documentation/ols2oo5-kdump-paper.pdf\"/"
"> ."
msgstr ""

#. (itstool) path: sect1/para
#: xml/tuning_kexec.xml:1413
msgid ""
"For more details on <command>crash</command> dump analysis and debugging "
"tools, use the following resources:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1420
msgid ""
"In addition to the info page of GDB (<command>info gdb</command>), there are "
"printable guides at <link xlink:href=\"http://sourceware.org/gdb/"
"documentation/\"/> ."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1427
msgid ""
"A white paper with a comprehensive description of the crash utility usage "
"can be found at <link xlink:href=\"http://people.redhat.com/anderson/"
"crash_whitepaper/\"/>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1434
msgid ""
"The crash utility also features a comprehensive online help. Use "
"<command>help</command> <replaceable>COMMAND</replaceable> to display the "
"online help for <command>command</command>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1441
msgid ""
"If you have the necessary Perl skills, you can use Alicia to make the "
"debugging easier. This Perl-based front-end to the crash utility can be "
"found at <link xlink:href=\"http://alicia.sourceforge.net/\"/> ."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1448
msgid ""
"If you prefer to use Python instead, you should install Pykdump. This "
"package helps you control GDB through Python scripts and can be downloaded "
"from <link xlink:href=\"http://sf.net/projects/pykdump\"/> ."
msgstr ""

#. (itstool) path: listitem/para
#: xml/tuning_kexec.xml:1455
msgid ""
"A very comprehensive overview of the Linux kernel internals is given in "
"<citetitle>Understanding the Linux Kernel</citetitle> by Daniel P. Bovet and "
"Marco Cesati (ISBN 978-0-596-00565-8)."
msgstr ""
