<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<chapter version="5.0" xml:id="cha-register-sle"
  xmlns="http://docbook.org/ns/docbook"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>Registering &sle; and Managing Modules/Extensions</title>
 <info>
  <abstract>
   <para>
    To get technical support and product updates, you need to register and
    activate &productname; with the &scc;. It is recommended to register during
    the installation, since this will enable you to install the system with the
    latest updates and patches available.  However, if you are offline or want
    to skip the registration step, you can register at any time later from the
    installed system.
   </para>
   <para>
    Modules and extensions add features to your system and allow you to
    customize the system according to your needs. These components also need to
    be registered and can be managed with &yast; or command line tools.  For
    more details also refer to the <xref linkend="art-modules"/>.
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker></dm:bugtracker>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <note>
  <title>&suse; Account</title>
  <para>
   Registering with the &scc; requires a SUSE account. In case you do not have
   a SUSE account yet, go to the &scc; home page (<link
   xlink:href="https://scc.suse.com/"/>) to create one.
  </para>
 </note>

 <tip>
  <title>Deregistering a System</title>
  <para>
   To completely deregister a system including all modules and extensions use
   the command line tool <command>SUSEConnect</command>. Deregistering a system
   removes its entry on the registration server and also removes all
   repositories for modules, extensions, and the product itself.
  </para>
  <screen>&prompt.user;sudo SUSEConnect -d</screen>
 </tip>

 <sect1 xml:id="sec-register-sle-installation">
  <title>Registering During the Installation</title>
  <para>
   The easiest and recommended way to register is to do it during the
   installation. It will not only allow you to install the latest patch level
   of &productname;, but you will also get access to all modules and extensions
   without having to provide an additional installation media. This also
   applies to all modules or extension you install. For details on the
   registration process refer to <xref
   linkend="sec-yast-install-scc-registration"/>.
  </para>
  <para>
   If the system was successfully registered during installation, &yast; will add
   online repositories provided by &scc;. This prevents problems if local
   installation sources are no longer available and ensures that you always get
   the latest updates from the online repositories.
  </para>
 </sect1>

 <sect1 os="sles" xml:id="sec-register-sle-ay">
  <title>Registering during Automated Deployment</title>
  <para>
   If you deploy your instances automatically using &ay;, you can register the
   system during the installation by providing the respective information in
   the &ay; control file. Refer to <xref linkend="CreateProfile-Register"/> for
   details.
  </para>
 </sect1>
 <sect1 xml:id="sec-register-sle-system">
  <title>Registering from the Installed System</title>
  <para>
   If you have skipped the registration during the installation or want to
   re-register your system, you can do so at any time using the
   &yast; module <guimenu>Product Registration</guimenu> or the command line tool
   <command>SUSEConnect</command>.
  </para>

  <sect2 xml:id="sec-register-sle-system-yast">
   <title>Registering with &yast;</title>
   <para>
    To register the system start <menuchoice><guimenu>YaST</guimenu>
    <guimenu>Software</guimenu> <guimenu>Product
    Registration</guimenu></menuchoice>. First register &productname;, then
    choose the modules and extensions you want to make available.
   </para>

   <important>
    <title>Modules and Extensions</title>
    <para>
     If you have installed the system by skipping the registration and
     installing from the &allmodules; media, make sure to register all the
     modules and extension you have chosen during the installation. You will
     only receive security updates and patches for modules and extensions that
     have been registered.
    </para>
   </important>

   <procedure>
    <title>Product Registration with &yast;</title>
    <step>
     <para>
      Start <menuchoice><guimenu>YaST</guimenu>
      <guimenu>Software</guimenu> <guimenu>Product
      Registration</guimenu></menuchoice>.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="sles_yast_register.png" width="75%"
                   format="png"/>
        <imagedata os="sled" fileref="sled_yast_register.png"
                   width="75%" format="png"/>
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="sles_yast_register.png" width="100%"
                   format="png"/>
        <imagedata os="sled" fileref="sled_yast_register.png" width="100%"
                   format="png"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Provide the <guimenu>E-mail address</guimenu> associated with the &suse;
      account you or your organization uses to manage subscriptions. Also enter
      the <guimenu>Registration Code</guimenu> you received with your copy of
      &productname;.
     </para>
    </step>
    <step>
     <para>
      By default the system is registered with the &scc;. Proceed to the next
      step to make this happen.
     </para>
     <para>
      If your organization provides local registration servers you can either
      choose one form the list of auto-detected servers or provide the URL at
      <guimenu>Register System via local SMT Server</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Choose <guimenu>Next</guimenu> to start the registration
      process. &productname; is registered with the chosen server and the
      associated repositories are added to your system. The <guimenu>Extension
      and Module Selection</guimenu> dialog opens.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="sles_yast_extensions.png" width="75%"
                   format="png"/>
        <imagedata os="sled" fileref="sled_yast_extensions.png" width="75%"
                   format="png"/>
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="sles_yast_extensions.png" width="100%"
                   format="png"/>
        <imagedata os="sled" fileref="sled_yast_extensions.png" width="100%"
                   format="png"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Select all modules and extensions you would like to make available in the
      system. You should at least choose the preselected modules
      (<guimenu>Basesystem Module</guimenu> <phrase os="sles">and
      <guimenu>Server Applications Module</guimenu></phrase><phrase os="sled">,
      <guimenu>&slewe;</guimenu> and <guimenu>Desktop
      Applications Module</guimenu></phrase>). Also make sure to choose any
      additional module or extension that you have added during the
      installation. Note that all extensions require additional registration
      codes which are liable for cost. Proceed with <guimenu>Next</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Depending on your selection, you may have to accept one or more license
      agreements now. All components are registered with the chosen server and
      the associated repositories are added to your system.
     </para>
    </step>
    <step>
     <para>
      The &yast; package installer opens to install release-packages for each
      module and, depending on your choice of modules and extensions,
      additional packages. It is strongly recommended <emphasis>not to
      deselect</emphasis> any of the preselected packages; you may, however,
      add additional packages.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="sles_yast_extensions_install.png"
                   width="75%" format="png"/>
        <imagedata os="sled" fileref="sled_yast_extensions_install.png"
                   width="75%" format="png"/>
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="sles_yast_extensions_install.png"
                   width="100%" format="png"/>
        <imagedata os="sled" fileref="sled_yast_extensions_install.png"
                   width="100%" format="png"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
     <para>
      Choose <guimenu>Accept</guimenu> and <guimenu>Finish</guimenu> to
      conclude the registration process.
     </para>
    </step>
   </procedure>
   </sect2>

  <sect2 xml:id="sec-register-sle-system-suseconnect">
   <title>Registering with SUSEConnect</title>
   <para>
    Registering the system plus modules and extensions is also possible from
    the command line using <command>SUSEConnect</command>. For information that
    go beyond the scope of this section, refer to the inline documentation with
    <command>man 8 SUSEConnect</command>
   </para>
   <procedure>
    <title>Product Registration with SUSEConnect</title>
    <step>
     <para>
      To register &productname; with &scc; run <command>SUSEConnect</command>
      as follows:
     </para>
     <screen>&prompt.user;sudo SUSEConnect -r <replaceable>REGISTRATION_CODE</replaceable> -e <replaceable>EMAIL_ADDRESS</replaceable></screen>
     <para>
      To register with a local registration server, additionally provide the URL
      to the server:
     </para>
     <screen>&prompt.user;sudo SUSEConnect -r <replaceable>REGISTRATION_CODE</replaceable> -e <replaceable>EMAIL_ADDRESS</replaceable> \
--url "https://suse_register.&exampledomain;/"</screen>
     <para>
      Replace <replaceable>REGISTRATION_CODE</replaceable> with the
      registration code you received with your copy of &productname;. Replace
      <replaceable>EMAIL_ADDRESS</replaceable> with the E-mail address
      associated with the &suse; account you or your organization uses to
      manage subscriptions.
     </para>
     <para>
      This process will register the <guimenu>Basesystem Module</guimenu>
      <phrase os="sles">and <guimenu>Server Applications
      Module</guimenu></phrase><phrase os="sled">, <guimenu>&slewe;</guimenu>
      and <guimenu>Desktop Applications Module</guimenu></phrase> and add the
      associated repositories to your system.
     </para>
    </step>
    <step>
     <para>
      &productname; including the two default repositories is now
      registered. In case you want to register additional modules or
      extensions, proceed as outlined in <xref
      linkend="sec-register-sle-add-modules"/>.
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-register-sle-add-modules">
  <title>Managing Modules and Extensions in a Running System</title>
  <para>
   Even after a system is installed and registered, adding and removing modules
   and extensions is still possible. You can either use &yast; or
   <command>SUSEConnect</command> for this task. For more details also refer to
   the <xref linkend="art-modules"/>.
  </para>
  <sect2 xml:id="sec-register-sle-add-modules-yast">
   <title>Adding Modules and Extensions with &yast;</title>
   <procedure>
    <step>
     <para>
      Start <menuchoice><guimenu>YaST</guimenu>
      <guimenu>Software</guimenu> <guimenu>Add System Extensions or
      Modules</guimenu></menuchoice>.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="sles_yast_extensions.png" width="75%"
                   format="png"/>
        <imagedata os="sled" fileref="sled_yast_extensions.png"
                   width="75%" format="png"/>
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="sles_yast_extensions.png" width="100%"
                   format="png"/>
        <imagedata os="sled" fileref="sled_yast_extensions.png" width="100%"
                   format="png"/>

       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      To add modules or extensions, select all components you would like to
      install. Note that all extensions require additional registration codes
      which are liable for cost.
     </para>
    </step>
    <step>
     <para>
      All additional components are registered with the registration server and
      the associated repositories are added to your system.
     </para>
    </step>
    <step>
     <para>
      The &yast; package installer opens to install release-packages for each
      module and, depending on your choice of modules and extensions,
      additional packages. It is strongly recommended <emphasis>not to
      deselect</emphasis> any of the preselected packages; you may, however,
      add additional packages.
     </para>
     <para>
      Choose <guimenu>Accept</guimenu> and <guimenu>Finish</guimenu> to
      conclude the process.
     </para>
    </step>
   </procedure>
   <tip>
    <title>Module Dependencies</title>
    <para>
     Similar to software packages, which may depend on other packages to
     function, a module may have dependencies on other modules. If this is the
     case, the modules on which it depends are automatically selected for installation.
    </para>
   </tip>

  </sect2>

  <sect2 xml:id="sec-register-sle-delete-modules-yast">
   <title>Deleting Modules and Extensions with &yast;</title>
   <procedure>
    <step>
     <para>
      Start <menuchoice><guimenu>YaST</guimenu>
      <guimenu>Software</guimenu> <guimenu>Add-On
      Products</guimenu></menuchoice>.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="sles_yast_addon.png" width="75%"
                   format="png"/>
        <imagedata os="sled" fileref="sled_yast_addon.png" width="75%"
                   format="png"/>
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="sles_yast_addon.png" width="100%"
                   format="png"/>
        <imagedata os="sled" fileref="sled_yast_addon.png" width="100%"
                   format="png"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Choose the module or extension that should be removed and click
      <guimenu>Delete</guimenu>. Confirm the warning saying that all packages
      from the selected component will be removed.
     </para>
    </step>
    <step>
     <para>
      The &yast; Software Manager opens and shows a list of all installed
      packages from the deleted module or extension. Click
      <guimenu>Accept</guimenu> to remove all of them. It is strongly
      recommended to do so, because you will no longer get updates for packages
      from deleted modules or extensions. In case you keep packages, make sure
      to at least remove the <literal>*-release</literal> package for each
      module or extension that gets deleted.
     </para>
     <para>
      Proceed with <guimenu>Accept</guimenu> and then <guimenu>OK</guimenu>.
     </para>
    </step>
   </procedure>
   <warning>
    <title>Deleting Modules</title>
    <para>
     Note that you should never delete the <guimenu>Basesystem
     Module</guimenu>. It is also not recommended to delete the
     <phrase os="sles"><guimenu>Server Applications
     Module</guimenu></phrase><phrase os="sled">, <guimenu>&slewe;</guimenu>
     and <guimenu>Desktop Applications Module</guimenu></phrase>.
    </para>
   </warning>

   <warning>
    <title>No Updates for Packages from Deleted Modules and Extensions</title>
    <para>
     If you choose to keep packages from deleted modules or extensions, you
     will no longer receive updates for these packages. Because this includes
     security fixes, keeping such packages may introduce a security risk to
     your system.
    </para>
   </warning>

  </sect2>

  <sect2 xml:id="sec-register-sle-add-modules-cmd">
   <title>Adding/Deleting Modules and Extensions with SUSEConnect</title>
   <procedure>
    <step>
     <para>
      Run <command>SUSEConnect -list-extensions</command> to get an overview of
      available extensions:
     </para>
     <screen os="sles">&prompt.user;sudo SUSEConnect -list-extensions
AVAILABLE EXTENSIONS AND MODULES

  Basesystem Module &product-ga; SP&product-sp; x86_64 (Installed)
  Deactivate with: SUSEConnect -d -p sle-module-basesystem/&product-ga;.&product-sp;/x86_64

    Containers Module &product-ga; SP&product-sp; x86_64
    Activate with: SUSEConnect -p sle-module-containers/&product-ga;.&product-sp;/x86_64

    Desktop Applications Module &product-ga; SP&product-sp; x86_64
    Activate with: SUSEConnect -p sle-module-desktop-applications/&product-ga;.&product-sp;/x86_64

      Development Tools Module &product-ga; SP&product-sp; x86_64
      Activate with: SUSEConnect -p sle-module-development-tools/&product-ga;.&product-sp;/x86_64

      SUSE Linux Enterprise Workstation Extension &product-ga; SP&product-sp; x86_64
      Activate with: SUSEConnect -p sle-we/&product-ga;.&product-sp;/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

    SUSE Cloud Application Platform Tools Module &product-ga; SP&product-sp; x86_64
    Activate with: SUSEConnect -p sle-module-cap-tools/&product-ga;.&product-sp;/x86_64

    SUSE Linux Enterprise Live Patching &product-ga; SP&product-sp; x86_64
    Activate with:
      SUSEConnect -p sle-module-live-patching/&product-ga;.&product-sp;/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

    SUSE Package Hub &product-ga; SP&product-sp; x86_64
    Activate with: SUSEConnect -p PackageHub/&product-ga;.&product-sp;/x86_64

    Server Applications Module &product-ga; SP&product-sp; x86_64 (Installed)
    Deactivate with: SUSEConnect -d -p sle-module-server-applications/&product-ga;.&product-sp;/x86_64

      Legacy Module &product-ga; SP&product-sp; x86_64
      Activate with: SUSEConnect -p sle-module-legacy/&product-ga;.&product-sp;/x86_64

      Public Cloud Module &product-ga; SP&product-sp; x86_64
      Activate with: SUSEConnect -p sle-module-public-cloud/&product-ga;.&product-sp;/x86_64

      SUSE Enterprise Storage 6 x86_64
      Activate with: SUSEConnect -p ses/6/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

      SUSE Linux Enterprise High Availability Extension &product-ga; SP&product-sp; x86_64
      Activate with: SUSEConnect -p sle-ha/&product-ga;.&product-sp;/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

      Web and Scripting Module &product-ga; SP&product-sp; x86_64
      Activate with: SUSEConnect -p sle-module-web-scripting/&product-ga;.&product-sp;/x86_64

MORE INFORMATION

You can find more information about available modules here:
https://www.suse.com/products/server/features/modules.html</screen>
<screen os="sled">&prompt.user;sudo SUSEConnect -list-extensions
AVAILABLE EXTENSIONS AND MODULES

  Basesystem Module &product-ga; SP&product-sp; x86_64 (Installed)
  Deactivate with: SUSEConnect -d -p sle-module-basesystem/&product-ga;.&product-sp;/x86_64

    Desktop Applications Module &product-ga; SP&product-sp; x86_64 (Installed)
    Deactivate with: SUSEConnect -d -p sle-module-desktop-applications/&product-ga;.&product-sp;/x86_64

      Development Tools Module &product-ga; SP&product-sp; x86_64
      Activate with: SUSEConnect    -p sle-module-development-tools/&product-ga;.&product-sp;/x86_64

      SUSE Linux Enterprise Workstation Extension &product-ga; SP&product-sp; x86_64 (Installed)
      Deactivate with: SUSEConnect -d -p sle-we/&product-ga;.&product-sp;/x86_64

    SUSE Cloud Application Platform Tools Module &product-ga; SP&product-sp; x86_64
    Activate with: SUSEConnect    -p sle-module-cap-tools/&product-ga;.&product-sp;/x86_64

    SUSE Package Hub &product-ga; SP&product-sp; x86_64
    Activate with: SUSEConnect    -p PackageHub/&product-ga;.&product-sp;/x86_64

MORE INFORMATION

You can find more information about available modules here:
https://www.suse.com/products/server/features/modules.html</screen>

    </step>
    <step>
     <para>
      Run the commands in the listing for activating/deactivating a module or
      extension to add or delete a component. Note that adding an extensions
      requires additional registration codes which are liable for cost.
     </para>
    </step>
   </procedure>

   <warning>
    <title>Deleting Modules</title>
    <para>
     Note that you should never delete the <guimenu>Basesystem
     Module</guimenu>. It is also not recommended to delete the
     <phrase os="sles"><guimenu>Server Applications
     Module</guimenu></phrase><phrase os="sled">, <guimenu>&slewe;</guimenu>
     and <guimenu>Desktop Applications Module</guimenu></phrase>.
    </para>
   </warning>

   <important>
    <title>No Automated Installation/Removal of Packages</title>
    <para>
     When using <command>SUSEConnect</command> to add or delete modules and
     extensions, the components get de-registered and the respective
     repositories or services get removed from the system. No installation or
     removal of packages will be done. If you want this to be done
     automatically, use &yast; to add or delete modules and extensions.
    </para>
    <para>
     When adding a module or extension, this means no automatic
     installation of default packages or patterns is performed. You need to do
     this manually with Zypper on the command line or by running
     <menuchoice><guimenu>&yast;</guimenu> <guimenu>Software
     Management</guimenu></menuchoice>.
    </para>
    <para>
     When deleting a module or extension, this means no automatic cleanup will
     be done. All packages that belonged to the module or extension will remain
     installed on the system, but are longer associated with a repository and
     therefore will no longer receive updates. To remove these so-called
     <quote>orphaned</quote> packages use Zypper on the command
     line. <command>zypper packages --orphaned</command> lists these packages
     and <command>zypper remove</command> deletes one or more
     packages. Alternatively use
     <menuchoice><guimenu>&yast;</guimenu> <guimenu>Software
     Management</guimenu></menuchoice> to list and delete orphaned packages.
    </para>
   </important>

   <warning>
    <title>No Updates for Packages from Deleted Modules and Extensions</title>
    <para>
     If you choose to keep packages from deleted modules or extensions, you
     will no longer receive updates for these packages. Because this includes
     security fixes, keeping such packages may introduce a security risk to
     your system.
    </para>
   </warning>

  </sect2>
 </sect1>
</chapter>
