<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_sound.xml" version="5.0" xml:id="sec-yast-hw-sound">
 <title>设置声卡</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  YaST 可以自动检测大多数声卡，并使用相应的值配置它们。要更改默认设置，或者需要设置不能自动配置的声卡，可以使用 YaST 声音模块。在其中，还可以设置附加声卡或切换它们的顺序。
 </para>

 <para>
  要启动声音模块，可以启动 YaST 并单击<menuchoice>
  <guimenu>硬件</guimenu> <guimenu> 声音</guimenu> </menuchoice>。或者，也可以直接启动<guimenu>声音配置</guimenu>对话框，方法是以 <systemitem class="username">root</systemitem> 用户身份从命令行运行 <command>yast2 sound &amp;</command>。如果声音模块不可用，请使用 <command>sudo zypper install yast2-sound</command> 命令安装它。
 </para>

 <procedure xml:id="pro-yast2-sound-add">
  <title>配置声卡</title>
  <para>
   如果已添加新声卡或者 YaST 不能自动配置现有声卡，则执行以下步骤。要配置新声卡，需要知道声卡供应商和型号。如果有疑问，可以参考声卡文档以了解所需信息。有关 ALSA 所支持的声卡及其相应声音模块的参考列表，请参见 <link xlink:href="http://www.alsa-project.org/main/index.php/Matrix:Main"/>。
  </para>
  <para>
   在配置过程中，可以选择以下几个设置选项：
  </para>
  <variablelist>
   <varlistentry>
    <term><guimenu>快速自动设置</guimenu>
    </term>
    <listitem>
     <para>
      您不需要执行任何进一步的配置步骤 — 声卡自动进行配置。您可以设置音量或稍后要更改的任意选项。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>常规设置</guimenu>
    </term>
    <listitem>
     <para>
      允许您在配置过程中调节输出音量和播放测试声音。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>可更改选项的高级设置</guimenu>
    </term>
    <listitem>
     <para>
      仅针对专家。允许您自定义声卡的所有参数。
     </para>
     <important>
      <title>高级配置</title>
      <para>
       只有在完全清楚自己所执行的操作时，才能使用该选项。否则，保留参数不变，并使用一般设置或自动设置选项。
      </para>
     </important>
    </listitem>
   </varlistentry>
  </variablelist>
  <step>
   <para>
    启动 YaST 声音模块。
   </para>
  </step>
  <step>
   <para>
    要配置检测到但<guimenu>未配置</guimenu>的声卡，请从列表中选择相应项，然后单击<guimenu>编辑</guimenu>。
   </para>
   <para>
    要配置新声卡，请单击<guimenu>添加</guimenu>。选择声卡供应商和型号，并单击<guimenu>下一步</guimenu>。
   </para>
  </step>
  <step>
   <para>
    选择其中一个设置选项，并单击<guimenu>下一步</guimenu>。
   </para>
  </step>
  <step>
   <para>
    如果选择了<guimenu>常规设置</guimenu>，则现在可以<guimenu>测试</guimenu>声音配置，并对音量进行调节。您应从总音量的 10% 开始，以免损坏您的听力或扬声器。
   </para>
  </step>
  <step>
   <para>
    如果对所有选项设置感到满意，请单击<guimenu>下一步</guimenu>。
   </para>
   <para>
    <guimenu>声音配置</guimenu>对话框只会显示新配置或经过修改的声卡。
   </para>
  </step>
  <step>
   <para>
    要删除不再需要的声卡配置，可以选择相应条目并单击<guimenu>删除</guimenu>。
   </para>
  </step>
  <step>
   <para>
    单击<guimenu>确定</guimenu>保存更改，并退出 YaST 声音模块。
   </para>
  </step>
 </procedure>

 <procedure>
  <title>修改声卡配置</title>
  <step>
   <para>
    要更改个别声卡的配置（仅针对专家！），可以在<guimenu>声音配置</guimenu>对话框中选择声卡条目并单击<guimenu>编辑</guimenu>。
   </para>
   <para>
    此时会转到<guimenu>声卡高级选项</guimenu>，在其中可以微调多个参数。有关更多信息，单击<guimenu>帮助</guimenu>。
   </para>
  </step>
  <step>
   <para>
    要调节已配置声卡的音量或测试声卡，可以在<guimenu>声音配置</guimenu>对话框中选择声卡条目，并单击<guimenu>其他</guimenu>。选择相应的菜单项。
   </para>
   <note>
    <title>YaST 混音器</title>
    <para>
     YaST 混音器设置仅提供基本选项。这些选项旨在用于差错（例如，是否可以听见测试声音）。从<menuchoice>
     <guimenu>其他</guimenu> <guimenu> 音量</guimenu> </menuchoice>访问 YaST 混音器设置。要每天使用声音选项和对这些选项进行微调，请使用桌面或 <command>alsasound</command> 命令行工具提供的混音器小程序。
    </para>
   </note>
  </step>
  <step>
   <para>
    要播放 MIDI 文件，可以选择<menuchoice> <guimenu>其他</guimenu>
    <guimenu>启动序列发生器</guimenu> </menuchoice>。
   </para>
  </step>
  <step>
   <para>
    检测到支持的声卡时，您可以安装 SoundFonts 来播放 MIDI 文件：
   </para>
   <substeps performance="required">
    <step>
     <para>
      将原始驱动程序 CD-ROM 插入 CD 或 DVD 驱动器。
     </para>
    </step>
    <step>
     <para>
      选择<menuchoice> <guimenu>其他</guimenu> <guimenu>安装 SoundFonts</guimenu> </menuchoice> 将 SF2 SoundFonts™ 安装到硬盘中。SoundFonts 保存在目录 <filename>/usr/share/sfbank/creative/</filename> 中。
     </para>
    </step>
   </substeps>
  </step>
  <step>
   <para>
    如果在系统中配置了多个声卡，则可以调整声卡的顺序。要将某个声卡设置为主设备，可以在<guimenu>声音配置</guimenu>中选择该声卡，并单击<menuchoice> <guimenu>其他</guimenu> <guimenu>设置为主卡</guimenu> </menuchoice>。索引为 <literal>0</literal> 的声音设备是默认设备，由系统和应用程序使用。
   </para>
  </step>
  <step>

   <para>
    默认情况下，<phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> 使用 PulseAudio 声音系统。它是帮助混合多个音频流的抽象层，能够绕过硬件可能会有的任何限制。要启用或禁用 PulseAudio 声音系统，可以单击<menuchoice> <guimenu>其他</guimenu>
    <guimenu>PulseAudio 配置</guimenu> </menuchoice>。如果启用，PulseAudio 守护程序将用于播放声音。禁用 <guimenu>PulseAudio 支持</guimenu>可在系统范围使用其他设置。
   </para>
  </step>
 </procedure>

 <para>
  单击<guimenu>确定</guimenu>并退出 YaST 声音模块时，将会保存所有声卡的音量和配置。混音器设置保存到文件 <filename>/etc/asound.state</filename> 中。ALSA 配置数据追加到文件 <filename>/etc/modprobe.d/sound</filename> 的末尾，并写入 <filename>/etc/sysconfig/sound</filename>。
 </para>
</chapter>
