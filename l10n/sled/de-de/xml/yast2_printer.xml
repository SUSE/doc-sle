<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_printer.xml" version="5.0" xml:id="sec-yast-hw-print">
 <title>Einrichten eines Druckers</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  YaST kann zum Konfigurieren von lokalen Druckern und Netzwerkdruckern verwendet werden. Weitere Informationen zum Drucken (allgemeine Informationen, technische Details und Fehlerbehebung) finden Sie unter <xref linkend="cha-print"/>.
 </para>

 <para>
  Klicken Sie in YaST auf <menuchoice> <guimenu>Hardware</guimenu>
  <guimenu>Drucker</guimenu> </menuchoice>, um das Druckermodul zu starten. Es wird standardmäßig in der Ansicht <guimenu>Druckerkonfigurationen</guimenu> geöffnet, die eine Liste aller verfügbaren und konfigurierten Drucker enthält. Diese Ansicht ist besonders dann nützlich, wenn Ihnen im Netzwerk sehr viele Drucker zur Verfügung stehen. Aus dieser Ansicht können Sie auch eine <guimenu>Testseite drucken</guimenu> und Drucker konfigurieren.
 </para>

 <note>
  <title>Starten von CUPS</title>
  <para>
   Damit Sie den an Ihr Gerät angeschlossenen Drucker verwenden können, muss CUPS auf Ihrem System installiert sein und ausgeführt werden. Wenn CUPS nicht ausgeführt wird, werden Sie aufgefordert, es zu starten. Falls CUPS beim Booten nicht gestartet wird, werden Sie außerdem aufgefordert, es zu aktivieren (empfohlen).
  </para>
 </note>

 <sect1 xml:id="sec-yast-hw-print-local">
  <title>Konfigurieren von Druckern</title>
  <para>
   Normalerweise werden USB-Drucker automatisch erkannt. Ist dies nicht der Fall, überprüfen Sie, ob der Drucker eingeschaltet und mit dem Gerät verbunden ist.
  </para>
  <para>
   Die Konfiguration eines Druckers erfolgt in drei Schritten: Geben Sie die Verbindungsart ein, wählen Sie einen Treiber und nennen Sie die Druckwarteschlange für diese Einrichtung.
  </para>
  <para>
   Für viele Druckermodelle sind mehrere Treiber verfügbar. Bei der Konfiguration des Druckers wählt YaST standardmäßig die mit <literal>recommended</literal> markierten aus. In der Regel muss der Treiber nicht geändert werden. Wenn jedoch ein Farbdrucker beispielsweise nur Schwarzweiß drucken soll, können Sie einen Treiber verwenden, der keinen Farbdruck unterstützt. Wenn bei der Grafikausgabe mit einem PostScript-Drucker Leistungsprobleme auftreten, wechseln Sie probeweise von einem PostScript-Treiber zu einem PCL-Treiber (vorausgesetzt Ihr Drucker unterstützt PCL).
  </para>
  <para>
   Wenn in der Liste kein Treiber für Ihren Drucker aufgeführt ist, versuchen Sie, einen generischen Treiber mit der passenden Standardsprache auszuwählen. Welche Sprache (Befehlssatz, durch den der Drucker gesteuert wird) Ihr Drucker unterstützt, erfahren Sie in der Dokumentation Ihres Druckers. Alternative Lösungen finden Sie unter <xref linkend="sec-yast-hw-print-local-get-ppd"/>.
  </para>
  <para>
   Ein Drucker wird immer über eine Druckwarteschlange verwendet. Dadurch wird sichergestellt, dass mehrere gleichzeitig gestartete Druckaufträge in eine Warteschlange gestellt und nacheinander ausgeführt werden. Jede Druckwarteschlange ist einem bestimmten Treiber zugewiesen; ein Drucker kann zudem auch über mehrere Warteschlangen verfügen. Sie haben dadurch zum Beispiel die Möglichkeit, für einen Farbdrucker eine zweite Druckwarteschlange für reine Schwarzweißdrucke einzurichten. Weitere Informationen zu Druckerwarteschlangen erhalten Sie unter <xref linkend="sec-print-workflow"/>.
  </para>
  <procedure xml:id="pro-y2-hw-print-local-config">
   <title>Hinzufügen eines neuen Druckers</title>
   <step>
    <para>
     Starten Sie das YaST-Druckermodul mit <menuchoice>
     <guimenu>Hardware</guimenu> <guimenu>Drucker</guimenu></menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Klicken Sie im Bildschirm <guimenu>Druckerkonfigurationen</guimenu> auf <guimenu>Hinzufügen</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Wenn Ihr Drucker bereits unter <literal>Specify the
     Connection</literal> aufgeführt ist, fahren Sie mit dem nächsten Schritt fort. Versuchen Sie es andernfalls mit der Option <guimenu>Weitere erkennen</guimenu> oder starten Sie den <guimenu>Verbindungsassistenten</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Geben Sie im Textfeld unter <literal>Find and Assign a Driver</literal> den Namen des Anbieters und den Modellnamen ein und klicken Sie auf <guimenu>Suchen nach</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Wählen Sie den richtigen Treiber für den Drucker aus. Es wird empfohlen, den zuerst aufgeführten Treiber auszuwählen. Wenn kein geeigneter Treiber angezeigt wird, versuchen Sie Folgendes.
    </para>
    <substeps performance="required">
     <step>
      <para>
       Überprüfen Sie den Suchbegriff.
      </para>
     </step>
     <step>
      <para>
       Erweitern Sie die Suche, indem Sie auf <guimenu>Mehr finden</guimenu> klicken.
      </para>
     </step>
     <step>
      <para>
       Fügen Sie einen Treiber hinzu, wie unter <xref linkend="sec-yast-hw-print-local-get-ppd"/> beschrieben.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     Geben Sie für <literal>Default paper size</literal> das Standardpapierformat an.
    </para>
   </step>
   <step>
    <para>
     Geben Sie im Feld <guimenu>Beliebigen Namen festlegen</guimenu> einen eindeutigen Namen für die Druckerwarteschlange ein.
    </para>
   </step>
   <step>
    <para>
     Für den Drucker sind nun die Standardeinstellungen konfiguriert; er ist damit betriebsbereit. Klicken Sie auf <guimenu>OK</guimenu>, um zur Ansicht <guimenu>Druckerkonfigurationen</guimenu> zurückzukehren. Der neu konfigurierte Drucker wird nun in der Liste der Drucker angezeigt.
    </para>
   </step>
  </procedure>
  <sect2 xml:id="sec-yast-hw-print-local-get-ppd">
   <title>Hinzufügen von Treibern mit YaST</title>
   <para>
    Nicht alle Druckertreiber, die für <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> verfügbar sind, werden auch standardmäßig installiert. Wenn beim Hinzufügen eines Druckers im Dialogfeld <guimenu>Treiber suchen und zuweisen</guimenu> kein geeigneter Treiber verfügbar ist, installieren Sie ein Treiberpaket mit Treibern für den Drucker:
   </para>
   <procedure>
    <title>Installieren von zusätzlichen Treiberpaketen</title>
    <step>
     <para>
      Starten Sie das YaST-Druckermodul mit <menuchoice>
      <guimenu>Hardware</guimenu> <guimenu>Drucker</guimenu> </menuchoice>.
     </para>
    </step>
    <step>
     <para>
      Klicken Sie im Bildschirm <guimenu>Druckerkonfigurationen</guimenu> auf <guimenu>Hinzufügen</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Klicken Sie im Abschnitt <literal>Find and Assign a Driver</literal> auf <guimenu>Treiberpakete</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Wählen Sie ein oder mehrere geeignete Treiberpakete in der Liste aus. Geben Sie <emphasis>nicht</emphasis> den Pfad zu einer Druckerbeschreibungsdatei an.
     </para>
    </step>
    <step>
     <para>
      Wählen Sie <guimenu>OK</guimenu> und bestätigen Sie die Paketinstallation.
     </para>
    </step>
    <step>
     <para>
      Sollen diese Treiber direkt verwendet werden, gehen Sie gemäß den Anweisungen in <xref linkend="pro-y2-hw-print-local-config"/> vor.
     </para>
    </step>
   </procedure>
   <para>
    Für PostScript-Drucker ist keine Druckertreiber-Software erforderlich. Für PostScript-Drucker benötigen Sie lediglich die richtige PostScript-Druckerbeschreibungsdatei (PPD-Datei) für das Druckermodell. Weitere PPD-Dateien erhalten Sie beim Druckerhersteller.
   </para>
   <para>
    Wenn beim Hinzufügen eines neuen Druckers im Dialogfeld <guimenu>Treiber suchen und zuweisen</guimenu> keine passende PPD-Datei vorhanden ist, installieren Sie eine PPD-Datei für Ihren Drucker:
   </para>
   <para>
    Es gibt mehrere Quellen für PPD-Dateien. Es wird empfohlen, zunächst die weiteren Treiberpakete zu nutzen, die in <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> inbegriffen sind, jedoch nicht standardmäßig installiert werden (Installationsanweisungen siehe unten). Falls diese Pakete keine geeigneten Dateien für Ihren Drucker enthalten, erhalten Sie die PPD-Dateien direkt vom Druckerhersteller oder von der Treiber-CD eines PostScript-Druckers. Weitere Informationen finden Sie unter <xref linkend="sec-print-prob-ppd"/>. PPD-Dateien können Sie auch unter <link xlink:href="https://www.openprinting.org/printers"/>, der <quote>Druckerdatenbank von OpenPrinting.org</quote>, suchen. Beachten Sie bei der Verwendung der PPD-Dateien von OpenPrinting, dass diese möglicherweise nicht von <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> unterstützt werden.
   </para>
   <procedure>
    <title>Hinzufügen einer PPD-Datei für PostScript-Drucker</title>
    <step>
     <para>
      Starten Sie das YaST-Druckermodul mit <menuchoice>
      <guimenu>Hardware</guimenu> <guimenu>Drucker</guimenu> </menuchoice>.
     </para>
    </step>
    <step>
     <para>
      Klicken Sie im Bildschirm <guimenu>Druckerkonfigurationen</guimenu> auf <guimenu>Hinzufügen</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Klicken Sie im Abschnitt <literal>Find and Assign a Driver</literal> auf <guimenu>Treiberpakete</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Geben Sie den vollständigen Pfad zur PPD-Datei in das Textfeld unter <literal>Make
      a Printer Description File Available</literal> ein.
     </para>
    </step>
    <step>
     <para>
      Klicken Sie auf <guimenu>OK</guimenu>, um zum Bildschirm <literal>Add New Printer
      Configuration</literal> zurückzukehren.
     </para>
    </step>
    <step>
     <para>
      Gehen Sie wie unter <xref linkend="pro-y2-hw-print-local-config"/> beschrieben vor, um diese PPD-Datei direkt zu verwenden.
     </para>
    </step>
   </procedure>
  </sect2>
  <sect2 xml:id="sec-yast-hw-print-local-tune">
   <title>Anpassen einer lokalen Druckerkonfiguration</title>
   <para>
    Sie können die vorhandene Konfiguration für einen Drucker bearbeiten und damit grundlegende Einstellungen wie den Verbindungstyp und den Treiber ändern. Außerdem lassen sich die Standardeinstellungen für Papierformat, Auflösung, Medienquelle usw. anpassen. Sollen die Kennungen für den Drucker geändert werden, bearbeiten Sie die Beschreibung oder den Ort des Druckers.
   </para>
   <procedure>
    <step>
     <para>
      Starten Sie das YaST-Druckermodul mit <menuchoice>
      <guimenu>Hardware</guimenu> <guimenu>Drucker</guimenu> </menuchoice>.
     </para>
    </step>
    <step>
     <para>
      Wählen Sie im Bildschirm <guimenu>Druckerkonfigurationen</guimenu> die Konfiguration für einen lokalen Drucker in der Liste aus und klicken Sie auf <guimenu>Bearbeiten</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Ändern Sie die Verbindungsart oder den Treiber wie unter <xref linkend="pro-y2-hw-print-local-config"/> beschrieben. Dies sollte jedoch nur erforderlich sein, wenn Sie Probleme mit der aktuellen Konfiguration haben.
     </para>
    </step>
    <step>
     <para>
      Optional: Legen Sie diesen Drucker als Standarddrucker fest, indem Sie die Option <guimenu>Standarddrucker</guimenu> aktivieren.
     </para>
    </step>
    <step>
     <para>
      Passen Sie die Standardeinstellungen an, indem Sie auf <guimenu>Alle Optionen für den aktuellen Treiber</guimenu> klicken. Erweitern Sie zum Ändern einer Einstellung die Liste der Optionen, indem Sie auf das entsprechende Pluszeichen (<literal>+</literal>) klicken. Ändern Sie die Standardeinstellung, indem Sie auf eine Option klicken. Übernehmen Sie die Änderungen mit <guimenu>OK</guimenu>.
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-yast-hw-print-network">
  <title>Konfigurieren des Netzwerkdrucks in YaST</title>
  <para>
   Netzwerkdrucker werden nicht automatisch erkannt. Sie müssen manuell konfiguriert werden. Hierfür verwenden Sie das Druckermodul von YaST. Je nach der Einrichtung Ihres Netzwerks können Sie auf einen Druckserver (CUPS, LPD, SMB oder IPX) oder direkt auf einen Netzwerkdrucker (vorzugsweise über TCP) drucken. Das Fenster für die Konfiguration des Netzwerkdrucks öffnen Sie über die Option <guimenu>Über Netzwerk drucken</guimenu> auf der linken Seite des Druckermoduls von YaST.
  </para>
  <sect2 xml:id="sec-yast-hw-print-network-cups">
   <title>Verwenden von CUPS</title>
   <para>
    In einer Linux-Umgebung wird für den Netzwerkdruck CUPS verwendet. Bei der einfachsten Konfiguration erfolgt der Ausdruck über einen einzigen CUPS-Server, auf den alle Clients zugreifen können. Zum Drucken über mehr als einen CUPS-Server ist ein aktivierter lokaler CUPS-Daemon erforderlich, der mit den entfernten CUPS-Servern kommuniziert.
   </para>
   <important>
    <title>Durchsuchen der Netzwerkdrucker-Warteschlangen</title>
    <para>
     Die CUPS-Server geben ihre Druckerwarteschlangen entweder über das herkömmliche CUPS-Browsing-Protokoll oder über Bonjour/DND-SD im Netzwerk bekannt. Die Clients müssen diese Listen durchsuchen können, damit die Benutzer bestimmte Drucker auswählen können, an die sie die Druckaufträge senden. Um Netzwerkdruckerwarteschlangen durchsuchen zu können, muss der Dienst <systemitem class="daemon">cups-browsed</systemitem> aus dem Paket <systemitem class="resource">cups-filters-cups-browsed</systemitem> auf allen Clients ausgeführt werden, die über CUPS-Server drucken. <systemitem class="daemon">cups-browsed</systemitem> wird automatisch gestartet, sobald Sie den Netzwerkdruck mit YaST konfigurieren.
    </para>
    <para>
     Falls das Durchsuchen nach dem Starten von <systemitem class="daemon">cups-browsed</systemitem> nicht funktioniert, geben die CUPS-Server die Netzwerkdruckerwarteschlangen möglicherweise über Bonjour/DNS-SD bekannt. In diesem Fall müssen Sie zusätzlich das Paket <systemitem class="resource">avahi</systemitem> und den zugehörigen Dienst mit <command>sudo systemctl start avahi-daemon</command> auf allen Clients starten.
    </para>
   </important>
   <procedure>
    <title>Drucken über einen einzelnen CUPS-Server</title>
    <step>
     <para>
      Starten Sie das YaST-Druckermodul mit <menuchoice>
      <guimenu>Hardware</guimenu> <guimenu>Drucker</guimenu> </menuchoice>.
     </para>
    </step>
    <step>
     <para>
      Wählen Sie im linken Bereich die Option <guimenu>Über Netzwerk drucken</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Aktivieren Sie <guimenu>Alle Druckaufträge direkt über einen einzelnen CUPS-Server ausführen</guimenu> und geben Sie den Namen oder die IP-Adresse des Servers an. 
     </para>
    </step>
    <step>
     <para>
      Klicken Sie auf <guimenu>Server testen</guimenu>, um sicherzustellen, dass Sie den richtigen Namen bzw. die richtige IP-Adresse angegeben haben. 
     </para>
    </step>
    <step>
     <para>
      Klicken Sie auf <guimenu>OK</guimenu>, um zum Bildschirm <guimenu>Druckerkonfigurationen</guimenu> zurückzukehren. Alle Drucker, die über den CUPS-Server verfügbar sind, werden nun aufgelistet.
     </para>
    </step>
   </procedure>
   <procedure>
    <title>Drucken über mehrere CUPS-Server</title>
    <step>
     <para>
      Starten Sie das YaST-Druckermodul mit <menuchoice>
      <guimenu>Hardware</guimenu> <guimenu>Drucker</guimenu> </menuchoice>.
     </para>
    </step>
    <step>
     <para>
      Wählen Sie im linken Bereich die Option <guimenu>Über Netzwerk drucken</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Aktivieren Sie <guimenu>Druckerankündigungen von CUPS-Servern akzeptieren</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Geben Sie unter <literal>General Settings</literal> an, welche Server verwendet werden müssen. Sie können Verbindungen von allen verfügbaren Netzwerken oder von bestimmten Hosts akzeptieren. Wenn Sie letztere Option wählen, müssen Sie die Hostnamen oder IP-Adressen angeben.
     </para>
    </step>
    <step>
     <para>
      Wenn Sie aufgefordert werden, einen lokalen CUPS-Server zu starten, klicken Sie auf <guimenu>OK</guimenu> und dann auf <guimenu>Ja</guimenu>. Nachdem der Server gestartet wurde, kehrt YaST zum Bildschirm <guimenu>Druckerkonfigurationen</guimenu> zurück. Klicken Sie auf <guimenu>Liste aktualisieren</guimenu>, um die bislang erkannten Drucker anzuzeigen.
     </para>
    </step>
   </procedure>
  </sect2>
  <sect2 xml:id="sec-yast-hw-print-network-other">
   <title>Verwenden von Nicht-CUPS-Druckservern</title>
   <para>
    Wenn Ihr Netzwerk Druckservices über Druckserver anbietet, die keine CUPS-Server sind, starten Sie das YaST-Druckermodul mit <menuchoice>
    <guimenu>Hardware</guimenu><guimenu>Drucker</guimenu></menuchoice> und wählen Sie im linken Bereich <guimenu>Über Netzwerk drucken</guimenu> aus. Starten Sie den <guimenu>Verbindungsassistenten</guimenu> und wählen Sie die entsprechende <guimenu>Verbindungsart</guimenu> aus. Ihr Netzwerkadministrator stellt Ihnen weitere Informationen zur Konfiguration eines Netzwerkdruckers in Ihrer Umgebung zur Verfügung.
   </para>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-yast-hw-print-share">
  <title>Freigeben von Druckern im Netzwerk</title>
  <para>
   Drucker, die von einem lokalen CUPS-Daemon verwaltet werden, können über das Netzwerk freigegeben werden, wodurch Ihr Rechner zu einem CUPS-Server wird. In der Regel wird ein Drucker durch Aktivierung des sogenannten <quote>Browsing-Modus</quote> in CUPS freigegeben. Wenn Browsing aktiviert ist, stehen die lokalen Druckerwarteschlangen den entfernten CUPS-Daemonen zur Überwachung im Netzwerk zur Verfügung. Es kann aber auch ein dedizierter CUPS-Server eingerichtet werden, der alle Druckwarteschlangen verwaltet und für die entfernten Clients direkt zugänglich ist. In diesem Fall ist die Aktivierung des Browsing-Modus nicht erforderlich.
  </para>
  <procedure>
   <title>Freigeben von Druckern</title>
   <step>
    <para>
     Starten Sie das YaST-Druckermodul mit <menuchoice>
     <guimenu>Hardware</guimenu> <guimenu>Drucker</guimenu> </menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Wählen Sie <guimenu>Drucker freigeben</guimenu> im linken Bereich aus.
    </para>
   </step>
   <step>
    <para>
     Wählen Sie <guimenu>Entfernten Zugriff zulassen</guimenu> aus. Aktivieren Sie auch die Option <guimenu>Für Computer im lokalen Netzwerk</guimenu> und aktivieren Sie den Browsing-Modus, indem Sie außerdem die Option <guimenu>Drucker standardmäßig im lokalen Netzwerk veröffentlichen</guimenu> aktivieren.
    </para>
   </step>
   <step>
    <para>
     Klicken Sie auf <guimenu>OK</guimenu>, um den CUPS-Server neu zu starten, und kehren Sie zum Bildschirm <guimenu>Druckerkonfigurationen</guimenu> zurück.
    </para>
   </step>
   <step>
    <para>
     Informationen zu CUPS- und Firewall-Einstellungen finden Sie unter <link xlink:href="https://en.opensuse.org/SDB:CUPS_and_SANE_Firewall_settings"/>.
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
