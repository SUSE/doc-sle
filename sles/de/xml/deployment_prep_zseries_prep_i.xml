<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_prep_zseries_prep_i.xml" version="5.0" xml:id="sec.zseries.prep">
 <title>Vorbereitung der Installation</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>Ja</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  In diesem Abschnitt erfahren Sie, wie Sie die Daten zur Installation bereitstellen, <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> mit verschiedenen Methoden installieren und den IPL-Vorgang des <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-Installationssystems vorbereiten und ausführen. Darüber hinaus erhalten Sie Informationen zur Konfiguration der Netzwerkinstallation.
 </para>

 <sect2 xml:id="sec.prep.makeavail">
  <title>Bereitstellen der Installationsdaten</title>
  <para>
   In diesem Abschnitt finden Sie ausführliche Informationen dazu, wie Sie die Installationsdaten für <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> auf IBM z Systems zur Installation bereitstellen. Je nach Computer- und Systemumgebung treffen Sie eine Auswahl zwischen der NFS- oder FTP-Installation. Wenn Sie in Ihrer Umgebung Microsoft Windows-Arbeitsstationen betreiben, können Sie auch das Windows-Netzwerk einschließlich des SMB-Protokolls für die Installation von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> auf dem System mit IBM z Systems verwenden.
  </para>
  <tip>
   <title>IPL von DVD</title>
   <para>
    Seit Service Pack 1 von SUSE Linux Enterprise Server Version 10 kann IPL von DVD ausgeführt und die DVD als Installationsmedium verwendet werden. Dies ist besonders praktisch, wenn Beschränkungen für das Einrichten eines Installationsservers bestehen, der Installationsmedien über das Netzwerk bereitstellt. Voraussetzung ist ein per FCP angeschlossenes SCSI-DVD-Laufwerk.
   </para>
  </tip>
  <note>
   <title>Keine Installation <quote>Von Festplatte</quote></title>
   <para>
    Es ist nicht möglich, von einer Festplatte zu installieren, indem der Inhalt der DVD auf eine Partition auf einem DASD kopiert wird.
   </para>
  </note>
  <sect3 xml:id="sec.prep.makeavail.linuxws">
   <title>Verwenden einer DVD für Linux Workstation oder <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></title>
   <para>
    Wenn Sie in Ihrer Rechnerumgebung einen Linux-Arbeitsplatzrechner betreiben, stellen Sie hierüber die Installationsdaten für den Installationsvorgang für IBM z Systems mit NFS oder FTP bereit. Wenn der Linux-Arbeitsplatzrechner unter <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> ausgeführt wird, können Sie einen Installationsserver (NFS oder FTP) über das YaST-Modul <guimenu>Installationsserver</guimenu> einrichten, wie unter <xref linkend="sec.deployment.instserver.sles9"/> beschrieben.
   </para>
   <sect4 xml:id="sec.prep.makeavail.linuxws.nfs">
    <title>Über NFS</title>
    <para>
     Die Installationsmedien werden über NFS (Network File System) verfügbar gemacht.
    </para>
    <important>
     <title>Export eingehängter Geräte über NFS</title>
     <para>
      Durch das Exportieren des Dateisystem-Root (<filename>/</filename>) werden eingehängte Geräte (z. B. DVD) nicht automatisch exportiert. Der Einhängepunkt muss in <filename>/etc/exports</filename> explizit angegeben werden:
     </para>
<screen>/media/dvd  *(ro)</screen>
     <para>
      Starten Sie nach dem Ändern dieser Datei den NFS-Server mit dem Befehl <command>sudo systemctl restart nfsserver</command> neu.
     </para>
    </important>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.linuxws.ftp">
    <title>Über FTP</title>
    <para>
     Die Einrichtung eines FTP-Servers auf einem Linux-System umfasst die Installation der Serversoftware selbst, zum Beispiel
     <package>pure-ftpd</package>
     oder
     <package>vsftpd,</package>
     sowie weitere mögliche Konfigurationsaufgaben. Wenn Sie <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> verwenden, lesen Sie die Installationsanweisungen im <xref linkend="cha.ftp"/>. Da ein Download der Installationsdaten über eine anonyme Anmeldung nicht unterstützt wird, müssen Sie den FTP-Server für die Unterstützung der Benutzerauthentifizierung konfigurieren.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.linuxws.oncd">
    <title><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> auf DVD</title>
    <para>
     DVD 1 für <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> für IBM z Systems enthält ein bootfähiges Linux-Image für Intel-gestützte Arbeitsplatzrechner sowie ein Image für z Systems.
    </para>
    <para>
     Booten Sie für Intel-basierte Arbeitsplatzrechner von dieser DVD, beantworten Sie die Fragen hinsichtlich bevorzugter Sprache und Tastaturbelegung und wählen Sie dann <guimenu>Start rescue system</guimenu> (Rettungssystem starten) aus. Hierfür sind mindestens 64 MB RAM erforderlich. Festplattenspeicher wird nicht benötigt, da sich das gesamte Rettungssystem im RAM (Random Accesss Memory) des Arbeitsplatzrechners befindet. Dieser Ansatz setzt ausreichend Erfahrung mit Linux und Netzwerken voraus, da die Netzwerkfunktionen des Arbeitsplatzrechners manuell eingerichtet werden müssen.
    </para>
    <para>
     Führen Sie für z Systems für Ihre LPAR/Ihren VM-Gast IPL von dieser DVD aus, wie in <xref linkend="sec.prep.ipling.lpar.dvd"/> beschrieben. Nach der Eingabe Ihrer Netzwerkparameter behandelt das Installationssystem die DVD als Quelle der Installationsdaten. Da kein X11-fähiges Terminal direkt an z Systems angeschlossen werden kann, wählen Sie zwischen VNC- und SSH-Installation. SSH bietet auch eine grafische Installation durch Tunneling der X-Verbindung über SSH mit <command>ssh -X</command>.
    </para>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.makeavail.windowsws">
   <title>Mit einer Microsoft Windows-Arbeitsstation</title>
   <para>
    Wenn in Ihrem Netzwerk eine Microsoft Windows-Arbeitsstation verfügbar ist, verwenden Sie diesen Computer zur Bereitstellung der Installationsmedien. Am einfachsten lässt sich dies mithilfe des SMB-(Server Message Block-)Protokolls bewerkstelligen, das bereits in das Windows-Betriebssystem integriert ist. Aktivieren Sie in jedem Fall <guimenu>SMB über TCP/IP</guimenu>, da hierdurch die Verkapselung von SMB-Paketen in TCP/IP-(Transmission Control Protocol/Internet Protocol-)Pakete ermöglicht wird. Detaillierte Informationen finden Sie in der Windows-Online-Hilfe bzw. in anderen Windows-Dokumentationen, die sich auf Netzwerke beziehen. Sie können auch FTP (File Transfer Protocol) verwenden. Auch hierfür ist Drittanbieter-Software für Windows erforderlich.
   </para>
   <sect4 xml:id="sec.prep.makeavail.windowsws.smb">
    <title>Mit SMB</title>
    <para>
     Wenn Sie die Installationsmedien über SMB bereitstellen möchten, legen Sie die <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-DVD 1 in das DVD-Laufwerk der Windows-Arbeitsstation ein. Erstellen Sie dann unter Verwendung des Laufwerkbuchstabens des DVD-ROM-Laufwerks eine neue Freigabe und stellen Sie sie für sämtliche Benutzer im Netzwerk bereit.
    </para>

    <para>
     Der Installationspfad in YaST kann wie folgt lauten:
    </para>
<screen>smb://<replaceable>DOMAIN</replaceable>;<replaceable>USER</replaceable>:<replaceable>PW</replaceable>@<replaceable>SERVERNAME</replaceable>/<replaceable>SHAREPATH</replaceable></screen>
    <para>
     Die Platzhalter bedeuten dabei Folgendes:
    </para>
    <variablelist>
     <varlistentry>
      <term><replaceable>DOMAIN</replaceable>
      </term>
      <listitem>
       <para>
        Optionale Arbeitsgruppe oder Active Directory-Domäne.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable>USER</replaceable>
      </term>
      <term><replaceable>PW</replaceable>
      </term>
      <listitem>
       <para>
        Optionaler Benutzername und Passwort eines Benutzers, der auf diesen Server und seine Freigabe zugreifen kann.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable>SERVERNAME</replaceable>
      </term>
      <listitem>
       <para>
        Name des Servers, auf dem sich die Freigabe(n) befinden.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable>SHAREPATH</replaceable>
      </term>
      <listitem>
       <para>
        Pfad für die Freigabe(n).
       </para>
      </listitem>
     </varlistentry>
    </variablelist>


    <para/>

   </sect4>
   <sect4 xml:id="sec.prep.makeavail.windowsws.nfs">
    <title>Mit NFS</title>
    <para>
     Ziehen Sie die im Lieferumfang des Drittanbieter-Produkts enthaltene Dokumentation zurate, mit dem NFS-Serverdienste für Ihre Windows-Arbeitsstation aktiviert werden. Das DVD-ROM-Laufwerk, in das die <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-DVDs eingelegt sind, muss sich im verfügbaren NFS-Pfad befinden.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.windowsws.ftp">
    <title>Mit FTP</title>
    <para>
     Ziehen Sie die im Lieferumfang des Drittanbieter-Produkts enthaltene Dokumentation zurate, mit dem FTP-Serverdienste auf Ihrer Windows-Arbeitsstation aktiviert werden. Das DVD-ROM-Laufwerk, in das die <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-DVDs eingelegt sind, muss sich im verfügbaren FTP-Pfad befinden.
    </para>
    <para>
     Der in einigen Versionen von Microsoft Windows enthaltene FTP-Server implementiert lediglich eine Teilmenge des FTP-Kommandosatzes und ist für die Bereitstellung der Installationsdaten nicht geeignet. Falls dies bei Ihrer Windows-Arbeitsstation der Fall ist, verwenden Sie einen FTP-Server eines anderen Anbieters, der die erforderlichen Funktionen bereitstellt.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.windowsws.scsi">
    <title>Verwenden eines per FCP angeschlossenen SCSI-DVD-Laufwerks</title>
    <para>
     Nachdem Sie den IPL-Vorgang, wie in <xref linkend="sec.info.iplopt.dvd"/> beschrieben, durchgeführt haben, verwendet das Installationssystem die DVD als Installationsmedium. In diesem Fall benötigen Sie die Installationsmedien nicht auf einem FTP-, NFS- oder SMB-Server. Jedoch benötigen Sie die Netzwerkkonfigurationsdaten für Ihren <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, da Sie das Netzwerk während der Installation zur Ausführung einer grafischen Installation per VNC oder X-Tunneling durch SSH einrichten müssen.
    </para>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.makeavail.zpxe_cobbler">
   <title>Verwenden eines Cobbler-Servers für zPXE</title>
   <para>
    Zur Ausführung von IPL vom Netzwerk ist ein Cobbler-Server mit Kernel, initrd und Installationsdaten erforderlich. Der Cobbler-Server wird in vier Schritten vorbereitet:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Importieren der Installationsdaten
     </para>
    </listitem>
    <listitem>
     <para>
      Hinzufügen einer Distribution
     </para>
    </listitem>
    <listitem>
     <para>
      Hinzufügen von Profilen
     </para>
    </listitem>
    <listitem>
     <para>
      Hinzufügen von Systemen
     </para>
    </listitem>
   </itemizedlist>
   <sect4 xml:id="sec.prep.makeavail.zpxe_cobbler.import">
    <title>Importieren der Installationsdaten</title>
    <para>
     Zum Importieren der Medien muss die Installationsquelle auf dem Cobbler-Server verfügbar sein – wahlweise als DVD oder als Netzwerkquelle. Führen Sie den folgenden Befehl aus, um die Daten zu importieren:
    </para>
<screen>cobbler import --path=<replaceable>PATH</replaceable><co xml:id="cobbler.import.path"/> --name=<replaceable>IDENTIFIER</replaceable><co xml:id="cobbler.import.dirname"/> --arch=s390x</screen>
    <calloutlist>
     <callout arearefs="cobbler.import.path">
      <para>
       Einhängepunkt der Installationsdaten.
      </para>
     </callout>
     <callout arearefs="cobbler.import.dirname">
      <para>
       Eine Zeichenkette, die das importierte Produkt bezeichnet, z. B. <quote>sles12_s390x</quote>. Diese Zeichenkette wird als Name für das Unterverzeichnis verwendet, in das die Installationsdaten kopiert werden. Auf einem Cobbler-Server unter SUSE Linux Enterprise ist dies <filename>/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable></filename>. Wenn Cobbler unter einem anderen Betriebssystem ausgeführt wird, gilt ggf. ein anderer Pfad.
      </para>
     </callout>
    </calloutlist>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.zpxe_cobbler.add_distro">
    <title>Hinzufügen einer Distribution</title>
    <para>
     Durch das Hinzufügen einer Distribution weisen Sie Cobbler an, die für IPL erforderlichen Bestandteile (Kernel und initrd) über zPXE bereitzustellen. Zum Hinzufügen von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> für IBM z Systems führen Sie den folgenden Befehl auf dem Cobbler-Server aus:
    </para>
<screen>cobbler distro add --arch=s390 --breed=suse --name="<replaceable>IDENTIFIER</replaceable>"<co xml:id="cobbler.add.identifier"/> \
  --os-version=sles12<co xml:id="cobbler.add.os"/> \
  --initrd=/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>/boot/s390x/initrd<co xml:id="cobbler.add.initrd"/> \
  --kernel=/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>/boot/s390x/linux<co xml:id="cobbler.add.kernel"/> \
  --kopts="install=http://cobbler.example.com/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>"<co xml:id="cobbler.add.server"/>
    </screen>
    <calloutlist>
     <callout arearefs="cobbler.add.identifier">
      <para>
       Benutzerdefinierte Kennung für die Distribution, beispielsweise <quote>SLES <phrase role="productnumber"><phrase os="sles;sled;slerte">12 SP3</phrase></phrase> z Systems</quote>. Muss eindeutig sein.
      </para>
     </callout>
     <callout arearefs="cobbler.add.os">
      <para>
       Kennung für das Betriebssystem. Verwenden Sie <literal>sles12</literal>.
      </para>
     </callout>
     <callout arearefs="cobbler.add.initrd">
      <para>
       Path für initrd. Der erste Teil des Pfads (<filename>/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>/</filename>) ist abhängig vom Speicherort, an den die Daten durch Cobbler importiert wurden, sowie vom Namen des Unterverzeichnisses, den Sie beim Importieren der Installationsdaten angegeben haben.
      </para>
     </callout>
     <callout arearefs="cobbler.add.kernel">
      <para>
       Pfad des Kernels. Der erste Teil des Pfads (<filename>/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>/</filename>) ist abhängig vom Speicherort, an den die Daten durch Cobbler importiert wurden, sowie vom Namen des Unterverzeichnisses, den Sie beim Importieren der Installationsdaten angegeben haben.
      </para>
     </callout>
     <callout arearefs="cobbler.add.server">
      <para>
       URL des Installationsverzeichnisses auf dem Cobbler-Server.
      </para>
     </callout>
    </calloutlist>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.zpxe_cobbler.profile">
    <title>Anpassen des Profils</title>
    <para>
     Wenn Sie eine Distribution hinzufügen (siehe <xref linkend="sec.prep.makeavail.zpxe_cobbler.add_distro"/>), wird automatisch ein Profil mit der entsprechenden <replaceable>KENNUNG</replaceable> erzeugt. Mit dem folgenden Befehl nehmen Sie einige erforderliche Anpassungen vor:
    </para>
<screen>cobbler distro edit \
--name=<replaceable>IDENTIFIER</replaceable><co xml:id="cobbler.profile.name"/> --os-version=sles10<co xml:id="cobbler.profile.os"/> --ksmeta=""<co xml:id="cobbler.profile.meta"/>
--kopts="install=http://cobbler.example.com/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>"<co xml:id="cobbler.profile.opts"/></screen>
    <calloutlist>
     <callout arearefs="cobbler.profile.name">
      <para>
       Kennung für das Profil. Verwenden Sie dieselbe Zeichenkette, die Sie beim Hinzufügen der Distribution angegeben haben.
      </para>
     </callout>
     <callout arearefs="cobbler.profile.os">
      <para>
       Version des Betriebssystems. Distribution, für die das Profil gelten soll. Verwenden Sie hier die Zeichenkette, die Sie mit <option>--name=<replaceable>IDENTIFIER</replaceable></option> beim Importieren festgelegt haben.
      </para>
     </callout>
     <callout arearefs="cobbler.profile.meta">
      <para>
       Erforderliche Option zum Erstellen von Vorlagen für Kickstart-Dateien. In SUSE nicht verwendet. Geben Sie daher einen leeren Wert an, wie im Beispiel ersichtlich.
      </para>
     </callout>
     <callout arearefs="cobbler.profile.opts">
      <para>
       Durch Komma getrennte Liste der Kernel-Parameter. Muss mindestens den Parameter <literal>install</literal> enthalten, wie im Beispiel ersichtlich.
      </para>
     </callout>
    </calloutlist>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.zpxe_cobbler.system">
    <title>Hinzufügen von Systemen</title>
    <para>
     Als letzten Schritt fügen Sie Systeme zum Cobbler-Server hinzu. Für jeden z Systems-Gast, der über zPXE gebootet werden soll, muss ein System hinzugefügt werden. Gäste werden mit einer z/VM-Benutzer-ID bezeichnet. (Im nachfolgenden Beispiel wird die ID <quote>linux01</quote> verwendet.) Die Zeichenkette dieser ID muss dabei aus Kleinbuchstaben bestehen. Führen Sie den folgenden Befehl aus, um ein System hinzuzufügen:
    </para>
<screen>cobbler system add --name=linux01 --hostname=linux01.example.com \
--profile=<replaceable>IDENTIFIER</replaceable> --interface=qdio \
--ip-address=192.168.2.103 --subnet=192.168.2.255 --netmask=255.255.255.0 \
--name-servers=192.168.1.116 --name-servers-search=example.com \
--gateway=192.168.2.1 --kopts="<replaceable>KERNEL_OPTIONS</replaceable>"</screen>
    <para>
     Mit der Option <option>--kopts</option> legen Sie die Kernel- und Installationsparameter fest, die ansonsten in der parmfile angegeben werden. Die Parameter werden (durch Leerzeichen getrennt) im Format <replaceable>PARAMETER1=VALUE1 PARAMETER2=VALUE2</replaceable> eingegeben. Bei fehlenden Parametern werden Sie durch das Installationsprogramm zur Eingabe aufgefordert. Für eine vollständig automatisierte Installation müssen Sie alle Parameter für Netzwerke und DASDs angeben und eine AutoYaST-Datei bereitstellen. Im nachfolgenden Beispiel wird ein Gast mit einer OSA-Schnittstelle dargestellt, der die obigen Netzwerkparameter nutzt.
    </para>
<screen>--kopts=" \
AutoYaST=http://192.168.0.5/autoinst.xml \
Hostname=linux01.example.com \
Domain=example.com \
HostIP=192.168.2.103 \
Gateway=192.168.2.1 \
Nameserver=192.168.1.116 \
Searchdns=example.com \
InstNetDev=osa; \
Netmask=255.255.255.0 \
Broadcast=192.168.2.255 \
OsaInterface=qdio \
Layer2=0 \
PortNo=0 \
ReadChannel=0.0.0700 \
WriteChannel=0.0.0701 \
DataChannel=0.0.0702 \
DASD=600"</screen>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.makeavail.dvd_usb_hmc">
   <title>Installieren von DVD oder einem Flash-Laufwerk der HMC</title>
   <para>
    Für die Installation von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> auf IBM z Systems-Servern wird in der Regel eine Installationsquelle im Netzwerk benötigt. Diese Anforderung kann jedoch möglicherweise nicht in allen Umgebungen erfüllt werden. Bei SUSE Linux Enterprise Server können Sie die vorhandene DVD oder das Flash-Laufwerk der Hardware Management Console (HMC) als Installationsquelle für die Installation in einer logischen Partition (LPAR) verwenden.
   </para>
   <para>
    Gehen Sie wie folgt vor, um eine mediengebundene Installation über die DVD oder das Flash-Laufwerk der HMC auszuführen: 
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Fügen Sie
     </para>
     <para>
      <option>install=hmc:/</option>
     </para>
     <para>
      zur Parameterdatei <filename>parmfile</filename> (siehe <xref linkend="sec.appdendix.parm"/>) oder zu den Kernel-Optionen hinzu.
     </para>
     <para/>
    </listitem>
    <listitem>
     <para>
      Alternativ dazu können Sie auch im manuellen Modus in <filename>linuxrc</filename> Folgendes auswählen:
     </para>
     <para>
      <emphasis role="italic">Start Installation</emphasis> (Installation starten), anschließend
     </para>
     <para>
      <emphasis role="italic">Installation</emphasis> und danach
     </para>
     <para>
      <emphasis role="italic">Hardware Management Console</emphasis>.
     </para>
     <para>
      Das Installationsmedium muss in die HMC eingesetzt werden.
     </para>
    </listitem>
   </itemizedlist>
   <important>
    <title>Konfigurieren des Netzwerks</title>
    <para>
     Denken Sie daran, dass Sie vor Beginn der Installation das Netzwerk in <filename>linuxrc</filename> konfigurieren müssen. Sie haben später keine Möglichkeit mehr, Bootparameter zu übergeben, und Sie werden wahrscheinlich Netzwerkzugriff benötigen. Rufen Sie in <filename>linuxrc</filename> <emphasis role="italic">Start Installation</emphasis> (Installation starten) auf und wählen Sie dann <emphasis role="italic">Netzwerkkonfiguration</emphasis> aus.
    </para>
   </important>
   <important>
    <title>Das Linux-System muss zuerst gebootet werden</title>
    <para>
     Erteilen Sie den Zugriff auf die Medien auf der DVD oder auf dem Flash-Laufwerk der HMC erst, wenn das Linux-System gebootet wurde. Der IPL-Vorgang kann die Verbindung zwischen der HMC und der LPAR stören. Falls beim ersten Versuch mit der beschriebenen Methode ein Fehler auftritt, können Sie den Zugriff erteilen und die Option <option>HMC</option> wiederholen.
    </para>
   </important>
   <note>
    <title>Installations-Repository</title>
    <para>
     Da es sich nur um eine vorübergehende Zuweisung handelt, werden die DVD oder Flash-Laufwerkdateien nicht als Repository für die Installation beibehalten. Falls Sie ein Installations-Repository benötigen, müssen Sie das Online-Repository registrieren und verwenden.
    </para>
   </note>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.inst_types">
  <title>Installationstypen</title>
  <para>
   In diesem Abschnitt finden Sie Informationen dazu, welche Schritte zur Installation von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> in den einzelnen Installationsmodi durchgeführt werden müssen und wo sich die entsprechenden Informationen befinden. Halten Sie sich nach Abschluss der in den vorherigen Kapiteln erwähnten Vorbereitungsschritte an den Installationsüberblick des gewünschten Installationsmodus, um <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> auf Ihrem System zu installieren.
  </para>
  <para>
   Wie in <xref linkend="sec.prep.makeavail"/> beschrieben gibt es drei unterschiedliche Installationsmodi für Linux auf IBM z Systems:
  </para>
  <itemizedlist>
   <listitem>
    <para>
     LPAR-Installation
    </para>
   </listitem>
   <listitem>
    <para>
     z/VM-Installation
    </para>
   </listitem>
   <listitem>
    <para>
     Installation eines KVM-Gasts
    </para>
   </listitem>
  </itemizedlist>
  <procedure xml:id="pro.prep.inst_types.lpar">
   <title>Überblick über eine LPAR-Installation</title>
   <step>
    <para>
     Bereiten Sie die für die Installation benötigten Geräte vor. Weitere Informationen hierzu finden Sie unter <xref linkend="sec.prep.prep_ipl.natlpar"/>. 
    </para>
   </step>
   <step>
    <para>
     Führen Sie den IPL-(Initial Program Load-)Vorgang für das Installationssystem durch. Weitere Informationen hierzu finden Sie unter <xref linkend="sec.prep.ipling.lpar"/>. 
    </para>
   </step>
   <step>
    <para>
     Konfigurieren Sie das Netzwerk. Weitere Informationen hierzu finden Sie unter <xref linkend="sec.prep.netcfg"/>. 
    </para>
   </step>
   <step>
    <para>
     Stellen Sie eine Verbindung zum <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-Installationssystem her. Weitere Informationen hierzu finden Sie unter <xref linkend="sec.prep.connect"/>.
    </para>
   </step>
   <step>
    <para>
     Starten Sie die Installation mit YaST, und führen Sie den IPL-Vorgang für das installierte System durch. Weitere Informationen hierzu finden Sie unter <xref linkend="cha.inst"/>.
    </para>
   </step>
  </procedure>
  <procedure xml:id="pro.prep.inst_types.vm">
   <title>Installationsüberblick über die z/VM-Installation</title>
   <step>
    <para>
     Bereiten Sie die für die Installation benötigten Geräte vor. Weitere Informationen hierzu finden Sie unter <xref linkend="sec.prep.prep_ipl.vm"/>. 
    </para>
   </step>
   <step>
    <para>
     Führen Sie den IPL-(Initial Program Load-)Vorgang für das Installationssystem durch. Weitere Informationen hierzu finden Sie unter <xref linkend="sec.prep.ipling.vm"/>. 
    </para>
   </step>
   <step>
    <para>
     Konfigurieren Sie das Netzwerk. Weitere Informationen hierzu finden Sie unter <xref linkend="sec.prep.netcfg"/>. 
    </para>
   </step>
   <step>
    <para>
     Stellen Sie eine Verbindung zum <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-Installationssystem her. Weitere Informationen hierzu finden Sie unter <xref linkend="sec.prep.connect"/>.
    </para>
   </step>
   <step>
    <para>
     Starten Sie die Installation mit YaST, und führen Sie den IPL-Vorgang für das installierte System durch. Weitere Informationen hierzu finden Sie unter <xref linkend="cha.inst"/>.
    </para>
   </step>
  </procedure>
  <procedure xml:id="pro.prep.inst_types.kvm">
   <title>Überblick über die Installation eines KVM-Gasts</title>
   <step>
    <para>
     Erstellen Sie ein Image des virtuellen Datenträgers und schreiben Sie eine XML-Domänendatei. Weitere Informationen hierzu finden Sie in <xref linkend="sec.prep.prep_ipl.kvm"/>.
    </para>
   </step>
   <step>
    <para>
     Bereiten Sie das Installationsziel vor und führen Sie einen IPL-Vorgang für den VM-Gast (VM Guest) aus. Weitere Informationen hierzu finden Sie in <xref linkend="sec.prep.ipling.kvm"/>.
    </para>
   </step>
   <step>
    <para>
     <xref linkend="sec.prep.netcfg.data"/>.
    </para>
   </step>
   <step>
    <para>
     Stellen Sie eine Verbindung zum <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-Installationssystem her. Weitere Informationen hierzu finden Sie unter <xref linkend="sec.prep.connect"/>.
    </para>
   </step>
   <step>
    <para>
     Starten Sie die Installation mit YaST, und führen Sie den IPL-Vorgang für das installierte System durch. Weitere Informationen hierzu finden Sie unter <xref linkend="cha.inst"/>.
    </para>
   </step>
  </procedure>
 </sect2>

 <sect2 xml:id="sec.prep.prep_ipl">
  <title>Vorbereiten des IPL-Vorgangs für das <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-Installationssystem</title>
  <para/>
  <sect3 xml:id="sec.prep.prep_ipl.natlpar">
   <title>IPL-Vorbereitung einer LPAR-Installation</title>
   <para>
    Konfigurieren Sie Ihr System mit IBM z Systems so, dass der Start im ESA/S390- oder Nur-Linux-Modus erfolgt (mit entsprechendem Aktivierungsprofil und IOCDS). Ziehen Sie für weitere Informationen hierzu die IBM-Dokumentation zurate. Fahren Sie mit <xref linkend="sec.prep.ipling.lpar"/> fort.
   </para>
  </sect3>
  <sect3 xml:id="sec.prep.prep_ipl.vm">
   <title>IPL-Vorbereitung einer z/VM-Installation</title>
   <para/>
   <sect4 xml:id="sec.prep.prep_ipl.vm.linux_guest">
    <title>Hinzufügen eines Linux-Guest-Benutzers</title>
    <para>
     Zunächst werden ein oder mehrere DASDs im System hinzugefügt, zur Verwendung durch den Linux-Guest-Benutzer in z/VM. Dann wird ein neuer Benutzer in z/VM erstellt. Das Beispiel zeigt ein Verzeichnis für einen Benutzer <literal>LINUX1</literal> mit Passwort <literal>LINPWD</literal>, 1 GB Speicher (auf maximal 2 GB erweiterbar), 32 MB erweitertes RAM (XSTORE), einigen Minidisks (MDISK), zwei CPUs und einem OSA-QDIO-Gerät.
    </para>
    <tip>
     <title>Zuweisen von Speicher für z/VM-Guest-Benutzer</title>
     <para>
      Wenn Sie einem z/VM-Guest-Benutzer Speicher zuweisen, vergewissern Sie sich, dass die Speichergröße auf die Anforderungen des bevorzugten Installationstyps abgestimmt ist. Weitere Informationen hierzu finden Sie unter <xref linkend="sec.info_sysreq.sysreq.hw.mem"/>.    Um die Arbeitsspeichergröße auf 1 GB einzustellen, verwenden Sie den Befehl <command>CP DEFINE STORAGE 1G</command>. Setzen Sie nach dem Abschluss der Installation die Arbeitsspeichergröße auf den gewünschten Wert zurück.
     </para>
    </tip>
    <example xml:id="ex.prep.prep_ipl.vm.linux_guest.config">
     <title>Konfiguration eines z/VM-Verzeichnisses</title>
<screen>USER LINUX1 LINPWD 1024M 2048M G
*____________________________________________
* LINUX1
*____________________________________________
* This VM Linux guest has two CPUs defined.

CPU 01 CPUID 111111
CPU 02 CPUID 111222
IPL CMS PARM AUTOCR
IUCV ANY
IUCV ALLOW
MACH ESA 10
OPTION MAINTCCW RMCHINFO
SHARE RELATIVE 2000
CONSOLE 01C0 3270 A
SPOOL 000C 2540 READER *
SPOOL 000D 2540 PUNCH A
SPOOL 000E 3203 A
* OSA QDIO DEVICE DEFINITIONS
DEDICATE 9A0 9A0
DEDICATE 9A1 9A1
DEDICATE 9A2 9A2
*
LINK MAINT 0190 0190 RR
LINK MAINT 019E 019E RR
LINK MAINT 019D 019D RR
* MINIDISK DEFINITIONS
MDISK 201 3390 0001 0050 DASD40 MR ONE4ME TWO4ME THR4ME
MDISK 150 3390 0052 0200 DASD40 MR ONE4ME TWO4ME THR4ME
MDISK 151 3390 0253 2800 DASD40 MR ONE4ME TWO4ME THR4ME</screen>
    </example>
    <para>
     In diesem Beispiel wird Minidisk 201 als Home-Disk des Guest-Benutzers verwendet. Minidisk 150 mit 200 Zylindern ist das Linux-Auslagerungsgerät. Auf Disk 151 mit 2800 Zylindern wird die Linux-Installation verwaltet.
    </para>
    <para>
     Fügen Sie nun (als Benutzer <systemitem class="username">MAINT</systemitem>) den Guest-Benutzer mit <command>DIRM FOR LINUX1 ADD</command> dem Benutzerverzeichnis hinzu. Geben Sie den Namen des Guest-Benutzers ein (<literal>LINUX1</literal>) und drücken Sie <keycap>F5</keycap>. Verwenden Sie zur Einrichtung der Umgebung des Benutzers Folgendes:
    </para>
<screen>DIRM DIRECT
DIRM USER WITHPASS</screen>
    <para>
     Das letzte Kommando gibt eine Reader-Dateinummer zurück Diese Nummer wird für den nächsten Befehl benötigt:
    </para>
<screen>RECEIVE &lt;number&gt; USER DIRECT A (REPL)</screen>
    <para>
     Sie können sich nun als Guest-Benutzer <systemitem class="username">LINUX1</systemitem> anmelden.
    </para>
    <para>
     Wenn die Option <literal>dirmaint</literal> nicht verfügbar ist, konsultieren Sie die IBM-Dokumentation dazu, wie dieser Benutzer eingerichtet wird.
    </para>
    <para>
     Fahren Sie mit <xref linkend="sec.prep.ipling.vm"/> fort.
    </para>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.prep_ipl.kvm">
   <title>IPL-Vorbereitung der Installation eines KVM-Gasts</title>
   <para>
    Für die Installation eines KVM-Gasts werden eine XML-Domänendatei, in der die virtuelle Maschine definiert ist, und mindestens ein Image des virtuellen Datenträgers für die Verwendung bei der Installation vorausgesetzt. 
   </para>
   <sect4 xml:id="sec.prep.prep_ipl.kvm.disk">
    <title>Erstellen eines Image des virtuellen Datenträgers</title>
    <para>
     Standardmäßig sucht libvirt in <filename>/var/lib/libvirt/images/</filename> auf dem VM-Hostserver nach Datenträger-Images. Images können auch an einer anderen Stelle im Dateisystem gespeichert werden, allerdings wird empfohlen, zur einfacheren Verwaltung alle Images zentral an einem Ort zu speichern. Im folgenden Beispiel wird ein qcow2-Image mit einer Größe von 10 GB in <filename>/var/lib/libvirt/images/</filename> erstellt. Weitere Informationen finden Sie unter <xref linkend="cha.qemu.guest_inst.qemu-img"/>.
    </para>
    <procedure>
     <step>
      <para>
       Melden Sie sich am KVM-Hostserver an.
      </para>
     </step>
     <step>
      <para>
       Führen Sie den folgenden Befehl aus, um das Image zu erstellen:
      </para>
<screen>qemu-img create -f qcow2 /var/lib/libvirt/images/s12lin_qcow2.img 10G</screen>
     </step>
    </procedure>
   </sect4>
   <sect4 xml:id="sec.prep.prep_ipl.kvm.domain">
    <title>Schreiben einer XML-Domänendatei</title>
    <para>
     Der VM-Gast wird in einer XML-Domänendatei definiert. Öffnen Sie zur Erstellung der XML-Domänendatei eine leere Datei (<filename>s12-1.xml</filename>) mit einem Editor und erstellen Sie eine Datei wie im folgenden Beispiel.
    </para>
    <example>
     <title>Beispiel einer XML-Domänendatei</title>
     <para>
      Im folgenden Beispiel wird ein VM-Gast mit einer einzelnen CPU, 1 GB RAM und dem Image des virtuellen Datenträgers aus dem vorherigen Abschnitt (<xref linkend="sec.prep.prep_ipl.kvm.disk"/>) erstellt. Es wird davon ausgegangen, dass der virtuelle Server der Host-Netzwerkschnittstelle <literal>bond0</literal> zugeordnet wird. Ändern Sie das Element für Ursprungsgeräte und passen Sie es an Ihre Netzwerkkonfiguration an.
     </para>
<screen>&lt;domain type="kvm"&gt;
 &lt;name&gt;s12-1&lt;/name&gt;
 &lt;description&gt;Guest-System SUSE Sles12&lt;/description&gt;
 &lt;memory&gt;1048576&lt;/memory&gt;
 &lt;vcpu&gt;1&lt;/vcpu&gt;
 &lt;os&gt;
  &lt;type arch="s390x" machine="s390-ccw-virtio"&gt;hvm&lt;/type&gt;
  &lt;!-- Boot kernel - remove 3 lines after successfull installation --&gt;
  &lt;kernel&gt;/var/lib/libvirt/images/s12-kernel.boot&lt;/kernel&gt;
  &lt;initrd&gt;/var/lib/libvirt/images/s12-initrd.boot&lt;/initrd&gt;
  &lt;cmdline&gt;linuxrcstderr=/dev/console&lt;/cmdline&gt;
 &lt;/os&gt;
 &lt;iothreads&gt;1&lt;/iothreads&gt;
 &lt;on_poweroff&gt;destroy&lt;/on_poweroff&gt;
 &lt;on_reboot&gt;restart&lt;/on_reboot&gt;
 &lt;on_crash&gt;preserve&lt;/on_crash&gt;
 &lt;devices&gt;
  &lt;emulator&gt;/usr/bin/qemu-system-s390x&lt;/emulator&gt;
  &lt;disk type="file" device="disk"&gt;
   &lt;driver name="qemu" type="qcow2" cache="none" iothread="1" io="native"/&gt;
   &lt;source file="/var/lib/libvirt/images/s12lin_qcow2.img"/&gt;
   &lt;target dev="vda" bus="virtio"/&gt;
  &lt;/disk&gt;
  &lt;interface type="direct"&gt;
   &lt;source dev="bond0" mode="bridge"/&gt;
   &lt;model type="virtio"/&gt;
  &lt;/interface&gt;
  &lt;console type="pty"&gt;
   &lt;target type="sclp"/&gt;
  &lt;/console&gt;
 &lt;/devices&gt;
&lt;/domain&gt;</screen>
    </example>
   </sect4>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.ipling">
  <title>Ausführen des IPL-Vorgangs für das <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-Installationssystem</title>
  <para/>
  <sect3 xml:id="sec.prep.ipling.lpar">
   <title>Ausführen eines IPL-Vorgangs bei einer LPAR-Installation</title>
   <para>
    Für das Ausführen des IPL-Vorgangs für <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> in einer LPAR stehen mehrere Methoden zur Auswahl. Die bevorzugte Vorgehensweise ist die Funktion <guimenu>Load from CD-ROM or server</guimenu> von SE bzw. HMC.
   </para>
   <sect4 xml:id="sec.prep.ipling.lpar.cdrom">
    <title>IPL von DVD-ROM</title>
    <para>
     Markieren Sie die LPAR für die Installation und wählen Sie <guimenu>Load from CD-ROM or server</guimenu> aus. Lassen Sie das Feld für den Dateispeicherort frei oder geben Sie den Pfad zum root-Verzeichnis der ersten DVD-ROM ein und wählen Sie die Option zum Fortfahren aus. Aktivieren Sie in der daraufhin angezeigten Liste mit Optionen die Standardauswahl. In den Kernel-Boot-Meldungen sollte nun <guimenu>Operating system messages</guimenu> angezeigt werden.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.ipling.lpar.dvd">
    <title>IPL von per FCP angeschlossener SCSI-DVD</title>
    <para>
     Sie können den <guimenu>Load</guimenu>-Vorgang verwenden, indem Sie <guimenu>SCSI</guimenu> als <guimenu>Ladetyp</guimenu> für IPL von SCSI auswählen. Geben Sie den WWPN (Worldwide Port Name) und die LUN (Logical unit number) ein, die Ihre SCSI-Bridge oder Ihr SCSI-Speicher bereitstellt (16 Stellen – unterdrücken Sie auf keinen Fall die angehängten Nullen). Die Boot-Programmauswahl muss 2 sein. Verwenden Sie Ihren FCP-Adapter als <guimenu>Ladeadresse</guimenu> und führen Sie einen IPL-Vorgang durch.
    </para>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.ipling.vm">
   <title>Ausführen eines IPL-Vorgangs bei einer z/VM-Installation</title>
   <para>
    In diesem Abschnitt wird der IPL-Vorgang für das Installationssystem zur Installation von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> für IBM z Systems auf einem z/VM-System beschrieben.
   </para>
   <sect4 xml:id="sec.prep.ipling.vm.reader">
    <title>IPL vom z/VM-Reader</title>
    <para>
     Sie benötigen eine funktionierende TCP/IP-Verbindung und ein FTP-Clientprogramm in Ihrem neu definierten z/VM-Gast, um das Installationssystem per FTP zu übertragen. Die TCP/IP-Einrichtung für z/VM würde den Rahmen dieses Handbuchs sprengen. Ziehen Sie die entsprechende IBM-Dokumentation zurate.
    </para>
    <para>
     Melden Sie sich für den IPL-Vorgang als z/VM-Linux-Guest-Benutzer an. Stellen Sie den Inhalt des Verzeichnisses <filename>/boot/s390x</filename> auf DVD 1 von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> für IBM z Systems über FTP in Ihrem Netzwerk bereit. Aus diesem Verzeichnis benötigen Sie die Dateien <filename>linux</filename>, <filename>initrd</filename>, <filename>parmfile</filename> und <filename>sles12.exec</filename>. Übertragen Sie die Dateien mit einer festen Blockgröße von 80 Zeichen. Geben Sie die Größe mithilfe des FTP-Kommandos <command>locsite fix 80</command> an. <filename>linux</filename> (der Linux-Kernel) und <filename>initrd</filename> (das Installations-Image) müssen in jedem Fall als Binärdateien kopiert werden, Sie sollten folglich den <literal>binary</literal>-Übertragungsmodus verwenden. <filename>parmfile</filename> und <filename>sles12.exec</filename> müssen im ASCII-Modus übertragen werden.
    </para>
    <para>
     Aus dem Beispiel gehen die erforderlichen Schritte hervor. In diesem Beispiel ist der Zugriff auf die erforderlichen Dateien von einem FTP-Server mit IP-Adresse <literal>192.168.0.3</literal> möglich; die Anmeldung erfolgt mit <systemitem class="username">lininst</systemitem>. Diese Angabe kann je nach Netzwerk variieren.
    </para>
    <example xml:id="ex.prep.ipling.vm.reader.ftp.ftptrans">
     <title>Übertragen der Binärdateien über FTP</title>
<screen>FTP 192.168.0.3
VM TCP/IP FTP Level 530
Connecting to 192.168.0.3, port 21
220 ftpserver FTP server (Version wu-2.4.2-academ[BETA-18](1)
Thu Feb 11 16:09:02 GMT 2010) ready.
USER
lininst
331 Password required for lininst
PASS
******
230 User lininst logged in.
Command:
binary
200 Type set to I
Command:
locsite fix 80
Command:
get /media/dvd1/boot/s390x/linux sles12.linux
200 PORT Command successful
150 Opening BINARY mode data connection for /media/dvd1/boot/s390x/linux
(10664192 bytes)
226 Transfer complete.
10664192 bytes transferred in 13.91 seconds.
Transfer rate 766.70 Kbytes/sec.
Command:
get /media/dvd1/boot/s390x/initrd sles12.initrd
200 PORT Command successful
150 Opening BINARY mode data connection for /media/dvd1/boot/s390x/initrd
(21403276 bytes)
226 Transfer complete.
21403276 bytes transferred in 27.916 seconds.
Transfer rate 766.70 Kbytes/sec.
Command:
ascii
200 Type set to A
Command:
get /media/dvd1/boot/s390x/parmfile sles12.parmfile
150 Opening ASCII mode data connection for /media/dvd1/boot/s390x/parmfile
(5 bytes)
226 Transfer complete.
5 bytes transferred in 0.092 seconds.
Transfer rate 0.05 Kbytes/sec.
Command:
get /media/dvd1/boot/s390x/sles12.exec sles12.exec
150 Opening ASCII mode data connection for /media/dvd1/boot/s390x/sles12.exec
(891 bytes)
226 Transfer complete.
891 bytes transferred in 0.097 seconds.
Transfer rate 0.89 Kbytes/sec.
Command:
quit</screen>
    </example>
    <para>
     Verwenden Sie das heruntergeladene REXX-Skript sles12.exec, um den IPL-Vorgang für das Linux-Installationssystem auszuführen. Mit diesem Skript werden Kernel, parmfile sowie der anfängliche RAM-Datenträger für den IPL-Vorgang in den Reader geladen.
    </para>
    <example xml:id="sex.prep.ipling.vm.reader.startscript.slesexec">
     <title>SLES12 EXEC</title>
<screen>/* REXX LOAD EXEC FOR SUSE LINUX S/390 VM GUESTS       */
/* LOADS SUSE LINUX S/390 FILES INTO READER            */
SAY ''
SAY 'LOADING SLES12 FILES INTO READER...'
'CP CLOSE RDR'
'PURGE RDR ALL'
'SPOOL PUNCH * RDR'
'PUNCH SLES12 LINUX A (NOH'
'PUNCH SLES12 PARMFILE A (NOH'
'PUNCH SLES12 INITRD A (NOH'
'IPL 00C'</screen>
    </example>
    <para>
     Mithilfe dieses Skripts führen Sie den IPL-Vorgang für das <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-Installationssystem mit dem Kommando <command>sles12</command> aus. Daraufhin wird der Linux-Kernel gestartet und gibt eine Boot-Meldung aus.
    </para>
    <para>
     Fahren Sie zur weiteren Installation mit <xref linkend="sec.prep.netcfg"/> fort.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.ipling.vm.dvd">
    <title>IPL von per FCP angeschlossener SCSI-DVD</title>
    <para>
     Bereiten Sie für die Ausführung des IPL-Vorgangs in z/VM den SCSI-IPL-Vorgang mithilfe des Parameters SET LOADDEV vor:
    </para>
<screen>SET LOADDEV PORTNAME 200400E8 00D74E00 LUN 00020000 00000000 BOOT 2</screen>
    <para>
     Führen Sie nach der Festlegung des LOADDEV-Parameters mit den entsprechenden Werten den IPL-Vorgang Ihres FCP-Parameters durch, z. B.:
    </para>
<screen>IPL FC00</screen>
    <para>
     Fahren Sie zur weiteren Installation mit <xref linkend="sec.prep.netcfg"/> fort.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.ipling.vm.zpxe">
    <title>IPL von einem Cobbler-Server mit zPXE</title>
    <para>
     Zur Ausführung von IPL über einen Cobbler-Server mit zPXE übertragen Sie das Skript <filename>zpxe.rexx</filename> per FTP vom Cobbler-Server an den z/VM-Gast. Der z/VM-Gast benötigt eine funktionsfähige TCP/IP-Verbindung und ein FTP-Client-Programm.
    </para>
    <para>
     Melden Sie sich als z/VM Linux-Gast bei IPL an, und übertragen Sie das Skript mit einer festen Größe von 80 Zeichen im ASCII-Modus (ein Beispiel finden Sie unter <xref linkend="ex.prep.ipling.vm.reader.ftp.ftptrans"/>). Das Skript <filename>zpxe.rexx</filename> ist auf dem Cobbler-Server unter <filename>/usr/share/doc/packages/s390-tools/</filename> verfügbar.
    </para>
    <para>
     <filename>zpxe.rexx</filename> ersetzt die Datei <filename>PROFILE EXEC</filename> des Gasts. Fertigen Sie eine Sicherungskopie der vorhandenen Datei <filename>PROFILE EXEC</filename> an und benennen Sie <filename>ZPXE REXX</filename> in <filename>PROFILE EXEC</filename> um. Alternativ rufen Sie <filename>ZPXE REXX</filename> aus der vorhandenen <filename>PROFILE EXEC</filename> auf. Geben Sie hierzu eine neue Zeile mit dem folgenden Inhalt ein: <literal>'ZPXE REXX'</literal>.
    </para>
    <para>
     Im letzten Schritt erstellen Sie eine Konfigurationsdatei (<filename>ZPXE CONF</filename>), in der Sie <filename>ZPXE REXX</filename> anweisen, welcher Cobbler-Server kontaktiert und für welchen Datenträger der IPL-Vorgang ausgeführt werden soll. Führen Sie <command>xedit zpxe conf a</command> aus, und erstellen Sie <filename>ZPXE CONF</filename> mit dem folgenden Inhalt (Beispieldaten entsprechend ersetzen):
    </para>
<screen>HOST cobbler.example.com
IPLDISK 600</screen>
    <para>
     Beim nächsten Anmelden am z/VM-Gast wird eine Verbindung zum Cobbler-Server hergestellt. Wenn eine Installation auf dem Cobbler-Server geplant ist, so wird sie gestartet. Zum Planen der Installation führen Sie den folgenden Befehl auf dem Cobbler-Server aus:
    </para>
<screen>cobbler system edit --name <replaceable>ID</replaceable><co xml:id="cobbler.sysedit.id"/> --netboot-enabled 1<co xml:id="cobbler.sysedit.netboot"/> --profile <replaceable>PROFILENAME</replaceable><co xml:id="cobbler.sysedit.profile"/></screen>
    <calloutlist>
     <callout arearefs="cobbler.sysedit.id">
      <para>
       z/VM-Benutzer-ID.
      </para>
     </callout>
     <callout arearefs="cobbler.sysedit.netboot">
      <para>
       Aktivieren der IPL-Ausführung vom Netzwerk.
      </para>
     </callout>
     <callout arearefs="cobbler.sysedit.profile">
      <para>
       Name eines vorhandenen Profils (siehe <xref linkend="sec.prep.makeavail.zpxe_cobbler.profile"/>).
      </para>
     </callout>
    </calloutlist>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.ipling.kvm">
   <title>Ausführen eines IPL-Vorgangs bei der Installation eines KVM-Gasts</title>
   <para>
    Um mit der Installation des Gasts zu beginnen, müssen Sie zunächst den in <xref linkend="sec.prep.prep_ipl.kvm.disk"/> definierten VM-Gast starten. Hierfür müssen der Kernel und die Initial Ramdisk (initrd) verfügbar sein, da diese für den IPL-Vorgang benötigt werden.
   </para>
   <sect4 xml:id="sec.prep.ipling.kvm.prep">
    <title>Vorbereiten der Installationsquelle</title>
    <para>
     Der Kernel und die initrd des Installationssystems müssen auf den VM-Hostserver kopiert werden, damit der IPL-Vorgang für den VM-Gast im Installationssystem möglich ist.
    </para>
    <procedure>
     <step>
      <para>
       Melden Sie sich am KVM-Host an und vergewissern Sie sich, dass Sie eine Verbindung zum Remote-Host oder dem Gerät herstellen können, der bzw. das die Installationsquelle bereitstellt.
      </para>
     </step>
     <step>
      <para>
       Kopieren Sie die folgenden beiden Dateien aus der Installationsquelle in <filename>/var/lib/libvirt/images/</filename>. Wenn die Daten von einem Remote-Host bereitgestellt werden, übertragen Sie diese mit <command>ftp</command>, <command>sftp</command> oder <command>scp</command>:
      </para>
      <simplelist>
       <member><filename>/boot/s390x/initrd</filename>
       </member>
       <member><filename>  /boot/s390x/cd.ikr</filename>
       </member>
      </simplelist>
     </step>
     <step>
      <para>
       Benennen Sie die Dateien auf dem KVM-Host um:
      </para>
<screen>cd /var/lib/libvirt/images/
mv initrd s12-initrd.boot
 mv cd.ikr s12-kernel.boot</screen>
     </step>
    </procedure>
   </sect4>
   <sect4 xml:id="sec.prep.ipling.kvm.">
    <title>IPL-Vorgang für den VM-Gast</title>
    <para>
     Zur Ausführung des IPL-Vorgangs für den VM-Gast müssen Sie sich am KVM-Host anmelden und den folgenden Befehl ausführen:
    </para>
<screen>virsh  create s12-1.xml --console</screen>
    <para>
     Nach dem erfolgreichen Systemstart des VM-Gasts wird das Installationssystem gestartet. Folgende Nachricht wird angezeigt:
    </para>
<screen>Domain s12-1 started
Connected to domain s12-1
Escape character is ^]
Initializing cgroup subsys cpuset
Initializing cgroup subsys cpu
Initializing
cgroup subsys cpuacct
.
.
Please make sure your installation medium is available.
Retry?
0) &lt;-- Back &lt;--
1) Yes
2) No</screen>
    <para>
     Beantworten Sie die Frage mit <guimenu>2) No</guimenu> (Nein) und wählen Sie im nächsten Schritt <guimenu>Installation</guimenu> aus. Fahren Sie entsprechend den Anweisungen in <xref linkend="sec.prep.netcfg.data"/> fort.
    </para>
   </sect4>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.netcfg">
  <title>Netzwerkkonfiguration</title>
  <para>
   Warten Sie, bis der Kernel seine Startroutinen abgeschlossen hat. Wenn Sie die Installation im Basismodus oder in einer LPAR vornehmen, rufen Sie in HMC bzw. SE <guimenu>Operating System Messages</guimenu> auf.
  </para>
  <para>
   Wählen Sie zunächst <guimenu>Start Installation </guimenu> im Linuxrc-Hauptmenü und dann <guimenu>Start Installation or Update</guimenu>, um den Installationsvorgang zu starten. Wählen Sie <guimenu>Netzwerk</guimenu> als Ihr Installationsmedium aus und danach den Netzwerkprotokolltyp, den Sie zur Installation verwenden möchten. <xref linkend="sec.prep.makeavail"/> beschreibt, wie die Installationsdaten für die unterschiedlichen Arten von Netzwerkverbindungen bereitgestellt werden. Zurzeit werden <guimenu>FTP</guimenu>, <guimenu>HTTP</guimenu>, <guimenu>NFS</guimenu> und <guimenu>SMB/CIFS</guimenu> (Windows-Dateifreigabe) unterstützt.
  </para>
  <para>
   Wählen Sie nun ein OSA- oder HiperSockets-Netzwerkgerät, über das die Installationsdaten empfangen werden sollen, aus der Liste der verfügbaren Geräte aus. Diese Liste enthält möglicherweise auch CTC-, ESCON- oder IUCV-Geräte, die jedoch unter <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> nicht mehr unterstützt werden.
  </para>
  <sect3 xml:id="sec.prep.netcfg.hypersockets">
   <title>Konfigurieren einer HiperSockets-Schnittstelle</title>
   <para>
    Wählen Sie ein Hipersocket-Gerät aus der Liste der Netzwerkgeräte aus. Geben Sie dann die Nummer für den Lese-, Schreib- und Datenkanal ein:
   </para>
   <example xml:id="ex.appdendix.inst_netcontypes.types">
    <title>Unterstützte Netzwerkverbindungstypen und Treiberparameter</title>
<screen>Choose the network device.

 1) IBM parallel CTC Adapter (0.0.0600)
 2) IBM parallel CTC Adapter (0.0.0601)
 3) IBM parallel CTC Adapter (0.0.0602)
 4) IBM Hipersocket (0.0.0800)
 5) IBM Hipersocket (0.0.0801)
 6) IBM Hipersocket (0.0.0802)
 7) IBM OSA Express Network card (0.0.0700)
 8) IBM OSA Express Network card (0.0.0701)
 9) IBM OSA Express Network card (0.0.0702)
10) IBM OSA Express Network card (0.0.f400)
11) IBM OSA Express Network card (0.0.f401)
12) IBM OSA Express Network card (0.0.f402)
13) IBM IUCV

&gt; 4

Device address for read channel. (Enter '+++' to abort).
[0.0.800]&gt; 0.0.800

Device address for write channel. (Enter '+++' to abort).
[0.0.801]&gt; 0.0.801

Device address for data channel. (Enter '+++' to abort).
[0.0.802]&gt; 0.0.802</screen>
   </example>
  </sect3>
  <sect3 xml:id="sec.prep.netcfg.osa">
   <title>Konfigurieren eines OSA Express-Geräts</title>
   <para>
    Wählen Sie ein OSA Express-Gerät aus der Liste der Netzwerkgeräte aus, und geben Sie eine Portnummer an. Geben Sie dann die Nummer für den Lese-, Schreib- und Datenkanal sowie den Portnamen ein, falls erforderlich. Wählen Sie, ob die Unterstützung von OSI-Schicht 2 aktiviert werden soll.
   </para>
   <para>
    Die Portnummer wurde zur Unterstützung der neuen OSA Express 3 Network-Geräte mit zwei Ports hinzugefügt. Wenn Sie kein OSA Express 3-Gerät verwenden, geben Sie <literal>0</literal> ein. OSA Express-Karten besitzen auch die Option, in einem Modus mit <quote>Unterstützung von OSI-Schicht 2</quote> oder im älteren, gängigeren Modus für <quote>Schicht 3</quote> ausgeführt zu werden. Der Kartenmodus beeinflusst alle Systeme, die das Gerät gemeinsam nutzen, einschließlich Systeme auf anderen LPARs. Geben Sie im Zweifelsfall <literal>2</literal> an, um Kompatibilität mit dem Standardmodus zu erreichen, den andere Betriebssysteme wie z/VM und z/OS verwenden. Erfragen Sie weitere Informationen zu diesen Optionen bei Ihrem Hardware-Administrator.
   </para>
   <example xml:id="ex.appdendix.inst_netcontypes.gigabit.param">
    <title>Treiberparameter für das Netzwerkgerät</title>
<screen>Choose the network device.

 1) IBM parallel CTC Adapter (0.0.0600)
 2) IBM parallel CTC Adapter (0.0.0601)
 3) IBM parallel CTC Adapter (0.0.0602)
 4) IBM Hipersocket (0.0.0800)
 5) IBM Hipersocket (0.0.0801)
 6) IBM Hipersocket (0.0.0802)
 7) IBM OSA Express Network card (0.0.0700)
 8) IBM OSA Express Network card (0.0.0701)
 9) IBM OSA Express Network card (0.0.0702)
10) IBM OSA Express Network card (0.0.f400)
11) IBM OSA Express Network card (0.0.f401)
12) IBM OSA Express Network card (0.0.f402)
13) IBM IUCV

&gt; 7

Enter the relative port number. (Enter '+++' to abort).
&gt; 0

Device address for read channel. (Enter '+++' to abort).
[0.0.0700]&gt; 0.0.0700

Device address for write channel. (Enter '+++' to abort).
[0.0.0701]&gt; 0.0.0701

Device address for data channel. (Enter '+++' to abort).
[0.0.0702]&gt; 0.0.0702

Enable OSI Layer 2 support?

0) &lt;-- Back &lt;--
1) Yes
2) No

&gt; 1

MAC address. (Enter '+++' to abort).
&gt; +++</screen>
   </example>
  </sect3>
  <sect3 xml:id="sec.prep.netcfg.data">
   <title>Einrichten des Netzwerks und Auswählen der Installationsquelle</title>
   <para>
    Sobald Sie alle Parameter für das Netzwerkgerät eingegeben haben, wird der zugehörige Treiber installiert und die entsprechenden Kernel-Meldungen werden angezeigt.
   </para>
   <para>
    Bestimmen Sie als Nächstes, ob die automatische DHCP-(Dynamic Host Configuration Protocol-)Konfiguration für die Einrichtung der Netzwerkschnittstellenparameter verwendet werden soll. Da DHCP nur auf einigen Geräten eingesetzt werden kann und eine spezielle Hardwarekonfiguration vorgenommen werden muss, empfiehlt sich in diesem Fall mit größter Wahrscheinlichkeit die Auswahl von <guimenu>NEIN</guimenu>. In diesem Fall werden Sie aufgefordert, die folgenden Netzwerkparameter anzugeben:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      IP-Adresse des zu installierenden Systems
     </para>
    </listitem>
    <listitem>
     <para>
      entsprechende Netzwerkmaske (falls nicht über IP-Adresse angegeben)
     </para>
    </listitem>
    <listitem>
     <para>
      IP-Adresse eines Gateways zur Verbindung mit dem Server
     </para>
    </listitem>
    <listitem>
     <para>
      Liste der Suchdomänen, die vom Domain Name Server (DNS) abgedeckt sind
     </para>
    </listitem>
    <listitem>
     <para>
      IP-Adresse Ihres Domain Name Server
     </para>
    </listitem>
   </itemizedlist>
   <example xml:id="ex.prep.netcfg.vm.network_setup">
    <title>Netzwerkparameter</title>
<screen>Automatic configuration via DHCP?

0) &lt;-- Back &lt;--
1) Yes
2) No

&gt; 2

Enter your IP address with network prefix.

You can enter more than one, separated by space, if necessary.
Leave empty for autoconfig.

Examples: 192.168.5.77/24 2001:db8:75:fff::3/64. (Enter '+++' to abort).
&gt; 192.168.0.20/24

Enter your name server IP address.

You can enter more than one, separated by space, if necessary.
Leave empty if you don't need one.

Examples: 192.168.5.77 2001:db8:75:fff::3. (Enter '+++' to abort).
&gt; 192.168.0.1

Enter your search domains, separated by a space:. (Enter '+++' to abort).
&gt; example.com

Enter the IP address of your name server. Leave empty if you do not need one. (En
ter '+++' to abort).
&gt; 192.168.0.1</screen>
   </example>
   <para>
    Abschließend werden Sie aufgefordert, Details zum Installationsserver anzugeben, beispielsweise die IP-Adresse, das Verzeichnis, in dem sich die Installationsdaten befinden, sowie die Anmeldedaten. Sobald Sie alle Daten eingegeben haben, wird das Installationssystem geladen.
   </para>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.connect">
  <title>Herstellen einer Verbindung zum <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-Installationssystem</title>
  <para>
   Nach dem Laden des Installationssystems werden Sie von linuxrc aufgefordert, den Anzeigetyp für die Steuerung des Installationsverfahrens anzugeben. Zur Auswahl stehen <literal>X11</literal> (X Window-System), <literal>VNC</literal> (Virtual Network Computing-Protokoll), <literal>SSH</literal> (Textmodus bzw. X11-Installation über Secure Shell und <literal>ASCII Console</literal> (ASCII-Konsole). Die Verwendung von <literal>VNC</literal> oder <literal>SSH</literal> wird empfohlen.
  </para>
  <para>
   Bei der Auswahl der letzten Option <literal>ASCII Console</literal> (ASCII-Konsole) wird YaST im Textmodus gestartet und Sie können die Installation direkt in Ihrem Terminal durchführen. Weitere Informationen zur Verwendung von YaST im Textmodus finden Sie in <xref linkend="cha.yast.text"/>. Die Option <literal>ASCII Console</literal> (ASCII-Konsole) ist nur bei der Installation in einer LPAR von Nutzen.
  </para>
  <note>
   <title>Terminalemulation für die ASCII-Konsole</title>
   <para>
    Für die Arbeit mit YaST im Textmodus ist die Ausführung in einem Terminal mit VT220/Linux-Emulation (auch als <literal>ASCII Console</literal> (ASCII-Konsole) bezeichnet) erforderlich. Sie können YaST beispielsweise nicht in einem 3270-Terminal verwenden.
   </para>
  </note>
  <sect3 xml:id="sec.inst.connect.vnc_inst">
   <title>Initiieren der Installation für VNC</title>
   <procedure>
    <step>
     <para>
      Nach Auswahl der Installationsoption <literal>VNC</literal> wird der VNC-Server gestartet. Aus einem kurzen Hinweis auf der Konsole geht hervor, welche IP-Adresse und Display-Nummer für eine Verbindung mit vncviewer erforderlich sind. Alternativ wird eine URL (Uniform Resource Locator) angegeben, die Sie in Ihrem Java-fähigen Browser eingeben und so eine Verbindung zum Installationssystem herstellen können.
     </para>
    </step>
    <step>
     <para>
      Starten Sie auf Ihrem Clientsystem eine VNC-Clientanwendung. Sie können entweder vncviewer oder den VNC-Java-Client und einen Java-fähigen Webbrowser verwenden.
     </para>
    </step>
    <step>
     <para>
      Geben Sie die IP-Adresse sowie die Display-Nummer des <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-Installationssystems ein, wenn Sie dazu aufgefordert werden.
     </para>
     <para>
      Wenn Sie die Verbindung über einen Java-fähigen Browser herstellen, geben Sie eine URL mit der IP-Adresse des Installationssystems und die entsprechende Portnummer im folgenden Format ein:
     </para>
<screen>http://&lt;IP address of installation system&gt;:5801/</screen>
    </step>
    <step>
     <para>
      Sobald die Verbindung hergestellt wurde, starten Sie die Installation von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> mit YaST.
     </para>
    </step>
   </procedure>
  </sect3>
  <sect3 xml:id="sec.inst.connect.x">
   <title>Initiieren der Installation für das X Window-System</title>
   <important>
    <title>X-Authentifizierungsmechanismus</title>
    <para>
     Die Direkte Installation über das X Window System beruht auf einem einfachen auf Hostnamen basierenden Authentifizierungsmechanismus. Dieser Mechanismus ist in den aktuellen Versionen von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> deaktiviert. Die Installation mit SSH oder VNC wird bevorzugt.
    </para>
   </important>
   <procedure>
    <step>
     <para>
      Vergewissern Sie sich, dass der X-Server dem Client (dem installierten System) den Verbindungsaufbau ermöglicht. Legen Sie die Variable <command>DISPLAYMANAGER_XSERVER_TCP_PORT_6000_OPEN=„yes“</command> in der Datei <filename>/etc/sysconfig/displaymanager</filename> fest. Starten Sie dann den X-Server und ermöglichen Sie dem Client die Verbindung mit dem Server, und zwar mit folgendem Kommando: <command>xhost &lt;client IP address&gt;</command>.
     </para>
    </step>
    <step>
     <para>
      Wenn Sie auf dem Installationssystem dazu aufgefordert werden, geben Sie die IP-Adresse des Rechners ein, auf dem der X-Server ausgeführt wird.
     </para>
    </step>
    <step>
     <para>
      Warten Sie, bis YaST geöffnet wird, und starten Sie dann die Installation.
     </para>
    </step>
   </procedure>
  </sect3>
  <sect3 xml:id="sec.inst.connect.ssh">
   <title>Initiieren der Installation für SSH</title>
   <para>
    Um das Installationssystem mit dem Namen <literal>earth</literal> mithilfe von SSH zu verbinden, führen Sie <command>ssh -X earth</command> aus. Wenn auf Ihrem Arbeitsplatzrechner Microsoft Windows ausgeführt wird, verwenden Sie den SSH- und Telnet-Client und den Terminal-Emulator PuTTy, verfügbar unter <link xlink:href="http://www.chiark.greenend.org.uk/~sgtatham/putty/"/>. Aktivieren Sie <guimenu>Enable X11 forwarding</guimenu> (X11-Forwarding aktivieren) in PuTTy unter <menuchoice>
    <guimenu>Connection</guimenu> <guimenu>SSH</guimenu> <guimenu>X11</guimenu>
    </menuchoice>  (Verbindung &gt; SSH &gt; X11). Falls Sie ein anderes Betriebssystem verwenden, führen Sie <command>ssh -X earth</command> aus, um sich mit einem Installationssystem namens <systemitem>earth</systemitem> zu verbinden. Wenn ein lokaler X-Server verfügbar ist, wird X-Forwarding über SSH unterstützt. Andernfalls stellt YaST über ncurses eine Textschnittstelle zur Verfügung.
   </para>
   <para>
    Daraufhin wird eine Anmeldeeingabeaufforderung angezeigt. Geben Sie <literal>root</literal> ein und melden Sie sich mit Ihrem Passwort an. Geben Sie <command>yast.ssh</command> ein, um YaST zu starten. Anschließend werden Sie von YaST durch den Installationsvorgang geführt.
   </para>
   <para>
    Fahren Sie mit der detaillierten Beschreibung des Installationsvorgangs in <xref linkend="cha.inst"/> fort.
   </para>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.boot_procedure">
  <title>Bootverfahren für <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> auf IBM z Systems</title>
  <para>
   Für SLES 10 und 11 galt das nachstehende Schema für das Bootverfahren. Ausführlichere Informationen finden Sie in der Dokumentation unter <link xlink:href="http://www.ibm.com/developerworks/linux/linux390/documentation_suse.html"/>.
  </para>
  <orderedlist>
   <listitem>
    <para>
     Stellen Sie den Kernel bereit.
    </para>
   </listitem>
   <listitem>
    <para>
     Stellen Sie die initrd für den angegebenen Kernel bereit oder erstellen Sie eine initrd.
    </para>
   </listitem>
   <listitem>
    <para>
     Geben Sie die richtigen Pfade für die initrd und den Kernel in <filename>/etc/zipl.conf</filename> an.
    </para>
   </listitem>
   <listitem>
    <para>
     Installieren Sie die Konfiguration aus <filename>/etc/zipl.conf</filename> im System.
    </para>
   </listitem>
  </orderedlist>
  <para>
   In SLES 12 hat sich der Bootvorgang für <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> auf IBM z Systems geändert. Für diese Änderung gab es mehrere Gründe:
  </para>
  <itemizedlist>
   <listitem>
    <para>
     Abstimmung mit anderen Architekturen: Aus Administratorsicht sollten sich alle SLES-Systeme auf allen Architekturen gleich verhalten.
    </para>
   </listitem>
   <listitem>
    <para>
     Btrfs: Der zipl-Bootloader ist technisch inkompatibel mit Btrfs, dem neuen standardmäßigen Root-Dateisystem für SLES (siehe <xref linkend="sec.filesystems.major.btrfs"/>).
    </para>
   </listitem>
   <listitem>
    <para>
     Unterstützung für System-Rollbacks mit Snapper: Snapper bietet in Kombination mit Btrfs bootfähige Snapshots, mit denen Sie System-Rollbacks ausführen können (siehe <xref linkend="cha.snapper"/>).
    </para>
   </listitem>
  </itemizedlist>
  <para>
   Ab SLES 12 wird daher zipl auf IBM <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> für z Systems durch GRUB 2 ersetzt. GRUB 2 in der AMD64-/Intel-64-Architektur umfasst Gerätetreiber auf Firmware-Ebene für den Zugriff auf das Dateisystem. Mainframes arbeiten ohne Firmware. Die Einbindung von <literal>ccw</literal> in GRUB 2 wäre also nicht nur ein immenser Arbeitsaufwand, sondern würde einer Neuimplementierung von zipl in GRUB 2 gleichkommen. In <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> gilt daher ein zweiphasiges Verfahren:
  </para>
  <variablelist>
   <varlistentry>
    <term>1. Phase:</term>
    <listitem>
     <para>
      Eine separate Partition mit dem Kernel und einer initrd wird in <filename>/boot/zipl</filename> eingehängt (vergleichbar mit <filename>/boot/efi</filename> auf UEFI-Plattformen). Dieser Kernel und die initrd werden über zipl mit der Konfiguration aus <filename>/boot/zipl/config</filename> geladen.
     </para>
     <para>
      Diese Konfiguration fügt das Schlüsselwort <literal>initgrub</literal> in die Kernel-Befehlszeile ein. Sobald der Kernel und die initrd geladen sind, aktiviert die initrd die erforderlichen Geräte, mit denen das Root-Dateisystem eingehängt wird (siehe <filename>/boot/zipl/active_devices.txt</filename>). Anschließend wird ein GRUB 2-Userspace-Programm gestartet, mit dem die Datei <filename>/boot/grub2/grub.cfg</filename> gelesen wird.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>2. Phase:</term>
    <listitem>
     <para>
      Der Kernel und die initrd, die in <filename>/boot/grub2/grub.cfg</filename> angegeben sind, werden per <command>kexec</command> gestartet. Alle in der Datei <filename>/boot/zipl/active_devices.txt</filename> aufgeführten Geräte werden aktiviert, das Root-Dateisystem wird eingehängt und das Bootverfahren wird wie auf den anderen Architekturen fortgesetzt.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect2>
</sect1>
