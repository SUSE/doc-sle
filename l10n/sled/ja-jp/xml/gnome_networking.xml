<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="gnome_networking.xml" version="5.0" xml:id="cha-gnome-network" xml:lang="ja">
 <title>ネットワークリソースへのアクセス</title>
 <info>
  <abstract>
   <para>
    ネットワーク内の他のユーザとファイルやディレクトリを共有する方法について説明します。
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  デスクトップから、ファイルやディレクトリ、およびリモートホスト上の特定のサービスにアクセスしたり、自分のファイルやディレクトリをネットワーク中の他のユーザに利用させることができます。<phrase role="productname"><phrase os="sled">SUSE® Linux Enterprise Desktop</phrase></phrase>には、ネットワーク共有リソースにアクセスしたり、リソースを作成したりするための、次の手段が用意されています。
 </para>
 <variablelist>
  <varlistentry>
   <term>ネットワーク参照</term>
   <listitem>
    <para>
     GNOME Filesをファイルマネージャとして使用することにより、共有リソースやサービスを参照できます。詳細については、<xref linkend="sec-gnome-network-accshare"/>を参照してください。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>混在環境でのディレクトリの共有</term>
   <listitem>
    <para>
     GNOME Filesを使用して、ネットワークの他のユーザとファイルやディレクトリを共有するように設定します。任意のWindowsまたはLinuxワークステーションの他のユーザがデータを参照したり、書き込みしたりできるようにします。詳細については、<xref linkend="sec-gnome-network-smbshare"/>を参照してください。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>Windowsファイルの管理</term>
   <listitem>
    <para>
     <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>は、既存のWindowsネットワークに統合するように設定できます。この場合、LinuxマシンはWindowsクライアントのように動作します。Windowsクライアントと同様に、すべてのアカウント情報をActive Directoryドメインコントローラから取得します。詳細については、<xref linkend="sec-gnome-network-ad-data"/>を参照してください。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>Windowsネットワークプリンタの設定とアクセス</term>
   <listitem>
    <para>
     GNOMEコントロールセンターから、Windowsネットワークプリンタを設定できます。設定方法の詳細については、<xref linkend="sec-gnome-network-ad-printer"/>を参照してください。
    </para>
   </listitem>
  </varlistentry>
 </variablelist>
 <sect1 xml:id="sec-gnomeuser-start-network-connect">
  <title>ネットワークへの接続</title>

  <para>
   有線接続または無線接続でネットワークに接続できます。ネットワーク接続を表示するには、トップバーの右側にあるネットワークアイコンをクリックします。次に、<guimenu>Wi-Fi not connected (Wi-Fi未接続)</guimenu>をクリックし、目的のネットワークの名前をクリックして<guimenu>接続</guimenu>をクリックします。さらに詳細を参照したり、設定にアクセスしたりするには、接続名をクリックします。
  </para>

  <para>
   ネットワークへの接続の詳細については、<xref linkend="cha-nm"/>を参照してください。
  </para>
 </sect1>
 <sect1 xml:id="sec-gnome-network-general">
  <title>ファイル共有とネットワーク参照に関する一般的な注意</title>

  <important os="sles;sled">
   <title>設定前の管理者への連絡</title>
   <para>
    ネットワークでファイル共有やネットワーク参照を利用できるかどうか、またどの程度まで利用できるかについては、ネットワーク構造とマシンの設定によって異なります。
   </para>
   <para>
    これらの機能を設定する前に、システム管理者に連絡してください。ネットワーク構造で機能がサポートされているかどうか、企業のセキュリティポリシーで機能が許可されているかどうかを確認します。
   </para>
  </important>

  <para>
   Windows共有用のSMB参照やリモートサービス用のSLP参照などのネットワーク参照は、コンピュータがネットワーク上のすべてのクライアントにメッセージをブロードキャストできるかどうかに大きく依存しています。コンピュータは、ブロードキャストメッセージとクライアントからの応答によって、利用できるネットワーク共有やサービスを検出します。
  </para>

  <para>
   ブロードキャストを効果的に行うためには、お使いのコンピュータが、他のブロードキャスト対象コンピュータと同じサブネット上に存在する必要があります。ネットワーク参照がマシンで動作しない場合、または検出された共有やサービスが期待どおりでない場合は、<phrase os="sles;sled">システム管理者に問い合わせて、</phrase>適切なサブネットに接続されていることを確認してください。
  </para>

  <para>
   ネットワーク参照を利用するには、ネットワークの詳細、または共有およびサービスの可用性を知らせるネットワークメッセージを送受信できるように、いくつかのネットワークポートを開いておく必要があります。<phrase os="sled;sles">標準の<phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>は、高いセキュリティレベルを維持するように設定されており、インターネットからコンピュータを保護するファイアウォールを備えています。</phrase>
  </para>

  <para>
   <phrase os="sled;sles">ファイアウォール設定を調整するには、内部ゾーンにインタフェースを配置するようにシステム管理者に依頼するか、ファイアウォールを完全に無効にする必要があります(企業のセキュリティポリシーに基づきます)。</phrase>ファイアウォールがマシンで動作している状態でネットワークをブラウズしようとすると、セキュリティ設定によりネットワーク参照が禁止されていることを示す警告がGNOME Filesで表示されます。
  </para>
 </sect1>
 <sect1 xml:id="sec-gnome-network-accshare">
  <title>ネットワーク共有へのアクセス</title>

  <para>
   ネットワーク上のワークステーションのディレクトリを共有するように設定できます。通常、ファイルとディレクトリにはユーザがリモートアクセスできることを示す記号が付いています。これらは、「<emphasis>ネットワークシェア(共有)</emphasis>」と呼ばれます。お使いのシステムがネットワーク共有にアクセスできるように設定されている場合、ローカルコンピュータ上にあるファイルやフォルダと同じように、ファイルマネージャを使って共有ファイルやフォルダにアクセスしたり、参照したりできます。共有ディレクトリに対するアクセスレベル(読み込み専用なのか、書き込みアクセスも可能なのか)は、その共有の所有者がユーザに割り当てた許可によって異なります。
  </para>

  <para>
   ネットワーク共有にアクセスするには、GNOME Filesを開いて、サイドバーの<guimenu>Other Locations (その他の場所)</guimenu>をクリックします。アクセスできるサーバとネットワークが表示されます。共有にアクセスするサーバまたはネットワークをダブルクリックします。ユーザ名とパスワードを入力してサーバで承認するよう求められる場合があります。一般的なネットワーク共有は、SFTP (SSH File Transfer Protocol)でアクセス可能なリソースまたはWindows共有です。
  </para>

  <figure>
   <title>ネットワークファイルブラウザ</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="network_browser.png" width="100%"/>
     </imageobject>
    <imageobject role="html">
     <imagedata fileref="network_browser.png" width="90%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <procedure>
   <title>ネットワークの場所の追加</title>
   <step>
    <para>
     GNOME Filesを開いて、サイドバーの<guimenu>Other Locations (その他の場所)</guimenu>をクリックします。下部に<guimenu>Connect to Server (サーバに接続)</guimenu>テキストボックスが表示されます。
    </para>
   </step>
   <step>
    <para>
     サーバのアドレスを入力します。
    </para>
   </step>
   <step>
    <para>
     <guimenu>接続</guimenu>をクリックします。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec-gnome-network-smbshare">
  <title>ディレクトリの共有</title>

  <para>
   企業環境では、ドキュメントの共有および交換は必須の機能です。GNOME Filesでは、ファイル共有機能を利用して、LinuxユーザとWindowsユーザ間でファイルやディレクトリを共有できます。
  </para>

  <sect2 xml:id="sec-gnome-network-sharingcomputer">
   <title>コンピュータの共有の有効化</title>
   <para>
    ディレクトリを共有するには、コンピュータで共有を有効にする必要があります。これは、YaSTを使用するか、<productname>Samba</productname>設定ファイルにエントリを追加することで有効にできます。
   </para>
   <sect3>
    <title>YaSTを使用した共有の有効化</title>

    <procedure>
     <step>
      <para>
       <guimenu>アクティビティ</guimenu>画面からYaSTを起動し、<systemitem class="username">root</systemitem>パスワードを入力します。
      </para>
     </step>
     <step>
      <para>
       <guimenu>Network Services (ネットワークサービス)</guimenu>カテゴリで、<guimenu>Windows Domain Membership (Windowsドメインメンバーシップ)</guimenu>をクリックします。
      </para>
     </step>
     <step>
      <para>
       <guimenu>ユーザにディレクトリの共有を許可する</guimenu>を選択して、次に<guimenu>OK</guimenu>をクリックします。
      </para>
     </step>
    </procedure>
    <para>
     これでご使用のコンピュータでディレクトリの共有が有効になりました。
    </para>
   </sect3>

   <sect3>
    <title><productname>Samba</productname>設定ファイルを編集することによる共有の有効化</title>
    <procedure>
     <step>
      <para>
       <guimenu>端末</guimenu>を起動します。
      </para>
     </step>
     <step>
      <para>
       設定ファイル<filename>/etc/samba/smb.conf</filename>を<systemitem class="username">root</systemitem>として開きます。
      </para>
      <para>
       次のコマンドを実行します。
      </para>
      <screen>sudo vi /etc/samba/smb.conf</screen>
     </step>
     <step>
      <para>
       編集を有効にするには、&lt;<keycap>I</keycap>&gt;キーを押します。
       </para>
     </step>
     <step>
      <para>
       <parameter>[global]</parameter>セクションに次のエントリを追加します。
      </para>
      <screen>usershare max shares = 100</screen>
     </step>
     <step>
      <para>
       エディタを保存して終了します。
      </para>
     </step>
    </procedure>
    <para>
     これでご使用のコンピュータでディレクトリの共有が有効になりました。
    </para>
   </sect3>
  </sect2>
  
  <sect2 xml:id="sec-gnome-network-sharingcomputer-conf">
   <title>設定ファイルを介したコンピュータでの共有の有効化</title>
   <para>
    ディレクトリを共有するには、コンピュータで共有を有効にする必要があります。共有を有効にする
   </para>
   <procedure>
    <step>
     <para>
      メインメニューからYaSTを起動します。
     </para>
    </step>
    <step>
     <para>
      <systemitem class="username">root</systemitem>パスワードを入力します。
     </para>
    </step>
    <step>
     <para>
      <guimenu>Network Services (ネットワークサービス)</guimenu>カテゴリで、<guimenu>Windows Domain Membership (Windowsドメインメンバーシップ)</guimenu>をクリックします。
     </para>
    </step>
    <step>
     <para>
      <guimenu>ユーザにディレクトリの共有を許可する</guimenu>を選択して、次に<guimenu>OK</guimenu>をクリックします。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-gnome-network-sharingfolder">
   <title>ディレクトリの共有の有効化</title>
   <para>
    ディレクトリのファイル共有を設定する
   </para>
   <procedure>
    <step>
     <para>
      GNOME Filesを開きます。
     </para>
    </step>
    <step>
     <para>
      ディレクトリを右クリックして、<guimenu>プロパティ</guimenu>を選択し、<guimenu>Sharing Options (共有オプション)</guimenu>をクリックします。
     </para>
     <informalfigure>
      <mediaobject>
       <textobject><phrase>Sharing options</phrase></textobject>
       <imageobject role="fo">
        <imagedata fileref="folder_sharing_1_a.png" width="85%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="folder_sharing_1_a.png" width="85%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      <guimenu>このフォルダを共有する</guimenu>を選択します。
     </para>
    </step>
    <step>
     <para>
      他のユーザからのディレクトリへの書き込みを許可する場合は、<guimenu>Allow others to create and delete files in this folder (他の人がこのフォルダでファイルを作成および削除できるようにする)</guimenu>を選択します。ユーザアカウントを使用しないアクセスを許可するには、<guimenu>ゲストアクセス</guimenu>をオンにします。
     </para>
    </step>
    <step>
     <para>
      <guimenu>共有の作成</guimenu>をクリックします。
     </para>
    </step>
    <step>
     <para>
      共有に必要なパーミッションがディレクトリにない場合は、ダイアログが表示されます。<guimenu>自動的にパーミッションを追加する</guimenu>をクリックします。
     </para>
    </step>
   </procedure>
   <para>
    ディレクトリが共有されていることを示すために、ディレクトリアイコンが変化します。
   </para>
   <important>
    <title>Sambaドメイン参照とファイアウォール</title>
    <para>
     Sambaドメイン参照は、システムのファイアウォールが正しく設定されている場合にのみ利用できます。ファイアウォール全体を無効にするか、または参照インタフェースを内部ファイアウォールゾーンに指定します。<phrase os="sles;sled">設定方法については、システム管理者にお問い合わせください。</phrase>
    </para>
   </important>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-gnome-network-ad-data">
  <title>Windowsファイルの管理</title>

  <para>
   <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> コンピュータをActive Directoryクライアントとして使用することにより、Windowsサーバ上のデータを参照、表示、および操作できます。次に代表的な例を示します。
  </para>

  <variablelist>
   <varlistentry>
    <term>GNOME FilesでのWindowsファイルの参照</term>
    <listitem>
     <para>
      GNOME Filesのネットワーク参照機能を使用して、Windowsデータを参照することができます。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>GNOME FilesでのWindowsデータの表示</term>
    <listitem>
     <para>
      GNOME Filesを使用して、Linuxディレクトリを表示する場合と同様に、Windowsユーザディレクトリの内容を表示することができます。Windowsサーバ上にファイルやディレクトリを作成することもできます。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>GNOMEアプリケーションを使ったWindowsデータの操作</term>
    <listitem>
     <para>
      多くのGNOMEアプリケーションでは、Windowsサーバ上のファイルを開いて作業を行い、再びWindowsサーバに保存することができます。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Single Sign-On</term>
    <listitem>
     <para>
      GNOME Filesをはじめ、GNOMEアプリケーションではシングルサインオンがサポートされています。そのため、他のWindowsリソースにアクセスするときに、再度認証を行う必要はありません。これには、Webサーバ、プロキシサーバ、Microsoft Exchange*などのグループウェアサーバが含まれます。これらすべてに対する認証は、ログイン時に入力したユーザ名とパスワードを使用してバックグラウンドで自動的に行われます。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   GNOME Filesを使用してWindowsデータにアクセスするには、次の手順に従います。
  </para>

  <procedure>
   <step>
    <para>
     GNOME Filesを開いて、ナビゲーションペインで<guimenu>Other Locations (その他の場所)</guimenu>をクリックします。
    </para>
   </step>
   <step>
    <para>
     <guimenu>Windowsネットワーク</guimenu>をダブルクリックします。
    </para>
   </step>
   <step>
    <para>
     アクセスするコンピュータがあるワークグループのアイコンをダブルクリックします。
    </para>
   </step>
   <step>
    <para>
     コンピュータのアイコンをクリックして(必要に応じて認証を受けて)、次にそのコンピュータ上の目的の共有ディレクトリに移動します。
    </para>
   </step>
  </procedure>

  <para>
   GNOME Filesを使用してWindowsユーザディレクトリ内にディレクトリを作成するには、Linuxディレクトリを作成する場合と同じ手順に従います。
  </para>
 </sect1>
 <sect1 xml:id="sec-gnome-network-ad-printer">
  <title>Windowsネットワークプリンタの設定とアクセス</title>



  <para>
   ネットワークに接続し、Windows Active Directoryサーバの認証を受けたら、プリンタなどの企業リソースにアクセスできます。GNOMEでは、LinuxクライアントからWindowsネットワークプリンタに印刷できるように設定できます。
  </para>

  <para>
   LinuxクライアントからWindowsネットワークプリンタを利用できるように設定するには、次の手順に従います。
  </para>

  <procedure>
   <step>
    <para>
     
     CUPS印刷サービスが利用可能で、起動時に自動的に開始されることを確認します。
    </para>
    <screen><prompt>&gt; </prompt><command>sudo</command> systemctl enable cups.service
<prompt>&gt; </prompt><command>sudo</command> systemctl start cups.service</screen>
   </step>
   <step>
    <para>
     デスクトップを右クリックし、<guimenu>設定</guimenu>、<guimenu>プリンタ</guimenu>の順に選択して、プリンタ設定を開始します。
    </para>
   </step>
   <step>
    <para>
     右上隅にある<guimenu>Unlock (ロック解除)</guimenu>をクリックして、<systemitem class="username">root</systemitem>パスワードを入力します。
    </para>
   </step>
   <step>
    <para>
     <guimenu>[追加]</guimenu>ボタンをクリックします。
    </para>
   </step>
   <step>
    <para>
     Samba経由で接続されているWindowsプリンタを選択します。
    </para>
   </step>

  </procedure>

  <para>
   設定したWindowsネットワークプリンタに印刷するには、利用可能なプリンタリストから該当するプリンタを選択します。
  </para>
 </sect1>
</chapter>
