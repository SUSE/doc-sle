<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<sect1 xml:base="zypper.xml" id="sec.zypper">
 <title>使用 Zypper</title><indexterm id="idx.zypper" class="startofrange"> <primary>zypper</primary> </indexterm> <indexterm> <primary>指令</primary> <secondary>zypper</secondary> </indexterm> <indexterm> <primary>軟體</primary> <secondary>管理</secondary> <tertiary>指令行</tertiary> </indexterm>

 <para>
  Zypper 是用於安裝、更新和移除套件以及管理儲存庫的指令行套件管理員。這部分內容對於執行遠端軟體管理任務或透過外圍程序程序檔管理軟體非常有用。
 </para>

 <sect2 id="sec.zypper.usage">
  <title>一般使用情形</title>
  <para>
   Zypper 的一般語法為︰
  </para>
<screen>zypper <option>[--global-options]</option> <replaceable>command</replaceable> <option> [--command-options]</option> <option>[arguments]</option>
  ...</screen>
  <para>
   括號中的部分為非必需。如需一般選項和所有指令的清單，請參閱 <command>zypper help</command>。若要取得特定指令的說明，請輸入 <command>zypper help <replaceable>command</replaceable></command>。
  </para>
  <para>
   執行 Zypper 最簡單的方法就是輸入其名稱，後面跟著指令。例如，若要將所有需要的修補程式套用至系統類型︰
  </para>
<screen>zypper patch</screen>
  <para>
   此外，您還可以選擇使用一或多個全域選項，只需在指令前面輸入它們即可。例如，<option>--non-interactive</option> 表示直接執行指令，不詢問任何問題 (自動套用預設回答)︰
  </para>
<screen>zypper --non-interactive patch</screen>
  <para>
   若要使用特定於特殊指令的選項，請在指令之後輸入這些選項。例如，<option>--auto-agree-with-licenses</option> 表示將所有需要的修補程式套用至系統，而不要求確認任何授權 (系統會自動接受所有授權)。
  </para>
<screen>zypper patch --auto-agree-with-licenses</screen>
  <para>
   某些指令需要一或多個引數︰例如，使用安裝指令時，您需要指定要安裝的套件︰
  </para>
<screen>zypper install mplayer</screen>
  <para>
   某些選項也需要引數。以下指令會列出所有已知模式︰
  </para>
<screen>zypper search -t pattern</screen>
  <para>
   您可以將上述所有指令組合使用。例如，下面的指令將安裝 <literal>factory</literal> 儲存庫中的 <systemitem>aspell-de</systemitem> 和 <systemitem>aspell-fr</systemitem> 套件，並顯示詳細資訊︰
  </para>
<screen>zypper -v install --from factory aspell-de aspell-fr</screen>
  <para>
   <option>--from</option> 選項可確保所有儲存庫均處於啟用狀態 (以解決相依性問題)，並且始終從指定的儲存庫要求套件。
  </para>
  <para>
   大部分 Zypper 指令都有一個 <literal>dry-run</literal> 選項，對指定的指令進行模擬。它可以用於測試。
  </para>
<screen>zypper remove --dry-run MozillaFirefox</screen>
  <para>
   Zypper 支援 <option>--userdata <replaceable>string</replaceable></option> 全域選項。您可以使用此選項指定一個將會寫入 Zypper 的記錄檔案和外掛程式 (例如 Btrfs 外掛程式) 的字串。它可以用來標示和識別記錄檔案中的異動。
  </para>
<screen>zypper --userdata <replaceable>string</replaceable> patch</screen>
 </sect2>

 <sect2 id="sec.zypper.softman">
  <title>使用 Zypper 安裝和移除軟體</title>
  <para>
   若要安裝或移除套件，請使用以下指令：
  </para>
<screen>zypper install <replaceable>package_name</replaceable>
zypper remove <replaceable>package_name</replaceable></screen>
  <para>
   Zypper 可以使用多種方式來指定安裝和移除指令中所使用的套件。
  </para>
  <variablelist>
   <varlistentry>
    <term>用確切的套件名稱 (和版本號碼)</term>
    <listitem>
<screen>zypper install MozillaFirefox</screen>
     <para>
      或
     </para>
<screen>zypper install MozillaFirefox-3.5.3</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>用儲存庫別名和套件名稱</term>
    <listitem>
<screen>zypper install mozilla:MozillaFirefox</screen>
     <para>
      <literal>mozilla</literal> 是要安裝套件所在之儲存庫的別名。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>用含萬用字元的套件名稱</term>
    <listitem>
     <para>
      以下指令將安裝名稱以 <quote>Moz</quote> 開頭的所有套件。使用萬用字元時請務必小心，特別是在移除套件時。
     </para>
<screen>zypper install 'Moz*'</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>用功能</term>
    <listitem>
     <para>
      例如，您要安裝一個 Perl 模組，但不知道套件的名稱，用功能指定便會幫上忙︰
     </para>
<screen>zypper install firefox</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>用功能和/結構和/或版本</term>
    <listitem>
     <para>
      除功能外，還可以同時指定架構 (如 <literal>x86_64</literal>) 和/或版本。版本的前面必須使用運算子︰<literal>&lt;</literal> (小於)、<literal>&lt;=</literal> (小於等於)、<literal>=</literal> (等於)、<literal>&gt;=</literal> (大於等於)、<literal>&gt;</literal> (大於)。
     </para>
<screen>zypper install 'firefox.x86_64'
zypper install 'firefox&gt;=3.5.3'
zypper install 'firefox.x86_64&gt;=3.5.3'</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>用 RPM 檔案的路徑</term>
    <listitem>
     <para>
      您也可以指定套件的本地或遠端路徑︰
     </para>
<screen>zypper install /tmp/install/MozillaFirefox.rpm
zypper install http://download.opensuse.org/repositories/mozilla/SUSE_Factory/x86_64/MozillaFirefox-3.5.3-1.3.x86_64.rpm</screen>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   若要同時安裝並移除套件，請使用 <literal>+/-</literal> 輔助按鍵。若要安裝 <systemitem>emacs</systemitem> 並移除 <systemitem>vim</systemitem>，請使用︰
  </para>
<screen>zypper install emacs -vim
</screen>
  <para>
   若要移除 <systemitem>emacs</systemitem> 並安裝 <systemitem>vim</systemitem>，請使用︰
  </para>
<screen>zypper remove emacs +vim
</screen>
  <para>
   為了防止將名稱以 <literal>-</literal> 開頭的套件解譯為指令選項，請一律將此類名稱用做第二個引數。如果行不通，則在前面加上 <literal>--</literal>︰
  </para>
<screen>zypper install -emacs +vim       # Wrong
zypper install vim -emacs        # Correct
zypper install -- -emacs +vim    # same as above
zypper remove emacs +vim         # same as above</screen>
  <para>
   如果想讓系統在移除某套件後自動移除由於此操作而導致不再需要的所有套件，請使用 <option>--clean-deps</option> 選項︰
  </para>
<screen>zypper rm <replaceable>package_name</replaceable> --clean-deps</screen>
  <para>
   依預設，Zypper 會在安裝或移除所選套件前或出現問題時要求您確認。使用 <option>--non-interactive</option> 選項可覆寫此行為。此選項必須放在實際指令 (<command>install</command>、<command>remove</command> 和 <command>patch</command>) 的前面，如下所示︰
  </para>
<screen>zypper <option>--non-interactive</option> install <replaceable>package_name</replaceable></screen>
  <para>
   此選項允許在程序檔與 cron 工作中使用 Zypper。
  </para>

  <warning>
   <title>不要移除必要的系統套件</title>
   <para>
    不要移除 <systemitem>glibc</systemitem>、<systemitem>zypper</systemitem>、<systemitem>kernel</systemitem> 或類似套件。這些套件都是系統的必要套件，若是移除，可能會導致系統不穩定甚至停止工作。
   </para>
  </warning>
  <sect3 id="sec.zypper.softman.sources">
   <title>安裝或下載來源套件</title>
   <para>
    <indexterm> <primary>軟體</primary> <secondary>安裝</secondary> <tertiary>來源套件</tertiary> </indexterm> 若要安裝某套件對應的來源套件，請使用︰
   </para>
<screen>zypper source-install <replaceable>package_name</replaceable></screen>
   <para>
    使用此指令還會安裝指定套件的建構相依套件。如果不想如此，請新增參數 <literal>-D</literal>。若想單獨安裝建構相依套件，請使用 <literal>-d</literal>。
   </para>
<screen>zypper source-install -D <replaceable>package_name</replaceable> # source package only
zypper source-install -d <replaceable>package_name</replaceable> # build dependencies only</screen>
   <para>
    當然，您必須在儲存庫清單中啟用含來源套件的儲存庫 (預設會新增，但不會啟用)，此指令才有效。如需有關儲存庫管理的詳細資料，請參閱<xref linkend="sec.zypper.instrepo"/>。
   </para>
   <para>
    儲存庫中所有可用來源套件的清單可透過以下指令獲得︰
   </para>
<screen>zypper search -t srcpackage</screen>
   <para>
    您還可以將所有已安裝套件的來源套件下載到本地目錄。若要下載來源套件，請使用：
   </para>
<screen>zypper source-download</screen>
   <para>
    預設下載目錄為 <filename>/var/cache/zypper/source-download</filename>。您可以使用 <option>--directory</option> 選項變更該目錄。若只想顯示遺失或多餘的套件而不進行任何下載或刪除操作，請使用 <option>--status</option> 選項。若要刪除多餘的來源套件，請使用 <option>--delete</option> 選項。若要停用刪除操作，請使用 <option>--no-delete</option> 選項。
   </para>
  </sect3>
  <sect3 id="sec.zypper.softman.util">
   <title>公用程式</title>
   <para>
    若要驗證是否仍滿足所有相依條件並執行未滿足的相依條件，請使用︰
   </para>
<screen>zypper verify</screen>
   <para>
    除了必須滿足的相依條件之外，一些套件還會「推薦」其他套件。這些推薦的套件只有在確實可用並可安裝時才會進行安裝。如果所推薦的套件在推薦方套件安裝之後 (透過新增其他套件或硬體) 才可用，請使用以下指令︰
   </para>
<screen>zypper install-new-recommends</screen>
   <para>
    此指令在接入網路攝影機或 Wi-Fi 裝置後非常有用。它將安裝裝置的驅動程式及相關軟體 (如果有)。驅動程式及相關軟體只有在符合了某些硬體相依性條件後才可安裝。
   </para>
  </sect3>
 </sect2>

 <sect2 id="sec.zypper.softup">
  <title>使用 Zypper 更新軟體</title>
  <para>
   Zypper 有三種方法更新軟體︰安裝修補程式、安裝新版本的套件或更新整個套裝作業系統。最後一種方法可藉由 <command>zypper dist-upgrade</command> 來實現。<xref linkend="cha.update.sle"/>中介紹了如何升級 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。
  </para>
  <sect3 id="sec.zypper.softup.patch">
   <title>安裝修補程式</title>
   <para>
    若要安裝所有正式發佈且適用於您系統的修補程式，請執行︰
   </para>
<screen>zypper patch</screen>
   <para>
    在此情況下，系統會檢查儲存庫中所有可用修補程式的關聯性，並視需要進行安裝。註冊您安裝的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 後，包含此類修補程式的正式更新儲存庫將新增至您的系統。需要套用這些修補程式時，只需輸入上述指令即可。
   </para>
   <para>
    Zypper 有三種指令可以查詢修補程式的可用性︰
   </para>
   <variablelist>
    <varlistentry>
     <term><command>zypper patch-check</command>
     </term>
     <listitem>
      <para>
       列出所需修補程式 (已套用至系統但尚未安裝的修補程式) 的數量。
      </para>
<screen><prompt role="user">tux &gt; </prompt>sudo zypper patch-check
Loading repository data...
Reading installed packages...
5 patches needed (1 security patch)</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>zypper list-patches</command>
     </term>
     <listitem>
      <para>
       列出所需的所有修補程式 (已套用至系統但尚未安裝的修補程式)。
      </para>
<screen>
<prompt role="user">tux &gt; </prompt>sudo zypper list-patches
Loading repository data...
Reading installed packages...
 
Repository     | Name        | Version | Category | Status  | Summary
---------------+-------------+---------+----------+---------+---------
SLES12-Updates | SUSE-2014-8 | 1       | security | needed  | openssl: Update to OpenSSL 1.0.1g
</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>zypper patches</command>
     </term>
     <listitem>
      <para>
       列出可用於 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的所有修補程式，不論它們是否已安裝或是否適用於您的安裝。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    還會列出與特定問題相關的修補程式並加以安裝。若要列出特定的修補程式，請使用 <command>zypper list-patches</command> 指令及以下選項︰
   </para>
   <variablelist>
    <varlistentry>
     <term><option>--bugzilla[=<replaceable>數字</replaceable>] </option>
     </term>
     <listitem>
      <para>
       列出 Bugzilla 問題所需的所有修補程式。如果您只想列出針對此特定錯誤的修補程式，還可以指定錯誤編號。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>--cve[=<replaceable>編號</replaceable>]</option>
     </term>
     <listitem>
      <para>
       列出各種 CVE (Common Vulnerabilities and Exposures，通用弱點與揭露) 問題所需的所有修補程式，或僅符合特定 CVE 編號的修補程式 (如果指定編號)。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    若要安裝針對特定 Bugzilla 或 CVE 問題的修補程式，請使用以下指令︰
   </para>
<screen>zypper patch --bugzilla=<replaceable>number</replaceable></screen>
   <para>
    或
   </para>
<screen>zypper patch --cve=<replaceable>number</replaceable></screen>
   <para>
    例外，若要安裝 CVE 編號為 <literal>CVE-2010-2713</literal> 的安全性修補程式，請執行︰
   </para>
<screen>zypper patch --cve=CVE-2010-2713</screen>
  </sect3>
  <sect3 id="sec.zypper.softup.update">
   <title>安裝新的套件版本</title>
   <para>
    如果儲存庫中只含有新套件，但未提供修補程式，則 <command>zypper patch</command> 不起任何作用。若要使用可用的較新版本更新所有安裝的套件 (同時維持系統完整性)，請使用︰
   </para>
<screen>zypper update</screen>
   <para>
    若要更新個別套件，請在更新或安裝指令中指定套件︰
   </para>
<screen>zypper update <replaceable>package_name</replaceable>
zypper install <replaceable>package_name</replaceable></screen>
   <para>
    所有可安裝的新套件的清單可透過以下指令獲得︰
   </para>
<screen>zypper list-updates</screen>
   <para>
    請注意，此指令只會列出符合以下準則的套件︰
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      與已安裝套件具有相同的廠商，
     </para>
    </listitem>
    <listitem>
     <para>
      提供套件的儲存庫相較於已安裝套件，擁有更高或相同的優先程度，
     </para>
    </listitem>
    <listitem>
     <para>
      可安裝 (符合所有相依性條件)。
     </para>
    </listitem>
   </itemizedlist>
   <para>
    <emphasis>所有</emphasis>新可用套件 (無論是否可安裝) 的清單可透過以下指令獲得︰
   </para>
<screen>zypper list-updates --all</screen>
   <para>
    若要找出新套件無法安裝的原因，請如上文所述使用 <command>zypper install</command> 或 <command>zypper update</command> 指令。
   </para>
  </sect3>

 </sect2>





 <sect2 id="sec.zypper.instrepo">
  <title>使用 Zypper 管理儲存庫</title>
  <para>
   Zypper 的所有安裝或修補指令均依賴於一系列已知的儲存庫。若要列出系統可識別的所有儲存庫，請使用指令︰
  </para>
<screen>zypper repos</screen>
  <para>
   結果類似於以下輸出︰
  </para>
  <example id="ex.zypper.repos">
   <title>Zypper — 已知儲存庫的清單</title>
<screen><?dbsuse-fo font-size="0.60em"
?>


# | Alias        | Name          | Enabled | Refresh
--+--------------+---------------+---------+--------
1 | SLEHA-12-GEO | SLEHA-12-GEO  | Yes     | No     
2 | SLEHA-12     | SLEHA-12      | Yes     | No     
3 | SLES12       | SLES12        | Yes     | No 
  </screen>
  </example>
  <para>
   在各種指令中指定儲存庫時，可以使用 <command>zypper repos</command> 指令輸出的別名、URI 或儲存庫編號。儲存庫別名是儲存庫名稱的縮寫形式，用於儲存庫處理指令。請注意，修改儲存庫清單後，儲存庫的編號可能會發生變更。但別名永遠不會自行變更。
  </para>
  <para>
   依預設，不會顯示儲存庫的詳細資料 (如 URI 或優先程度)。若要列出所有詳細資料，可以使用以下指令︰
  </para>
<screen>zypper repos -d</screen>
  <sect3 id="sec.zypper.instrepo.add">
   <title>新增儲存庫</title>
   <para>
    若要新增儲存庫，請執行
   </para>
<screen>zypper addrepo <replaceable>URI</replaceable> <replaceable>alias</replaceable></screen>
   <para>
    <replaceable>URI</replaceable> 可以是網際網路儲存庫、網路資源、目錄，也可以是 CD 或 DVD (如需詳細資料，請造訪 <ulink url="http://en.opensuse.org/openSUSE:Libzypp_URIs"/>)。<replaceable>別名</replaceable>是儲存庫的縮寫與唯一識別碼。您可以隨意選擇，前提是它必須是唯一的。如果指定了已使用的別名，Zypper 會發出警告。
   </para>
  </sect3>
  <sect3 id="sec.zypper.instrepo.rm">
   <title>移除儲存庫</title>
   <para>
    若要從清單中移除儲存庫，請使用 <command>zypper removerepo</command> 指令，加上要刪除的儲存庫別名或編號。例如，若要從<xref linkend="ex.zypper.repos"/>中移除儲存庫 <literal>SLEHA-12-GEO</literal>，請使用下列其中一個指令：
   </para>
<screen>zypper removerepo 1
zypper removerepo "SLEHA-12-GEO"</screen>
  </sect3>
  <sect3 id="sec.zypper.instrepo.mofify">
   <title>修改儲存庫</title>
   <para>
    <command>zypper modifyrepo</command> 可以啟用或停用儲存庫。您也可以使用此指令變更儲存庫的內容 (如重新整理行為、名稱或優先程度)。以下指令將啟用名為 <literal>updates</literal> 的儲存庫，開啟自動重新整理功能，並將優先程度設為 20︰
   </para>
<screen>zypper modifyrepo -er -p 20 'updates'</screen>
   <para>
    修改儲存庫並不局限於單個儲存庫，您也可以對群組執行該操作︰
   </para>
   <simplelist>
    <member><option>-a</option>︰所有儲存庫</member> <member><option>-l</option>︰本地儲存庫</member> <member><option>-t</option>︰遠端儲存庫</member> <member><option>-m <replaceable>類型</replaceable></option>︰某種類型的儲存庫 (其中<replaceable>類型</replaceable>可以是以下其中一種︰<literal>http</literal>、<literal>https</literal>、<literal>ftp</literal>、<literal>cd</literal>、<literal>dvd</literal>、<literal>dir</literal>、<literal>file</literal>、<literal>cifs</literal>、<literal>smb</literal>、<literal>nfs</literal>、<literal>hd</literal>、<literal>iso</literal>) </member>
   </simplelist>
   <para>
    若要重新命名儲存庫別名，請使用 <literal>renamerepo</literal> 指令。以下範例會將別名 <literal>Mozilla Firefox</literal> 變更為 <literal>firefox</literal>︰
   </para>
<screen>zypper renamerepo 'Mozilla Firefox' firefox</screen>
  </sect3>
 </sect2>

 <sect2 id="sec.zypper.query">
  <title>使用 Zypper 查詢儲存庫和套件</title>
  <para>
   Zypper 提供多種方法來查詢儲存庫或套件。若要獲得所有可用產品、模式、套件或修補程式的清單，請使用以下指令︰
  </para>
<screen>zypper products
zypper patterns
zypper packages
zypper patches</screen>
  <para>
   若要在所有儲存庫中查詢某些套件，請使用 <literal>search</literal>。它可以對套件名稱、或 (視情況) 對套件摘要及描述進行搜尋。以 <literal>/</literal> 括住的字串會解譯為正規表示式。依預設，搜尋不區分大小寫。
  </para>
  <variablelist>
   <varlistentry>
    <term>執行簡單搜尋以尋找包含 <literal>fire</literal> 的套件名稱
    </term>
    <listitem>
<screen>zypper search "fire"</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>執行簡單搜尋以尋找確切的套件 <literal>MozillaFirefox</literal>
    </term>
    <listitem>
<screen>zypper search --match-exact "MozillaFirefox"</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>同時在套件描述和摘要中搜尋</term>
    <listitem>
<screen>zypper search -d fire</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>僅顯示尚未安裝的套件</term>
    <listitem>
<screen>
      zypper search -u fire
     </screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>顯示包含字串 <literal>fir</literal> 且該字串後面不是 <literal>e</literal> 的套件
    </term>
    <listitem>
     <para>
      zypper se "/fir[^e]/"
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   若要搜尋提供特殊功能的套件，請使用指令 <literal>what-provides</literal>。例如，如果您想瞭解哪個套件提供 Perl 模組 <literal>SVN::Core</literal>，請使用以下指令︰
  </para>
<screen>zypper what-provides 'perl(SVN::Core)'</screen>
  <para>
   若要查詢單個套件，請在 <command>info</command> 指令中使用準確的套件名稱做為引數。它會顯示套件的詳細資訊。如果還想顯示套件所需/推薦的項目，請使用選項 <option>--requires</option> 和 <option>--recommends</option>︰
  </para>
<screen>zypper info --requires MozillaFirefox</screen>
  <para>
   <literal>what-provides <replaceable>package</replaceable></literal> 與 <command>rpm -q --whatprovides <replaceable>package</replaceable></command> 類似，不過，RPM 只能查詢 RPM 資料庫 (即所有已安裝套件的資料庫)。另外，Zypper 會告知您任何儲存庫功能的提供者，而不是只有已安裝的儲存庫。
  </para><indexterm class="endofrange" startref="idx.zypper"/>
 </sect2>

 <sect2 id="sec.zypper.configure">
  <title>設定 Zypper</title>
  <para>
   Zypper 現隨附一個組態檔案，透過該檔案可永久變更 Zypper 的行為 (整個系統範圍或僅針對特定使用者)。對於系統範圍的變更，請編輯 <filename>/etc/zypp/zypper.conf</filename>。對於特定使用者的變更，請編輯 <filename>~/.zypper.conf</filename>。如果 <filename>~/.zypper.conf</filename> 尚不存在，您可以使用 <filename>/etc/zypp/zypper.conf</filename> 做為樣板︰將其複製到 <filename>~/.zypper.conf</filename> 並根據喜好進行調整。如需有關可用選項的說明，請參閱檔案中的備註。
  </para>
 </sect2>

 <sect2 id="sec.zypper.trouble">
  <title>疑難排解</title>
  <para>
   如果您在存取所設定儲存庫中的套件時遇到問題 (例如，儘管您知道某個套件在某個儲存庫中，但 Zypper 找不到該套件)，則可使用以下指令重新整理儲存庫︰
  </para>
<screen>zypper refresh</screen>
  <para>
   如果不起作用，請嘗試
  </para>
<screen>zypper refresh -fdb</screen>
  <para>
   此指令會強制執行全面的重新整理和資料庫重建，包括強制下載原始中繼資料。
  </para>
 </sect2>

 <sect2 id="sec.zypper.rollback">
  <title>Btrfs 檔案系統上的 Zypper 復原功能</title>
  <para>
   如果根分割區上使用的是 Btrfs 檔案且系統中安裝了 <command>snapper</command>，當 Zypper 提交對檔案系統的變更以建立相應的檔案系統快照時，會自動呼叫 <command>snapper</command> (透過 <command>snapper</command> 所安裝的程序檔)。這些快照可用於回復 Zypper 所做的任何變更。如需相關資訊，請參閱<xref linkend="cha.snapper"/>。
  </para>
 </sect2>

 <sect2 id="sec.zypper.more">
  <title>更多資訊</title>
  <para>
   如需透過指令行管理軟體的詳細資訊，請輸入 <command>zypper help</command> 或 <command>zypper help <replaceable>command</replaceable></command>，或者參閱 <systemitem>zypper(8)</systemitem> 的 man 頁面。如需完整詳細的指令參考 (包括有最重要指令的<literal>彙總表</literal>) 以及有關如何在程序檔和應用程式中使用 Zypper 的資訊，請參閱 <ulink url="http://en.opensuse.org/SDB:Zypper_usage"/>。最新 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 版本的軟體變更清單可在 <ulink url="http://en.opensuse.org/openSUSE:Zypper versions"/> 中找到。
  </para>
 </sect2>
</sect1>
