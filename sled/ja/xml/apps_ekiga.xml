<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="apps_ekiga.xml" version="5.0" xml:id="cha.ekiga">
 <title>Ekiga:Voice over IPの使用</title>
 <info>
  <abstract>
   <para>
    Ekigaは、Voice over IP(VoIP)を介して電話したり、ビデオ会議やインスタントメッセージングを行ったりするためのアプリケーションです。
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info><indexterm xml:id="idx.voip" class="startofrange"><primary>voice over IP</primary></indexterm><indexterm><primary>アプリケーション</primary><secondary>ネットワーク</secondary><tertiary>Ekiga</tertiary></indexterm><indexterm xml:id="idx.ekiga" class="startofrange"><primary>Ekiga</primary></indexterm>
 <note>
  <title>Ekigaがインストールされていない場合があります</title>
  <para>
   処理を続行する前に、
   <package>ekigaパッケージ</package>
   がインストールされていることを確認してください。
  </para>
 </note>
 <para>
  始める前に、次の要件を満たしていることを確認してください。
 </para>
 <itemizedlist mark="bullet" spacing="normal">
  <listitem>
   <para>
    サウンドカードが適切に設定されている。
   </para>
  </listitem>
  <listitem>
   <para>
    ヘッドセットまたはマイクとスピーカーがコンピュータに接続されている。
   </para>
  </listitem>
  <listitem>
   <para>
    通常の電話回線にダイヤルするには、SIPアカウントが必要です。SIP(<emphasis>Signaling protocol for Internet Telephony</emphasis>)は、音声およびテレビ会議またはコール転送のセッション確立に使用されるプロトコルです。
   </para>
   <para>
    世界中には、多数のVoIPプロバイダが存在します。プロバイダの1つは、Ekigaプロジェクト自体です。詳細については、<link xlink:href="https://ekiga.im"/>を参照してください。
   </para>
  </listitem>
  <listitem>
   <para>
    テレビ会議の場合、Webカメラがコンピュータに接続されている。
   </para>
  </listitem>
 </itemizedlist>
 <sect1 xml:id="sec.ekiga.start">
  <title>Ekigaの起動</title>

  <para>
   <menuchoice><guimenu>Applications (アプリケーション)</guimenu><guimenu>Internet (インターネット)</guimenu><guimenu>Ekiga Softphone</guimenu></menuchoice>の順にクリックして、Ekigaを起動します。
  </para>
 </sect1>
 <sect1 xml:id="sec.ekiga.configure">
  <title>Ekigaの設定</title>

  <para>
   最初に起動すると、Ekigaの設定アシスタントが開き、Ekigaの設定に必要なすべてのデータが要求されます。次の手順に従います。
  </para>

  <procedure>
   <step>
    <para>
     <guimenu>進む</guimenu>をクリックします。
    </para>
   </step>
   <step>
    <para>
     フルネーム(名前と姓)を入力します。<guimenu>進む</guimenu>をクリックします。
    </para>
   </step>
   <step>
    <para>
     <literal>ekiga.net</literal>アカウントのデータを入力するか、または<link xlink:href="http://www.ekiga.net"/>に登録しないことを選択します。<guimenu>進む</guimenu>をクリックします。
    </para>
   </step>
   <step>
    <para>
     Ekiga Call Outアカウントのデータを入力するか、<link xlink:href="http://www.ekiga.net"/>に登録しないことを選択します。<guimenu>進む</guimenu>をクリックします。
    </para>
   </step>
   <step>
    <para>
     接続の種類と速度を設定します。<guimenu>進む</guimenu>をクリックします。
    </para>
   </step>

   <step>
    <para>
     オーディオリンギング、入出力デバイスドライバを選択して、使用するオーディオデバイスを設定します。通常は、<guimenu>Default (デフォルト)</guimenu>設定のままで構いません。<guimenu>進む</guimenu>をクリックします。
    </para>
   </step>
   <step>
    <para>
     使用可能な場合はビデオ入力デバイスを選択します。<guimenu>進む</guimenu>をクリックします。
    </para>
   </step>
   <step>
    <para>
     設定の概要を確認して適用します。
    </para>
   </step>
   <step>
    <para>
     設定を変更した後に登録が失敗した場合は、Ekigaを再起動します。
    </para>
   </step>
  </procedure>

  <para>
   Ekigaでは複数のアカウントを管理できます。アカウントを追加して設定するには、次の手順に従います。
  </para>

  <procedure>
   <step>
    <para>
     <menuchoice><guimenu>編集</guimenu><guimenu>アカウント</guimenu></menuchoice>を開きます。
    </para>
   </step>
   <step>
    <para>
     <menuchoice><guimenu>アカウント</guimenu><guimenu>&lt;アカウントの種類&gt;の追加</guimenu></menuchoice>の順に選択します。わからない場合は、<guimenu>Add a SIP Account (SIPアカウントの追加)</guimenu>を選択します。
    </para>
   </step>
   <step>
    <para>
     登録した<guimenu>Registrar (登録機関)</guimenu>を入力します。これは通常は、インターネットテレフォニーサービスプロバイダが指定するIPアドレスまたはホスト名です。プロバイダが指定したデータに従って、<guimenu>ユーザ</guimenu>と<guimenu>パスワード</guimenu>を入力します。
    </para>
   </step>
   <step>
    <para>
     <guimenu>Enable account (アカウントを有効にする)</guimenu>が有効になっていることを確認し、<guimenu>OK</guimenu>を押して設定ダイアログを閉じます。アカウントとその<guimenu>ステータス</guimenu>がEkigaメインウィンドウに表示されます。このステータスは、<literal>Registered (登録済み)</literal>になるはずです。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.ekiga.ui">
  <title>Ekigaのユーザインタフェース</title>

  <para>
   ユーザインタフェースにはさまざまなモードがあります。ビューを切り替えるには、ツールバーを使用します。最初のモードは<guimenu>Contacts (連絡先)</guimenu>、2番目のモードは<guimenu>Dialpad (ダイアルパッド)</guimenu>、最後のモードは<guimenu>Call History (着信履歴)</guimenu>です。カメラアイコンをクリックして、<guimenu>Call Window (着信ウィンドウ)</guimenu>を開きます。ローカルWebカメラからの画像が表示されます(通話中はリモートWebカメラからの画像が表示される)。
  </para>

  <figure xml:id="fig.ekiga.main">
   <title>Ekigaのユーザインタフェース</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="ekiga_main.png" width="55%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="ekiga_main.png" width="55%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   デフォルトでは、Ekigaは<guimenu>Contacts (連絡先)</guimenu>モードで開きます。このビューにはローカルのアドレス帳が表示され、よく使用する電話番号への接続を素早く開始できます。
  </para>

  <para>
   Ekigaの機能の多くは、キーの組み合わせで使用できます。<xref linkend="tab.ekiga.shortcut"/>に重要なショートカットをまとめてあります。
  </para>

  <table xml:id="tab.ekiga.shortcut">
   <title>Ekigaのキーの組み合わせ</title>
   <tgroup cols="2">
    <thead>
     <row>
      <entry>
       <para>
        キーの組み合わせ
       </para>
      </entry>
      <entry>
       <para>
        説明
       </para>
      </entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry>
       <para>
        <keycombo> <keycap function="control"/> <keycap>O</keycap> </keycombo>
       </para>
      </entry>
      <entry>
       <para>
        現在の番号で通話を開始します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap function="escape"/>
       </para>
      </entry>
      <entry>
       <para>
        通話を切断します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>N</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        アドレス帳に連絡先を追加します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>B</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        <guimenu>アドレス帳</guimenu>ダイアログを開きます。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>H</keycap>
       </para>
      </entry>
      <entry>
       <para>
        現在のコールを保留にします。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>T</keycap>
       </para>
      </entry>
      <entry>
       <para>
        現在のコールを別の相手に転送します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>M</keycap>
       </para>
      </entry>
      <entry>
       <para>
        現在の通話のオーディオストリームを一時停止します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>P</keycap>
       </para>
      </entry>
      <entry>
       <para>
        現在の通話のビデオストリームを一時停止します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>W</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Ekigaユーザインタフェースを閉じます。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>Q</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Ekigaを終了します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>E</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        アカウントマネージャを開始します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo> <keycap function="control"/> <keycap>J</keycap> </keycombo>
       </para>
      </entry>
      <entry>
       <para>
        メインユーザインタフェースの<guimenu>呼び出しパネル</guimenu>を有効にします。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>+</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Webカメラからの画像にズームインします。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>-</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Webカメラからの画像にズームアウトします。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>0</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Webカメラの標準サイズの画面に戻ります。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>F11</keycap>
       </para>
      </entry>
      <entry>
       <para>
        Webカメラの全画面表示を行います。
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
 </sect1>
 <sect1 xml:id="sec.ekiga.firstcall">
  <title>電話をかける</title><indexterm><primary>Ekiga</primary><secondary>通話</secondary></indexterm>

  <para>
   Ekigaを適切に設定し終えたら、簡単に電話をかけられます。
  </para>

  <procedure>
   <step>
    <para>
     <guimenu>Dialpad (ダイアルパッド)</guimenu>モードに切り替えます。
    </para>
   </step>
   <step>
    <para>
     ウィンドウの下部で通話先のSIPアドレスを入力します。アドレスは次のような形式になります。
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       近距離の直接通話の場合: <literal>sip:username@domainname</literal>または<literal>username@hostname</literal>
      </para>
     </listitem>
     <listitem>
      <para>
       <literal>sip:username@domainname</literal>または<literal>userid@sipserver</literal>
      </para>
     </listitem>
    </itemizedlist>

   </step>
   <step>
    <para>
     <guimenu>発信</guimenu>をクリックするか、または<keycombo><keycap function="control"/><keycap>O</keycap></keycombo>を押して、相手が電話に出るまで待ちます。
    </para>
   </step>
   <step>
    <para>
     通話を終了するには、<guimenu>ハングアップ</guimenu>をクリックするか、または<keycap function="escape"/>を押します。
    </para>
   </step>
  </procedure>

  <para>
   音声パラメータを調整する必要がある場合は、<menuchoice><guimenu>Edit (編集)</guimenu><guimenu>Preferences (初期設定)</guimenu></menuchoice>の順にクリックします。
  </para>
 </sect1>
 <sect1 xml:id="sec.ekiga.answer">
  <title>電話に出る</title>

  <para>
   Ekigaでは2つの方法で電話に出られます。まず、<literal>sip:user@host</literal>と直接通話することも、SIPプロバイダを介して通話することもできます。多くのSIPプロバイダは、通常の電話回線からVoIPアカウントに通話を受け付けられるようにしています。Ekigaを使用するモードに応じて、着信の通知方法は複数あります。
  </para>

  <variablelist>
   <varlistentry>
    <term>通常のアプリケーション</term>
    <listitem>
     <para>
      着信は、Ekigaがすでに起動している場合にのみ、受け付けて応答することができます。着信音は、ヘッドセットまたはスピーカから聞こえます。Ekigaが起動していないと、通話を受け付けることはできません。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>パネルアプレット</term>
    <listitem>
     <para>
      通常、Ekigaのパネルアプレットは、サイレントで動作しており、目立ちません。着信があると、この動作が変わります。Ekigaのメインウィンドウが開き、ヘッドセットまたはスピーカから呼び出し音が聞こえます。
     </para>
     <remark>Is this really still true? I see absolutely no trace of a panel
      icon in GNOME Shell. (Haven't tried receiving a call, though.)
      However, when closing the window, Ekiga still seems to be running.
      - sknorr, 2015-09-23
     </remark>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   着信に気が付いたら、<guimenu>Accept</guimenu>をクリックして、電話に出て会話します。電話に出たくない場合には、<guimenu>Reject</guimenu>をクリックします。コールを別のSIPアドレスに転送することもできます。
  </para>
 </sect1>
 <sect1 xml:id="sec.ekiga.calladd">
  <title>アドレス帳の使用</title>

  <para>
   Ekigaでは、SIP連絡先を管理できます。起動後にメインウィンドウに表示される<guimenu>連絡先</guimenu>タブにすべての連絡先が表示されます。仲間または新しい仲間グループを追加するには、<menuchoice><guimenu>チャット</guimenu><guimenu>仲間の追加</guimenu></menuchoice>の順に選択します。
  </para>

  <para>
   新しいグループを追加する場合は、下部のテキストボックスにグループ名を入力し、<guimenu>追加</guimenu>をクリックします。これにより、新しいグループがグループ一覧に追加され、事前に選択されます。
  </para>

  <para>
   有効な連絡先には、次のエントリが必要です。
  </para>

  <variablelist>
   <varlistentry>
    <term>名前</term>
    <listitem>
     <para>
      連絡先の名前を入力します。フルネームも入力できますが、またはニックネームも使用できます。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>アドレス</term>
    <listitem>
     <para>
      連絡先の有効なSIPアドレスを入力します。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>グループ</term>
    <listitem>
     <para>
      多数の連絡先がある場合は、独自のグループを追加します。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   アドレス帳から連絡先に通話するには、連絡先をダブルクリックします。すぐに電話がかかります。
  </para>
 </sect1>
 <sect1 xml:id="sec.ekiga.moreinfo">
  <title>詳細情報</title>

  <para>
   Ekigaの公式ホームページは、<link xlink:href="http://www.ekiga.org/"/>です。このサイトでは、よくある質問への回答と、より詳細なマニュアルを利用できます。
  </para>

  <para>
   Linuxでの<literal>H323</literal>電子会議プロトコルのサポートの詳細は、<link xlink:href="http://www.voip-info.org/wiki/view/H.323"/>を参照してください。VoIPをサポートするプロジェクトを検索する際には、まずここを探してください。
  </para>

  <para>
   プライベートな電話ネットワークを設定するには、<literal>PBX</literal>ソフトウェアのAsterisk <link xlink:href="http://www.asterisk.org/"/>を検討できます。詳細については、<link xlink:href="http://www.voip-info.org/wiki-Asterisk"/>を参照してください。<indexterm startref="idx.ekiga" class="endofrange"/> <indexterm startref="idx.voip" class="endofrange"/>
  </para>
 </sect1>
</chapter>
