<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="net_yast.xml" version="5.0" xml:id="sec-basicnet-yast">
 <title>Konfigurieren von Netzwerkverbindungen mit YaST</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>Ja</dm:translation>
  </dm:docmanager>
 </info>



 <para>
  Unter Linux gibt es viele unterstützte Netzwerktypen. Die meisten verwenden unterschiedliche Gerätenamen und die Konfigurationsdateien sind im Dateisystem an unterschiedlichen Speicherorten verteilt. Einen detaillierten Überblick über die Aspekte der manuellen Netzwerkkonfiguration finden Sie in <xref linkend="sec-basicnet-manconf"/>.
 </para>

 <para>
  <phrase os="sles;osuse">Alle Netzwerkschnittstellen mit aktivierter Verbindung (also mit angeschlossenem Netzwerkkabel) werden automatisch konfiguriert.</phrase> Zusätzliche Hardware kann jederzeit nach Abschluss der Installation auf dem installierten System konfiguriert werden. In den folgenden Abschnitten wird die Netzwerkkonfiguration für alle von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> unterstützten Netzwerkverbindungen beschrieben.
 </para>

 <tip arch="zseries" os="sles">

  <title>IBM Z: Hotplug-fähige Netzwerkkarten</title>
  <para>
   Auf den IBM Z-Plattformen werden Hotplug-fähige Netzwerkkarten unterstützt, aber nicht deren automatische Netzwerkintegration über DHCP (wie beim PC). Nach der Erkennung muss die Schnittstelle manuell konfiguriert werden.
  </para>
 </tip>

 <sect2 xml:id="sec-basicnet-yast-netcard">
  <title>Konfigurieren der Netzwerkkarte mit YaST</title>

  <para>
   Zur Konfiguration verkabelter oder drahtloser Netzwerkkarten in YaST wählen Sie <menuchoice> <guimenu>System</guimenu> <guimenu>Netzwerkeinstellungen</guimenu>
   </menuchoice>. Nach dem Öffnen des Moduls zeigt YaST das Dialogfeld <guimenu>Netzwerkeinstellungen</guimenu> mit den vier Karteireitern <guimenu>Globale Optionen</guimenu>, <guimenu>Übersicht</guimenu>, <guimenu>Hostname/DNS</guimenu> und <guimenu>Routing</guimenu> an.
  </para>
  <para>
   Auf dem Karteireiter <guimenu>Globale Optionen</guimenu> können allgemeine Netzwerkoptionen wie die Netzwerkeinrichtungsmethode, IPv6 und allgemeine DHCP-Optionen festgelegt werden. Weitere Informationen finden Sie unter <xref linkend="sec-basicnet-yast-netcard-global"/>.
  </para>
  <para>
   Der Karteireiter <guimenu>Übersicht</guimenu> enthält Informationen über installierte Netzwerkschnittstellen und -konfigurationen. Jede korrekt erkannte Netzwerkkarte wird dort mit ihrem Namen aufgelistet. In diesem Dialogfeld können Sie Karten manuell konfigurieren, entfernen oder ihre Konfiguration ändern. Informationen zum manuellen Konfigurieren von Karten, die nicht automatisch erkannt wurden, finden Sie unter <xref linkend="sec-basicnet-yast-netcard-man"/>. Informationen zum Ändern der Konfiguration einer bereits konfigurierten Karte finden Sie unter <xref linkend="sec-basicnet-yast-netcard-change"/>.
  </para>
  <para>
   Auf dem Karteireiter <guimenu>Hostname/DNS</guimenu> können der Hostname des Computers sowie die zu verwendenden Nameserver festgelegt werden. Weitere Informationen finden Sie unter <xref linkend="sec-basicnet-yast-change-host"/>.
  </para>
  <para>
   Der Karteireiter <guimenu>Routing</guimenu> wird zur Konfiguration des Routings verwendet. Weitere Informationen finden Sie unter <xref linkend="sec-basicnet-yast-change-route"/>.
  </para>
  <figure xml:id="fig-yast2-neticard">
   <title>Konfigurieren der Netzwerkeinstellungen</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_net_icard.png" width="75%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_net_icard.png" width="75%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <sect3 xml:id="sec-basicnet-yast-netcard-global">
   <title>Konfigurieren globaler Netzwerkoptionen</title>
   <para>
    Auf dem Karteireiter <guimenu>Globale Optionen</guimenu> des YaST-Moduls <guimenu>Netzwerkeinstellungen</guimenu> können wichtige globale Netzwerkoptionen wie die Verwendung der Optionen NetworkManager, IPv6 und DHCP-Client festgelegt werden. Diese Einstellungen sind für alle Netzwerkschnittstellen anwendbar.
   </para>
   <note os="sles">

    <title>NetworkManager von der Arbeitsplatzrechnererweiterung bereitgestellt</title>
    <para>
     NetworkManager wird nun von der Arbeitsplatzrechnererweiterung bereitgestellt. Aktivieren Sie zur Installation von NetworkManager das Repository für die Arbeitsplatzrechnererweiterung und wählen Sie die NetworkManager-Pakete aus.
    </para>
   </note>
   <para>
    Unter <guimenu>Netzwerkeinrichtungsmethode</guimenu> wählen Sie die Methode aus, mit der Netzwerkverbindungen verwaltet werden sollen. Wenn die Verbindungen für alle Schnittstellen über das Desktop-Applet NetworkManager verwaltet werden sollen, wählen Sie <guimenu>NetworkManager-Dienst</guimenu> aus. NetworkManager eignet sich besonders für den Wechsel zwischen verschiedenen verkabelten und drahtlosen Netzwerken. Wenn Sie keine Desktop-Umgebung ausführen oder wenn Ihr Rechner ein Xen-Server oder ein virtuelles System ist oder Netzwerkdienste wie DHCP oder DNS in Ihrem Netzwerk zur Verfügung stellt, verwenden Sie die Methode <guimenu>Wicked-Dienst</guimenu>. Beim Einsatz von NetworkManager sollte <command>nm-applet</command> verwendet werden, um Netzwerkoptionen zu konfigurieren. Die Karteireiter <guimenu>Übersicht</guimenu>, <guimenu>Hostname/DNS</guimenu> und <guimenu>Routing</guimenu> des Moduls <guimenu>Netzwerkeinstellungen</guimenu> sind dann deaktiviert. <phrase os="sles">Weitere Informationen zu NetworkManager finden Sie in der Dokumentation für SUSE Linux Enterprise Desktop.</phrase>
   </para>
   <para>
    Geben Sie unter <guimenu>IPv6-Protokoll-Einstellungen</guimenu> an, ob Sie das IPv6-Protokoll verwenden möchten. IPv6 kann parallel zu IPv4 verwendet werden. IPv6 ist standardmäßig aktiviert. In Netzwerken, die das IPv6-Protokoll nicht verwenden, können die Antwortzeiten jedoch schneller sein, wenn dieses Protokoll deaktiviert ist. Zum Deaktivieren von IPv6 deaktivieren Sie die Option <guimenu>IPv6 aktivieren</guimenu>. Wenn IPv6 deaktiviert ist, lädt der Kernel das IPv6-Modul nicht mehr automatisch. Diese Einstellung wird nach einem Neustart übernommen.
   </para>
   <para>
    Unter <guimenu>Optionen für DHCP-Client</guimenu> konfigurieren Sie die Optionen für den DHCP-Client. Die <guimenu>Kennung für DHCP-Client</guimenu> muss innerhalb eines Netzwerks für jeden DHCP-Client eindeutig sein. Wenn dieses Feld leer bleibt, wird standardmäßig die Hardware-Adresse der Netzwerkschnittstelle als Kennung übernommen. Falls Sie allerdings mehrere virtuelle Computer mit der gleichen Netzwerkschnittstelle und damit der gleichen Hardware-Adresse ausführen, sollten Sie hier eine eindeutige Kennung in beliebigem Format eingeben.
   </para>
   <para>
    Unter <guimenu>Zu sendender Hostname</guimenu> wird eine Zeichenkette angegeben, die für das Optionsfeld „Hostname“ verwendet wird, wenn der DHCP-Client Nachrichten an den DHCP-Server sendet. Einige DHCP-Server aktualisieren Nameserver-Zonen gemäß diesem Hostnamen (dynamischer DNS). Bei einigen DHCP-Servern muss das Optionsfeld <guimenu>Zu sendender Hostname</guimenu> in den DHCP-Nachrichten der Clients zudem eine bestimmte Zeichenkette enthalten. Übernehmen Sie die Einstellung <literal>AUTO</literal>, um den aktuellen Hostnamen zu senden (d. h. der aktuelle in <filename>/etc/HOSTNAME</filename> festgelegte Hostname). Soll kein Hostname gesendet werden, leeren Sie dieses Feld.
   </para>
   <para>
    Wenn die Standardroute nicht gemäß den Informationen von DHCP geändert werden soll, deaktivieren Sie <guimenu>Standardroute über DHCP ändern</guimenu>.
   </para>
  </sect3>
  <sect3 xml:id="sec-basicnet-yast-netcard-change">
   <title>Ändern der Konfiguration einer Netzwerkkarte</title>
   <para>
    Wenn Sie die Konfiguration einer Netzwerkkarte ändern möchten, wählen Sie die Karte aus der Liste der erkannten Karten unter <menuchoice> <guimenu>Netzwerkeinstellungen</guimenu>
    <guimenu>Übersicht</guimenu> </menuchoice> in YaST aus, und klicken Sie auf <guimenu>Bearbeiten</guimenu>. Das Dialogfeld <guimenu>Netzwerkkarten-Setup</guimenu> wird angezeigt. Hier können Sie die Kartenkonfiguration auf den Karteireitern <guimenu>Allgemein</guimenu>, <guimenu>Adresse</guimenu> und <guimenu>Hardware</guimenu> anpassen. 
   </para>
   <sect4 xml:id="sec-basicnet-yast-change-address">
    <title>IP-Adressen konfigurieren</title>
 
    <para>
     Die IP-Adresse der Netzwerkkarte oder die Art der Festlegung dieser IP-Adresse kann auf dem Karteireiter <guimenu>Adresse</guimenu> im Dialogfeld <guimenu>Einrichten der Netzwerkkarte</guimenu> festgelegt werden. Die Adressen IPv4 und IPv6 werden unterstützt. Für die Netzwerkkarte können die Einstellungen <guimenu>Keine IP-Adresse</guimenu> (nützlich für eingebundene Geräte), <guimenu>Statisch zugewiesene IP-Adresse</guimenu> (IPv4 oder IPv6) oder <guimenu>Dynamische Adresse</guimenu> über <guimenu>DHCP</guimenu> und/oder <guimenu>Zeroconf</guimenu> zugewiesen werden.
    </para>
    <para>
     Wenn Sie <guimenu>Dynamische Adresse</guimenu> verwenden, wählen Sie, ob <guimenu>Nue DHCP-Version 4</guimenu> (für IPv4), <guimenu>Nur DHCP-Version 6</guimenu> (für IPv6) oder <guimenu>DHCP-Version 4 und 6</guimenu> verwendet werden soll.
    </para>
    <para>
     Wenn möglich wird die erste Netzwerkkarte mit einer Verbindung, die bei der Installation verfügbar ist, automatisch zur Verwendung der automatischen Adressenkonfiguration mit DHCP konfiguriert.  
    </para>
    <note arch="zseries" os="sles">
     <title>IBM Z und DHCP</title>
     <para>
      Auf IBM Z-Plattformen wird die DHCP-basierte Adressenkonfiguration nur mit Netzwerkkarten unterstützt, die über eine MAC-Adresse verfügen. Das ist nur der Fall bei OSA- und OSA Express-Karten.
     </para>
    </note>
    <para>
     DHCP sollten Sie auch verwenden, wenn Sie eine DSL-Leitung verwenden, Ihr ISP (Internet Service Provider) Ihnen aber keine statische IP-Adresse zugewiesen hat. Wenn Sie DHCP verwenden möchten, konfigurieren Sie dessen Einstellungen im Dialogfeld <guimenu>Netzwerkeinstellungen</guimenu> des YaST-Konfigurationsmoduls für Netzwerkkarten auf dem Karteireiter <guimenu>Globale Optionen</guimenu> unter <guimenu>Optionen für DHCP-Client</guimenu>. In einer virtuellen Hostumgebung, in der mehrere Hosts über dieselbe Schnittstelle kommunizieren, müssen diese anhand der <guimenu>Kennung für DHCP-Client</guimenu> unterschieden werden.
    </para>
    <para>
     DHCP eignet sich gut zur Client-Konfiguration, aber zur Server-Konfiguration ist es nicht ideal. Wenn Sie eine statische IP-Adresse festlegen möchten, gehen Sie wie folgt vor:
    </para>
    <procedure>
     <step>
      <para>
       Wählen Sie im YaST-Konfigurationsmodul für Netzwerkkarten auf dem Karteireiter <guimenu>Übersicht</guimenu> in der Liste der erkannten Karten eine Netzwerkkarte aus, und klicken Sie auf <guimenu>Bearbeiten</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Wählen Sie auf dem Karteireiter <guimenu>Adresse</guimenu> die Option <guimenu>Statisch zugewiesene IP-Adresse</guimenu> aus.
      </para>
     </step>
     <step>
      <para>
       Geben Sie die <guimenu>IP-Adresse</guimenu> ein. Es können beide Adressen, IPv4 und IPv6, verwendet werden. Geben Sie die Netzwerkmaske in <guimenu>Teilnetzmaske</guimenu> ein. Wenn die IPv6-Adresse verwendet wird, benutzen Sie <guimenu>Teilnetzmaske</guimenu> für die Präfixlänge im Format <literal>/64</literal>.
      </para>
      <para>
       Optional kann ein voll qualifizierter <guimenu>Hostname</guimenu> für diese Adresse eingegeben werden, der in die Konfigurationsdatei <filename>/etc/hosts</filename> geschrieben wird.
      </para>
     </step>
     <step>
      <para>
       Klicken Sie auf <guimenu>Weiter</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Klicken Sie auf <guimenu>OK</guimenu>, um die Konfiguration zu aktivieren.
      </para>
     </step>
    </procedure>
    
    
    <note>
     <title>Schnittstellenaktivierung und Link-Erkennung</title>
     <para>
      Bei der Aktivierung einer Netzwerkschnittstelle sucht <command>wicked</command> nach einem Träger und die IP-Konfiguration wird erst dann angewendet, wenn ein Link erkannt wurde. Wenn die Konfiguration unabhängig vom Link-Status angewendet werden soll (etwa wenn Sie einen Dienst testen, der eine bestimmte Adresse überwacht), können Sie die Link-Verbindung überspringen. Hängen Sie hierzu die Variable <literal>LINK_REQUIRED=no</literal> an die Konfigurationsdatei der Schnittstelle unter <filename>/etc/sysconfig/network/ifcfg</filename> an.
     </para>
     <para>
      Darüber hinaus können Sie mit der Variablen <literal>LINK_READY_WAIT=<replaceable>5</replaceable></literal> die Zeitüberschreitung (in Sekunden) für das Erkennen eines Links festlegen.
     </para>
     <para>
      Weitere Informationen zu den <filename>ifcfg-*</filename>-Konfigurationsdateien finden Sie unter <xref linkend="sec-basicnet-manconf-files-ifcfg"/> und <command>man 5 ifcfg</command>.
     </para>
    </note>
    <para>
     Wenn Sie die statische Adresse verwenden, werden die Namenserver und das Standard-Gateway nicht automatisch konfiguriert. Informationen zur Konfiguration von Namenservern finden Sie unter <xref linkend="sec-basicnet-yast-change-host"/>. Informationen zur Konfiguration eines Gateways finden Sie unter <xref linkend="sec-basicnet-yast-change-route"/>.
    </para>
   </sect4>
   <sect4 xml:id="sec-basicnet-yast-configure-addresses">
    <title>Konfigurieren von mehreren Adressen</title>
    <para>
     Ein Netzwerkgerät kann mehrere IP-Adressen haben.
    </para>
    <note>
     <title>Aliasse stellen eine Kompatibilitätsfunktion dar</title>
     <para>
      Diese sogenannten Aliasse oder Kennungen sind nur mit IPv4 verwendbar. Bei IPv6 werden sie ignoriert. Bei der Verwendung von <command>iproute2</command>-Netzwerkschnittstellen können eine oder mehrere Adressen vorhanden sein.
     </para>
    </note>
    <para>
     Gehen Sie folgendermaßen vor, wenn Sie weitere Adressen für Ihre Netzwerkkarte mithilfe von YaST einrichten möchten:
    </para>
    <procedure>
     <step>
      <para>
       Wählen Sie im YaST-Dialogfeld <guimenu>Netzwerkeinstellungen</guimenu> auf dem Karteireiter <guimenu>Übersicht</guimenu> in der Liste der erkannten Karten eine Netzwerkkarte aus, und klicken Sie auf <guimenu>Bearbeiten</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Klicken Sie auf dem Karteireiter <menuchoice> <guimenu>Adresse</guimenu> <guimenu>Zusätzliche Adressen</guimenu> </menuchoice> auf <guimenu>Hinzufügen</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Geben Sie die <guimenu>IPv4-Adresskennung</guimenu>, die <guimenu>IP-Adresse</guimenu> und die <guimenu>Netzmaske</guimenu> ein. Nehmen Sie den Schnittstellennamen nicht in den Aliasnamen auf.
      </para>
     </step>
     <step>
      <para>
       Zum Aktivieren der Konfiguration bestätigen Sie die Einstellungen.
      </para>
     </step>
    </procedure>
   </sect4>
   <sect4 xml:id="sec-basicnet-yast-change-udev">
    <title>Ändern des Gerätenamens und der Udev-Regeln</title>

    <para>
     Der Gerätename der Netzwerkkarte kann während des laufenden Betriebs geändert werden. Es kann auch festgelegt werden, ob udev die Netzwerkkarte über die Hardware-Adresse (MAC) oder die Bus-ID erkennen soll. Die zweite Option ist bei großen Servern vorzuziehen, um den Hotplug-Austausch der Karten zu erleichtern. Mit YaST legen Sie diese Optionen wie folgt fest:
    </para>
    <procedure>
     <step>
      <para>
       Wählen Sie im YaST-Dialogfeld <guimenu>Netzwerkeinstellungen</guimenu> auf dem Karteireiter <guimenu>Übersicht</guimenu> in der Liste der erkannten Karten eine Netzwerkkarte aus, und klicken Sie auf <guimenu>Bearbeiten</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Öffnen Sie den Karteireiter <guimenu>Hardware</guimenu>. Der aktuelle Gerätename wird unter <guimenu>Udev-Regeln</guimenu> angezeigt. Klicken Sie auf <guimenu>Ändern</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Wählen Sie aus, ob udev die Karte über die <guimenu>MAC-Adresse</guimenu> oder die <guimenu>Bus-ID</guimenu> erkennen soll. Die aktuelle MAC-Adresse und Bus-ID der Karte werden im Dialogfeld angezeigt.
      </para>
     </step>
     <step>
      <para>
       Aktivieren Sie zum Ändern des Gerätenamens die Option <guimenu>Gerätenamen ändern</guimenu> und bearbeiten Sie den Namen.
      </para>
     </step>
     <step>
      <para>
       Zum Aktivieren der Konfiguration bestätigen Sie die Einstellungen.
      </para>
     </step>
    </procedure>
   </sect4>
   <sect4 xml:id="sec-basicnet-yast-change-driver">
    <title>Ändern des Kernel-Treibers für Netzwerkkarten</title>
    <para>
     Für einige Netzwerkkarten sind eventuell verschiedene Kernel-Treiber verfügbar. Wenn die Karte bereits konfiguriert ist, ermöglicht YaST die Auswahl eines zu verwendenden Kernel-Treibers in einer Liste verfügbarer Treiber. Es ist auch möglich, Optionen für den Kernel-Treiber anzugeben. Mit YaST legen Sie diese Optionen wie folgt fest:
    </para>
    <procedure>
     <step>
      <para>
       Wählen Sie im YaST-Modul Netzwerkeinstellungen auf dem Karteireiter <guimenu>Übersicht</guimenu> in der Liste der erkannten Karten eine Netzwerkkarte aus, und klicken Sie auf <guimenu>Bearbeiten</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Öffnen Sie den Karteireiter <guimenu>Hardware.</guimenu>
      </para>
     </step>
     <step>
      <para>
       Wählen Sie den zu verwendenden Kernel-Treiber unter <guimenu>Modulname</guimenu> aus. Geben Sie die entsprechenden Optionen für den ausgewählten Treiber unter <guimenu>Optionen</guimenu> im Format <command>=</command> =<replaceable>WERT</replaceable> ein. Wenn mehrere Optionen verwendet werden, sollten sie durch Leerzeichen getrennt sein.
      </para>
     </step>
     <step>
      <para>
       Zum Aktivieren der Konfiguration bestätigen Sie die Einstellungen.
      </para>
     </step>
    </procedure>
   </sect4>
   <sect4 xml:id="sec-basicnet-yast-change-start">
    <title>Aktivieren des Netzwerkgeräts</title>
 
    <para>
     Wenn Sie die Methode mit <command>wicked</command> verwenden, können Sie Ihr Gerät so konfigurieren, dass es wahlweise beim Systemstart, beim Anschließen des Kabels, beim Erkennen der Karte, manuell oder nie startet. Wenn Sie den Gerätestart ändern möchten, gehen Sie wie folgt vor:
    </para>
    <procedure>
     <step>
      <para>
       Wählen Sie in YaST unter <menuchoice>
       <guimenu>System</guimenu> <guimenu>Netzwerkeinstellungen</guimenu>
       </menuchoice> in der Liste der erkannten Karten eine Netzwerkkarte aus und klicken Sie auf <guimenu>Bearbeiten</guimenu>.
      </para>
     </step>
     <step>
      <para>
       In der Karteireiter <guimenu>Allgemein</guimenu> wählen Sie den gewünschten Eintrag unter <guimenu>Geräte-Aktivierung</guimenu>.
      </para>
      <para>
       Wählen Sie <guimenu>Beim Systemstart</guimenu>, um das Gerät beim Booten des Systems zu starten. Wenn <guimenu>Bei Kabelanschluss</guimenu> aktiviert ist, wird die Schnittstelle auf physikalische Netzwerkverbindungen überwacht. Wenn <guimenu>Falls hot-plugged</guimenu> aktiviert ist, wird die Schnittstelle festgelegt, wenn sie verfügbar ist. Dies gleicht der Option <guimenu>Bei Systemstart</guimenu>, führt jedoch nicht zu einem Fehler beim Systemstart, wenn die Schnittstelle nicht vorhanden ist. Wählen Sie <guimenu>Manuell</guimenu>, wenn Sie die Schnittstelle manuell mit <command>ifup</command> steuern möchten. Wählen Sie <guimenu>Nie</guimenu>, wenn das Gerät nicht gestartet werden soll. Bei <guimenu>NFSroot</guimenu> verhält sich ähnlich wie <guimenu>Beim Systemstart</guimenu>, allerdings fährt der Befehl <command>systemctl stop network</command> die Schnittstelle bei dieser Einstellung nicht herunter; der <option>network</option>-Dienst wirkt sich auch auf den <option>wicked</option>-Dienst aus, sofern <command>wicked</command> aktiv ist. Diese Einstellung empfiehlt sich bei einem NFS- oder iSCSI-Root-Dateisystem.
      </para>
     </step>
     <step>
      <para>
       Zum Aktivieren der Konfiguration bestätigen Sie die Einstellungen.
      </para>
     </step>
    </procedure>
    <tip>
     <title>NFS als Root-Dateisystem</title>
     <para>
      Auf (festplattenlosen) Systemen, in denen die Stammpartition über das Netzwerk als NFS-Freigabe eingehängt ist, müssen Sie beim Konfigurieren des Netzwerkgeräts, über das die NFS-Freigabe erreichbar ist, besonders vorsichtig vorgehen.
     </para>
     <para>
      Wenn Sie das System herunterfahren oder neu booten, werden in der standardmäßigen Reihenfolge zunächst die Netzwerkverbindungen deaktiviert und anschließend die Stammpartition ausgehängt. Bei einem NFS-Root kann dies zu Problemen führen: Die Stammpartition kann nicht fehlerfrei ausgehängt werden, da die Netzwerkverbindung zur NFS-Freigabe schon nicht mehr aktiviert ist. Damit das System nicht das relevante Netzwerkgerät deaktiviert, öffnen Sie die Registerkarte gemäß <xref linkend="sec-basicnet-yast-change-start"/> und wählen Sie unter <guimenu>Geräteaktivierung</guimenu> die Option <guimenu>Bei NFSroot</guimenu>.
     </para>
    </tip>
   </sect4>
   <sect4 xml:id="sec-basicnet-yast-change-mtu">
    <title>Einrichten der Größe der maximalen Transfereinheit</title>
    <para>
     Sie können eine maximale Transfereinheit (MTU) für die Schnittstelle festlegen. MTU bezieht sich auf die größte zulässige Paketgröße in Byte. Eine größere MTU bringt eine höhere Bandbreiteneffizienz. Große Pakete können jedoch eine langsame Schnittstelle für einige Zeit belegen und die Verzögerung für nachfolgende Pakete vergrößern.
    </para>
    <procedure>
     <step>
      <para>
       Wählen Sie in YaST unter <menuchoice>
       <guimenu>System</guimenu> <guimenu>Netzwerkeinstellungen</guimenu>
       </menuchoice> in der Liste der erkannten Karten eine Netzwerkkarte aus und klicken Sie auf <guimenu>Bearbeiten</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Wählen Sie im Karteireiter <guimenu>Allgemein</guimenu> den gewünschten Eintrag aus der Liste <guimenu>Set MTU</guimenu> (MTU festlegen).
      </para>
     </step>
     <step>
      <para>
       Zum Aktivieren der Konfiguration bestätigen Sie die Einstellungen.
      </para>
     </step>
    </procedure>
   </sect4>
   <sect4 xml:id="sec-basicnet-yast-change-pciemulti">

    <title>Multifunktionale PCIe-Geräte</title>
    <para>
     Multifunktionale Geräte, die LAN, iSCSI und FCoE unterstützen, werden unterstützt. Mit dem YaST FCoE-Client (<command>yast2 fcoe-client</command>) werden die privaten Flags in zusätzlichen Spalten angezeigt, um dem Benutzer zu erlauben, das für FCoE vorgesehene Gerät auszuwählen. Mit dem YaST-Netzwerkmodul (<command>yast2 lan</command>) werden <quote>Geräte, die nur als Speicher dienen</quote>, von der Netzwerkkonfiguration ausgeschlossen.
    </para>
    <para os="sles">
     Weitere Informationen zu FCoE erhalten Sie im <xref linkend="sec-fcoe-yast"/>.
    </para>
   </sect4>
   <sect4 xml:id="sec-basicnet-yast-change-infiniband">

    <title>InfiniBand-Konfiguration für IPoIB (IP-over-InfiniBand)</title>
    <procedure>
     <step>
      <para>
       Wählen Sie in YaST unter <menuchoice>
       <guimenu>System</guimenu> <guimenu>Netzwerkeinstellungen</guimenu>
       </menuchoice> das InfiniBand-Gerät aus und klicken Sie auf <guimenu>Bearbeiten</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Wählen Sie auf dem Karteireiter <guimenu>Allgemein</guimenu> einen der <guimenu>IPoIB</guimenu>-Modi (IP-over-InfiniBand) aus: <guimenu>Verbunden</guimenu> (Standard) oder <guimenu>Datagramm</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Zum Aktivieren der Konfiguration bestätigen Sie die Einstellungen.
      </para>
     </step>
    </procedure>
    <para>
     Weitere Informationen zu InfiniBand finden Sie in der Datei <filename>/usr/src/linux/Documentation/infiniband/ipoib.txt</filename>.
    </para>
   </sect4>
   <sect4 xml:id="sec-basicnet-yast-change-fire">
    <title>Konfigurieren der Firewall</title>
    <para>
     Sie müssen nicht die genaue Firewall-Konfiguration durchführen, wie unter <xref linkend="sec-security-firewall-SuSE-yast"/> beschrieben. Sie können die grundlegende Firewall-Konfiguration für Ihr Gerät als Teil der Geräteeinrichtung festlegen. Führen Sie dazu die folgenden Schritte aus:
    </para>
    <procedure>
     <step>
      <para>
       Öffnen Sie das YaST-Modul <menuchoice> <guimenu>System</guimenu> <guimenu>Netzwerkeinstellungen</guimenu> </menuchoice>. Wählen Sie im Karteireiter <guimenu>Übersicht</guimenu> eine Karte aus der Liste erkannter Karten und klicken Sie auf <guimenu>Bearbeiten</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Öffnen Sie den Karteireiter <guimenu>Allgemein</guimenu> des Dialogfelds <guimenu>Netzwerkeinstellungen</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Legen Sie die <guimenu>Firewall-Zone</guimenu> fest, der Ihre Schnittstelle zugewiesen werden soll. Mit den zur Verfügung stehenden Optionen können Sie
      </para>
      <variablelist>
       <varlistentry>
        <term>Firewall deaktiviert</term>
        <listitem>
         <para>
          Diese Option ist nur verfügbar, wenn die Firewall deaktiviert ist und nicht ausgeführt wird. Verwenden Sie diese Option nur, wenn Ihr Computer Teil eines größeren Netzwerks ist, das von einer äußeren Firewall geschützt wird.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Automatisches Zuweisen von Zonen</term>
        <listitem>
         <para>
          Diese Option ist nur verfügbar, wenn die Firewall aktiviert ist. Die Firewall wird ausgeführt und die Schnittstelle wird automatisch einer Firewall-Zone zugewiesen. Die Zone, die das Stichwort <literal>Beliebig</literal> enthält, oder die externe Zone wird für solch eine Schnittstelle verwendet.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Interne Zone (ungeschützt)</term>
        <listitem>
         <para>
          Die Firewall wird ausgeführt, aber es gibt keine Regeln, die diese Schnittstelle schützen. Verwenden Sie diese Option, wenn Ihr Computer Teil eines größeren Netzwerks ist, das von einer äußeren Firewall geschützt wird. Sie ist auch nützlich für die Schnittstellen, die mit dem internen Netzwerk verbunden sind,wenn der Computer über mehrere Netzwerkschnittstellen verfügt.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Demilitarisierte Zone</term>
        <listitem>
         <para>
          Eine demilitarisierte Zone ist eine zusätzliche Verteidigungslinie zwischen einem internen Netzwerk und dem (feindlichen) Internet. Die dieser Zone zugewiesenen Hosts können vom internen Netzwerk und vom Internet erreicht werden, können jedoch nicht auf das interne Netzwerk zugreifen.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Externe Zone</term>
        <listitem>
         <para>
          Die Firewall wird an dieser Schnittstelle ausgeführt und schützt sie vollständig vor anderem (möglicherweise feindlichem) Netzwerkverkehr. Dies ist die Standardoption.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
     </step>
     <step>
      <para>
       Zum Aktivieren der Konfiguration bestätigen Sie die Einstellungen.
      </para>
     </step>
    </procedure>
   </sect4>
  </sect3>
  <sect3 xml:id="sec-basicnet-yast-netcard-man">
   <title>Konfigurieren einer unerkannten Netzwerkkarte</title>
   <para>
    Wenn eine Netzwerkkarte nicht ordnungsgemäß erkannt wird, so wird diese Karte nicht in der Liste der erkannten Karten aufgeführt. Wenn Sie sich nicht sicher sind, ob Ihr System über einen Treiber für die Karte verfügt, können Sie sie manuell konfigurieren. Sie können auch spezielle Netzwerkgerätetypen konfigurieren, z. B. Bridge, Bond, TUN oder TAP. So konfigurieren Sie eine nicht erkannte Netzwerkkarte (oder ein spezielles Gerät):
   </para>
   <procedure>
    <step>
     <para>
      Klicken Sie im Dialogfeld <menuchoice> <guimenu>System</guimenu> <guimenu>Netzwerkeinstellungen</guimenu> <guimenu>Übersicht</guimenu> </menuchoice> in YaST auf <guimenu>Hinzufügen</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Legen Sie den <guimenu>Gerätetyp</guimenu> der Schnittstelle im Dialogfeld <guimenu>Hardware</guimenu> mit Hilfe der verfügbaren Optionen fest und geben Sie einen <guimenu>Konfigurationsnamen</guimenu> ein. Wenn es sich bei der Netzwerkkarte um ein PCMCIA- oder USB-Gerät handelt, aktivieren Sie das entsprechende Kontrollkästchen und schließen Sie das Dialogfeld durch Klicken auf <guimenu>Weiter</guimenu>. Ansonsten können Sie den Kernel <guimenu>Modulname</guimenu> definieren, der für die Karte verwendet wird, sowie gegebenenfalls dessen <guimenu>Optionen</guimenu>.
     </para>
     <para>
      Unter <guimenu>Ethtool-Optionen</guimenu> können Sie die von <command>ifup</command> für die Schnittstelle verwendeten <command>Ethtool</command>-Optionen einstellen. Weitere Informationen zu den verfügbaren Optionen finden Sie auf der man-Seite <command>ethtool</command>.
     </para>
     <para>
      Wenn die Optionszeichenkette mit einem <literal>-</literal> beginnt (z. B. <literal>-K <replaceable>SCHNITTSTELLENNAME</replaceable> rx on</literal>), wird das zweite Wort der Zeichenkette durch den aktuellen Schnittstellennamen ersetzt. In allen andern Fällen (z. B. <literal>autoneg off speed 10</literal>) setzt <command>ifup</command> dem Eintrag die Zeichenfolge <literal>-s <replaceable>SCHNITTSTELLENNAME</replaceable></literal> voran.
     </para>
    </step>
    <step>
     <para>
      Klicken Sie auf <guimenu>Weiter</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Konfigurieren Sie die benötigten Optionen wie die IP-Adresse, die Geräteaktivierung oder die Firewall-Zone für die Schnittstelle auf den Karteireitern <guimenu>Allgemein</guimenu>, <guimenu>Adresse</guimenu> und <guimenu>Hardware</guimenu>. Weitere Informationen zu den Konfigurationsoptionen finden Sie in <xref linkend="sec-basicnet-yast-netcard-change"/>.
     </para>
    </step>
    <step>
     <para>
      Wenn Sie für den Gerätetyp der Schnittstelle die Option <guimenu>Drahtlos</guimenu> gewählt haben, konfigurieren Sie im nächsten Dialogfeld die drahtlose Verbindung.
     </para>
    </step>
    <step>
     <para>
      Zum Aktivieren der neuen Netzwerkkonfiguration bestätigen Sie die Einstellungen.
     </para>
    </step>
   </procedure>
  </sect3>
  <sect3 xml:id="sec-basicnet-yast-change-host">
   <title>Konfigurieren des Hostnamens und des DNS</title>
   <para>
    Wenn Sie die Netzwerkkonfiguration während der Installation noch nicht geändert haben und die Ethernet-Karte bereits verfügbar war, wurde automatisch ein Hostname für Ihren Rechner erstellt, und DHCP wurde aktiviert. Dasselbe gilt für die Namensservicedaten, die Ihr Host für die Integration in eine Netzwerkumgebung benötigt. Wenn DHCP für eine Konfiguration der Netzwerkadresse verwendet wird, wird die Liste der Domain Name Server automatisch mit den entsprechenden Daten versorgt. Falls eine statische Konfiguration vorgezogen wird, legen Sie diese Werte manuell fest.
   </para>
   <para>
    Wenn Sie den Namen Ihres Computers und die Namenserver-Suchliste ändern möchten, gehen Sie wie folgt vor:
   </para>
   <procedure>
    <step>
     <para>
      Wechseln Sie zum Karteireiter <menuchoice> <guimenu>Netzwerkeinstellungen</guimenu>
      <guimenu>Hostname/DNS</guimenu> </menuchoice> im Modul <guimenu>System</guimenu> in YaST.
     </para>
    </step>
    <step>
     <para>
      Geben Sie den <guimenu>Hostnamen</guimenu> und bei Bedarf auch den <guimenu>Domänennamen</guimenu> ein. Die Domäne ist besonders wichtig, wenn der Computer als Mailserver fungiert. Der Hostname ist global und gilt für alle eingerichteten Netzwerkschnittstellen.
     </para>
     <para>
      Wenn Sie zum Abrufen einer IP-Adresse DHCP verwenden, wird der Hostname Ihres Computers automatisch durch DHCP festgelegt. Sie sollten dieses Verhalten deaktivieren, wenn Sie Verbindungen zu verschiedenen Netzwerken aufbauen, da Sie verschiedene Hostnamen zuweisen können und das Ändern des Hostnamens beim Ausführen den grafischen Desktop verwirren kann. Zum Deaktivieren von DHCP, damit Sie eine IP-Adresse erhalten, deaktivieren Sie <guimenu>Hostnamen über DHCP ändern</guimenu>.
     </para>
     <para>
      Mithilfe von <guimenu>Hostnamen zu Loopback-IP zuweisen</guimenu> wird der Hostname mit der IP-Adresse <literal>127.0.0.2</literal> (Loopback) in <filename>/etc/hosts</filename> verknüpft. Diese Option ist hilfreich, wenn der Hostname jederzeit, auch ohne aktives Netzwerk, auflösbar sein soll.
     </para>
    </step>
    <step>
     <para>
      Legen Sie unter <guimenu>DNS-Konfiguration ändern</guimenu> fest, wie die DNS-Konfiguration (Namenserver, Suchliste, Inhalt der Datei <filename>/etc/resolv.conf</filename>) geändert wird.
     </para>
     <para>
      Wenn die Option <guimenu>Standardrichtlinie verwenden</guimenu> ausgewählt ist, wird die Konfiguration vom Skript <command>netconfig</command> verwaltet, das die statisch definierten Daten (mit YaST oder in den Konfigurationsdateien) mit dynamisch bezogenen Daten (vom DHCP-Client oder NetworkManager) zusammenführt. Diese Standardrichtlinie ist in der Regel ausreichend.
     </para>
     <para>
      Wenn die Option <guimenu>Nur manuell</guimenu> ausgewählt ist, darf <command>netconfig</command> die Datei <filename>/etc/resolv.conf</filename> nicht ändern. Jedoch kann diese Datei manuell bearbeitet werden.
     </para>
     <para>
      Wenn die Option <guimenu>Benutzerdefinierte Richtlinie</guimenu> ausgewählt ist, muss eine Zeichenkette für die <guimenu>benutzerdefinierte Richtlinienregel</guimenu> angegeben werden, welche die Zusammenführungsrichtlinie definiert. Die Zeichenkette besteht aus einer durch Kommas getrennten Liste mit Schnittstellennamen, die als gültige Quelle für Einstellungen betrachtet werden. Mit Ausnahme vollständiger Schnittstellennamen sind auch grundlegende Platzhalter zulässig, die mit mehreren Schnittstellen übereinstimmen. Beispiel: <literal>eth* ppp?</literal> richtet sich zuerst an alle eth- und dann an alle ppp0-ppp9-Schnittstellen. Es gibt zwei spezielle Richtlinienwerte, die angeben, wie die statischen Einstellungen angewendet werden, die in der Datei <filename>/etc/sysconfig/network/config</filename> definiert sind:
     </para>
     <variablelist>
      <varlistentry>
       <term><literal>STATIC</literal>
       </term>
       <listitem>
        <para>
         Die statischen Einstellungen müssen mit den dynamischen Einstellungen zusammengeführt werden.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term><literal>STATIC_FALLBACK</literal>
       </term>
       <listitem>
        <para>
         Die statischen Einstellungen werden nur verwendet, wenn keine dynamische Konfiguration verfügbar ist.
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
     <para>
      Weitere Informationen finden Sie auf der man-Seite zu <command>netconfig</command>(8) (<command>man 8 netconfig</command>).
     </para>
    </step>
    <step>
     <para>
      Geben Sie die <guimenu>Namenserver</guimenu> ein und füllen Sie die <guimenu>Domänensuchliste</guimenu> aus. Nameserver müssen in der IP-Adresse angegeben werden (z. B. 192.168.1.116), nicht im Hostnamen. Namen, die im Karteireiter <guimenu>Domänensuche</guimenu> angegeben werden, sind Namen zum Auflösen von Hostnamen ohne angegebene Domäne. Wenn mehr als eine <guimenu>Suchdomäne</guimenu> verwendet wird, müssen die Domänen durch Kommas oder Leerzeichen getrennt werden.
     </para>
    </step>
    <step>
     <para>
      Zum Aktivieren der Konfiguration bestätigen Sie die Einstellungen.
     </para>
    </step>
   </procedure>
   <para>
    Der Hostname kann auch mit YaST über die Kommandozeile bearbeitet werden. Die Änderungen in YaST treten sofort in Kraft (im Gegensatz zur manuellen Bearbeitung der Datei <filename>/etc/HOSTNAME</filename>). Zum Ändern des Hostnamens führen Sie das folgende Kommando aus:
   </para>
<screen>yast dns edit hostname=<replaceable>HOSTNAME</replaceable></screen>
   <para>
    Zum Ändern der Namenserver führen Sie die folgenden Kommandos aus:
   </para>
<screen>yast dns edit nameserver1=192.168.1.116
yast dns edit nameserver2=192.168.1.117
yast dns edit nameserver3=192.168.1.118</screen>
  </sect3>

  <sect3 xml:id="sec-basicnet-yast-change-route">
   <title>Konfigurieren des Routings</title>
 
   <para>
    Damit Ihre Maschine mit anderen Maschinen und Netzwerken kommuniziert, müssen Routing-Daten festgelegt werden. Dann nimmt der Netzwerkverkehr den korrekten Weg. Wird DHCP verwendet, werden diese Daten automatisch angegeben. Wird eine statische Konfiguration verwendet, müssen Sie die Daten manuell angeben.
   </para>
   <procedure>
    <step>
     <para>
      Navigieren Sie in YaST zu <menuchoice> <guimenu>Netzwerkeinstellungen</guimenu>
      <guimenu>Routing</guimenu> </menuchoice>.
     </para>
    </step>
    <step>
     <para>
      Geben Sie die IP-Adresse für das <guimenu>Standard-Gateway</guimenu> ein (gegebenenfalls IPv4 und IPv6). Das Standard-Gateway stimmt mit jedem möglichen Ziel überein. Falls jedoch ein Eintrag in der Routingtabelle vorliegt, der mit der angegebenen Adresse übereinstimmt, wird dieser Eintrag anstelle der Standardroute über das Standard-Gateway verwendet.
     </para>
    </step>
    <step>
     <para>
      In der <guimenu>Routing-Tabelle</guimenu> können weitere Einträge vorgenommen werden. Geben Sie die IP-Adresse für das <guimenu>Ziel</guimenu>-Netzwerk, die IP-Adresse des <guimenu>Gateways</guimenu> und die <guimenu>Netzmaske</guimenu> ein. Wählen Sie das <guimenu>Gerät</guimenu> aus, durch das der Datenverkehr zum definierten Netzwerk geroutet wird (das Minuszeichen steht für ein beliebiges Gerät). <remark>mdejmek: ok, what does the minus exactly do? you are using it here for different things;</remark> Verwenden Sie das Minuszeichen <literal>-</literal>, um diese Werte frei zu lassen. Verwenden Sie <literal>default</literal> im Feld <guimenu>Ziel</guimenu>, um in der Tabelle ein Standard-Gateway einzugeben.
     </para>
     <note>
      <title>Priorisieren einer Route</title>
      <para>
       Wenn mehrere Standardrouten verwendet werden, kann die Metrik-Option verwendet werden, um festzulegen, welche Route eine höhere Priorität hat. Geben Sie zur Angabe der Metrik-Option <option>- Metrik<replaceable>NUMMER</replaceable></option> unter <guimenu>Optionen</guimenu> ein. Die Route mit der höchsten Metrik wird als Standard verwendet. Wenn das Netzwerkgerät getrennt wird, wird seine Route entfernt und die nächste verwendet. Der aktuelle Kernel verwendet jedoch keine Metrik bei statischem Routing (im Gegensatz zu Routing-Daemons wie <systemitem>multipathd</systemitem>).
      </para>
     </note>
    </step>
    <step>
     <para>
      Wenn das System ein Router ist, aktivieren Sie bei Bedarf die Optionen <guimenu>IPv4-Weiterleitung</guimenu> und <guimenu>IPv6-Weiterleitung</guimenu> in den <guimenu>Netzwerkeinstellungen</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Zum Aktivieren der Konfiguration bestätigen Sie die Einstellungen.
     </para>
    </step>
   </procedure>
  </sect3>
 </sect2>

 <xi:include href="zseries_net_lan_devices.xml"/>
</sect1>
