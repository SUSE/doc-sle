<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_prep_boot.xml" version="5.0" role="General" xml:id="cha.deployment.prep_boot">
 <title>Préparation du démarrage du système cible</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>oui</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> peut être installé de différentes manières. Outre l'installation classique à partir d'un support abordée au <xref linkend="cha.inst"/>, vous avez le choix entre plusieurs approches réseau ; vous pouvez même envisager une installation entièrement automatique de <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>.
 </para>
 <para>
  Chaque méthode est présentée par le biais de deux petites listes de contrôle : une liste des conditions préalables et une description de la procédure de base. Des informations supplémentaires vous sont ensuite fournies pour toutes les techniques utilisées dans ces scénarios d'installation.
 </para>
 <note>
  <title>Terminologie</title>
  <para>
   Dans les sections suivantes, le système destiné à héberger votre nouvelle installation <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> est désigné sous les termes de <emphasis>système cible</emphasis> ou <emphasis>cible d'installation</emphasis>. Le terme <emphasis>dépôt</emphasis> (anciennement appelé <quote>source d'installation</quote>) désigne toutes les sources de données d'installation. Il s'agit notamment des supports physiques, tels que les CD et DVD, et des serveurs réseau qui transfèrent les données d'installation sur votre réseau.
  </para>
 </note>
 <para>
  Cette section expose les tâches de configuration nécessaires pour les scénarios de démarrage complexes. Elle contient des exemples de configuration « prêts à l'emploi » pour le protocole DHCP, le démarrage PXE, le protocole TFTP et la fonction Wake on LAN.
 </para>
 <sect1 xml:id="sec.deployment.prep_boot.dhcp">
  <title>Configuration d'un serveur DHCP</title>

  <para>
   Vous pouvez configurer un serveur DHCP de deux manières différentes. Pour <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, YaST fournit une interface graphique pour le processus. Les utilisateurs peuvent également éditer manuellement les fichiers de configuration.<phrase os="sles"> Pour plus d'informations sur les serveurs DHCP, reportez-vous aussi à <xref linkend="cha.dhcp"/>.</phrase>
  </para>

  <sect2 xml:id="sec.deployment.prep_boot.dhcp.yast">
   <title>Configuration d'un serveur DHCP avec YaST</title>
   <para>
    Pour annoncer l'emplacement du serveur TFTP aux clients du réseau et spécifier le fichier image de démarrage que la cible d'installation doit utiliser, ajoutez deux déclarations à la configuration de votre serveur DHCP.
   </para>
   <procedure xml:id="proc.deployment.prep_boot.dhcp.yast">
    <step>
     <para>
      Connectez-vous en tant qu'utilisateur <systemitem class="username">root</systemitem> à la machine qui héberge le serveur DHCP.
     </para>
    </step>
    <step>
     <para>
      Sélectionnez <menuchoice><guimenu>YaST</guimenu> <guimenu>Services réseau</guimenu> <guimenu>Serveur DHCP</guimenu></menuchoice>.
     </para>
    </step>
    <step>
     <para>
      Suivez l'assistant de configuration pour la configuration de base du serveur DHCP.
     </para>
    </step>
    <step xml:id="st.deployment.prep_boot.dhcp.yast.expert">
     <para>
      Sélectionnez <guimenu>Paramètres expert</guimenu>, puis <guimenu>Oui</guimenu> lorsque vous êtes averti que vous allez quitter la boîte de dialogue de démarrage.
     </para>
    </step>
    <step>
     <para>
      Dans la boîte de dialogue <guimenu>Déclarations configurées</guimenu>, sélectionnez le sous-réseau dans lequel le nouveau système doit se trouver et cliquez sur <guimenu>Éditer</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Dans la boîte de dialogue <guimenu>Configuration du sous-réseau</guimenu>, sélectionnez <guimenu>Ajouter</guimenu> pour ajouter une nouvelle option à la configuration du sous-réseau.
     </para>
    </step>
    <step>
     <para>
      Sélectionnez <option>nom de fichier</option> et entrez la valeur <literal>pxelinux.0</literal>.
     </para>
    </step>
    <step>
     <para>
      Ajoutez une autre option (<option>serveur-suivant</option>) et configurez sa valeur sur l'adresse du serveur TFTP.
     </para>
    </step>
    <step>
     <para>
      Sélectionnez <guimenu>OK</guimenu> et <guimenu>Terminer</guimenu> pour achever la configuration du serveur DHCP.
     </para>
    </step>
   </procedure>
   <para>
    Pour configurer DHCP afin de fournir une adresse IP statique à un hôte spécifique, entrez les <guimenu>Paramètres expert</guimenu> du module de configuration du serveur DHCP (<xref linkend="st.deployment.prep_boot.dhcp.yast.expert" xrefstyle="StepOnPage"/>) et ajoutez une nouvelle déclaration du type d'hôte. Ajoutez les options <option>matériel</option> et <option>adresse-fixe</option> à cette déclaration de l'hôte et fournissez les valeurs appropriées.
   </para>
  </sect2>

  <sect2 xml:id="sec.deployment.prep_boot.dhcp.man">
   <title>Configuration manuelle d'un serveur DHCP</title>
   <para>
    Le serveur DHCP n'a plus qu'une opération à effectuer, hormis fournir une allocation d'adresse automatique aux clients du réseau : déclarer l'adresse IP du serveur TFTP et le fichier qui doit être utilisé par les routines d'installation sur la machine cible.
   </para>
   <procedure xml:id="proc.deployment.prep_boot.dhcp.man">
    <step>
     <para>
      Connectez-vous en tant qu'utilisateur <systemitem class="username">root</systemitem> à la machine qui héberge le serveur DHCP.
     </para>
    </step>
    <step>
     <para>
      Ajoutez les lignes suivantes à la configuration de sous-réseau du fichier de configuration du serveur DHCP, situé dans <filename>/etc/dhcpd.conf</filename> :
     </para>
<screen>subnet 192.168.1.0 netmask 255.255.255.0 {
  range dynamic-bootp 192.168.1.200 192.168.1.228;
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <replaceable>ip_tftp_server</replaceable>;
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename  "pxelinux.0";
}</screen>
     <para>
      Remplacez <replaceable>ip_du_serveur_tftp</replaceable> par l'adresse IP réelle du serveur TFTP. Pour plus d'informations sur les options disponibles dans<filename>dhcpd.conf</filename>, reportez-vous à la page de manuel <systemitem>dhcpd.conf</systemitem>.
     </para>
    </step>
    <step>
     <para>
      Redémarrez le serveur DHCP en exécutant la commande <command>systemctl restart dhcpd</command>.
     </para>
    </step>
   </procedure>
   <para>
    Si vous avez l'intention d'utiliser le protocole SSH pour le contrôle distant d'une installation PXE et Wake on LAN, indiquez de manière explicite l'adresse IP que le protocole DHCP doit fournir à la cible d'installation. Pour ce faire, modifiez la configuration DHCP mentionnée ci-dessus, conformément à l'exemple suivant :
   </para>
<screen>group {
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <replaceable>ip_tftp_server</replaceable>:
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename "pxelinux.0";
  host test {
    hardware ethernet <replaceable>mac_address</replaceable>;
    fixed-address <replaceable>some_ip_address</replaceable>;
    }
}
</screen>
   <para>
    L'instruction d'hôte présente le nom d'hôte de la cible d'installation. Pour lier le nom d'hôte et l'adresse IP à un hôte, vous devez connaître et indiquer l'adresse matérielle (MAC) du système. Remplacez toutes les variables utilisées dans cet exemple par les valeurs réelles qui correspondent à votre environnement.
   </para>
   <para>
    Une fois le serveur DHCP redémarré, une adresse IP statique est fournie à l'hôte spécifié ; vous pouvez ainsi vous connecter au système via la fonctionnalité SSH.
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.tftp">
  <title>Configuration d'un serveur TFTP</title>

  <para>
   Si vous utilisez une installation basée sur SUSE, vous pouvez utiliser YaST pour configurer un serveur TFTP. Sinon, configurez-le manuellement. Le serveur TFTP fournit l'image de démarrage au système cible dès que ce dernier a démarré et a envoyé une requête à ce sujet.
  </para>

  <sect2 xml:id="sec.deployment.prep_boot.tftp.yast">
   <title>Configuration d'un serveur TFTP à l'aide de YaST</title>
   <procedure xml:id="proc.deployment.prep_boot.tftp.yast">
    <step>
     <para>
      Connectez-vous en tant qu'utilisateur <systemitem class="username">root</systemitem>.
     </para>
    </step>
    <step>
     <para>
      Sélectionnez <menuchoice><guimenu>YaST</guimenu> <guimenu>Services réseau</guimenu> <guimenu>Serveur TFTP</guimenu></menuchoice> et installez le paquetage demandé.
     </para>
    </step>
    <step>
     <para>
      Cliquez sur <guimenu>Activer</guimenu> pour vous assurer que le serveur est démarré et inclus dans les routines de démarrage. Aucune autre action de votre part n'est nécessaire pour vérifier la réussite de cette opération. xinetd démarre tftpd au moment du démarrage.
     </para>
    </step>
    <step>
     <para>
      Cliquez sur <guimenu>Ouvrir port dans pare-feu</guimenu> pour ouvrir le port approprié dans le pare-feu exécuté sur votre machine. Si aucun pare-feu n'est en cours d'exécution sur votre serveur, cette option n'est pas disponible.
     </para>
    </step>
    <step>
     <para>
      Cliquez sur <guimenu>Parcourir</guimenu> pour rechercher le répertoire de l'image de démarrage. Le répertoire par défaut <filename>/tftpboot</filename> est créé et sélectionné automatiquement.
     </para>
    </step>
    <step>
     <para>
      Cliquez sur <guimenu>Terminer</guimenu> pour appliquer vos paramètres et démarrer le serveur.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec.deployment.prep_boot.tftp.man">
   <title>Configuration manuelle d'un serveur TFTP</title>
   <procedure xml:id="proc.deployment.prep_boot.tftp.man">
    <step>
     <para>
      Loguez-vous en tant qu'utilisateur <systemitem class="username">root</systemitem>, et installez les paquetages <systemitem>tftp</systemitem> et <systemitem>xinetd</systemitem>.
     </para>
    </step>
    <step>
     <para>
      S'ils ne sont pas disponibles, créez les répertoires <filename>/srv/tftpboot</filename> et <filename>/srv/tftpboot/pxelinux.cfg</filename>.
     </para>
    </step>
    <step>
     <para>
      Ajoutez les fichiers nécessaires à l'image de démarrage, comme décrit à la <xref linkend="sec.deployment.prep_boot.pxe"/>.
     </para>
    </step>
    <step>
     <para>
      Modifiez la configuration de xinetd sous <filename>/etc/xinetd.d</filename> pour vous assurer que le serveur TFTP se lance au démarrage :
     </para>
     <substeps performance="required">
      <step>
       <para>
        S'il n'existe pas, créez dans ce répertoire un fichier nommé <filename>tftp</filename>, à l'aide de la commande <command>touch tftp</command>. Exécutez ensuite <command>chmod 755 tftp</command>.
       </para>
      </step>
      <step>
       <para>
        Ouvrez le fichier <filename>tftp</filename> et ajoutez les lignes suivantes :
       </para>
<screen>service tftp
{
        socket_type            = dgram
        protocol               = udp
        wait                   = yes
        user                   = root
        server                 = /usr/sbin/in.tftpd
        server_args            = -s /srv/tftpboot
        disable                = no
}
</screen>
      </step>
      <step>
       <para>
        Enregistrez le fichier et redémarrez xinetd en exécutant <command>systemctl restart xinetd</command>.
       </para>
      </step>
     </substeps>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxe">
  <title>Utilisation du démarrage PXE</title>

  <para>
   Certaines informations techniques de base, ainsi que les spécifications PXE complètes, sont disponibles dans la spécification de l'environnement PXE (Preboot Execution Environment), à l'adresse <link xlink:href="http://www.pix.net/software/pxeboot/archive/pxespec.pdf"/>.
  </para>

  <procedure xml:id="proc.deployment.prep_boot.pxe">
   <step>
    <para>
     Accédez au répertoire du dépôt de l'installation <filename>boot/&lt;architecture&gt;/loader</filename> et copiez les fichiers <filename>linux</filename>, <filename>initrd</filename>, <filename>message</filename><filename>biostest</filename> et <filename>memtest</filename> dans le répertoire <filename>/srv/tftpboot</filename> en entrant la commande suivante :
    </para>
<screen>cp -a linux initrd message biostest memtest /srv/tftpboot</screen>
   </step>
   <step>
    <para>
     Installez le paquetage <systemitem>syslinux</systemitem> directement à partir de vos DVD d'installation à l'aide de YaST.
    </para>
   </step>
   <step>
    <para>
     Copiez le fichier <filename>/usr/share/syslinux/pxelinux.0</filename> vers le répertoire<filename>/srv/tftpboot</filename> en entrant la commande suivante :
    </para>
<screen>cp -a /usr/share/syslinux/pxelinux.0 /srv/tftpboot
     </screen>
   </step>
   <step>
    <para>
     Accédez au répertoire du dépôt de l'installation et copiez le fichier <filename>isolinux.cfg</filename> dans <filename>/srv/tftpboot/pxelinux.cfg/default</filename> en entrant la commande suivante :
    </para>
<screen>cp -a boot/&lt;architecture&gt;/loader/isolinux.cfg /srv/tftpboot/pxelinux.cfg/default
     </screen>
   </step>
   <step>
    <para>
     Modifiez le fichier <filename>/srv/tftpboot/pxelinux.cfg/default</filename> et supprimez les lignes commençant par <literal>readinfo</literal> et <literal>framebuffer</literal>.
    </para>
   </step>
   <step>
    <para>

     Insérez les entrées suivantes sur les lignes d'ajout des libellés <option>failsafe</option> et <option>apic</option> par défaut :
    </para>
    <variablelist>
     <varlistentry>
      <term><option>insmod=<replaceable>module du kernel</replaceable></option>
      </term>
      <listitem>
       <para>
        Cette entrée permet d'indiquer le module du kernel du réseau nécessaire pour prendre en charge l'installation réseau sur le client PXE. Remplacez <replaceable>module du kernel</replaceable> par le nom du module approprié de votre périphérique réseau.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><option>netdevice=<replaceable>interface</replaceable></option>
      </term>
      <listitem>
       <para>
        Cette entrée définit l'interface réseau du client à utiliser pour l'installation du réseau. Elle n'est nécessaire que si le client est équipé de plusieurs cartes réseau et elle doit être adaptée en conséquence. Dans le cas d'une carte réseau unique, vous pouvez omettre cette entrée.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
<option>install=nfs://<replaceable>ip_serveurinst</replaceable>/<replaceable>chemin_vers_dépôt</replaceable>/DVD1</option>
      </term>
      <listitem>
       <para>
        Cette entrée définit le serveur NFS et le dépôt de l'installation client. Remplacez <replaceable>ip_serveurinst</replaceable> par l'adresse IP réelle de votre serveur d'installation. <replaceable>chemin_vers_dépôt</replaceable> doit être remplacé par le chemin d'accès réel au dépôt. Les dépôts HTTP, FTP ou SMB sont désignés de manière semblable, à l'exception du préfixe de protocole, qui doit être <literal>http</literal>, <literal>ftp</literal> ou <literal>smb</literal>.
       </para>
       <important>
        <title>ajout d'options de démarrage</title>
        <para>
         Si vous devez transmettre d'autres options de démarrage aux routines d'installation, notamment des paramètres de démarrage SSH ou VNC, ajoutez-les dans l'entrée <option>install</option>. Pour obtenir une présentation des paramètres, accompagnée de quelques exemples, reportez-vous à la <xref linkend="sec.deployment.remoteinst.bootinst"/>.
        </para>
       </important>
      </listitem>
     </varlistentry>
    </variablelist>
    <tip>
     <title>modification des noms de fichiers Kernel et initrd</title>
     <para>
      Il est possible d'utiliser des noms de fichiers différents pour les images Kernel et initrd. Cette caractéristique vous sera utile si vous souhaitez fournir des systèmes d'exploitation différents depuis le même serveur de démarrage. Cependant, n'oubliez pas que les noms de fichiers fournis par TFTP pour le démarrage PXE ne peuvent contenir qu'un seul point.
     </para>
    </tip>
    <para>
     Retrouvez ci-dessous un exemple de fichier <option>/srv/tftpboot/pxelinux.cfg/default</option>. Modifiez le préfixe du protocole pour que le dépôt corresponde à votre configuration réseau, puis indiquez la méthode préférée de connexion au programme d'installation en ajoutant les options <literal>vnc</literal> et <literal>VNCPassword</literal> ou <literal>ssh</literal> et <literal>ssh.password</literal> à l'entrée <literal>install</literal>. Les lignes séparées par une barre oblique inversée (<literal>\</literal>) doivent être entrées sous forme de ligne continue, sans saut de ligne ni barre oblique inversée (<literal>\</literal>).
    </para>
<screen>default harddisk

# default
label linux
  kernel linux
  append initrd=initrd ramdisk_size=65536 \
     install=nfs://<replaceable>ip_instserver</replaceable>/<replaceable>path_to_repository</replaceable>/<replaceable>product</replaceable>/DVD1

# repair
label repair
  kernel linux
  append initrd=initrd splash=silent repair=1 showopts

# rescue
label rescue
  kernel linux
  append initrd=initrd ramdisk_size=65536 rescue=1

# bios test
label firmware
  kernel linux
  append initrd=biostest,initrd splash=silent install=exec:/bin/run_biostest showopts

#  memory test
label memtest
  kernel memtest

#  hard disk
label harddisk
  localboot 0

implicit     0
display      message
prompt       1
timeout      100</screen>
   </step>
   <step>
    <para>
     Remplacez <replaceable>ip_serveurinst</replaceable> et <replaceable>chemin_vers_dépôt</replaceable> par les valeurs utilisées dans votre configuration.
    </para>
    <para>
     La section suivante offre une brève référence aux options PXELINUX utilisées dans cette configuration. Pour plus d'informations sur les options disponibles, reportez-vous à la documentation du paquetage <systemitem>syslinux</systemitem>, située sous <filename>/usr/share/doc/packages/syslinux/</filename>.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxeopts">
  <title>Options de configuration PXELINUX</title>

  <para>
   Les options répertoriées à cet endroit constituent un sous-ensemble de toutes les options disponibles pour le fichier de configuration PXELINUX.
  </para>

  <variablelist>
   <varlistentry>
    <term><option>APPEND <replaceable>options... </replaceable></option>
    </term>
    <listitem>
     <para>
      Ajoute une ou plusieurs options à la ligne de commande du kernel. Celles-ci sont ajoutées pour les démarrages automatique et manuel. Les options sont ajoutées en tout début de ligne de commande du kernel ; en règle générale, elles peuvent être remplacées par les options de kernel entrées de manière explicite.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>APPEND -</option>
    </term>
    <listitem>
     <para>
      N'ajoute rien. <option>APPEND</option> suivi d'un seul tiret, utilisé comme argument dans une section <option>LABEL</option> peut servir à remplacer un <option>APPEND</option> global.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>DEFAULT <replaceable>options kernel</replaceable>...</option>
    </term>
    <listitem>
     <para>
      Définit la ligne de commande du kernel par défaut. Si PXELINUX démarre automatiquement, il agit comme si les entrées qui figurent après DEFAULT avaient été saisies à l'invite de démarrage, et ce à une exception près : l'option auto est ajoutée automatiquement, ce qui indique un démarrage automatique.
     </para>
     <para>
      Si aucun fichier de configuration n'existe ou si aucune entrée DEFAULT n'est définie dans le fichier de configuration, la valeur par défaut est le nom de kernel <quote>linux</quote>, sans autres options.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><option>IFAPPEND <replaceable>FLAG</replaceable></option>
    </term>
    <listitem>
     <para>
      Ajoute une option spécifique à la ligne de commande du kernel en fonction de la valeur <replaceable>FLAG</replaceable>. L'option <option>IFAPPEND</option> est disponible uniquement sur PXELINUX. <replaceable>FLAG</replaceable> attend une valeur, décrite dans le <xref linkend="tab.deployment.boot.pxeopts.ifappend"/> :
     </para>
     <table xml:id="tab.deployment.boot.pxeopts.ifappend">
      <title>Options de ligne de commande de kernel générées et ajoutées en provenance de <option>IFAPPEND</option></title>
      <tgroup cols="2">
       <colspec colwidth="1*"/>
       <colspec colwidth="4*"/>
       <thead>
        <row>
         <entry valign="middle">
          <para>
           Argument
          </para>
         </entry>
         <entry>
          <para>
           Ligne de commande de kernel générée/Description
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>
          <para>
           <option>1</option>
          </para>
         </entry>
         <entry>
<screen>ip=<replaceable>CLIENT_IP</replaceable>:<replaceable>BOOT_SERVER_IP</replaceable>:<replaceable>GW_IP</replaceable>:<replaceable>NETMASK</replaceable></screen>
          <para>
           Les marques de réservation sont remplacées en fonction de l'entrée du serveur de démarrage PXE ou DHCP/BOOTP.
          </para>
          <para>
           Notez que cette option ne remplace par l'exécution d'un client DHCP dans le système démarré. En l'absence de renouvellements réguliers, le bail obtenu par le BIOS PXE arrive à expiration, ce qui permet au serveur DHCP de réutiliser l'adresse IP.
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>2</option>
          </para>
         </entry>
         <entry>
<screen>BOOTIF=<replaceable>MAC_ADDRESS_OF_BOOT_INTERFACE</replaceable></screen>
          <para>
           Cette option se révèle particulièrement utile pour éviter les timeouts lorsque le serveur d'installation sonde les interfaces LAN les unes après les autres jusqu'à ce qu'il obtienne une réponse d'un serveur DHCP. Cette option permet à un programme initrd de déterminer l'interface à partir de laquelle le système a démarré. linuxrc lit cette option et utilise cette interface réseau.
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>4</option>
          </para>
         </entry>
         <entry>
<screen>SYSUUID=<replaceable>SYSTEM_UUID</replaceable></screen>
          <para>
           Ajoute des UUID en hexadécimales minuscules ; voir <filename>/usr/share/doc/packages/syslinux/pxelinux.txt</filename>
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </table>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LABEL <replaceable>libellé</replaceable> KERNEL <replaceable>image</replaceable> APPEND <replaceable>options</replaceable>...</option>
    </term>
    <listitem>
     <para>
      Indique que si le <replaceable>libellé</replaceable> est entré comme étant le kernel à démarrer, PXELINUX doit démarrer à la place de l'<replaceable>image</replaceable> de démarrage et les options <option>APPEND</option> spécifiées doivent être utilisées à la place de celles spécifiées dans la section principale du fichier (avant la première commande <option>LABEL</option>). La valeur par défaut de la variable <replaceable>image</replaceable> est identique à celle de <replaceable>libellé</replaceable> ; si aucune option <option>APPEND</option> n'est fournie, l'entrée globale (le cas échéant) est utilisée par défaut. Vous pouvez utiliser jusqu'à 128 entrées <option>LABEL</option>.
     </para>

     <para>
      PXELINUX utilise la syntaxe suivante :
     </para>
<screen>label <replaceable>mylabel</replaceable>
  kernel <replaceable>mykernel</replaceable>
  append <replaceable>myoptions</replaceable></screen>
     <para>
      Les libellés sont tronqués comme s'il s'agissait de noms de fichiers et ils doivent être uniques après cette opération. Par exemple, les deux libellés <quote>v2.6.30</quote> et <quote>v2.6.31</quote> ne pourraient pas être différenciés sous PXELINUX car, une fois tronqués, ils portent tous deux le même nom de fichier DOS.
     </para>
     <para>
      Il n'est pas impératif d'utiliser un kernel Linux ; vous pouvez avoir recours à un secteur de démarrage ou à un fichier COMBOOT.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LOCALBOOT <replaceable>type</replaceable></option>
    </term>
    <listitem>
     <para>
      Sous PXELINUX, si vous remplacez une option <option>KERNEL</option> par <option>LOCALBOOT 0</option>, vous appelez ce libellé spécifique et entraînez le démarrage du disque local et non du kernel.
     </para>
     <informaltable frame="topbot" rowsep="0">
      <tgroup cols="2">

       <thead>
        <row>
         <entry colname="1">
          <para>
           Argument
          </para>
         </entry>
         <entry colname="2">
          <para>
           Description
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry colname="1">
          <para>
           <literal>0</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           Effectue un démarrage normal.
          </para>
         </entry>
        </row>
        <row>
         <entry colname="1">
          <para>
           <literal>4</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           Effectue un démarrage local avec le pilote UNDI (Universal Network Driver Interface - Interface de pilote réseau universelle) qui réside toujours en mémoire.
          </para>
         </entry>
        </row>
        <row>
         <entry colname="1">
          <para>
           <literal>5</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           Effectue un démarrage local avec l'intégralité de la pile PXE, y compris le pilote UNDI, qui réside toujours en mémoire.
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </informaltable>
     <para>
      Aucune autre valeur n'est définie. Si vous ne savez pas à quoi correspondent les piles UNDI et PXE, indiquez <literal>0</literal>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>TIMEOUT <replaceable>timeout</replaceable></option>
    </term>
    <listitem>
     <para>
      Indique la durée d'attente (en 1/10e de seconde) dans l'invite de démarrage, avant que le démarrage automatique soit lancé. Le timeout est annulé dès que l'utilisateur commence à saisir des données ; le système considère que l'utilisateur va terminer la commande initiée. Un timeout de zéro désactive entièrement le timeout (il s'agit également de la valeur par défaut). La valeur maximale de timeout est 35 996 (un peu moins d'une heure).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>PROMPT<replaceable> val_drapeau</replaceable></option>
    </term>
    <listitem>
     <para>
      Si l'option <option>val_drapeau</option> a pour valeur 0, l'invite de démarrage apparaît uniquement si vous appuyez sur la touche <keycap function="shift"/> ou <keycap function="alt"/>, ou si <keycap>Verr. maj</keycap> ou <keycap>Arrêt défil</keycap> est défini (option par défaut). Si <option>val_drapeau</option> a la valeur 1, cet argument affiche toujours l'invite de démarrage.
     </para>
<screen>F2  <replaceable>filename</replaceable>
F1  <replaceable>filename</replaceable>
..etc...
F9  <replaceable>filename</replaceable>
F10 <replaceable>filename</replaceable></screen>
     <para>
      Affiche le fichier indiqué à l'écran lorsque vous appuyez sur une touche de fonction à l'invite de démarrage. Cette option peut être utilisée pour implémenter l'aide en ligne sur le pré-démarrage (normalement pour les options de ligne de commande du kernel). Afin d'assurer une compatibilité avec les versions antérieures, vous pouvez également utiliser la touche <keycap>F10</keycap> à la place de <literal>F0</literal>. Il n'y a actuellement aucun moyen de lier les noms de fichiers aux touches <keycap>F11</keycap> et <keycap>F12</keycap>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxeprep">
  <title>Préparation du système cible pour le démarrage PXE</title>

  <para>
   Préparez le BIOS du système pour le démarrage de l'environnement PXE en incluant l'option PXE dans l'ordre de démarrage du BIOS.
  </para>

  <warning>
   <title>Ordre de démarrage du BIOS</title>
   <para>
    Ne placez pas l'option PXE avant l'option de démarrage du disque dur dans le BIOS. Le système essaierait sinon de se réinstaller chaque fois que vous le démarrez.
   </para>
  </warning>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wolprep">
  <title>Préparation du système cible pour la fonction Wake on LAN (réveil à distance)</title>

  <para>
   Pour la fonction Wake on LAN (WOL), vous devez activer l'option BIOS appropriée avant d'effectuer l'installation. Notez également l'adresse MAC du système cible. Ces informations sont nécessaires pour lancer la fonction Wake on LAN.
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wol">
  <title>Wake on LAN</title>

  <para>
   La fonction Wake on LAN permet à une machine d'être activée par un paquet réseau spécial qui contient l'adresse MAC de la machine. Comme chaque machine au monde dispose d'un identificateur MAC unique, vous ne risquez pas d'activer par erreur la mauvaise machine.
  </para>

  <important>
   <title>réveil à distance sur différents segments du réseau</title>
   <para>
    Si la machine de contrôle n'est pas située sur le même segment réseau que la cible d'installation à réveiller, vous devez configurer les requêtes WOL afin qu'elles soient envoyées en mode multidiffusion ou contrôler à distance une machine de ce segment réseau afin qu'il joue le rôle de l'expéditeur de ces requêtes.
   </para>
  </important>

  <para>
   Les utilisateurs de SUSE Linux Enterprise Server peuvent utiliser un module YaST nommé WOL pour configurer facilement la fonction Wake on LAN. Les utilisateurs d'autres versions de systèmes d'exploitation basés sur SUSE Linux peut utiliser un outil de ligne de commande.
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wolyast">
  <title>Wake on LAN (réveil à distance) avec YaST</title>

  <procedure xml:id="proc.deployment.prep_boot.wolyast">
   <step>
    <para>
     Connectez-vous en tant qu'utilisateur <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Sélectionnez <menuchoice><guimenu>YaST</guimenu> <guimenu>Services réseau</guimenu> <guimenu>WOL</guimenu></menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Cliquez sur <guimenu>Ajouter</guimenu>, puis entrez le nom d'hôte et l'adresse MAC du système cible.
    </para>
   </step>
   <step>
    <para>
     Pour activer cette machine, sélectionnez l'entrée appropriée et cliquez sur <guimenu>Réveiller</guimenu>.
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
