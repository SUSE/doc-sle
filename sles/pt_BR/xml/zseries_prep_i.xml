<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="zseries_prep_i.xml" version="5.0" xml:id="sec.zseries.prep">
 <title>Preparando para a instalação</title>

 <info>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:bugtracker>
          </dm:bugtracker>
        <dm:translation>yes (sim)</dm:translation>
      </dm:docmanager>
    </info>
    <para>
  Nesta seção, aprenda como tornar os dados acessíveis para instalação, instalar o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> usando métodos diferentes, preparar e usar a reinicialização (IPL) do sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Também saberá mais sobre configuração e instalação de rede.
 </para>

 <sect2 xml:id="sec.prep.makeavail">
  <title>Disponibilizando os dados de instalação</title>
  <para>
   Esta seção apresenta informações detalhadas para tornar os dados de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> para IBM System z acessíveis para instalação. Dependendo do seu computador e ambiente de sistema, escolha entre a instalação via NFS ou FTP. Se estiver executando estações de trabalho Microsoft Windows em seu ambiente, você também poderá usar a rede Windows (inclusive o protocolo SMB) para instalar o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> no sistema IBM System z.
  </para>
  <tip>
   <title>Reinicialização (IPL) do DVD</title>
   <para>
    A partir do Service Pack 1 do SUSE Linux Enterprise Server Versão 10, é possível reinicializar (IPL) do DVD e usar o DVD como meio de instalação. Isso é muito prático quando você tem restrições de configuração do servidor de instalação que fornece as mídias de instalação pela rede. O pré-requisito é uma unidade de DVD SCSI conectada a FCP.
   </para>
  </tip>
  <note>
   <title>Sem instalação <quote>do disco rígido</quote></title>
   <para>
    Não é possível instalar por disco rígido inserindo o conteúdo do DVD em uma partição no DASD.
   </para>
  </note>
  <sect3 xml:id="sec.prep.makeavail.linuxws">
   <title>Usando uma estação de trabalho Linux ou o DVD do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></title>
   <para>
    Se houver uma estação de trabalho Linux em execução no seu computador, use-a para enviar os dados de instalação ao processo de instalação do IBM System z por NFS ou FTP. Se a estação de trabalho Linux for executada no <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, você poderá configurar o servidor de instalação (NFS ou FTP) usando o módulo do YaST <guimenu>Servidor de Instalação</guimenu>, conforme descrito na <xref linkend="sec.deployment.remoteinst.instserver.sles9"/>.
   </para>
   <sect4 xml:id="sec.prep.makeavail.linuxws.nfs">
    <title>Por NFS</title>
    <para>
     Use o NFS (sistema de arquivos de rede) para tornar a mídia de instalação disponível.
    </para>
    <important>
     <title>Exportando dispositivos montados com o NFS</title>
     <para>
      A exportação da raiz do sistema de arquivos (<filename>/</filename>) não implica exportar dispositivos montados, como DVD. Nomeie explicitamente o ponto de montagem em <filename>/etc/exports</filename>:
     </para>
<screen>/media/dvd  *(ro)</screen>
     <para>
      Após mudar esse arquivo, reinicie o servidor NFS com o comando <command>sudo systemctl restart nfsserver</command>.
     </para>
    </important>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.linuxws.ftp">
    <title>Por FTP</title>
    <para>
     A configuração de um servidor FTP em um sistema Linux envolve a instalação do software do servidor, como wuftpd ou proftpd, assim como outras tarefas de configuração possíveis. A etapa de instalação com o YaST é direta: selecione o pacote a ser instalado e inicie a instalação. Ignore a configuração do servidor FTP se nenhum FTP anônimo tiver de ser usado para a instalação. Em vez disso, use um login de FTP com nome de usuário e senha válidos. Convém criar uma conta de usuário apenas para essa tarefa. O daemon do FTP não precisa ser iniciado manualmente. Pode ser iniciado por inetd se for solicitada uma conexão FTP. Para ativar as novas configurações, digite <command>rcxinetd</command> <option>restart</option>. <remark role="clarity">taroth 2014-03-19: according to fcrozat, xinetd is
     *not* managed by systemd, so let's keep this rc command for now...</remark>
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.linuxws.oncd">
    <title><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> no DVD</title>
    <para>
     O DVD1 do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> para IBM System z contém uma imagem do Linux inicializável para estações de trabalho baseadas em Intel e uma imagem para o System z.
    </para>
    <para>
     Para as estações de trabalho baseadas em Intel, inicialize desse DVD, responda às perguntas relativas ao seu idioma e layout de teclado e selecione <guimenu>Iniciar sistema de resgate</guimenu>. Você precisa de pelo menos 64 MB de RAM para isso. Nenhum espaço em disco é necessário porque todo o sistema de recuperação reside na RAM da estação de trabalho. Este método requer alguma experiência com Linux e rede, porque você precisa configurar a rede da estação de trabalho manualmente.
    </para>
    <para>
     Para o System z, reinicialize (IPL) seu convidado LPAR/VM por esse DVD, conforme descrito na <xref linkend="sec.prep.ipling.lpar.dvd"/>. Após digitar seus parâmetros de rede, o sistema de instalação tratará o DVD como a origem dos dados de instalação. Como o System z não pode ter um terminal compatível com X11 diretamente conectado, escolha entre a instalação por VNC ou SSH. O SSH também oferece uma instalação gráfica através do túnel da conexão X por meio de SSH com <command>ssh -X</command>.
    </para>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.makeavail.windowsws">
   <title>Usando uma estação de trabalho do Microsoft Windows</title>
   <para>
    Se houver uma estação de trabalho Microsoft Windows disponível na sua rede, use esse computador para tornar a mídia de instalação disponível. A maneira mais fácil de fazer isso é usando o protocolo SMB, já incluído no sistema operacional Windows. Verifique se você ativou <guimenu>SMB over TCP/IP</guimenu> (SMB sobre TCP/IP) já que habilita o encapsulamento de pacotes SMB em pacotes TCP/IP. Os detalhes podem ser encontrados na ajuda online do Windows ou em outra documentação relacionada ao Windows que aborde redes. Outra opção é usar FTP. Isso também requer algum software de terceiros para Windows.
   </para>
   <sect4 xml:id="sec.prep.makeavail.windowsws.smb">
    <title>Com SMB</title>
    <para>
     Para tornar a mídia de instalação disponível via SMB, insira o DVD 1 do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> na unidade de DVD da estação de trabalho Windows. Em seguida, crie um novo compartilhamento usando a letra da unidade de DVD-ROM e disponibilize-a para todos na rede.
    </para>

    <para>
     O caminho de instalação no YaST pode ser:
    </para>
<screen>smb://<replaceable>DOMAIN</replaceable>;<replaceable>USER</replaceable>:<replaceable>PW</replaceable>@<replaceable>SERVERNAME</replaceable>/<replaceable>SHAREPATH</replaceable></screen>
    <para>
     Em que os marcadores significam:
    </para>
    <variablelist>
     <varlistentry>
      <term><replaceable>DOMAIN</replaceable>
      </term>
      <listitem>
       <para>
        Grupo de trabalho opcional ou domínio de diretório ativo.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable>USER</replaceable>
      </term>
      <term><replaceable>PW</replaceable>
      </term>
      <listitem>
       <para>
        Nome de usuário e senha opcionais de um usuário com acesso ao servidor e seu compartilhamento.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable>SERVERNAME</replaceable>
      </term>
      <listitem>
       <para>
        O nome do servidor que hospeda o(s) compartilhamento(s).
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><replaceable>SHAREPATH</replaceable>
      </term>
      <listitem>
       <para>
        O caminho para o(s) compartilhamento(s).
       </para>
      </listitem>
     </varlistentry>
    </variablelist>


    <para/>

   </sect4>
   <sect4 xml:id="sec.prep.makeavail.windowsws.nfs">
    <title>Com NFS</title>
    <para>
     Consulte a documentação fornecida com o produto de terceiros que habilita os serviços do servidor NFS para a estação de trabalho do Windows. A unidade de DVD-ROM usada para os DVDs do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> deve estar no caminho do NFS disponível.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.windowsws.ftp">
    <title>Com FTP</title>
    <para>
     Consulte a documentação fornecida com o produto de terceiros que habilita os serviços do servidor FTP para a estação de trabalho do Windows. A unidade de DVD-ROM usada para os DVDs do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> deve estar no caminho do FTP disponível.
    </para>
    <para>
     O servidor FTP que acompanha algumas versões do Microsoft Windows implementa apenas um subconjunto do conjunto de comandos do FTP e não é adequado para fornecimento dos dados de instalação. No entanto, outros produtos (como o servidor FTP que faz parte do Hummingbird Exceed ou do WAR-FTPD) foram relatados como funcionais.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.windowsws.scsi">
    <title>Usando uma unidade de DVD SCSI conectada a FCP</title>
    <para>
     Depois que você preparar a IPL do DVD SCSI conforme descrito na <xref linkend="sec.info.iplopt.dvd"/>, o sistema de instalação usará o DVD como a mídia de instalação. Nesse caso, você não precisará da mídia de instalação em um servidor FTP, NFS ou SMB. Entretanto, você precisará dos dados de configuração de rede para o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, pois deverá configurar a rede durante a instalação para realizar uma instalação gráfica por VNC ou por X.
    </para>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.makeavail.zpxe_cobbler">
   <title>Usando um servidor Cobbler para o zPXE</title>
   <para>
    A reinicialização (IPL) da rede requer um servidor Cobbler para fornecer o kernel, o initrd e os dados de instalação. A preparação do servidor Cobbler requer quatro etapas:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Importação dos dados de instalação
     </para>
    </listitem>
    <listitem>
     <para>
      Adição de uma distribuição
     </para>
    </listitem>
    <listitem>
     <para>
      Adição de perfis
     </para>
    </listitem>
    <listitem>
     <para>
      Adição de sistemas
     </para>
    </listitem>
   </itemizedlist>
   <sect4 xml:id="sec.prep.makeavail.zpxe_cobbler.import">
    <title>Importação dos dados de instalação</title>
    <para>
     A importação da mídia exige uma fonte de instalação disponível no servidor Cobbler, seja de DVD ou de uma fonte de rede. Execute o seguinte comando para importar os dados:
    </para>
<screen>cobbler import --path=<replaceable>PATH</replaceable><co xml:id="cobbler.import.path"/> --name=<replaceable>IDENTIFIER</replaceable><co xml:id="cobbler.import.dirname"/> --arch=s390x</screen>
    <calloutlist>
     <callout arearefs="cobbler.import.path">
      <para>
       Ponto de montagem dos dados de instalação.
      </para>
     </callout>
     <callout arearefs="cobbler.import.dirname">
      <para>
       Uma string que identifica o produto importado, por exemplo <quote>sles12_s390x</quote>. Essa string é usada como o nome do subdiretório no qual os dados da instalação são copiados. No servidor Cobbler executado no SUSE Linux Enterprise, trata-se do <filename>/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFICADOR</replaceable></filename>. Esse caminho poderá ser diferente se o Cobbler for executado em outro sistema operacional.
      </para>
     </callout>
    </calloutlist>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.zpxe_cobbler.add_distro">
    <title>Adição de uma distribuição</title>
    <para>
     Adicionando uma distribuição, você solicita ao Cobbler para fornecer o kernel e o initrd necessários para reinicialização (IPL) via zPXE. Execute o seguinte comando no servidor Cobbler para adicionar o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> para IBM System z:
    </para>
<screen>cobbler distro add --arch=s390 --breed=suse --name="<replaceable>IDENTIFIER</replaceable>"<co xml:id="cobbler.add.identifier"/> \
  --os-version=sles10<co xml:id="cobbler.add.os"/> \
  --initrd=/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>/boot/s390x/initrd<co xml:id="cobbler.add.initrd"/> \
  --kernel=/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>/boot/s390x/linux<co xml:id="cobbler.add.kernel"/> \
  --kopts="install=http://cobbler.example.com/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>"<co xml:id="cobbler.add.server"/>
    </screen>
    <calloutlist>
     <callout arearefs="cobbler.add.identifier">
      <para>
       Identificador personalizado para a distribuição, por exemplo <quote>SLES <phrase role="productnumber"><phrase os="sles;sled;slerte">12 SP1</phrase></phrase> System z</quote>. Deve ser exclusivo.
      </para>
     </callout>
     <callout arearefs="cobbler.add.os">
      <para>
       Identificador do sistema operacional. Use <literal>sles10</literal>.
      </para>
     </callout>
     <callout arearefs="cobbler.add.initrd">
      <para>
       Caminho para o initrd. A primeira parte do caminho (<filename>/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFICADOR</replaceable>/</filename>) depende do local para onde o Cobbler importou os dados e do nome do subdiretório escolhido na hora de importar os dados de instalação.
      </para>
     </callout>
     <callout arearefs="cobbler.add.kernel">
      <para>
       Caminho para o kernel. A primeira parte do caminho (<filename>/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFICADOR</replaceable>/</filename>) depende do local para onde o Cobbler importou os dados e do nome do subdiretório escolhido na hora de importar os dados de instalação.
      </para>
     </callout>
     <callout arearefs="cobbler.add.server">
      <para>
       URL para o diretório de instalação no servidor Cobbler.
      </para>
     </callout>
    </calloutlist>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.zpxe_cobbler.profile">
    <title>Ajustando o perfil</title>
    <para>
     Ao adicionar uma distribuição (consulte a <xref linkend="sec.prep.makeavail.zpxe_cobbler.add_distro"/>), é gerado automaticamente um perfil com o <replaceable>IDENTIFICADOR</replaceable> correspondente. Use o seguinte comando para fazer alguns ajustes necessários:
    </para>
    <screen>cobbler distro edit \
--name=<replaceable>IDENTIFIER</replaceable><co xml:id="cobbler.profile.name"/> --os-version=sles10<co xml:id="cobbler.profile.os"/> --ksmeta=""<co xml:id="cobbler.profile.meta"/>
--kopts="install=http://cobbler.example.com/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>"<co xml:id="cobbler.profile.opts"/></screen>
    <calloutlist>
     <callout arearefs="cobbler.profile.name">
      <para>
       Identificador do perfil. Use a mesma string que foi especificada quando a distribuição foi adicionada.
      </para>
     </callout>
     <callout arearefs="cobbler.profile.os">
      <para>
       Versão do sistema operacional. Distribuição à qual o perfil deve se aplicar. Use aqui a string especificada com <option>--name=<replaceable>IDENTIFICADOR</replaceable></option> na etapa de importação.
      </para>
     </callout>
     <callout arearefs="cobbler.profile.meta">
      <para>
       Opção necessária para criar gabarito de arquivos kickstart. Não é usada no SUSE, portanto, defina-a como um valor vazio, conforme especificado no exemplo.
      </para>
     </callout>
     <callout arearefs="cobbler.profile.opts">
      <para>
       Lista de parâmetros do Kernel separados por espaço. No mínimo, ela deve incluir o parâmetro <literal>install</literal>, conforme mostrado no exemplo.
      </para>
     </callout>
    </calloutlist>
   </sect4>
   <sect4 xml:id="sec.prep.makeavail.zpxe_cobbler.system">
    <title>Adição de sistemas</title>
    <para>
     A última etapa necessária é adicionar sistemas ao servidor Cobbler. A adição do sistema deve ser feita para cada convidado do System z que tenha que ser inicializado pelo zPXE. Os convidados são identificados por seu ID de usuário z/VM (no exemplo a seguir, é assumido um ID chamado <quote>linux01</quote>). Observe que esse ID precisa ser uma string com letras minúsculas. Para adicionar um sistema, execute o seguinte comando:
    </para>
    <screen>cobbler system add --name=linux01 --hostname=linux01.example.com \
--profile=<replaceable>IDENTIFIER</replaceable> --interface=qdio \
--ip-address=192.168.2.103 --subnet=192.168.2.255 --netmask=255.255.255.0 \
--name-servers=192.168.1.116 --name-servers-search=example.com \
--gateway=192.168.2.1 --kopts="<replaceable>KERNEL_OPTIONS</replaceable>"</screen>
    <para>
     Com a opção <option>--kopts</option>, é possível especificar o kernel e os parâmetros de instalação que você normalmente especifica no parmfile. Os parâmetros são inseridos como uma lista separada por espaço no formato <replaceable>PARÂMETRO1=VALOR1 PARÂMETRO2=VALOR2</replaceable>. O instalador solicitará os parâmetros ausentes. Para uma instalação completamente automatizada, você precisa especificar todos os parâmetros para o projeto de rede, os DASDs e fornecer um arquivo do AutoYaST. Veja a seguir um exemplo de um convidado equipado com uma interface OSA que usa os mesmos parâmetros de rede mencionados acima.
    </para>
<screen>--kopts=" \
AutoYaST=http://192.168.0.5/autoinst.xml \
Hostname=linux01.example.com \
Domain=example.com \
HostIP=192.168.2.103 \
Gateway=192.168.2.1 \
Nameserver=192.168.1.116 \
Searchdns=example.com \
InstNetDev=osa; \
Netmask=255.255.255.0 \
Broadcast=192.168.2.255 \
OsaInterface=qdio \
Layer2=0 \
PortNo=0 \
ReadChannel=0.0.0700 \
WriteChannel=0.0.0701 \
DataChannel=0.0.0702 \
Portname=DT70 \
DASD=600"</screen>
   </sect4>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.inst_types">
  <title>Tipos de instalação</title>
  <para>
   Esta seção apresenta informações sobre as etapas que devem ser realizadas para instalar o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> para cada modo de instalação e onde encontrar as informações apropriadas. Após realizar as preparações mencionadas nos capítulos anteriores, siga a visão geral do modo de instalação desejado para instalar o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> no sistema.
  </para>
  <para>
   Conforme descrito na <xref linkend="sec.prep.makeavail"/>, há dois modos de instalação diferentes para Linux no IBM System z:
  </para>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     Instalação LPAR
    </para>
   </listitem>
   <listitem>
    <para>
     Instalação z/VM
    </para>
   </listitem>
  </itemizedlist>
  <procedure xml:id="pro.prep.inst_types.lpar">
   <title>Visão geral da instalação da LPAR</title>
   <step>
    <para>
     Prepare os dispositivos necessários para instalação. Consulte a <xref linkend="sec.prep.prep_ipl.natlpar"/>.
    </para>
   </step>
   <step>
    <para>
     Reinicialize (IPL) o sistema de instalação. Consulte a <xref linkend="sec.prep.ipling.lpar"/>.
    </para>
   </step>
   <step>
    <para>
     Configure a rede. Consulte a <xref linkend="sec.prep.netcfg"/>.
    </para>
   </step>
   <step>
    <para>
     Conecte-se ao sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Consulte a <xref linkend="sec.prep.connect"/>.
    </para>
   </step>
   <step>
    <para>
     Inicie a instalação usando o YaST e reinicialize (IPL) o sistema instalado. Consulte o <xref linkend="cha.inst"/>.
    </para>
   </step>
  </procedure>
  <procedure xml:id="pro.prep.inst_types.vm">
   <title>Visão geral da instalação z/VM</title>
   <step>
    <para>
     Prepare os dispositivos necessários para instalação. Consulte a <xref linkend="sec.prep.prep_ipl.vm"/>.
    </para>
   </step>
   <step>
    <para>
     Reinicialize (IPL) o sistema de instalação. Consulte a <xref linkend="sec.prep.ipling.vm"/>.
    </para>
   </step>
   <step>
    <para>
     Configure a rede. Consulte a <xref linkend="sec.prep.netcfg"/>.
    </para>
   </step>
   <step>
    <para>
     Conecte-se ao sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Consulte a <xref linkend="sec.prep.connect"/>.
    </para>
   </step>
   <step>
    <para>
     Inicie a instalação usando o YaST e reinicialize (IPL) o sistema instalado. Consulte o <xref linkend="cha.inst"/>.
    </para>
   </step>
  </procedure>
 </sect2>

 <sect2 xml:id="sec.prep.prep_ipl">
  <title>Preparando a reinicialização (IPL) do sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></title>
  <para/>
  <sect3 xml:id="sec.prep.prep_ipl.natlpar">
   <title>Instalação LPAR</title>
   <para>
    Configure o sistema IBM System z para ser iniciado no modo ESA/S390 ou apenas Linux com o perfil de ativação e o IOCDS apropriados. Consulte a documentação da IBM para obter mais dados sobre como realizar essa tarefa. Prossiga com a <xref linkend="sec.prep.ipling.lpar"/>.
   </para>
  </sect3>
  <sect3 xml:id="sec.prep.prep_ipl.vm">
   <title>Instalação z/VM</title>
   <para/>
   <sect4 xml:id="sec.prep.prep_ipl.vm.linux_guest">
    <title>Adicionando um convidado Linux</title>
    <para>
     A primeira etapa é anexar e formatar um ou vários DASDs no sistema a ser usado pelo convidado Linux no z/VM. Em seguida, crie um novo usuário no z/VM. O exemplo mostra o diretório para um usuário <literal>LINUX1</literal> com a senha <literal>LINPWD</literal>, 1 GB de memória (extensível até 2 GB), 32 MB de RAM expandida (XSTORE), alguns minidiscos (MDISK), duas CPUs e um dispositivo OSA QDIO.
    </para>
    <tip>
     <title>Atribuindo memória a convidados z/VM</title>
     <para>
      Ao atribuir memória a um convidado z/VM, verifique se o tamanho da memória é adequado às necessidades do seu tipo de instalação preferido. Consulte a <xref linkend="sec.info_sysreq.sysreq.hw.mem"/>. Para definir o tamanho de memória para 1 GB, use o comando <command>CP DEFINE STORAGE 1G</command>. Após a conclusão da instalação, redefina o tamanho da memória para o valor desejado.
     </para>
    </tip>
    <example xml:id="ex.prep.prep_ipl.vm.linux_guest.config">
     <title>Configuração de um diretório z/VM</title>
<screen>USER LINUX1 LINPWD 1024M 2048M G 
*____________________________________________
* LINUX1 
*____________________________________________
* This VM Linux guest has two CPUs defined.

CPU 01 CPUID 111111 
CPU 02 CPUID 111222 
IPL CMS PARM AUTOCR 
IUCV ANY 
IUCV ALLOW 
MACH ESA 10 
OPTION MAINTCCW RMCHINFO 
SHARE RELATIVE 2000 
XSTORE 32M 
CONSOLE 01C0 3270 A 
SPOOL 000C 2540 READER * 
SPOOL 000D 2540 PUNCH A 
SPOOL 000E 3203 A 
* OSA QDIO DEVICE DEFINITIONS 
DEDICATE 9A0 9A0 
DEDICATE 9A1 9A1 
DEDICATE 9A2 9A2 
* 
LINK MAINT 0190 0190 RR 
LINK MAINT 019E 019E RR 
LINK MAINT 019D 019D RR 
* MINIDISK DEFINITIONS 
MDISK 201 3390 0001 0050 DASD40 MR ONE4ME TWO4ME THR4ME 
MDISK 150 3390 0052 0200 DASD40 MR ONE4ME TWO4ME THR4ME 
MDISK 151 3390 0253 2800 DASD40 MR ONE4ME TWO4ME THR4ME</screen>
    </example>
    <para>
     Este exemplo usa o minidisco 201 como disco pessoal do convidado. O minidisco 150 com 200 cilindros é o dispositivo de troca do Linux. O disco 151 com 2800 cilindros mantém a instalação do Linux.
    </para>
    <para>
     Agora adicione (como usuário <systemitem class="username">MAINT</systemitem>) o convidado ao diretório de usuário com <command>DIRM FOR LINUX1 ADD</command>. Digite o nome do convidado (<literal>LINUX1</literal>) e pressione <keycap>F5</keycap>. Configure o ambiente do usuário com:
    </para>
<screen>DIRM DIRECT 
DIRM USER WITHPASS</screen>
    <para>
     O último comando retorna um número de arquivo de leitor. Este número é necessário para o próximo comando:
    </para>
<screen>RECEIVE &lt;number&gt; USER DIRECT A (REPL)</screen>
    <para>
     Agora, você pode efetuar login no convidado como o usuário <systemitem class="username">LINUX1</systemitem>.
    </para>
    <para>
     Se não tiver a opção <literal>dirmaint</literal> disponível, consulte a documentação da IBM para configurar esse usuário.
    </para>
    <para>
     Prossiga com a <xref linkend="sec.prep.ipling.vm"/>.
    </para>
   </sect4>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.ipling">
  <title>Reinicializando (IPL) o sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></title>
  <para/>
  <sect3 xml:id="sec.prep.ipling.lpar">
   <title>Instalação LPAR</title>
   <para>
    Há várias formas de reinicializar (IPL) o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> em um LPAR. A preferida é usar o recurso <guimenu>Carregar do CD-ROM ou do servidor</guimenu> do SE ou do HMC.
   </para>
   <sect4 xml:id="sec.prep.ipling.lpar.cdrom">
    <title>IPL do DVD-ROM</title>
    <para>
     Marque o LPAR para instalação e selecione <guimenu>Carregar do CD-ROM ou do servidor</guimenu>. Deixe o campo do local de arquivo em branco ou digite o caminho do diretório root do primeiro DVD-ROM e selecione para continuar. Na lista de opções exibida, escolha a seleção padrão. <guimenu>Agora, a opção </guimenu>Operating system messages (Mensagens do sistema operacional) deveria mostrar as mensagens de inicialização do kernel.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.ipling.lpar.dvd">
    <title>Reinicialização (IPL) do DVD SCSI conectado a FCP</title>
    <para>
     Você pode usar o procedimento <guimenu>Carregar</guimenu>, selecionando <guimenu>SCSI</guimenu> como <guimenu>Tipo de carga</guimenu> para reinicializar (IPL) do SCSI. Digite o WWPN (Worldwide port name — nome de porta mundial) e o LUN (Logical unit number — número da unidade lógica) fornecidos pelo armazenamento ou ponte SCSI (16 dígitos, sem omitir os 0s à direita). O seletor do programa de inicialização deve ser 2. Use o seu adaptador FCP como <guimenu>Endereço de carregamento</guimenu> e reinicialize (IPL).
    </para>
   </sect4>
  </sect3>
  <sect3 xml:id="sec.prep.ipling.vm">
   <title>Instalação z/VM</title>
   <para>
    Esta seção explica a reinicialização (IPL) do sistema de instalação para instalar o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> para IBM System z em um sistema z/VM.
   </para>
   <sect4 xml:id="sec.prep.ipling.vm.reader">
    <title>Reinicialização (IPL) do leitor z/VM</title>
    <para>
     Para transferir o sistema de instalação via FTP, é necessário ter uma conexão TCP/IP ativa e um programa cliente de FTP em seu convidado z/VM recém-definido. A configuração de TCP/IP para z/VM está fora do escopo deste manual. Consulte a documentação apropriada da IBM.
    </para>
    <para>
     Efetue login como convidado z/VM Linux para IPL. Torne o conteúdo do diretório <filename>/boot/s390x</filename> no DVD 1 do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> para IBM System z disponível por FTP na rede. Nesse diretório, obtenha os arquivos <filename>linux</filename>, <filename>initrd</filename>, <filename>parmfile</filename> e <filename>sles12.exec</filename>. Transfira os arquivos com um tamanho de bloco fixo de 80 caracteres. Especifique-o com o comando FTP <command>locsite fix 80</command>. É importante copiar o <filename>linux</filename> (o kernel do Linux) e o <filename>initrd</filename> (a imagem de instalação) como arquivos binários; portanto, use o modo de transferência <literal>binário</literal>. <filename>parmfile</filename> e <filename>sles12.exec</filename> devem ser transferidos em modo ASCII.
    </para>
    <para>
     O exemplo mostra as etapas necessárias. Neste exemplo, os arquivos necessários são acessíveis de um servidor FTP no endereço IP <literal>192.168.0.3</literal> e o login é <systemitem class="username">lininst</systemitem>. Poderá diferir para a sua rede.
    </para>
    <example xml:id="ex.prep.ipling.vm.reader.ftp.ftptrans">
     <title>Transferindo os binários via FTP</title>
<screen>FTP 192.168.0.3
VM TCP/IP FTP Level 530
Connecting to 192.168.0.3, port 21
220 ftpserver FTP server (Version wu-2.4.2-academ[BETA-18](1)
Thu Feb 11 16:09:02 GMT 2010) ready.
USER
lininst
331 Password required for lininst
PASS
******
230 User lininst logged in.
Command:
binary
200 Type set to I
Command:
locsite fix 80
Command:
get /media/dvd1/boot/s390x/linux sles12.linux
200 PORT Command successful
150 Opening BINARY mode data connection for /media/dvd1/boot/s390x/linux
(10664192 bytes)
226 Transfer complete.
10664192 bytes transferred in 13.91 seconds.
Transfer rate 766.70 Kbytes/sec.
Command:
get /media/dvd1/boot/s390x/initrd sles12.initrd
200 PORT Command successful
150 Opening BINARY mode data connection for /media/dvd1/boot/s390x/initrd
(21403276 bytes)
226 Transfer complete.
21403276 bytes transferred in 27.916 seconds.
Transfer rate 766.70 Kbytes/sec.
Command:
ascii
200 Type set to A
Command:
get /media/dvd1/boot/s390x/parmfile sles12.parmfile
150 Opening ASCII mode data connection for /media/dvd1/boot/s390x/parmfile
(5 bytes)
226 Transfer complete.
5 bytes transferred in 0.092 seconds.
Transfer rate 0.05 Kbytes/sec.
Command:
get /media/dvd1/boot/s390x/sles12.exec sles12.exec
150 Opening ASCII mode data connection for /media/dvd1/boot/s390x/sles12.exec
(891 bytes)
226 Transfer complete.
891 bytes transferred in 0.097 seconds.
Transfer rate 0.89 Kbytes/sec.
Command:
quit</screen>
    </example>
    <para>
     Use o script REXX sles12.exec do qual você fez download para reinicializar (IPL) o sistema de instalação do Linux. Esse script inicializa o kernel, parmfile e o disco RAM inicial no leitor para IPL.
    </para>
    <example xml:id="sex.prep.ipling.vm.reader.startscript.slesexec">
     <title>SLES12 EXEC</title>
<screen>/* REXX LOAD EXEC FOR SUSE LINUX S/390 VM GUESTS       */
/* LOADS SUSE LINUX S/390 FILES INTO READER            */                       
SAY ''                                                                          
SAY 'LOADING SLES12 FILES INTO READER...'                                       
'CP CLOSE RDR'                                                                  
'PURGE RDR ALL'                                                                 
'SPOOL PUNCH * RDR'                                                             
'PUNCH SLES12 LINUX A (NOH'                                                     
'PUNCH SLES12 PARMFILE A (NOH'                                                  
'PUNCH SLES12 INITRD A (NOH'                                                    
'IPL 00C'</screen>
    </example>
    <para>
     Com este script, é possível reinicializar (IPL) o sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> com o comando <command>sles12</command>. O kernel do Linux é iniciado e imprime suas mensagens de inicialização.
    </para>
    <para>
     Para continuar a instalação, vá para a <xref linkend="sec.prep.netcfg"/>.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.ipling.vm.dvd">
    <title>Reinicialização (IPL) do DVD SCSI conectado a FCP</title>
    <para>
     Para reinicializar (IPL) no z/VM, prepare o processo de IPL do SCSI usando o parâmetro SET LOADDEV:
    </para>
<screen>SET LOADDEV PORTNAME 200400E8 00D74E00 LUN 00020000 00000000 BOOT 2</screen>
    <para>
     Após definir o parâmetro LOADDEV com os valores adequados, reinicialize (IPL) seu adaptador FCP, por exemplo:
    </para>
<screen>IPL FC00</screen>
    <para>
     Para continuar a instalação, continue na <xref linkend="sec.prep.netcfg"/>.
    </para>
   </sect4>
   <sect4 xml:id="sec.prep.ipling.vm.zpxe">
    <title>Reinicialização (IPL) de um servidor Cobbler com o zPXE</title>
    <para>
     Para reinicializar (IPL) de um servidor Cobbler com o zPXE, você precisa transferir o script <filename>zpxe.exec</filename> por FTP do servidor Cobbler para o convidado z/VM. O convidado z/VM precisa de uma conexão TCP/IP ativa e um programa cliente FTP.
    </para>
    <para>
     Efetue login como convidado Linux no z/VM para reinicializar (IPL) e transferir o script com um tamanho fixo de 80 caracteres no modo ASCII (consulte o <xref linkend="ex.prep.ipling.vm.reader.ftp.ftptrans"/>). O script <filename>zpxe.exec</filename> está disponível no servidor Cobbler no ftp://<replaceable>IP_DO_SERVIDOR_COBBLER</replaceable>/<replaceable>DIRETÓRIO_DE_INSTALAÇÃO_zSERIES</replaceable>/boot/s390x/zpxe.exec. O local exato do <replaceable>DIRETÓRIO_DE_INSTALAÇÃO_zSERIES</replaceable> depende se você importou os dados de instalação no servidor Cobbler (consulte a <xref linkend="sec.prep.makeavail.zpxe_cobbler.import"/> para obter os detalhes).
    </para>
    <para>
     O <filename>zpxe.exec</filename> deve supostamente substituir o <filename>PROFILE EXEC</filename> do convidado. Faça uma cópia de backup do <filename>PROFILE EXEC</filename> existente e renomeie <filename>ZPXE EXEC</filename> para <filename>PROFILE EXEC</filename>. Se preferir, chame <filename>ZPXE EXEC</filename> do <filename>PROFILE EXEC</filename> existente usando uma nova linha com o seguinte conteúdo: <literal>'ZPXE EXEC'</literal>.
    </para>
    <para>
     A última etapa é criar um arquivo de configuração <filename>ZPXE CONF</filename> que informa ao <filename>ZPXE EXEC</filename> qual servidor Cobbler deve ser contatado e em qual disco reinicializar (IPL). Execute <command>xedit zpxe conf a</command> e crie <filename>ZPXE CONF</filename> com o seguinte conteúdo (substitua os dados de exemplo de acordo):
    </para>
<screen>HOST cobbler.example.com
IPLDISK 600</screen>
    <para>
     No próximo login em seu convidado z/VM, o servidor Cobbler será conectado. Se estiver programada uma instalação no servidor Cobbler, ela será executada. Para programar a instalação, execute o seguinte comando no servidor Cobbler:
    </para>
<screen>cobbler system edit --name <replaceable>ID</replaceable><co xml:id="cobbler.sysedit.id"/> --netboot-enabled 1<co xml:id="cobbler.sysedit.netboot"/> --profile <replaceable>PROFILENAME</replaceable><co xml:id="cobbler.sysedit.profile"/></screen>
    <calloutlist>
     <callout arearefs="cobbler.sysedit.id">
      <para>
       ID do usuário z/VM.
      </para>
     </callout>
     <callout arearefs="cobbler.sysedit.netboot">
      <para>
       Habilitar reinicialização (IPL) da rede.
      </para>
     </callout>
     <callout arearefs="cobbler.sysedit.profile">
      <para>
       Nome de um perfil existente, consulte a <xref linkend="sec.prep.makeavail.zpxe_cobbler.profile"/>.
      </para>
     </callout>
    </calloutlist>
   </sect4>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.netcfg">
  <title>Configuração de rede</title>
  <para>
   Aguarde até que o kernel tenha realizado as suas rotinas de inicialização. Se você estiver instalando em modo básico ou em um LPAR, abra as <guimenu>Mensagens do Sistema Operacional</guimenu> no HMC ou no SE.
  </para>
  <para>
   Primeiro, escolha <guimenu>Iniciar Instalação</guimenu> no menu principal do linuxrc e, em seguida, <guimenu>Iniciar Instalação ou Atualização</guimenu> para iniciar o processo de instalação. Selecione <guimenu>Rede</guimenu> como o meio de instalação, depois selecione o tipo de protocolo de rede que será usado para a instalação. A <xref linkend="sec.prep.makeavail"/> descreve como disponibilizar os dados de instalação para os diversos tipos de conexões de rede. Atualmente, <guimenu>FTP</guimenu>, <guimenu>HTTP</guimenu>, <guimenu>NFS</guimenu> e <guimenu>SMB/CIFS</guimenu> (compartilhamento de arquivos do Windows) são aceitos.
  </para>
  <para>
   Escolha agora um dispositivo de rede OSA ou HiperSockets pelo qual receber os dados de instalação na lista de dispositivos disponíveis. Talvez a lista também inclua dispositivos CTC, ESCON ou IUCV, mas eles não são mais suportados no <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>.
  </para>
  <variablelist>
   <varlistentry xml:id="sec.appdendix.inst_netcontypes.ethernet_tokenring">
    <term>HiperSockets</term>
    <listitem>
     <para>
      Selecione um dispositivo Hipersocket na lista de dispositivos de rede. Em seguida, digite os números para os canais de leitura, gravação e dados:
     </para>
     <example xml:id="ex.appdendix.inst_netcontypes.types">
      <title>Tipos de conexão de rede e parâmetros de driver suportados</title>
<screen>Choose the network device.

 1) IBM parallel CTC Adapter (0.0.0600)
 2) IBM parallel CTC Adapter (0.0.0601)
 3) IBM parallel CTC Adapter (0.0.0602)
 4) IBM Hipersocket (0.0.0800)
 5) IBM Hipersocket (0.0.0801)
 6) IBM Hipersocket (0.0.0802)
 7) IBM OSA Express Network card (0.0.0700)
 8) IBM OSA Express Network card (0.0.0701)
 9) IBM OSA Express Network card (0.0.0702)
10) IBM OSA Express Network card (0.0.f400)
11) IBM OSA Express Network card (0.0.f401)
12) IBM OSA Express Network card (0.0.f402)
13) IBM IUCV

&gt; 4

Device address for read channel. (Enter '+++' to abort). 
[0.0.800]&gt; 0.0.800

Device address for write channel. (Enter '+++' to abort). 
[0.0.801]&gt; 0.0.801

Device address for data channel. (Enter '+++' to abort). 
[0.0.802]&gt; 0.0.802</screen>
     </example>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>OSA Express</term>
    <listitem>
     <para>
      Selecione um dispositivo OSA Express na lista de dispositivos de rede e informe o número da porta. Em seguida, digite os números para os canais de leitura, gravação e dados e o nome da porta, se aplicável. Escolha se deseja habilitar o suporte da Camada 2 de OSI.
     </para>
     <para>
      O número da porta foi adicionado para suportar os novos dispositivos de rede OSA Express 3 de 2 portas. Se você não estiver usando um dispositivo OSA Express 3, digite <literal>0</literal>. As placas OSA Express também têm a opção de serem executadas em um modo de <quote>suporte da camada 2 de OSI</quote> ou de usarem o modo de <quote>camada 3</quote> mais antigo e comum. O modo de placa afeta todos os sistemas que compartilham o dispositivo, incluindo os sistemas em outros LPARs. Em caso de dúvida, especifique <literal>2</literal> para fins de compatibilidade com o modo padrão usado por outros sistemas operacionais, como z/VM e z/OS. Consulte seu administrador de hardware para obter mais informações sobre essas opções.
     </para>
     <example xml:id="ex.appdendix.inst_netcontypes.gigabit.param">
      <title>Parâmetros do driver de dispositivos de rede</title>
<screen>Choose the network device.

 1) IBM parallel CTC Adapter (0.0.0600)
 2) IBM parallel CTC Adapter (0.0.0601)
 3) IBM parallel CTC Adapter (0.0.0602)
 4) IBM Hipersocket (0.0.0800)
 5) IBM Hipersocket (0.0.0801)
 6) IBM Hipersocket (0.0.0802)
 7) IBM OSA Express Network card (0.0.0700)
 8) IBM OSA Express Network card (0.0.0701)
 9) IBM OSA Express Network card (0.0.0702)
10) IBM OSA Express Network card (0.0.f400)
11) IBM OSA Express Network card (0.0.f401)
12) IBM OSA Express Network card (0.0.f402)
13) IBM IUCV

&gt; 7
 
Enter the relative port number. (Enter '+++' to abort).
&gt; 0
 
Device address for read channel. (Enter '+++' to abort). 
[0.0.0700]&gt; 0.0.0700

Device address for write channel. (Enter '+++' to abort).
[0.0.0701]&gt; 0.0.0701

Device address for data channel. (Enter '+++' to abort).
[0.0.0702]&gt; 0.0.0702
 
Enable OSI Layer 2 support? 
 
0) &lt;-- Back &lt;-- 
1) Yes 
2) No 

&gt; 1

MAC address. (Enter '+++' to abort). 
&gt; +++</screen>
     </example>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   Após inserir todos os parâmetros de dispositivo de rede, o respectivo driver será instalado, e você verá as mensagens do kernel correspondentes.
  </para>
  <para>
   Em seguida, decida se usará a configuração automática DHCP para configurar os parâmetros de interface de rede. Como o DHCP só funciona em alguns dispositivos e requer configurações de hardware especiais, provavelmente você escolherá <guimenu>NÃO</guimenu> aqui. Ao fazer isso, será solicitado para você informar os seguintes parâmetros de rede:
  </para>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     O endereço IP do sistema a ser instalado
    </para>
   </listitem>
   <listitem>
    <para>
     A máscara de rede correspondente (caso não tenha sido especificada com o endereço IP)
    </para>
   </listitem>
   <listitem>
    <para>
     O endereço IP de um gateway para acessar o servidor
    </para>
   </listitem>
   <listitem>
    <para>
     Uma lista dos domínios de pesquisa incluídos no servidor de nomes de domínio (DNS)
    </para>
   </listitem>
   <listitem>
    <para>
     O endereço IP do servidor de nomes de domínio
    </para>
   </listitem>
  </itemizedlist>
  <example xml:id="ex.prep.netcfg.vm.network_setup">
   <title>Parâmetros de rede</title>
<screen>Automatic configuration via DHCP? 
 
0) &lt;-- Back &lt;-- 
1) Yes 
2) No 
 
&gt; 2
 
Enter your IPv4 address. 
 Example: 192.168.5.77/24. (Enter '+++' to abort). 
&gt; 192.168.0.20/24
 
Enter the IP address of the gateway. Leave empty if you don't need one. (Enter '
+++' to abort). 
&gt; 192.168.0.1
 
Enter your search domains, separated by a space:. (Enter '+++' to abort). 
&gt; example.com
 
Enter the IP address of your name server. Leave empty if you don't need one. (En
ter '+++' to abort). 
&gt; 192.168.0.1</screen>
  </example>
  <para>
   Por fim, será solicitado para você informar os detalhes sobre o servidor de instalação, como endereço IP, diretório com os dados de instalação e credenciais de login. Depois que todos os dados forem inseridos, o sistema de instalação será carregado.
  </para>
 </sect2>

 <sect2 xml:id="sec.prep.connect">
  <title>Conectando-se ao sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></title>
  <para>
   Após carregar o sistema de instalação, o linuxrc precisará saber o tipo de exibição que você deseja usar para controlar o procedimento de instalação. As escolhas possíveis são <literal>X11</literal> (Sistema X Window), <literal>VNC</literal> (protocolo Virtual Network Computing), <literal>SSH</literal> (modo de texto ou instalação X11 via Secure Shell) ou <literal>Console ASCII</literal>. É recomendável selecionar <literal>VNC</literal> ou <literal>SSH</literal>.
  </para>
  <para>
   Quando a última opção é escolhida (<literal>Console ASCII</literal>), o YaST é iniciado no modo de texto, e você pode executar a instalação diretamente em seu terminal. Consulte o <xref linkend="cha.yast.text"/> para obter instruções sobre como usar o YaST no modo de texto. O uso do <literal>Console ASCII</literal> só é útil quando a instalação é feita no LPAR.
  </para>
  <note>
   <title>Emulação de terminal para o console ASCII</title>
   <para>
    Para trabalhar com o YaST no modo de texto, ele deve ser executado em um terminal com emulação VT220/Linux (também chamado de <literal>console ASCII</literal>). Você não pode usar o YaST em um terminal 3270, por exemplo.
   </para>
  </note>
  <sect3 xml:id="sec.inst.connect.vnc_inst">
   <title>Iniciando a instalação para VNC</title>
   <procedure>
    <step>
     <para>
      Uma vez escolhida a opção de instalação <literal>VNC</literal>, o servidor VNC é iniciado. Uma curta observação exibida no console fornece informações sobre qual endereço IP e número de exibição são necessários para conexão com o vncviewer. Alternativamente, é dado um URL para entrada no seu browser habilitado para Java para conexão com o sistema de instalação.
     </para>
    </step>
    <step>
     <para>
      Inicie um aplicativo cliente VNC no sistema cliente. Use o vncviewer ou o cliente Java VNC e um browser da Web habilitado para Java.
     </para>
    </step>
    <step>
     <para>
      Digite o endereço IP e o número de exibição do sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> quando solicitado.
     </para>
     <para>
      Se você se conectar por meio de um browser habilitado para Java, digite um URL que contém o endereço IP do sistema de instalação e o número de porta adequado no formato:
     </para>
<screen>http://&lt;IP address of installation system&gt;:5801/</screen>
    </step>
    <step>
     <para>
      Depois que a conexão for estabelecida, comece a instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> com o YaST.
     </para>
    </step>
   </procedure>
  </sect3>
  <sect3 xml:id="sec.inst.connect.x">
   <title>Iniciando a instalação para o Sistema X Window</title>
   <important>
    <title>Mecanismo de autenticação X</title>
    <para>
     A instalação direta com o Sistema X Window utiliza um mecanismo de autenticação primitivo baseado em nomes de host. Este mecanismo está desabilitado nas versões atuais do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. É preferível a instalação com SSH ou VNC.
    </para>
   </important>
   <procedure>
    <step>
     <para>
      Verifique se o servidor X permite que o cliente (o sistema que está instalado) se conecte. Defina a variável <command>DISPLAYMANAGER_XSERVER_TCP_PORT_6000_OPEN="sim"</command> no arquivo <filename>/etc/sysconfig/displaymanager</filename>. Depois, reinicie o servidor X e permita que o cliente se vincule ao servidor usando <command>xhost &lt;endereço IP do cliente&gt;</command>.
     </para>
    </step>
    <step>
     <para>
      Ao ser solicitado no sistema de instalação, digite o endereço IP da máquina em que o servidor X está sendo executado.
     </para>
    </step>
    <step>
     <para>
      Espere até que o YaST seja aberto e inicie a instalação.
     </para>
    </step>
   </procedure>
  </sect3>
  <sect3 xml:id="sec.inst.connect.ssh">
   <title>Iniciando a instalação para SSH</title>
   <para>
    Para conectar-se a um sistema de instalação chamado <literal>earth</literal> usando SSH, execute <command>ssh -X earth</command>. Se a sua estação de trabalho é executada no Microsoft Windows, use o cliente SSH e telnet e o emulador de terminal putty, disponível em <link xlink:href="http://www.chiark.greenend.org.uk/~sgtatham/putty/"/>. Defina <guimenu>Habilitar o encaminhamento X11</guimenu> em putty, sob <menuchoice> <guimenu>Conexão</guimenu> <guimenu>SSH</guimenu> <guimenu>X11</guimenu> </menuchoice>.
   </para>
   <para>
    Aparece um prompt de login. Digite <literal>root</literal> e efetue login com a sua senha. Digite <command>yast2.ssh</command> para iniciar o YaST.
   </para>
   <para>
    Continue seguindo a descrição detalhada do procedimento de instalação que pode ser encontrado no <xref linkend="cha.inst"/>.
   </para>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.boot_procedure">
  <title>O procedimento de boot do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> no IBM System z</title>
  <para>
   O processo de boot do SLES 10 e 11 seguido do esquema apresentado abaixo. Para obter informações detalhadas, consulte a documentação disponível em <link xlink:href="http://www.ibm.com/developerworks/linux/linux390/documentation_suse.html"/>. 
  </para>
  <orderedlist>
   <listitem>
    <para>
      Insira o Kernel.
    </para>
   </listitem>
   <listitem>
    <para>
     Insira ou crie um initrd para o Kernel especificado.
    </para>
   </listitem>
   <listitem>
    <para>
      Insira os caminhos corretos para o initrd e o Kernel em <filename>/etc/zipl.conf</filename>.
    </para>
   </listitem>
   <listitem>
    <para>
     Instale a configuração especificada por <filename>/etc/zipl.conf</filename> no sistema.
    </para>
   </listitem>
  </orderedlist>
  <para>
   No SLES 12, mudou a forma como o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> é inicializado no IBM System z. Vários motivos levaram a essa mudança:
  </para>
  <itemizedlist>
   <listitem>
    <para>
     Alinhamento com outras arquiteturas: De um ponto de vista administrativo, os sistemas SLES devem apresentar o mesmo comportamento em todas as arquiteturas.
    </para>
   </listitem>
   <listitem>
    <para>
     Btrfs: O carregador de boot zipl é tecnicamente incompatível com o Btrfs, o novo sistema de arquivos raiz padrão do SLES (consulte o <xref linkend="sec.filesystems.major.btrfs"/> para obter detalhes).
    </para>
   </listitem>
   <listitem>
    <para>
     Suporte a rollbacks de sistema com o Snapper: O Snapper, em conjunto com o Btrfs, oferece instantâneos de sistema inicializáveis, que podem ser usados para rollbacks de sistema (consulte o <xref linkend="cha.snapper"/> para obter detalhes).
    </para>
   </listitem>
  </itemizedlist>

  <para>
   Por esses motivos, a partir do SLES 12, o GRUB 2 substitui o zipl no <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> para System z da IBM. O GRUB 2 na arquitetura x86_64 inclui drivers de dispositivo no nível do firmware para acessar o sistema de arquivos. No mainframe, não há firmware, e adicionar o <literal>ccw</literal> ao GRUB 2 não seria apenas uma enorme tarefa, mas também uma reimplementação do zipl no GRUB 2. Portanto, o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> usa uma abordagem de duas fases:
  </para>
  <variablelist>
   <varlistentry>
    <term>Primeira Fase:</term>
    <listitem>
     <para>
      Uma partição separada que inclui o Kernel e um initrd é montada em <filename>/boot/zipl</filename> (algo parecido com <filename>/boot/efi</filename> nas plataformas UEFI). Esse Kernel e o initrd são carregados pelo zipl usando a configuração em <filename>/boot/zipl/config</filename>.
     </para>
     <para>
      Essa configuração adiciona a palavra-chave <literal>initgrub</literal> à linha de comando do Kernel. Após o carregamento do Kernel e do initrd, o initrd ativará os dispositivos necessários para montar o sistema de arquivos raiz (consulte o <filename>/boot/zipl/active_devices.txt</filename>). Depois disso, um programa de espaço de usuário do GRUB 2 é iniciado, que lê o <filename>/boot/grub2/grub.cfg</filename>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Segunda Fase:</term>
    <listitem>
     <para>
      O Kernel e o initrd especificados no <filename>/boot/grub2/grub.cfg</filename> são iniciados por meio do <command>kexec</command>. Todos os dispositivos listados no <filename>/boot/zipl/active_devices.txt</filename> são ativados, o sistema de arquivos raiz é montado e o procedimento de boot continua, como nas outras arquiteturas.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect2>
</sect1>
