<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_userman.xml" version="5.0" xml:id="cha.y2.userman">
 <title>使用 YaST 管理用户</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  在安装期间，您可能已为系统创建了本地用户。使用 YaST 模块<guimenu>用户和组管理</guimenu>可以添加更多用户，或编辑现有用户。它还可让您配置系统，以便在网络服务器上对用户进行身份验证。
 </para>
 <sect1 xml:id="sec.y2.userman.main">
  <title>用户和组管理对话框</title>

  <para>
   要管理用户或组，请启动 YaST 并单击<menuchoice>
   <guimenu>安全和用户</guimenu> <guimenu> 用户和组管理</guimenu> </menuchoice>。或者，通过从命令行运行 <command>sudo yast2 users &amp;</command> 来直接启动<guimenu>用户和组管理</guimenu>对话框。
  </para>

  <figure xml:id="fig.y2.userman.main">
   <title>YaST 用户和组管理</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_users_main_gtk.png" width="90%" format="PNG" os="sles;sled"/>
     
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_users_main_gtk.png" width="70%" format="PNG" os="sles;sled"/>
     
    </imageobject>
   </mediaobject>
  </figure>
  <para>
   每个用户都指派有一个系统范围的用户 ID (UID)。除了可以登录到您的计算机的用户之外，还存在几个仅供内部使用的<emphasis>系统用户</emphasis>。每位用户都会被指派到一个或多个组中。与<emphasis>系统用户</emphasis>类似，还存在仅供内部使用的<emphasis>系统组</emphasis>。
  </para>

  <para>
   根据使用此对话框来选择查看和修改的用户集（本地用户，网络用户，系统用户），主窗口会显示若干选项卡。这些选项卡可用于执行以下任务：
  </para>

  <variablelist>
   <varlistentry>
    <term>管理用户帐户</term>
    <listitem>
     <para>
      从<guimenu>用户</guimenu>选项卡中，创建、修改、删除或临时禁用用户帐户（如<xref linkend="sec.y2.userman.users"/>所述）。在<xref linkend="sec.y2.userman.adv"/>中了解高级选项，例如强制实施口令策略、使用加密的主目录或管理磁盘定额。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>更改默认设置</term>
    <listitem>
     <para>
      本地用户帐户是根据<guimenu>新用户默认值</guimenu>选项卡中定义的设置来创建的。通过<xref linkend="sec.y2.userman.defaults"/>可以了解到如何更改默认组指派或用户主目录的默认路径和访问权限。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>将用户指派到组</term>
    <listitem>
     <para>
      通过<xref linkend="sec.y2.userman.assign"/>可以了解到如何为单个用户更改组指派。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>管理组</term>
    <listitem>
     <para>
      从<guimenu>组</guimenu>选项卡中，可以添加、修改或删除现有组。请参见<xref linkend="sec.y2.userman.groups"/>以获取有关如何进行此操作的信息。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>更改用户身份验证方法</term>
    <listitem>
     <para>
      如果您的计算机已连接到提供了 NIS 或 LDAP 之类的用户身份验证方法的网络上，您可以在<guimenu>身份验证</guimenu>选项卡上的若干身份验证方法中进行选择。有关更多信息，请参考<xref linkend="cha.y2.userman.authent"/>。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   对于用户和组管理，此对话框提供了类似的功能。通过在此对话框顶部选择适当的选项卡可以轻松地在用户和组管理视图间切换。
  </para>

  <para>
   过滤器选项可用于定义要修改的用户集或组集：在<guimenu>用户</guimenu>或<guimenu>组</guimenu>选项卡上，单击<guimenu>设置过滤器</guimenu>，以便根据<guimenu>本地用户</guimenu>或 <guimenu>LDAP 用户</guimenu>（如果您在使用 LDAP 的网络中操作）之类的特定类别来查看和编辑用户或组。通过<menuchoice> <guimenu>设置过滤器</guimenu>
   <guimenu>自定义过滤器</guimenu> </menuchoice>，您也可以设置和使用自定义过滤器。
  </para>

  <para>
   此对话框可能并未提供以下所有选项和功能，具体取决于所选的过滤器。
  </para>
 </sect1>
 <sect1 xml:id="sec.y2.userman.users">
  <title>管理用户帐户</title>

  <para>
   <indexterm>
   <primary> 用户</primary>
   <secondary> 创建帐户</secondary>
   </indexterm> <indexterm>
   <primary>   用户</primary>
   <secondary> 修改帐户</secondary>
   </indexterm>  YaST 可让您创建、修改、删除或临时禁用用户帐户。除非您是有经验的用户或管理员，否则不要修改用户帐户。
  </para>

  <note>
   <title>更改现有用户的用户 ID</title>
   <para>
    文件所有权与用户 ID，而非用户名绑定在一起。用户 ID 更改后，此用户的用户主目录中的文件会自动调整，以反映出此更改。但是，ID 更改后，此用户就不再拥有其在文件系统的其他位置创建的文件的所有权，除非手动更改这些文件的所有权。
   </para>
  </note>

  <para>
   通过以下内容可以了解到如何设置默认用户帐户。有关一些进一步的选项（如：自动登录、在不使用口令的情况下登录、设置加密的用户主目录或管理用户和组的定额），请参见<xref linkend="sec.y2.userman.adv"/>。
  </para>

  <procedure>
   <title>添加或修改用户帐户</title>
   <step>
    <para>
     打开 YaST <guimenu>用户和组管理</guimenu>对话框并单击<guimenu>用户</guimenu>选项卡。
    </para>
   </step>
   <step>
    <para>
     使用<guimenu>设置过滤器</guimenu>定义要管理的用户集。对话框中会列出系统中的用户以及用户所属的组。
    </para>
   </step>
   <step>
    <para>
     要修改现有用户选项，请选择某一条目并单击<guimenu>编辑</guimenu>。
    </para>
    <para>
     要创建新的用户帐户，请单击<guimenu>添加</guimenu>。
    </para>
   </step>
   <step>
    <para>
     在第个张选项卡上输入合适的用户数据，如<guimenu>用户名</guimenu>（用于登录）和<guimenu>口令</guimenu>。这些数据足以创建新用户。如果此时单击<guimenu>确定</guimenu>，系统将自动指派用户 ID 并将根据默认值设置所有其他值。
    </para>
   </step>

   <step>
    <para>
     若要将任何类型的系统通知都递送到该用户的邮箱中，请激活<guimenu>接收系统邮件</guimenu>。这样，就会为 <systemitem class="username">root</systemitem> 创建邮件别名，用户无需先以 <systemitem class="username">root</systemitem> 身份登录便可阅读系统邮件。
    </para>
    <para>
     由系统服务发送的邮件储存在本地邮箱 <filename>/var/spool/mail/</filename><replaceable>username</replaceable> 中，其中 <replaceable>username</replaceable> 是所选用户的登录名。要阅读电子邮件，可以使用 <command>mail</command> 命令。
    </para>
   </step>
   <step>
    <para>
     如果想调整进一步的细节（如用户 ID 或用户的用户主目录路径），请在<guimenu>细节</guimenu>选项卡上进行此操作。
    </para>
    <para>
     如果需要重新定位现有用户的用户主目录，请在该选项卡中输入新的用户主目录路径，并使用<guimenu>移至新位置</guimenu>移动当前用户主目录的内容。否则，不会使用任何的现有数据来创建新的用户主目录。
    </para>
   </step>
   <step>
    <para>
     要强制用户以常规方式更改口令或设置其他口令选项，请切换到<guimenu>口令设置</guimenu>并调整选项。有关详细信息，请参见<xref linkend="sec.y2.userman.adv.passw"/>。
    </para>
   </step>
   <step>
    <para>
     如果已按照需要设置了所有选项，请单击<guimenu>确定</guimenu>。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>确定</guimenu>以关闭管理对话框并保存更改。此时，新添加的用户可以使用您创建的登录名和口令登录系统。
    </para>
    <para>
     或者，如果您想要保存所有更改且不退出<guimenu>使用及群组管理</guimenu>对话框，请单击<menuchoice> <guimenu>专家选项</guimenu> <guimenu> 立即写入更改</guimenu> </menuchoice>。
    </para>
   </step>
  </procedure>

  <tip>
   <title>匹配用户 ID</title>
   <para>
    如果便携式计算机上的一个新（本地）用户还需要集成到某一网络环境中，而该用户在这个网络环境中已有用户 ID，则将该（本地）用户 ID 与网络 ID 匹配的操作对这个用户非常有用。这样可确保用户<quote>脱机</quote>创建的文件的所有权和其直接在网络上创建的文件的所有权相同。
   </para>
  </tip>

  <procedure>
   <title>禁用或删除用户帐户</title><indexterm>
   <primary>用户</primary>
   <secondary>禁用帐户</secondary></indexterm><indexterm>
   <primary>用户</primary>
   <secondary>删除帐户</secondary></indexterm>
   <step>
    <para>
     打开 YaST <guimenu>用户和组管理</guimenu>对话框并单击<guimenu>用户</guimenu>选项卡。
    </para>
   </step>
   <step>
    <para>
     要在不删除用户帐户的情况下临时禁用该帐户，请从列表中选择该用户并单击<guimenu>编辑</guimenu>。激活<guimenu>禁用用户登录</guimenu>。再次启用该帐户之前，此用户不能登录您的计算机。
    </para>
   </step>
   <step>
    <para>
     要删除用户帐户，请从列表中选择该用户并单击<guimenu>删除</guimenu>。选择您是否也要删除用户的用户主目录或是否想保留数据。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.y2.userman.adv">
  <title>用户帐户的其他选项</title>

  <para>
   除了默认用户帐户的设置，<phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> 还提供了更多选项，例如，强制实施口令策略的选项、使用加密主目录的选项，或者为用户和组定义磁盘定额的选项。
  </para>

  <sect2 xml:id="cha.y2.userman.adv.login">
   <title>自动登录和无口令登录</title>
   <para>
    如果使用的是 GNOME 桌面环境，则可为特定用户配置<emphasis>自动登录</emphasis>，为所有用户配置<emphasis>无口令登录</emphasis>。自动登录使用户在引导时自动登录到桌面环境。一次只能为一位用户激活此功能。使用无口令登录可以让用户在登录管理器中输入其用户名后直接登录系统。
   </para>
   <warning>
    <title>安全风险</title>
    <para>
     在多人可以访问的计算机上启用<emphasis>自动登录</emphasis>或<emphasis>无口令登录</emphasis>具有一定的安全性风险。无需身份验证，任何用户都能访问您的系统和数据。如果系统包含机密数据，请勿使用此功能。
    </para>
   </warning>
   <para>
    如果想激活自动登录或无口令登录，请在 YaST <guimenu>用户和组管理</guimenu>中通过<menuchoice> <guimenu>专家选项</guimenu> <guimenu> 登录设置</guimenu> </menuchoice>来访问这些功能。
   </para>
  </sect2>

  <sect2 xml:id="sec.y2.userman.adv.passw">
   <title>强制实施口令策略</title>
   <para>
    在有多个用户的系统上，最好至少强制实施基本的口令安全性策略。用户应该定期更改其口令并使用不能轻易识破的可靠口令。对于本地用户，请执行以下操作：

   </para>
   <procedure>
    <title>配置口令设置</title><indexterm>
    <primary>用户</primary>
    <secondary>口令设置</secondary></indexterm>
    <step>
     <para>
      打开 YaST <guimenu>用户和组管理</guimenu>对话框并选择<guimenu>用户</guimenu>选项卡。
     </para>
    </step>
    <step>
     <para>
      选择要更改口令选项的用户并单击<guimenu>编辑</guimenu>。
     </para>
    </step>
    <step>
     <para>
      切换至<guimenu>口令设置</guimenu>选项卡。用户的上次口令更改会显示在该选项卡上。
     </para>
    </step>
    <step>
     <para>
      要让用户在下次登录时更改其口令，请激活<guimenu>强制更改口令</guimenu>。
     </para>
    </step>
    <step>
     <para>
      要实施口令转换，请设置<guimenu>相同口令的最大有效天数</guimenu>和<guimenu>相同口令的最小有效天数</guimenu>。
     </para>
    </step>
    <step>
     <para>
      要在口令失效前提醒用户更改口令，请为<guimenu>口令失效前多少天发出警告</guimenu>设置数值。
     </para>
    </step>
    <step>
     <para>
      要限制口令失效后用户可以登录的时间周期，请更改<guimenu>口令失效后仍可登录的天数</guimenu>中的值。
     </para>
    </step>
    <step>
     <para>
      您也可为整个帐户指定一个特定的失效日期。输入格式为 <replaceable>YYYY-MM-DD</replaceable> 的<guimenu>失效日期</guimenu>。请注意，此设置与口令无关，而是应用于帐户本身。
     </para>
    </step>
    <step>
     <para>
      有关选项和默认值的更多信息，请单击<guimenu>帮助</guimenu>。
     </para>
    </step>
    <step>
     <para>
      单击<guimenu>确定</guimenu>应用您的更改。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec.y2.userman.adv.crypto">
   <title>管理加密的用户主目录</title><indexterm>
   <primary>用户主目录</primary>
   <secondary>加密</secondary></indexterm><indexterm>
   <primary>用户</primary>
   <secondary>加密的用户主目录</secondary></indexterm>
   <para>
    要在失窃和硬盘被卸下的情况下保护用户主目录中的数据，可为用户创建加密的用户主目录。这些用户主目录是用 LUKS（Linux 统一密钥设置）加密的，这会为用户生成映像和映像密钥。映像密钥受用户的登录口令保护。用户登录系统时，会装入加密的用户主目录，且该用户可以使用内容。
   </para>
   <para>
    使用 YaST 可以为新用户或现有用户创建加密的主目录。要对现有用户的用户主目录加密或修改其加密的用户主目录，需要知道该用户的当前登录口令。默认情况下，所有现有用户数据都会复制到新的加密用户主目录中，但是不会从未加密的目录中删除这些数据。
   </para>
   <warning>
    <title>安全性限制</title>
    <para>
     对用户主目录加密并不能对其他用户的访问进行高度安全的防御。如果需要高度安全性，则不应物理共享系统。
    </para>
   </warning>
   <para>
    请在<xref linkend="sec.security.cryptofs.y2.homes"/>中查找有关加密用户主目录及为了获得更强的安全性而要执行的操作的背景信息。
   </para>
   <procedure>
    <title>创建加密的用户主目录</title>
    <step>
     <para>
      打开 YaST <guimenu>用户和组管理</guimenu>对话框并单击<guimenu>用户</guimenu>选项卡。
     </para>
    </step>
    <step>
     <para>
      要对现有用户的用户主目录加密，请选择该用户并单击<guimenu>编辑</guimenu>。
     </para>
     <para>
      或者，单击<guimenu>添加</guimenu>以创建新的用户帐户并在第一个选项卡上输入适当的用户数据。
     </para>
    </step>
    <step>
     <para>
      在<guimenu>细节</guimenu>选项卡中，激活<guimenu>使用加密用户主目录</guimenu>。使用<guimenu>目录大小 (MB)</guimenu> 指定要为该用户创建的加密映像文件的大小。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="yast2_users_crypto_gtk.png" width="90%" format="PNG" os="sles;sled"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="yast2_users_crypto_gtk.png" width="70%" format="PNG" os="sles;sled"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      单击<guimenu>确定</guimenu>应用您的设置。
     </para>
    </step>
    <step>
     <para>
      如果 YaST 提示需要用户的当前登录口令，请输入该口令以继续。
     </para>
    </step>
    <step>
     <para>
      单击<guimenu>确定</guimenu>以关闭管理对话框并保存更改。
     </para>
     <para>
      或者，如果您想要保存所有更改且不退出<guimenu>使用及群组管理</guimenu>对话框，请单击<menuchoice> <guimenu>专家选项</guimenu> <guimenu> 立即写入更改</guimenu> </menuchoice>。
     </para>
    </step>
   </procedure>
   <procedure>
    <title>修改或禁用加密的用户主目录</title>
    <para>
     当然，您也随时可以禁用用户主目录加密或更改映像文件的大小。
    </para>
    <step>
     <para>
      在<guimenu>用户</guimenu>视图中打开 YaST <guimenu>用户和组管理</guimenu>对话框。
     </para>
    </step>
    <step>
     <para>
      在列表中选择用户并单击<guimenu>编辑</guimenu>。
     </para>
    </step>
    <step>
     <para>
      如果想禁用加密，请切换到<guimenu>细节</guimenu>选项卡并禁用<guimenu>使用加密用户主目录</guimenu>。
     </para>
     <para>
      如果需要增大或减小该用户的加密映像文件大小，请更改<guimenu>目录大小（以 MB 为单位）</guimenu>。
     </para>
    </step>
    <step>
     <para>
      单击<guimenu>确定</guimenu>应用您的设置。
     </para>
    </step>
    <step>
     <para>
      如果 YaST 提示需要用户的当前登录口令，请输入该口令以继续。
     </para>
    </step>
    <step>
     <para>
      单击<guimenu>确定</guimenu>以关闭管理对话框并保存更改。
     </para>
     <para>
      或者，如果您想要保存所有更改且不退出<guimenu>使用及群组管理</guimenu>对话框，请单击<menuchoice> <guimenu>专家选项</guimenu> <guimenu> 立即写入更改</guimenu> </menuchoice>。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec.y2.userman.adv.quota">
   <title>管理定额</title><indexterm>
   <primary>用户</primary>
   <secondary>定额</secondary></indexterm><indexterm>
   <primary>定额</primary>
   <secondary>用户, 组</secondary></indexterm>
   <para>
    为了防止系统容量在没有通知的情况下耗尽，系统管理员可以为用户或组设置定额。可以为一个或多个文件系统定义定额，该定额限制可使用的磁盘空间量和可在该处创建的 inode（索引节点）数。Inode 是文件系统上储存有关普通文件、目录或其他文件系统对象的基本信息的数据结构。其会储存文件系统对象的所有属性（如：用户和组所有权、读权限、写权限或执行权限），但不会储存文件名和内容。
   </para>
   <para>
    <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 允许使用<literal>软</literal>和<literal>硬</literal>定额。另外，可以定义宽限间隔，使用户或组可以暂时超出定额一定量。
   </para>
   <variablelist>
    <varlistentry>
     <term>软定额</term>
     <listitem>
      <para>
       定义一个警告级别，用于在接近限制时告知用户。管理员将会要求用户清理并减少分区上的数据。软定额限制通常低于硬定额限制。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>硬定额</term>
     <listitem>
      <para>
       定义一个限制，达到此限制时拒绝写入请求。如果达到了硬定额，则不再可以储存数据，并且应用程序可能会崩溃。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>宽限期</term>
     <listitem>
      <para>
       定义在超出软定额之后，经过多长时间再发出警告。通常设置为一个相当小的值，例如一小时或若干小时。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <procedure>
    <title>为分区启用定额支持</title>
    <para>
     要为特定用户和组配置定额，需要先在 YaST 专家分区程序中为相应的分区启用定额支持。
    </para>
    <note os="sles">
     <title>定额 Btrfs 分区</title>
     <para>

      Btrfs 分区的定额将以不同的方式处理。有关详细信息，请参见<xref linkend="sec.filesystems.major.btrfs.quota"/>。<remark>taroth 2014-06-04: todo - after btrfs quotas have been covered in
       the manuals (Storage Guide?), add link - taroth 2014-12-29: done</remark>
     </para>
    </note>
    <step>
     <para>
      在 YaST 中，选择<menuchoice> <guimenu>系统</guimenu>
      <guimenu> 分区程序</guimenu> </menuchoice>并单击<guimenu>是</guimenu>以继续。
     </para>
    </step>
    <step>
     <para>
      在<guimenu>专家分区程序</guimenu>中，选择要启用定额的分区并单击<guimenu>编辑</guimenu>。
     </para>
    </step>
    <step>
     <para>

      单击 <guimenu>Fstab 选项</guimenu>并激活<guimenu>启用定额支持</guimenu>。如果 <systemitem>quota</systemitem> 包尚未安装，当您使用<guimenu>是</guimenu>确认相应的消息时就会安装该包。
     </para>
    </step>
    <step>
     <para>
      确认您的更改，然后离开<guimenu>专家分区程序</guimenu>。
     </para>
    </step>
    <step>
     <para>
      输入以下命令确保 <systemitem class="service">quotaon</systemitem> 服务正在运行：
     </para>
<screen>systemctl status quotaon</screen>
     <para>
      它应该标记为处于 <literal>active</literal> 状态。如果情况并非如此，请使用命令 <command>systemctl start quotaon</command> 将它启动。
     </para>
    </step>
   </procedure>
   <procedure>
    <title>为用户或组设置定额</title>
    <para>
     现在，您可以为特定用户或组设置软定额或硬定额，并可设置时间周期作为宽限间隔。
    </para>
    <step>
     <para>
      在 YaST <guimenu>用户和组管理</guimenu>中，选择想要设置定额的用户或组并单击<guimenu>编辑</guimenu>。
     </para>
    </step>
    <step>
     <para>
      在<guimenu>插件</guimenu>选项卡上，选择<guimenu>管理用户定额</guimenu>项，并单击<guimenu>起动</guimenu>打开<guimenu>定额配置</guimenu>对话框。
     </para>
    </step>
    <step>
     <para>
      从<guimenu>文件系统</guimenu>中，选择应应用定额的分区。
     </para>
     <informalfigure os="sles;sled">
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="yast2_users_quota_gtk.png" width="80%" format="PNG" os="sles;sled"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="yast2_users_quota_gtk.png" width="70%" format="PNG" os="sles;sled"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      在<guimenu>大小限制</guimenu>下，限制磁盘空间量。请输入用户或组在此分区上可拥有的大小为 1 KB 的块数。指定<guimenu>软限制</guimenu>和<guimenu>硬限制</guimenu>值。
     </para>
    </step>
    <step>
     <para>
      另外，也可限制用户或组在分区上可拥有的 inode 数。在 <guimenu>Inode 限制</guimenu>中，输入<guimenu>软限制</guimenu>和<guimenu>硬限制</guimenu>
     </para>
    </step>
    <step>
     <para>
      仅当用户或组已超出指定的大小或 inode 软限制时，才能定义宽限间隔。否则，与时间有关的文本框不会处于激活状态。指定允许用户或组超出以上设置的限制的时间周期。
     </para>
    </step>
    <step>
     <para>
      单击<guimenu>确定</guimenu>确认您的设置。
     </para>
    </step>
    <step>
     <para>
      单击<guimenu>确定</guimenu>以关闭管理对话框并保存更改。
     </para>
     <para>
      或者，如果您想要保存所有更改且不退出<guimenu>使用及群组管理</guimenu>对话框，请单击<menuchoice> <guimenu>专家选项</guimenu> <guimenu> 立即写入更改</guimenu> </menuchoice>。
     </para>
    </step>
   </procedure>
   <para>
    <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 还随附了命令行工具（如 <literal>repquota</literal> 或 <literal>warnquota</literal>），系统管理员可以使用这些工具控制磁盘用量或向超出定额的用户发送电子邮件通知。使用 <command>quota_nld</command>，管理员也可向 D-BUS 转发与已超出的定额有关的内核消息。有关更多信息，请参见 <systemitem>repquota</systemitem>、<systemitem>warnquota</systemitem> 和 <command>quota_nld</command> 手册页。

   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.y2.userman.defaults">
  <title>更改本地用户的默认设置</title><indexterm>

  <primary>用户</primary>

  <secondary>默认设置</secondary></indexterm>

  <para>
   创建新的本地用户时，YaST 将使用几个默认设置。例如，这些设置包括用户所属的主组和次组或用户的用户主目录访问权限。您可以更改这些默认设置来满足要求：
  </para>

  <procedure>
   <step>
    <para>
     打开 YaST <guimenu>用户和组管理</guimenu>对话框并选择<guimenu>新用户默认值</guimenu>选项卡。
    </para>
   </step>
   <step>
    <para>
     要更改新用户应自动归入的主组，请从<guimenu>默认组</guimenu>中选择另一个组。
    </para>
   </step>
   <step>
    <para>
     要修改新用户的次组，请在<guimenu>次要组</guimenu>中添加或更改组。组名必须用逗号隔开。
    </para>
   </step>
   <step>
    <para>
     如果不想使用 <filename>/home/<replaceable>username</replaceable></filename> 作为新用户的用户主目录默认路径，请修改<guimenu>用户主目录路径前缀</guimenu>。
    </para>
   </step>
   <step>
    <para>
     要更改新建用户主目录的默认许可权限模式，请调整<guimenu>用户主目录的 Umask</guimenu> 中的 umask 值。有关 umask 的更多信息，请参见<xref linkend="cha.security.acls"/>和 <command>umask</command> 手册页。
    </para>
   </step>
   <step>
    <para>
     有关各个选项的信息，请单击<guimenu>帮助</guimenu>。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>确定</guimenu>应用您的更改。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.y2.userman.assign">
  <title>将用户指派到组</title>

  <para>
   <indexterm>
   <primary>用户</primary>
   <secondary>组指派</secondary>
   </indexterm>根据可从<guimenu>用户和组管理</guimenu>对话框的<guimenu>新用户默认值</guimenu>选项卡中访问的默认设置，会将本地用户指派到若干个组中。通过以下内容可以了解到修改单个用户的组指派的方法。如需更改新用户的默认组指派，请参见<xref linkend="sec.y2.userman.defaults"/>。
  </para>

  <procedure>
   <title>更改用户的组指派</title>
   <step>
    <para>
     打开 YaST <guimenu>用户和组管理</guimenu>对话框并单击<guimenu>用户</guimenu>选项卡。该选项卡会列出用户及用户所属的组。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>编辑</guimenu>并切换到<guimenu>细节</guimenu>选项卡。
    </para>
   </step>
   <step>
    <para>
     要更改用户所属的主组，请单击<guimenu>默认组</guimenu>并从列表中选择该组。
    </para>
   </step>
   <step>
    <para>
     要将用户指派给其他次组，请在<guimenu>其他组</guimenu>列表中激活对应的复选框。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>确定</guimenu>以应用您的更改。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>确定</guimenu>以关闭管理对话框并保存更改。
    </para>
    <para>
     或者，如果您想要保存所有更改且不退出<guimenu>使用及群组管理</guimenu>对话框，请单击<menuchoice> <guimenu>专家选项</guimenu> <guimenu> 立即写入更改</guimenu> </menuchoice>。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.y2.userman.groups">
  <title>管理组</title><indexterm>

  <primary>组</primary>

  <secondary>管理</secondary></indexterm><indexterm>

  <primary>YaST</primary>

  <secondary>组管理</secondary></indexterm><indexterm>

  <primary>配置</primary>

  <secondary>组</secondary></indexterm>

  <para>
   使用 YaST 还能轻松添加、修改或删除组。
  </para>

  <procedure>
   <title>创建和修改组</title>
   <step>
    <para>
     打开 YaST <guimenu>用户和组管理</guimenu>对话框并单击<guimenu>组</guimenu>选项卡。
    </para>
   </step>
   <step>
    <para>
     使用<guimenu>设置过滤器</guimenu>定义想要管理的组集。对话框会列出系统中的组。
    </para>
   </step>
   <step>
    <para>
     要创建新组，请单击<guimenu>添加</guimenu>。
    </para>
   </step>
   <step>
    <para>
     要修改现有组，请选择该组并单击<guimenu>编辑</guimenu>。
    </para>
   </step>
   <step>
    <para>
     在以下对话框中，输入或更改数据。右侧列表显示了可以成为该组成员的所有可用用户和系统用户的概述。
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="yast2_groups_edit_gtk.png" width="80%" format="PNG" os="sles;sled"/>
       
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="yast2_groups_edit_gtk.png" width="75%" format="PNG" os="sles;sled"/>
       
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step>
    <para>
     要将现有用户添加到新组中，请通过选中对应的框来从可能的<guimenu>组成员</guimenu>列表中选择这些用户。要从组中去除这些用户，请停用对应的框。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>确定</guimenu>以应用您的更改。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>确定</guimenu>以关闭管理对话框并保存更改。
    </para>
    <para>
     或者，如果您想要保存所有更改且不退出<guimenu>使用及群组管理</guimenu>对话框，请单击<menuchoice> <guimenu>专家选项</guimenu> <guimenu> 立即写入更改</guimenu> </menuchoice>。
    </para>
   </step>
  </procedure>

  <para>
   要删除一个组，该组中不得包含任何组成员。要删除某个组，请从列表中选择该组并单击<guimenu>删除</guimenu>。单击<guimenu>确定</guimenu>以关闭管理对话框并保存更改。或者，如果您想要保存所有更改且不退出<guimenu>使用及群组管理</guimenu>对话框，请单击<menuchoice>
   <guimenu>专家选项</guimenu> <guimenu> 立即写入更改</guimenu>
   </menuchoice>。
  </para>
 </sect1>
 <sect1 xml:id="cha.y2.userman.authent">
  <title>更改用户身份验证方法</title><indexterm>

  <primary>用户</primary>

  <secondary>身份验证</secondary></indexterm>

  <para>
   如果计算机已连接到网络，您可以更改身份验证方法。下列选项可用：
  </para>

  <variablelist>
   <varlistentry>
    <term>NIS</term>
    <listitem>
     <para>
      在 NIS 服务器上对网络中的所有系统进行集中用户管理。有关细节，请参见<xref linkend="cha.nis"/>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>LDAP</term>
    <listitem>
     <para>
      在 LDAP 服务器上对网络中的所有系统进行集中用户管理。有关 LDAP 的细节，请参见<xref linkend="cha.security.ldap"/>。
     </para>
     <para>
      可以使用 YaST 用户模块管理 LDAP 用户。所有其他 LDAP 设置（包括 LDAP 用户的默认设置）都需要使用 YaST LDAP 客户端模块来定义，如<phrase os="sles;osuse"><xref linkend="sec.security.auth.yast.client"/></phrase>中所述。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Kerberos</term>
    <listitem>
     <para>
      如果使用 Kerberos，用户一旦注册，在剩下的会话期间整个网络都会信任该用户。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Samba</term>
    <listitem>
     <para>
      在 Linux 和 Windows 混用的网络中经常使用 SMB 身份验证。有关细节，请参见<xref linkend="cha.samba"/>。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   要更改身份验证方法，请执行以下操作：
  </para>

  <procedure>
   <step>
    <para>
     打开 YaST 中的<guimenu>用户和组管理</guimenu>对话框。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>身份验证设置</guimenu>选项卡以显示可用身份验证方法和当前设置的概述。
    </para>
   </step>
   <step>
    <para>
     要更改身份验证方法，请单击<guimenu>配置</guimenu>并选择想要修改的身份验证方法。随后您将直接转到 YaST 中的客户端配置模块。有关相应客户端配置的信息，请参见以下部分：
    </para>
    <formalpara>
     <title>NIS：</title>
     <para>
      <xref linkend="sec.nis.client"/>
     </para>
    </formalpara>
    <formalpara>
     <title>LDAP：</title>
     <para>
      <phrase os="sles;osuse"><xref linkend="sec.security.auth.yast.client"/></phrase>
     </para>
    </formalpara>

    <formalpara>
     <title>Samba：</title>
     <para>
      <xref linkend="sec.samba.client.inst.yast"/>
     </para>
    </formalpara>

   </step>
   <step>
    <para>
     接受配置后，请返回到<guimenu>用户和组管理</guimenu>概述。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>确定</guimenu>以关闭管理对话框。
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
