msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2018-08-18 22:24+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. (itstool) path: chapter/title
#: xml/smt_advanced.xml:8
msgid "Advanced Topics"
msgstr ""

#. (itstool) path: chapter/para
#: xml/smt_advanced.xml:9
msgid "This chapter covers usage scenarios beyond the regular workflow to give you more control over your SMT server."
msgstr ""

#. (itstool) path: sect1/title
#: xml/smt_advanced.xml:14
msgid "Backup of the SMT Server"
msgstr ""

#. (itstool) path: sect1/para
#: xml/smt_advanced.xml:16
msgid "Creating backups of the SMT server regularly can help restore it quickly and reliably if the server fails."
msgstr ""

#. (itstool) path: sect1/para
#: xml/smt_advanced.xml:21
msgid "There are three main parts on the SMT server to back up:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/smt_advanced.xml:27
msgid "Configuration files"
msgstr ""

#. (itstool) path: listitem/para
#: xml/smt_advanced.xml:32
msgid "Package repositories"
msgstr ""

#. (itstool) path: listitem/para
#: xml/smt_advanced.xml:37
msgid "The database"
msgstr ""

#. (itstool) path: sect2/title
#: xml/smt_advanced.xml:44
msgid "Configuration Files and Repositories"
msgstr ""

#. (itstool) path: sect2/para
#: xml/smt_advanced.xml:45
msgid "The SMT server configuration is stored in the <filename>/etc/smt.conf</filename> file and files in the <filename>/etc/smt.d</filename> directory."
msgstr ""

#. (itstool) path: sect2/para
#: xml/smt_advanced.xml:50
msgid "As SMT depends on the services provided by the Apache Web server and Maria DB database engine, you need to back up their configuration files as well. Apache configuration files are located in the <filename>/etc/apache2</filename> directory, while configuration of Maria DB is stored in <filename>/etc/my.cnf</filename>, <filename>/etc/mysqlaccess.conf</filename>, and files in the <filename>/etc/my.cnf.d</filename> directory."
msgstr ""

#. (itstool) path: sect2/para
#: xml/smt_advanced.xml:59
msgid "Package repositories are stored in the <filename>/srv/www/htdocs/repo</filename> directory. While you can normally mirror the repositories on the restored server from the update server as well, the download can take a long time. Therefore backing up the repositories can save you time and bandwidth. Moreover, backing up the repositories is necessary if you are using repository staging and want to restore the snapshots of the repositories (see <xref linkend=\"smt.staging\"/>)."
msgstr ""

#. (itstool) path: warning/title
#: xml/smt_advanced.xml:70
msgid "Size of the Repositories"
msgstr ""

#. (itstool) path: warning/para
#: xml/smt_advanced.xml:71
msgid "The software repositories can be significant in size, and you will need to transfer them from the update server."
msgstr ""

#. (itstool) path: sect2/para
#: xml/smt_advanced.xml:76
msgid "Use your preferred tool to back up the configuration and repository files."
msgstr ""

#. (itstool) path: sect2/title
#: xml/smt_advanced.xml:82
msgid "The Database"
msgstr ""

#. (itstool) path: sect2/para
#: xml/smt_advanced.xml:83
msgid "SMT uses the Maria DB database to store information about clients, registrations, machine data, which repositories are enabled for mirroring, and custom repositories. Unlike the configuration files and repositories, the database information cannot be recovered without a valid backup."
msgstr ""

#. (itstool) path: sect2/para
#: xml/smt_advanced.xml:89
msgid "To back up the SMT database, you can for example create a cron job that performs an SQL dump into a plain text file:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/smt_advanced.xml:93
#, no-wrap
msgid ""
"mysqldump -u root -p <replaceable>SMT_DB_PASSWORD</replaceable> smt &gt; /<replaceable>BACKUP_DIR</replaceable>/smt-db-backup.sql"
msgstr ""

#. (itstool) path: sect2/para
#: xml/smt_advanced.xml:94
msgid "Then add the resulting file to your regular backup jobs."
msgstr ""

#. (itstool) path: sect1/title
#: xml/smt_advanced.xml:100
msgid "Disconnected SMT Servers"
msgstr ""

#. (itstool) path: sect1/para
#: xml/smt_advanced.xml:102
msgid "In some restricted environments it is not possible for SMT servers to access the Internet because they are located on disconnected or isolated networks. In this case, you can back up the relevant data on an external storage device using special parameters with the SMT commands."
msgstr ""

#. (itstool) path: sect1/para
#: xml/smt_advanced.xml:109
msgid "You need an external SMT server that mirrors the repositories from SUSE Customer Center. Then you can transfer these repositories to the SMT servers on the isolated network using the external storage device."
msgstr ""

#. (itstool) path: figure/title
#: xml/smt_advanced.xml:116
msgid "SMT Disconnected Setup"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/smt_advanced.xml:119
#: xml/smt_advanced.xml:122
msgctxt "_"
msgid "external ref='smt_disconnected.png' md5='__failed__'"
msgstr ""

#. (itstool) path: sect1/para
#: xml/smt_advanced.xml:127
msgid "Although the initial setup of this solution requires additional configuration, the regular update synchronization with SUSE Customer Center and distribution to isolated servers is simple. The steps required during the initial setup are as follows:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/smt_advanced.xml:136
msgid "Installing and configuring the external SMT server"
msgstr ""

#. (itstool) path: listitem/para
#: xml/smt_advanced.xml:141
msgid "Installing the internal server"
msgstr ""

#. (itstool) path: listitem/para
#: xml/smt_advanced.xml:146
msgid "Editing <filename>/etc/smt.conf</filename> and setting up a cron job on the internal SMT server"
msgstr ""

#. (itstool) path: listitem/para
#: xml/smt_advanced.xml:152
msgid "Transferring the SUSE Customer Center data from the external SMT server to the internal server"
msgstr ""

#. (itstool) path: listitem/para
#: xml/smt_advanced.xml:158
msgid "Enabling and disabling repositories on the internal server"
msgstr ""

#. (itstool) path: listitem/para
#: xml/smt_advanced.xml:163
msgid "Creating an SMT database replacement file on the internal serverâ€”when performing the mirror jobs, the file can be used instead of the normal Maria DB database"
msgstr ""

#. (itstool) path: sect1/para
#: xml/smt_advanced.xml:171
msgid "Day-to-day operation requires the following actions:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/smt_advanced.xml:177
msgid "Running the <command>smt-mirror</command> job on the external server"
msgstr ""

#. (itstool) path: listitem/para
#: xml/smt_advanced.xml:183
msgid "Synchronizing the mirrored repositories from the external storage device to the internal SMT server"
msgstr ""

#. (itstool) path: sect1/para
#: xml/smt_advanced.xml:190
msgid "Below is a detailed description of the individual steps."
msgstr ""

#. (itstool) path: procedure/title
#: xml/smt_advanced.xml:195
msgid "External SMT Server Configuration for the Disconnected Setup"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:197
msgid "Install and configure SMT as described in <xref linkend=\"smt.installation\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:203
msgid "Enable the repositories for use by the internal SMT servers."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:208
msgid "Perform a standard repository mirroring from SUSE Customer Center with <command>smt-mirror</command>."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:214
msgid "Attach a removable storage device to the server and mount it."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:219
msgid "Export the required SUSE Customer Center data to a directory on the mounted storage device:"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:224
msgid "Create a directory with correct permissions for storing the data. Because the <command>smt</command> commands run as the <systemitem class=\"username\">smt</systemitem> user (whose numeric UID can differ between the servers), you need to make permissions for the directories on the external storage device less restrictive:"
msgstr ""

#. (itstool) path: step/screen
#: xml/smt_advanced.xml:231
#, no-wrap
msgid ""
"chmod o+w <replaceable>/path/to/scc/dir/on/storage/device</replaceable>"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:234
msgid "Export the SUSE Customer Center data:"
msgstr ""

#. (itstool) path: step/screen
#: xml/smt_advanced.xml:237
#: xml/smt_advanced.xml:374
#, no-wrap
msgid ""
"smt-sync --todir <replaceable>/path/to/scc/dir/on/storage/device</replaceable>"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:242
msgid "Create a directory with correct permissions:"
msgstr ""

#. (itstool) path: step/screen
#: xml/smt_advanced.xml:245
#, no-wrap
msgid ""
"mkdir <replaceable>/path/to/repository/on/storage/device</replaceable>\n"
"chmod o+w <replaceable>/path/to/repository/on/storage/device</replaceable>"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:249
#: xml/smt_advanced.xml:340
msgid "Unmount and detach the storage device."
msgstr ""

#. (itstool) path: procedure/title
#: xml/smt_advanced.xml:256
msgid "Internal SMT Server Configuration for the Disconnected Setup"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:258
msgid "Ensure you have a working SUSE Linux Enterprise Server installation source."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:263
msgid "Install SMT the same way as on the external server with the following exceptions:"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:269
msgid "Select <guimenu>Generate new SCC credentials</guimenu> in the <guimenu>SCC Credentials</guimenu> dialog."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:275
msgid "Ignore the error message when running the synchronization script in the <guimenu>Writing SMT Configuration</guimenu> phase of the wizard."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:281
msgid "Abort the <guimenu>SUSE Customer Center Configuration</guimenu> wizard and click <guimenu>OK</guimenu> in the list of installed add-on products."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:290
msgid "Re-launch the YaST Subscription Management Tool Server Configuration module (<command>yast2 smt-server</command>) and go to the<guimenu> Scheduled SMT Jobs</guimenu> tab."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:297
msgid "Delete <literal>SCC Registration</literal> and <literal>Synchronization of Updates</literal> jobs."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:302
msgid "Click <guimenu>OK</guimenu> to finish the wizard, provide the SMT user password, and acknowledge the synchronization error again."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:308
msgid "Prevent registration data upstream synchronization to SUSE Customer Center by setting"
msgstr ""

#. (itstool) path: step/screen
#: xml/smt_advanced.xml:311
#, no-wrap
msgid ""
"forwardRegistration = false"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:312
msgid "in <filename>/etc/smt.conf</filename>."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:317
#: xml/smt_advanced.xml:356
msgid "Connect an external storage device and mount it."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:322
msgid "Populate the SMT database with the previously created SUSE Customer Center data:"
msgstr ""

#. (itstool) path: step/screen
#: xml/smt_advanced.xml:325
#, no-wrap
msgid ""
"smt-sync --fromdir <replaceable>/path/to/scc/dir/on/mobile/disk</replaceable>"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:328
msgid "Enable mirroring of the desired repositories using the <command>smt-repos -e</command> command."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:334
msgid "Create a database replacement file on the external storage device:"
msgstr ""

#. (itstool) path: step/screen
#: xml/smt_advanced.xml:337
#, no-wrap
msgid ""
"smt-sync --createdbreplacementfile <replaceable>/path/to/dbrepl/file/on/mobile/disk</replaceable>"
msgstr ""

#. (itstool) path: sect1/para
#: xml/smt_advanced.xml:346
msgid "Now the configuration of both the external and internal SMT servers is complete. However, the update repository is still empty. After you run the following daily operation routines for the first time, the repository will be synchronized, and the internal SMT server will be ready to serve clients."
msgstr ""

#. (itstool) path: procedure/title
#: xml/smt_advanced.xml:354
msgid "Daily External SMT Server Operation"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:361
msgid "Perform a mirror to a directory on the storage device based on the file stored on it:"
msgstr ""

#. (itstool) path: step/screen
#: xml/smt_advanced.xml:365
#, no-wrap
msgid ""
"smt-mirror --dbreplfile <replaceable>/path/to/dbrepl/file/on/storage/device</replaceable> \\\n"
" --fromlocalsmt --directory <replaceable>/path/to/repository/on/storage/device</replaceable> \\\n"
" -L /var/log/smt/smt-mirror-example.log"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:370
msgid "Update the database on the storage device with the product and subscription info from SUSE Customer Center:"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:377
msgid "Optionally, scan the storage device for viruses and other unwanted content."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:382
#: xml/smt_advanced.xml:415
msgid "Unmount and disconnect the storage device."
msgstr ""

#. (itstool) path: procedure/title
#: xml/smt_advanced.xml:389
msgid "Daily Internal SMT Server Operation"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:391
msgid "Connect a storage device and mount it."
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:396
msgid "Update the SUSE Customer Center data on the server:"
msgstr ""

#. (itstool) path: step/screen
#: xml/smt_advanced.xml:399
#, no-wrap
msgid ""
"smt-sync --fromdir <replaceable>/path/to/scc/dir/on/storage/device</replaceable>"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:402
msgid "Mirror from the storage device to the server:"
msgstr ""

#. (itstool) path: step/screen
#: xml/smt_advanced.xml:405
#, no-wrap
msgid ""
"smt-mirror --fromdir <replaceable>/path/to/repository/on/storage/device</replaceable>"
msgstr ""

#. (itstool) path: step/para
#: xml/smt_advanced.xml:408
msgid "Update the SUSE Customer Center data on the storage device with local changes in the mirror status since the last synchronization:"
msgstr ""

#. (itstool) path: step/screen
#: xml/smt_advanced.xml:412
#, no-wrap
msgid ""
"smt-sync --createdbreplacementfile <replaceable>/path/to/dbrepl/file/on/storage/device</replaceable>"
msgstr ""

