<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1
[
  <!ENTITY % entities SYSTEM "generic-entities.ent">
    %entities;
]>

<sect1 version="5.0" xml:id="CreateProfile-ConfigurationManagement"
  xmlns="http://docbook.org/ns/docbook"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Configuration Management</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker></dm:bugtracker>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 
    <para>
     &ay; allows delegating part of the configuration to a configuration
     management tool like Salt:
    </para>
    <itemizedlist>
     <listitem>
      <para>
       &ay; takes care of system installation (partitioning, network setup,
       etc.)
      </para>
     </listitem>
     <listitem>
      <para>
       System configuration can be delegated to a configuration management
       tool
      </para>
     </listitem>
    </itemizedlist>
    <para>
     This module configures the connection to a configuration management tool
     and uploads SSH keys which are needed for establishing connections. At the
     end of the installation, the configuration management Master will be
     contacted to retrieve state files and other resources.
    </para>

    <example xml:id="configuration-management">
     <title>Configuring Salt Manager</title>
<screen>&lt;configuration_management&gt;
    &lt;type&gt;salt&lt;/type&gt;
    &lt;master&gt;linux-addc&lt;/master&gt;
    &lt;auth_attempts config:type="integer"&gt;5&lt;/auth_attempts&gt;
    &lt;auth_time_out config:type="integer"&gt;10&lt;/auth_time_out&gt;
    &lt;keys_url&gt;http://keys.example.de/keys&lt;/keys_url&gt;
&lt;/configuration_management&gt;</screen>
    </example>

    <informaltable>
     <tgroup cols="3">
      <thead>
       <row>
        <entry>
         <para>
          Attributes
         </para>
        </entry>
        <entry>
         <para>
          Value
         </para>
        </entry>
        <entry>
         <para>
          Description
         </para>
        </entry>
       </row>
      </thead>
      <tbody>
       <row>
        <entry>
         <para>
          <literal>type</literal>
         </para>
        </entry>
        <entry>
         <para>
          Configuration management type
         </para>
        </entry>
        <entry>
         <para>
          Configuration management name. Currently only <literal>salt</literal>
          is supported.
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>master</literal>
         </para>
        </entry>
        <entry>
         <para>
          Host name
         </para>
        </entry>
        <entry>
         <para>
          Host name or IP address of the configuration management master.
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>auth_attempts</literal>
         </para>
        </entry>
        <entry>
         <para>
          Integer
         </para>
        </entry>
        <entry>
         <para>
          At the end of installation, &yast; connects to the configuration
          management master with maximum <literal>auth_attempts</literal>
          attempts. The default is three attempts.
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>auth_time_out</literal>
         </para>
        </entry>
        <entry>
         <para>
          Integer
         </para>
        </entry>
        <entry>
         <para>
          Time between the configuration management master connection attempts.
          The default is 15 seconds.
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>keys_url</literal>
         </para>
        </entry>
        <entry>
         <para>
          URL of used key
         </para>
        </entry>
        <entry>
         <para>
          Path to an HTTP server, hard disk, USB drive or similar with
          the files <literal>default.key</literal> and
          <literal>default.pub</literal>. This key has to be known to
          the configuration management master.
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>enable_services</literal>
         </para>
        </entry>
        <entry>
         <para>
          True/false
         </para>
        </entry>
        <entry>
         <para>
          Enables the configuration management services on the client
          side. Default is <literal>true</literal>.
         </para>
        </entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
  </sect1>