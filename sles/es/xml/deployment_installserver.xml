<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_installserver.xml" version="5.0" role="General" xml:id="cha.deployment.instserver">
 <title>Configuración del servidor que almacena los orígenes de la instalación</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>sí</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> se puede instalar de varias formas. Además de la instalación habitual a partir de un medio, descrita en el <xref linkend="cha.inst"/>, es posible seleccionar diversos métodos basados en red, o incluso utilizar un método sin intervención física alguna para instalar <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>.
 </para>
 <para>
  Cada método se presenta mediante dos breves listas de verificación: una que muestra los requisitos previos necesarios para el método y otra que describe el procedimiento básico. A continuación se incluyen más detalles de las técnicas utilizadas en cada situación de instalación.
 </para>
 <note>
  <title>Terminología</title>
  <para>
   En las próximas secciones, el sistema que almacenará la nueva instalación de <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> se denomina <emphasis>sistema de destino</emphasis> o <emphasis>destino de la instalación</emphasis>. El término <emphasis>repositorio</emphasis> (anteriormente denominado <quote>origen de instalación</quote> se utiliza para todos los orígenes de datos de instalación. Esto incluye medios físicos, tales como CD y DVD, y los servidores de red que distribuyan los datos de instalación en la red.
  </para>
 </note>
 <para>
  En función del sistema operativo que se ejecute en el equipo que se utilizará como origen de la instalación para <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, existen varias opciones para configurar el servidor. La manera más sencilla de configurar un servidor de instalación es utilizar YaST en SUSE Linux Enterprise Server 11/openSUSE; 11.1 o superior.
 </para>
 <tip>
  <title>Instalación del sistema operativo</title>
  <para>
   Es posible incluso utilizar un equipo con Microsoft Windows como servidor de la instalación para la distribución de Linux. Consulte el <xref linkend="sec.deployment.instserver.smb"/> para obtener más información.
  </para>
 </tip>
 <sect1 xml:id="sec.deployment.instserver.sles9">
  <title>Configuración de un servidor de instalación mediante YaST</title>

  <para>
   YaST ofrece una herramienta gráfica para crear repositorios en red. Admite servidores de instalación en red HTTP, FTP y NFS.
  </para>

  <procedure xml:id="proc.deployment.instserver.sles9">
   <step>
    <para>
     Inicie sesión como usuario <systemitem class="username">Root</systemitem> en la máquina que actuará como servidor de la instalación.
    </para>
   </step>
   <step>
    <para>
     Inicie <menuchoice><guimenu>YaST</guimenu><guimenu>Otros</guimenu><guimenu>Servidor de instalación</guimenu></menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Seleccione el tipo de repositorio (HTTP, FTP o NFS). El servicio seleccionado se ejecuta automáticamente cada vez que se inicia el sistema. Si ya se encuentra en funcionamiento en el sistema un servicio del tipo seleccionado y desea configurarlo manualmente para el servidor, desactive la configuración automática del servicio del servidor mediante <guimenu>No configurar ningún servicio de red</guimenu>. En ambos casos, defina el directorio en el que los datos de la instalación estarán disponibles en el servidor.
    </para>
   </step>
   <step>
    <para>
     Configure el tipo de repositorio requerido. Este paso está relacionado con la configuración automática de servicios de servidor. Se omite cuando la configuración automática está desactivada.
    </para>
    <para>

     Defina un alias para el directorio raíz del servidor FTP o HTTP en el que se encontrarán los datos de la instalación. El repositorio se ubicará más adelante en <literal>ftp://<replaceable>IP_del_servidor</replaceable>/<replaceable>alias</replaceable>/<replaceable>nombre</replaceable></literal> (FTP) o en <literal>http://<replaceable>IP_del_servidor</replaceable>/<replaceable>alias</replaceable>/<replaceable>nombre</replaceable></literal> (HTTP). <replaceable>nombre</replaceable> representa el nombre del repositorio, que se define en el siguiente paso. Si ha seleccionado NFS en el paso anterior, defina los comodines y las opciones de exportación. Podrá acceder al servidor NFS en <literal>nfs://<replaceable>IP_del_servidor</replaceable>/<replaceable>nombre</replaceable></literal>. Se pueden encontrar más detalles sobre NFS y las exportaciones en el <xref linkend="cha.nfs"/>.
    </para>
    <tip>
     <title>configuración del cortafuegos</title>
     <para>
      Asegúrese de que la configuración del cortafuegos del sistema del servidor permita el tráfico en los puertos HTTP, NFS y FTP. Si no es así, active <guimenu>Puerto abierto en el cortafuegos</guimenu> o marque <guimenu>Detalles del cortafuegos</guimenu> antes.
     </para>
    </tip>
   </step>
   <step>
    <para>
     Configure el repositorio. Antes de que los medios de instalación se copien en el destino, defina el nombre del repositorio (lo ideal sería una abreviatura fácil de recordar del producto y la versión). YaST permite ofrecer imágenes ISO de los medios, en lugar de copias de los DVD de instalación. Si desea hacerlo así, active la casilla de verificación correspondiente y especifique la vía del directorio en el que se ubican localmente los archivos ISO. En función del producto que se vaya a distribuir por medio de este servidor de instalación, puede que sea necesario añadir medios adicionales, como DVD de paquetes de servicio, como repositorios extra. Para anunciar en la red el servidor de instalación mediante OpenSLP, active la opción correspondiente.
    </para>
    <tip>
     <title>anuncio del repositorio</title>
     <para>
      Considere la opción de anunciar el repositorio mediante OpenSLP si la red lo admite. Esto le evita el tener que introducir la vía de instalación en red en cada máquina de destino. Los sistemas de destino se arrancan con la opción de arranque en SLP y encontrarán el repositorio en red sin necesidad de configuración adicional. Para obtener más detalles sobre esta opción, consulte la <xref linkend="sec.deployment.remoteinst.bootinst"/>.
     </para>
    </tip>
   </step>
   <step>
    <para>
     Configuración de repositorios adicionales. YaST sigue una convención de denominación específica para configurar los CD complementarios o los repositorios de CD de los paquetes de servicio. La configuración solo se acepta si el nombre de repositorio de los CD complementarios va precedido por el nombre de repositorio de los medios de instalación; en otras palabras, si selecciona <literal>SLES12SP1</literal> como nombre de repositorio para el DVD1, deberá seleccionar el nombre de repositorio <literal>SLES12SP1complementario</literal> para el DVD2. Lo mismo se aplica a los CD de SDK.
    </para>
   </step>
   <step>
    <para>
     Cargue los datos de la instalación. El paso que más tiempo ocupa durante la configuración de un servidor de instalación es la copia de los medios de instalación en sí. Introduzca los medios en el orden que YaST solicite y espere a que termine el proceso de copiado. Cuando los orígenes se hayan copiado completamente, vuelva al resumen de los repositorios existentes y cierre la configuración seleccionando <guimenu>Finalizar.</guimenu>
    </para>
    <para>
     El servidor de instalación quedará completamente configurado y listo para usarse. Se ejecutará automáticamente cada vez que se inicie el sistema. No es necesario intervenir de ninguna otra manera. Solo es necesario configurar e iniciar correctamente este servicio a mano si se desactiva la configuración automática del servicio de red seleccionado con YaST en el paso inicial.
    </para>
   </step>
  </procedure>

  <para>
   Para desactivar un repositorio, seleccione el que desea eliminar y haga clic en <guimenu>Suprimir.</guimenu> Los datos de instalación se eliminan del sistema. Para desactivar el servicio de red, utilice el módulo de YaST correspondiente.
  </para>

  <para>
   Si el servidor de instalación debe ofrecer datos de instalación para más de un producto o versión, inicie el módulo del servidor de instalación de YaST y seleccione <guimenu>Añadir</guimenu> en la descripción general de los repositorios existentes para configurar el nuevo repositorio.
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.instserver.nfs">
  <title>Configuración manual de un repositorio NFS</title>

  

  <para>
   La configuración de un origen de instalación NFS se lleva a cabo en dos pasos principales. En primer lugar, cree la estructura de directorios en la que se almacenarán los datos de la instalación y copie los medios de instalación en dicha estructura. A continuación, exporte a la red el directorio que contiene los datos de la instalación.
  </para>

  <procedure xml:id="proc.deployment.instserver.nfs.cdir">
   <para>
    Para crear un directorio en el que se almacenen los datos de la instalación, siga estos pasos:
   </para>
   <step>
    <para>
     Entre a la sesión como usuario <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Cree un directorio en el que más adelante se almacenarán los datos de la instalación y cambie a dicho directorio. Por ejemplo:
    </para>
<screen>mkdir install/<replaceable>product</replaceable>/<replaceable>productversion</replaceable>
cd install/<replaceable>product</replaceable>/<replaceable>productversion</replaceable></screen>
    <para>
     Sustituya <replaceable>product</replaceable> por una abreviación del nombre del producto y <replaceable>product_version</replaceable> por una cadena que contenga el nombre del producto y la versión.
    </para>
   </step>
   <step>
    <para>
     Ejecute los siguientes comandos para cada DVD contenido en el kit de medios:
    </para>
    <substeps performance="required">
     <step>
      <para>
       Copie el contenido completo del DVD de instalación en el directorio del servidor de instalación:
      </para>
<screen>cp -a /media/<replaceable>path_to_your_DVD_drive .</replaceable></screen>
      <para>
       Sustituya <replaceable>path_to_your_DVD_drive</replaceable> por la vía real por la que se accede a la unidad de DVD. En función del tipo de unidad utilizado en el sistema, la vía puede ser <filename>cdrom</filename>, <filename>cdrecorder</filename>, <filename>dvd</filename> o <filename>dvdrecorder</filename>.
      </para>
     </step>
     <step>
      <para>
       Cambie el nombre del directorio al número del DVD:
      </para>
<screen>mv <replaceable>path_to_your_DVD_drive</replaceable> DVD<replaceable>x</replaceable></screen>
      <para>
       Sustituya <replaceable>x</replaceable> por el número real del DVD.
      </para>
     </step>
    </substeps>
   </step>
  </procedure>

  <procedure xml:id="proc.deployment.instserver.nfs.export">
   <para>
    En <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, puede exportar el repositorio con NFS mediante YaST. Proceda de la siguiente manera:
   </para>
   <step>
    <para>
     Entre a la sesión como usuario <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Inicie <menuchoice><guimenu>YaST</guimenu><guimenu>Servicios de red</guimenu><guimenu>Servidor NFS</guimenu></menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Seleccione <guimenu>Iniciar</guimenu> y <guimenu>Puerto abierto en el cortafuegos</guimenu> y haga clic en <guimenu>Siguiente.</guimenu>
    </para>
   </step>
   <step>
    <para>
     Seleccione <guimenu>Añadir directorio</guimenu> y busque el directorio que contiene los orígenes de instalación. En este caso, <filename><replaceable>productversion</replaceable></filename>.
    </para>
   </step>
   <step>
    <para>
     Seleccione <guimenu>Añadir host</guimenu> e introduzca los nombres de host de los equipos a los que se exportarán los datos de la instalación. En lugar de especificar aquí los nombres de host, es posible usar comodines, rangos de direcciones de red o, simplemente, el nombre de dominio de la red. Introduzca las opciones de exportación apropiadas o mantenga las que se ofrecen por defecto, las cuales funcionan correctamente en la mayoría de las configuraciones. Para obtener más información sobre la sintaxis utilizada en la exportación de recursos compartidos NFS, lea la página Man de <systemitem>exports</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Haga clic en <guimenu>Finalizar</guimenu>. El servidor NFS en el que se almacena el repositorio de <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> se iniciará automáticamente y se integrará en el proceso de arranque.
    </para>
   </step>
  </procedure>

  <procedure xml:id="proc.deployment.instserver.nfs.exportman">
   <para>
    Si prefiere exportar el repositorio mediante NFS de manera manual, en lugar de utilizar el módulo Servidor NFS de YaST, siga estos pasos:
   </para>
   <step>
    <para>
     Entre a la sesión como usuario <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Abra el archivo <filename>/etc/exports</filename> e introduzca la siguiente línea:
    </para>
<screen>/<replaceable>productversion</replaceable> *(ro,root_squash,sync)</screen>
    <para>
     De esta forma se exporta el directorio <filename>/<replaceable>productversion</replaceable></filename> a cualquier host que forme parte de la red o a cualquier host que pueda conectar a este servidor. Para limitar el acceso al servidor, utilice máscaras de red o nombres de dominio en lugar del comodín general <literal>*</literal>. Consulte la página Man de <systemitem>export</systemitem> para obtener más detalles. Guarde y salga del archivo de configuración.
    </para>
   </step>
   <step>
    <para>
     Para añadir el servicio NFS a la lista de servidores que se inicia durante el arranque del sistema, ejecute los siguientes comandos:
    </para>
<screen>systemctl enable nfsserver</screen>
   </step>
   <step>
    <para>
     Inicie el servidor NFS mediante el comando <command>systemctl start nfsserver</command>. Si más adelante necesita cambiar la configuración del servidor NFS, modifique el archivo de configuración y reinicie el daemon NFS mediante el comando <command>systemctl restart nfsserver</command>.
    </para>
   </step>
  </procedure>

  <procedure xml:id="proc.deployment.instserver.nfs.slpann">
   <para>
    El anuncio del servidor NFS mediante OpenSLP hace que todos los clientes de la red conozcan su dirección.
   </para>
   <step>
    <para>
     Entre a la sesión como usuario <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Cree el archivo de configuración <filename>/etc/slp.reg.d/install.suse.nfs.reg</filename> con las líneas siguientes:
    </para>
<screen><?dbsuse-fo font-size="7pt"?>

# Register the NFS Installation Server
service:install.suse:nfs://$HOSTNAME/<replaceable>path_to_repository</replaceable>/DVD1,en,65535 
description=NFS Repository</screen>
    <para>
     Sustituya <replaceable>path_to_repository</replaceable> por la vía real al repositorio del servidor.
    </para>
   </step>
   <step>
    <para>
     Inicie el daemon de OpenSLP mediante el comando <command>systemctl start slpd</command>.
    </para>
   </step>
  </procedure>

  <para os="sles">
   Para obtener más información sobre OpenSLP, consulte el paquete de documentación que se encuentra en <filename>/usr/share/doc/packages/openslp/</filename> y también el <xref linkend="cha.slp"/>. Para obtener más información sobre NFS, consulte el <xref linkend="cha.nfs"/>.
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.instserver.ftp">
  <title>Configuración manual de un repositorio FTP</title>

  <para>
   La creación de un repositorio FTP es muy similar a la de repositorios NFS. Los repositorios FTP también se pueden anunciar en la red mediante OpenSLP.
  </para>

  <procedure xml:id="proc.deployment.instserver.ftp">
   <step>
    <para>
     Cree un directorio en el que se almacenarán los orígenes de la instalación como se describe en la <xref linkend="sec.deployment.instserver.nfs"/>.
    </para>
   </step>
   <step>
    <para>
     Configure el servidor FTP para que distribuya los contenidos del directorio de instalación:
    </para>
    <substeps performance="required">
     <step>
      <para>
       Entre como usuario <systemitem class="username">Root</systemitem> e instale el paquete <systemitem>vsftpd</systemitem> con el gestor de software de YaST.
      </para>
     </step>
     <step>
      <para>
       Entre en el directorio raíz del servidor FTP:
      </para>
<screen>cd <option>/srv/ftp</option></screen>
     </step>
     <step>
      <para>
       Cree un subdirectorio en el que se almacenarán los orígenes de la instalación en el directorio raíz FTP:
      </para>
<screen>mkdir <replaceable>repository</replaceable></screen>
      <para>
       Sustituya <replaceable>repository</replaceable> por el nombre del producto.
      </para>
     </step>
     <step>
      <para>
       Monte el contenido del repositorio de instalación en el entorno chroot del servidor FTP:
      </para>
<screen>mount --bind <replaceable>path_to_repository</replaceable> /srv/ftp/<replaceable>repository</replaceable></screen>
      <para>
       Sustituya <replaceable>path_to_repository</replaceable> y <replaceable>repository</replaceable> por los valores correspondientes a su configuración. Si necesita que sea permanente, añádalo a <filename>/etc/fstab</filename>.
      </para>
     </step>
     <step>
      <para>
       Inicie vsftpd con <command>vsftpd</command>.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     Anuncie el repositorio mediante OpenSLP si la configuración de la red lo admite:
    </para>
    <substeps performance="required">
     <step>
      <para>
       Cree el archivo de configuración <filename>/etc/slp.reg.d/install.suse.ftp.reg</filename> con las líneas siguientes:
      </para>
<screen><?dbsuse-fo font-size="7pt"?>

# Register the FTP Installation Server
service:install.suse:ftp://$HOSTNAME/<replaceable>repository</replaceable>/DVD1,en,65535 
description=FTP Repository</screen>
      <para>
       Sustituya <replaceable>repository</replaceable> por el nombre real del repositorio en el servidor. La línea <literal>service:</literal> se debe introducir como una sola línea continua.
      </para>
     </step>
     <step>
      <para>
       Inicie el daemon de OpenSLP mediante el comando <command>systemctl start slpd</command>.
      </para>
     </step>
    </substeps>
   </step>
  </procedure>

  <tip os="sles">
   <title>Configuración de un servidor FTP con YaST</title>
   <para>
    Si prefiere utilizar YaST en lugar de configurar manualmente el servidor de instalación FTP, consulte el <xref linkend="cha.ftp"/> para obtener más información acerca del uso del módulo del servidor FTP de YaST.
   </para>
  </tip>
 </sect1>
 <sect1 xml:id="sec.deployment.instserver.http">
  <title>Configuración manual de un repositorio HTTP</title>

  <para>
   La creación de un repositorio HTTP es muy similar a la de repositorios NFS. Los repositorios HTTP también se pueden anunciar en la red mediante OpenSLP.
  </para>

  <procedure xml:id="proc.deployment.instserver.http">
   <step>
    <para>
     Cree un directorio en el que se almacenarán los orígenes de la instalación como se describe en la <xref linkend="sec.deployment.instserver.nfs"/>.
    </para>
   </step>
   <step>
    <para>
     Configure el servidor HTTP para que distribuya los contenidos del directorio de instalación:
    </para>
    <substeps performance="required">
     <step>
      <para>
       <phrase os="sles">Instale el servidor Web Apache como se describe en la <xref linkend="sec.apache2.quickstart.installation"/></phrase>.
      </para>
     </step>
     <step>
      <para>
       Entre en el directorio raíz del servidor HTTP (<filename>/srv/www/htdocs</filename>) y cree un subdirectorio en el que se almacenarán los repositorios:
      </para>
<screen>mkdir <replaceable>repository</replaceable></screen>
      <para>
       Sustituya <replaceable>repository</replaceable> por el nombre del producto.
      </para>
     </step>
     <step>
      <para>
       Cree un enlace simbólico entre la ubicación de los orígenes de la instalación y el directorio raíz del servidor Web (<filename>/srv/www/htdocs</filename>):
      </para>
<screen>ln -s <replaceable>/path_to_repository </replaceable>/srv/www/htdocs/<replaceable>repository</replaceable></screen>
     </step>
     <step>
      <para>
       Modifique el archivo de configuración del servidor HTTP (<filename>/etc/apache2/default-server.conf</filename>) para que siga enlaces simbólicos. Sustituya la siguiente línea:
      </para>
<screen>Options None</screen>
      <para>
       con
      </para>
<screen>Options Indexes FollowSymLinks</screen>
     </step>
     <step>
      <para>
       Vuelva a cargar la configuración del servidor HTTP mediante el comando <command>systemctl reload apache2</command>.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     Anuncie el repositorio mediante OpenSLP si la configuración de la red lo admite:
    </para>
    <substeps performance="required">
     <step>
      <para>
       Cree el archivo de configuración <filename>/etc/slp.reg.d/install.suse.http.reg</filename> con las líneas siguientes:
      </para>
<screen><?dbsuse-fo font-size="6.5pt"?>

# Register the HTTP Installation Server
service:install.suse:http://$HOSTNAME/<replaceable>repository</replaceable>/DVD1/,en,65535 
description=HTTP Repository</screen>
      <para>
       Sustituya <replaceable>repository</replaceable> por la vía real del repositorio del servidor. La línea <literal>service:</literal> se debe introducir como una sola línea continua.
      </para>
     </step>
     <step>
      <para>
       Inicie el daemon de OpenSLP mediante el comando <command>systemctl start slpd</command>.
      </para>
     </step>
    </substeps>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.deployment.instserver.smb">
  <title>Gestión de un repositorio SMB</title>

  <para>
   Mediante SMB es posible importar los orígenes de la instalación desde un servidor Microsoft Windows e iniciar la distribución de Linux incluso sin que haya ningún sistema Linux.
  </para>

  <procedure xml:id="proc.deployment.instserver.smb.export">
   <para>
    Para configurar un recurso compartido de Windows en el que se almacenará el repositorio de <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, siga estos pasos:
   </para>
   <step>
    <para>
     Inicie sesión en la máquina que tenga instalado Windows.
    </para>
   </step>
   <step>
    <para>
     Cree un directorio nuevo en el que se almacenará el árbol de la instalación completo y asígnele un nombre, por ejemplo, <filename>INSTALL</filename>.
    </para>
   </step>
   <step>
    <para>
     Exporte este recurso compartido mediante el procedimiento descrito en la documentación de Windows.
    </para>
   </step>
   <step>
    <para>
     Introduzca este recurso compartido y cree un subdirectorio llamado <filename><replaceable>producto</replaceable></filename>. Sustituya <replaceable>producto</replaceable> por el nombre real del producto.
    </para>
   </step>
   <step>
    <para>
     Acceda al directorio <filename>INSTALL/<replaceable>producto</replaceable></filename> y copie cada DVD en una carpeta independiente, como <literal>DVD1</literal> y <literal>DVD2</literal>.
    </para>
   </step>
  </procedure>

  <para>
   Para utilizar un recurso compartido SMB montado como repositorio, siga estos pasos:
  </para>

  <procedure xml:id="proc.deployment.instserver.smb.use">
   <step>
    <para>
     Arranque el destino de la instalación.
    </para>
   </step>
   <step>
    <para>
     Seleccione <guimenu>Instalación</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Pulse <keycap>F4</keycap> para ver una selección del repositorio.
    </para>
   </step>
   <step>
    <para>
     Seleccione SMB e introduzca el nombre o la dirección IP del equipo Windows, el nombre del recurso compartido (en este ejemplo, <filename>INSTALL/<replaceable>producto</replaceable>/DVD1</filename>), el nombre de usuario y la contraseña. La sintaxis será similar a esta:
    </para>
<screen>smb://workdomain;user:password@server/INSTALL/DVD1</screen>
    <para>
     Si pulsa <keycap function="enter"/>, YaST se inicia y podrá realizar la instalación.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.deployment.remoteinst.iso">
  <title>Uso de imágenes ISO de los medios de instalación en el servidor</title>

  <para>
   En lugar de copiar los medios físicos en el directorio del servidor manualmente, puede montar las imágenes ISO de los medios en el servidor de instalación para usarlas como repositorios. Para configurar un servidor HTTP, NFS o FTP que utilice imágenes ISO en lugar de copias de los medios, siga estos pasos:
  </para>

  <procedure>
   <step>
    <para>
     Descargue las imágenes ISO y guárdelas en el equipo que vaya a utilizar como servidor de instalación.
    </para>
   </step>
   <step>
    <para>
     Entre a la sesión como usuario <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Seleccione y cree una ubicación adecuada para los datos de instalación, como se describe en la <xref linkend="sec.deployment.instserver.nfs"/>, la <xref linkend="sec.deployment.instserver.ftp"/> o la <xref linkend="sec.deployment.instserver.http"/>.
    </para>
   </step>
   <step>
    <para>
     Cree subdirectorios para cada DVD.
    </para>
   </step>
   <step>
    <para>
     Para montar y desempaquetar cada imagen ISO a la ubicación final, emita el siguiente comando:
    </para>
<screen>mount -o loop <replaceable>path_to_iso</replaceable><replaceable>path_to_repository</replaceable>/<replaceable>product</replaceable>/<replaceable>mediumx</replaceable></screen>
    <para>
     Sustituya <replaceable>path_to_iso</replaceable> por la vía a la copia local de la imagen ISO, <replaceable>path_to_repository</replaceable> por el directorio del repositorio, <replaceable>product</replaceable> por el nombre del producto y <replaceable>mediumx</replaceable> por el tipo (CD o DVD) y el número de los medios que esté utilizando.
    </para>
   </step>
   <step>
    <para>
     Repita el paso anterior para montar todas las imágenes ISO necesarias para el producto.
    </para>
   </step>
   <step>
    <para>
     Inicie el servidor de instalación de la forma habitual, como se describe en la <xref linkend="sec.deployment.instserver.nfs"/>, la <xref linkend="sec.deployment.instserver.ftp"/>, o la <xref linkend="sec.deployment.instserver.http"/>.
    </para>
   </step>
  </procedure>

  <para>
   Para montar automáticamente las imágenes ISO en el momento del arranque, añada las entradas correspondientes al archivo <filename>/etc/fstab</filename>. Una entrada relativa al ejemplo anterior podría tener el aspecto siguiente: 
  </para>

<screen><replaceable>path_to_iso</replaceable> <replaceable>path_to_repository</replaceable>/<replaceable>product</replaceable><replaceable>medium</replaceable> auto loop</screen>
 </sect1>
</chapter>
