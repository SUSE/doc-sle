<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="sle_update_backporting.xml" version="5.0" xml:id="cha.update.backporting">
 <title>向后移植源代码</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
  <abstract>
   <para>
    SUSE 广泛使用了向后移植，例如当前的软件修复和功能迁移到过去发布的 SUSE Linux Enterprise 包中。本章中的信息有助于您了解通过比较产品的版本号来判断 SUSE Linux Enterprise 软件包的功能和安全为何不可靠。您将了解 SUSE 如何在确保系统软件安全且最新的同时，保持在 SUSE Linux Enterprise 产品上运行的应用程序软件的兼容性。您还将了解如何检查在 SUSE Linux Enterprise 系统软件中实际解决了哪些公开的安全问题，以及您的软件实际上有多新。

   </para>
  </abstract>
 </info>
 <sect1 xml:id="sec.update.backports.reasons-for">
  <title>向后移植的原因</title>

  <para>
   上游开发者主要关心所开发软件的进度。他们往往会在修复 bug 的同时引入尚未经过广泛测试并可能会造成新 bug 的新功能。
  </para>

  <para>
   对于分发包开发者而言，必须区分两种情况：
  </para>

  <itemizedlist>
   <listitem>
    <para>
     在对功能造成有限中断的情况下执行的 bug 修复；以及
    </para>
   </listitem>
   <listitem>
    <para>
     可能会中断现有功能的更改。
    </para>
   </listitem>
  </itemizedlist>

  <para>
   通常情况下，当某个包已属于所发布的发行套件时，发行套件开发者不会遵照所有的上游更改。通常，他们会继续使用最初发布的上游版本，并根据上游更改来创建增补程序以修复 bug。这种做法称为<emphasis>向后移植</emphasis>。
  </para>

  <para>
   通常，分发包开发者只会在两种情况下引入软件的更新版本：
  </para>

  <itemizedlist>
   <listitem>
    <para>
     当他们的包与上游版本之间的差异过大，以致向后移植的做法不再可行，或者
    </para>
   </listitem>
   <listitem>
    <para>
     软件（例如防恶意软件的软件）由于固有的性质而变得不合时宜。
    </para>
   </listitem>
  </itemizedlist>

  <para>
   由于我们致力于在几个企业软件考虑因素之间实现合理的平衡，SUSE 广泛使用了向后移植。其中，最重要的考虑因素包括：
  </para>

  <itemizedlist>
   <listitem>
    <para>
     提供稳定的接口 (API)，软件供应商在构建可用于 SUSE 企业产品的产品时可以依赖这些接口。
    </para>
   </listitem>
   <listitem>
    <para>
     确保 SUSE 企业产品版本中使用的包具有最好的质量，这些包本身以及在成为整个企业产品的一部分后已经过充分的测试。
    </para>
   </listitem>
   <listitem>
    <para>
     由其他供应商对 SUSE 的企业产品维持各种认证，就像对 Oracle 或 SAP 产品的认证一样。
    </para>
   </listitem>
   <listitem>
    <para>
     使 SUSE 开发者能够专注于竭尽所能开发出产品的下一个优质版本，而不是狭隘地将注意力分散于如何推出更多的版本。
    </para>
   </listitem>
   <listitem>
    <para>
     清楚明了特定企业版本中包含的功能和特性，以便我们的支持可以提供有关该版本的准确及时的信息。
    </para>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 xml:id="sec.update.backports.reasons-against">
  <title>反对向后移植的原因</title>

  <para>
   不要将新的上游包版本引入我们的企业产品，这是常见的策略规则，但不是硬性规则。对于有限种类的包，尤其是防病毒软件，我们考虑更多的是安全方面的因素，而不是质量保证方面优先考虑的保守性因素。对于这个种类的包，偶尔会将更新的版本引入企业产品系列的发布版本。
  </para>

  <para>
   有时，对于其他类型的包，我们也会选择引入新版本，而不是向后移植。当生成向后移植在经济效益上不可行，或者由于极其相关的技术原因而需要引入更新版本时，我们会采取这种做法。
  </para>
 </sect1>
 <sect1 xml:id="sec.update.backports.implications">
  <title>使用向后移植时解释版本号所产生的效果</title>

  <para>
   由于采用向后移植的做法，用户不能简单地通过比较版本号来确定 SUSE 包是否包含针对特定问题的修复，或者其中是否添加了特定的功能。在使用向后移植时，SUSE 包版本号的上游部分只是表示 SUSE 包基于的上游版本。它可能包含相应上游版本中没有但已向后移植到 SUSE 包中的 bug 修复和功能。
  </para>

  <para>
   <remark>froh: there will be some new "CVE fixed in SUSE Linux Enterprise"
    lookup tool, need to work with sarsene@ to figure the details or a
    link.</remark>在涉及到向后移植时，版本号的这种有限价值可能会造成在特定情况下产生问题，也就是在使用安全扫描工具的时候。某些安全漏洞扫描工具（或者在此类工具中进行特定的测试）只能基于版本号运行。在涉及向后移植时，这些工具/测试很容易生成<quote>误报</quote>（宣称发现软件存在漏洞，而实际上并没有漏洞）。在评估安全扫描工具生成的报告时，用户始终应该调查其中的条目是基于版本号，还是基于对是否存在实际漏洞而展开的实际测试。
  </para>
 </sect1>
 <sect1 xml:id="sec.update.backports.checks">
  <title>如何检查修复了哪些 Bug 以及哪些功能已向后移植且可用</title>

  <para>
   有关向后移植的 bug 修复和功能等的信息储存在几个位置：
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     包的更改日志：
    </para>
<screen>rpm -q --changelog name-of-installed-package
rpm -qp --changelog packagefile.rpm</screen>
    <para>
     其输出简要记录了包的更改历史记录。
    </para>
   </listitem>
   <listitem>
    <para>
     包的更改日志可能包含类似于引用 SUSE Bugzilla 跟踪系统中的 <literal>bsc#1234</literal> (<quote><emphasis>B</emphasis>ugzilla <emphasis>S</emphasis>use.<emphasis>C</emphasis>om</quote>) 之类的项，或者包含指向其他 Bug 跟踪系统的链接。出于保密政策的缘故，您不一定能够访问所有此类信息。
    </para>
   </listitem>
   <listitem>
    <para>
     包中可能包含 <filename>/usr/share/doc/<replaceable>包名称</replaceable>/README.SUSE</filename> 文件，该文件包含特定于 SUSE 包的一般概要信息。
    </para>
   </listitem>
   <listitem>
    <para>
     RPM 源包包含构建普通二进制 RPM 期间应用的增补程序，这些增补程序以独立文件的形式存在，如果您熟知如何阅读源代码，可以对这些文件进行解释。对于 SUSE Linux Enterprise 软件的安装源，请参见<xref linkend="sec.zypper.softman.sources"/>，对于 SUSE Linux Enterprise 上的构建包，请参见<xref linkend="sec.rpm.sources"/>，对于 SUSE Linux Enterprise 软件包构建的内部工作，请参见<link xlink:href="http://www.rpm.org/max-rpm/">《Maximum RPM》</link>（最大 RPM）一书。
    </para>
   </listitem>
   <listitem>
    <para>
     有关安全 Bug 修复，请查阅 <link xlink:href="http://www.suse.com/support/security/#1">SUSE 安全声明</link>。这些声明往往通过<link xlink:href="http://cve.mitre.org">公共漏洞和披露 (CVE) </link>项目所维护的标准化名称（例如 <literal>CAN-2005-2495</literal>）来称呼 Bug。
    </para>
   </listitem>
  </itemizedlist>
 </sect1>
</chapter>
