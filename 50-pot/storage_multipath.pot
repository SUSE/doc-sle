msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2018-08-18 22:22+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Put one translator per line, in the form NAME <EMAIL>, YEAR1, YEAR2
msgctxt "_"
msgid "translator-credits"
msgstr ""

#. (itstool) path: chapter/title
#: xml/storage_multipath.xml:9
msgid "Managing Multipath I/O for Devices"
msgstr ""

#. (itstool) path: docmanager/translation
#: xml/storage_multipath.xml:13
msgid "yes"
msgstr ""

#. (itstool) path: chapter/para
#: xml/storage_multipath.xml:16
msgid "This section describes how to manage failover and path load balancing for multiple paths between the servers and block storage devices by using Multipath I/O (MPIO)."
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:22
msgid "Understanding Multipath I/O"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:24
msgid "Multipathing is the ability of a server to communicate with the same physical or logical block storage device across multiple physical paths between the host bus adapters in the server and the storage controllers for the device, typically in Fibre Channel (FC) or iSCSI SAN environments. You can also achieve multiple connections with direct attached storage when multiple channels are available."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:33
msgid "Linux multipathing provides connection fault tolerance and can provide load balancing across the active connections. When multipathing is configured and running, it automatically isolates and identifies device connection failures, and reroutes I/O to alternate connections."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:40
msgid "Typical connection problems involve faulty adapters, cables, or controllers. When you configure multipath I/O for a device, the multipath driver monitors the active connection between devices. When the multipath driver detects I/O errors for an active path, it fails over the traffic to the device’s designated secondary path. When the preferred path becomes healthy again, control can be returned to the preferred path."
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:50
msgid "Hardware Support"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:52
msgid "The multipathing drivers and tools support all architectures for which <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase> is available. They support most storage arrays. The storage array that houses the multipathed device must support multipathing to use the multipathing drivers and tools. Some storage array vendors provide their own multipathing management tools. Consult the vendor’s hardware documentation to determine what settings are required."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:62
msgid "Storage Arrays That Are Automatically Detected for Multipathing"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:63
msgid "The <filename>multipath-tools</filename> package automatically detects the following storage arrays:"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:68
msgid "3PARdata VV"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:69
msgid "AIX NVDISK"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:70
msgid "AIX VDASD"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:71
msgid "APPLE Xserve RAID"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:72
msgid "COMPELNT Compellent Vol"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:73
msgid "COMPAQ/HP HSV101, HSV111, HSV200, HSV210, HSV300, HSV400, HSV 450"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:74
msgid "COMPAQ/HP MSA, HSV"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:75
msgid "COMPAQ/HP MSA VOLUME"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:76
msgid "DataCore SANmelody"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:77
msgid "DDN SAN DataDirector"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:78
msgid "DEC HSG80"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:79
msgid "DELL MD3000"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:80
msgid "DELL MD3000i"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:81
msgid "DELL MD32xx"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:82
msgid "DELL MD32xxi"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:83
msgid "DGC"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:84
msgid "EMC Clariion"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:85
msgid "EMC Invista"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:86
msgid "EMC SYMMETRIX"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:87
msgid "EUROLOGC FC2502"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:88
msgid "FSC CentricStor"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:89
msgid "FUJITSU ETERNUS_DX, DXL, DX400, DX8000"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:90
msgid "HITACHI DF"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:91
msgid "HITACHI/HP OPEN"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:92
msgid "HP A6189A"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:93
msgid "HP HSVX700"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:94
msgid "HP LOGICAL VOLUME"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:95
msgid "HP MSA2012fc, MSA 2212fc, MSA2012i"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:96
msgid "HP MSA2012sa, MSA2312 fc/i/sa, MCA2324 fc/i/sa, MSA2000s VOLUME"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:97
msgid "HP P2000 G3 FC|P2000G3 FC/iSCSI|P2000 G3 SAS|P2000 G3 iSCSI"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:98
msgid "IBM 1722-600"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:99
msgid "IBM 1724"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:100
msgid "IBM 1726"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:101
msgid "IBM 1742"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:102
msgid "IBM 1745, 1746"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:103
msgid "IBM 1750500"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:104
msgid "IBM 1814"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:105
msgid "IBM 1815"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:106
msgid "IBM 1818"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:107
msgid "IBM 1820N00"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:108
msgid "IBM 2105800"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:109
msgid "IBM 2105F20"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:110
msgid "IBM 2107900"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:111
msgid "IBM 2145"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:112
msgid "IBM 2810XIV"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:113
msgid "IBM 3303 NVDISK"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:114
msgid "IBM 3526"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:115
msgid "IBM 3542"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:116
msgid "IBM IPR"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:117
msgid "IBM Nseries"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:118
msgid "IBM ProFibre 4000R"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:119
msgid "IBM S/390 DASD ECKD"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:120
msgid "IBM S/390 DASD FBA"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:121
msgid "Intel Multi-Flex"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:122
msgid "LSI/ENGENIO INF-01-00"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:123
msgid "NEC DISK ARRAY"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:124
msgid "NETAPP LUN"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:125
msgid "NEXENTA COMSTAR"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:126
msgid "Pillar Axiom"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:127
msgid "PIVOT3 RAIGE VOLUME"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:128
msgid "SGI IS"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:129
msgid "SGI TP9100, TP 9300"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:130
msgid "SGI TP9400, TP9500"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:131
msgid "STK FLEXLINE 380"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:132
msgid "STK OPENstorage D280"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:133
msgid "SUN CSM200_R"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:134
msgid "SUN LCSM100_[IEFS]"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:135
msgid "SUN STK6580, STK6780"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:136
msgid "SUN StorEdge 3510, T4"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:137
msgid "SUN SUN_6180"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:139
msgid "In general, most other storage arrays should work. When storage arrays are automatically detected, the default settings for multipathing apply. If you want non-default settings, you must manually create and configure the <filename>/etc/multipath.conf</filename> file. The same applies for hardware that is not automatically detected. For information, see <xref linkend=\"sec.multipath.conf_file\" xrefstyle=\"SectTitleOnPage\"/>."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:147
msgid "Consider the following caveats:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:152
msgid "Not all of the storage arrays that are automatically detected have been tested on <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase>. Also see <xref linkend=\"sec.multipath.hardware.tested\" xrefstyle=\"HeadingOnPage\"/>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:159
msgid "Some storage arrays might require specific hardware handlers. A hardware handler is a kernel module that performs hardware-specific actions when switching path groups and dealing with I/O errors. For information, see <xref linkend=\"sec.multipath.hardware.handlers\" xrefstyle=\"HeadingOnPage\"/>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:167
msgid "After each modification of the <filename>/etc/multipath.conf</filename> file, you must run <command>dracut</command> <option>-f</option> to re-create the <systemitem>initrd</systemitem> on your system. Reboot afterward for the changes to take effect."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:178
msgid "Tested Storage Arrays for Multipathing Support"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:179
msgid "Storage arrays from the following vendors have been tested with <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase>:"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:184
msgid "EMC"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:185
msgid "Hitachi"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:186
msgid "Hewlett-Packard/Compaq"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:187
msgid "IBM"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:188
msgid "NetApp"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:189
msgid "SGI"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:191
msgid "Most other vendor storage arrays should also work. Consult your vendor’s documentation for guidance. For a list of the default storage arrays recognized by the <filename>multipath-tools</filename> package, see <xref linkend=\"sec.multipath.hardware.autodetect\" xrefstyle=\"HeadingOnPage\"/>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:200
msgid "Storage Arrays that Require Specific Hardware Handlers"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:201
msgid "Storage arrays that require special commands on failover from one path to the other or that require special nonstandard error handling might require more extensive support. Therefore, the Device Mapper Multipath service has hooks for hardware handlers. For example, one such handler for the EMC CLARiiON CX family of arrays is already provided."
msgstr ""

#. (itstool) path: important/title
#: xml/storage_multipath.xml:209
msgid "For More Information"
msgstr ""

#. (itstool) path: important/para
#: xml/storage_multipath.xml:210
msgid "Consult the hardware vendor’s documentation to determine if its hardware handler must be installed for Device Mapper Multipath."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:215
msgid "The <command>multipath -t</command> command shows an internal table of storage arrays that require special handling with specific hardware handlers. The displayed list is not an exhaustive list of supported storage arrays. It lists only those arrays that require special handling and that the <filename>multipath-tools</filename> developers had access to during the tool development."
msgstr ""

#. (itstool) path: important/title
#: xml/storage_multipath.xml:224
msgid "Exceptions"
msgstr ""

#. (itstool) path: important/para
#: xml/storage_multipath.xml:225
msgid "Arrays with true active/active multipath support do not require special handling, so they are not listed for the <command>multipath -t</command> command."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:231
msgid "A listing in the <command>multipath -t</command> table does not necessarily mean that <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase> was tested on that specific hardware. For a list of tested storage arrays, see <xref linkend=\"sec.multipath.hardware.tested\" xrefstyle=\"HeadingOnPage\"/>."
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:240
msgid "Planning for Multipathing"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:242
msgid "Use the guidelines in this section when planning your multipath I/O solution."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:248
msgid "Prerequisites"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:251
msgid "Multipathing is managed at the device level."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:256
msgid "The storage array you use for the multipathed device must support multipathing. For more information, see <xref linkend=\"sec.multipath.hardware\" xrefstyle=\"SectTitleOnPage\"/>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:263
msgid "You need to configure multipathing only if multiple physical paths exist between host bus adapters in the server and host bus controllers for the block storage device. You configure multipathing for the logical device as seen by the server."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:271
msgid "For some storage arrays, the vendor provides its own multipathing software to manage multipathing for the array’s physical and logical devices. In this case, you should follow the vendor’s instructions for configuring multipathing for those devices."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:279
msgid "When using multipathing in a virtualization environment, the multipathing is controlled in the host server environment. Configure multipathing for the device before you assign it to a virtual guest machine."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:289
msgid "Disk Management Tasks"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:290
msgid "Perform the following disk management tasks before you attempt to configure multipathing for a physical or logical device that has multiple paths:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:296
msgid "Use third-party tools to carve physical disks into smaller logical disks."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:301
msgid "Use third-party tools to partition physical or logical disks. If you change the partitioning in the running system, the Device Mapper Multipath (DM-MP) module does not automatically detect and reflect these changes. DM-MPIO must be re-initialized, which usually requires a reboot."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:309
msgid "Use third-party SAN array management tools to create and configure hardware RAID devices."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:315
msgid "Use third-party SAN array management tools to create logical devices such as LUNs. Logical device types that are supported for a given array depend on the array vendor."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:325
msgid "Software RAIDs"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:326
msgid "The Linux software RAID management software runs on top of multipathing. For each device that has multiple I/O paths and that you plan to use in a software RAID, you must configure the device for multipathing before you attempt to create the software RAID device. Automatic discovery of multipathed devices is not available. The software RAID is not aware of the multipathing management running underneath."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:334
msgid "For information about setting up multipathing for existing software RAIDs, see <xref linkend=\"sec.multipath.raid\" xrefstyle=\"SectTitleOnPage\"/>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:341
msgid "High-Availability Solutions"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:342
msgid "High-availability solutions for clustering storage resources run on top of the multipathing service on each node. Make sure that the configuration settings in the <filename>/etc/multipath.conf</filename> file on each node are consistent across the cluster."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:348
msgid "Make sure that multipath devices have the same name across all devices. Refer to <xref linkend=\"sec.multipath.names.ha\"/> for details."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:352
msgid "The Distributed Replicated Block Device (DRBD) high-availability solution for mirroring devices across a LAN runs on top of multipathing. For each device that has multiple I/O paths and that you plan to use in a DRDB solution, you must configure the device for multipathing before you configure DRBD."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:362
msgid "Always Keep the <filename>initrd</filename> in Synchronization with the System Configuration"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:366
msgid "One of the most important requirements when using Multipath is to make sure that the <filename>initrd</filename> and the installed system behave the same regarding the root file system and all other file systems required to boot the system. If Multipath is enabled in the system, it also needs to be enabled in the <filename>initrd</filename> and vice versa. See <xref linkend=\"sec.multipath.configuration.start\"/> for details."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:374
msgid "If the <filename>initrd</filename> and the system are not synchronized, the system will not properly boot and the start-up procedure will result in an emergency shell. See <xref linkend=\"sec.multipath.trouble.root\"/> for instructions on how to avoid or repair such a scenario."
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:384
msgid "Multipath Management Tools"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:386
msgid "The multipathing support in <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase> is based on the Device Mapper Multipath module of the Linux kernel and the <systemitem>multipath-tools</systemitem> user space package. You can use the Multiple Devices Administration utility (<command>multipath</command>) to view the status of multipathed devices."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:395
msgid "Device Mapper Multipath Module"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:396
msgid "The Device Mapper Multipath (DM-MP) module provides the multipathing capability for Linux. DM-MPIO is the preferred solution for multipathing on <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase>. It is the only multipathing option shipped with the product that is completely supported by SUSE."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:402
msgid "DM-MPIO features automatic configuration of the multipathing subsystem for a large variety of setups. Configurations of up to eight paths to each device are supported. Configurations are supported for active/passive (one path active, others passive) or active/active (all paths active with round-robin load balancing)."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:409
msgid "The DM-MPIO framework is extensible in two ways:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:414
msgid "Using specific hardware handlers. For information, see <xref linkend=\"sec.multipath.hardware.handlers\" xrefstyle=\"HeadingOnPage\"/>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:420
msgid "Using load-balancing algorithms that are more sophisticated than the round-robin algorithm."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:426
msgid "The user space component of DM-MPIO takes care of automatic path discovery and grouping, and automated path retesting, so that a previously failed path is automatically reinstated when it becomes healthy again. This minimizes the need for administrator attention in a production environment."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:432
msgid "DM-MPIO protects against failures in the paths to the device, and not failures in the device itself. If one of the active paths is lost (for example, a network adapter breaks or a fiber-optic cable is removed), I/O is redirected to the remaining paths. If the configuration is active/passive, then the path fails over to one of the passive paths. If you are using the round-robin load-balancing configuration, the traffic is balanced across the remaining healthy paths. If all active paths fail, inactive secondary paths must be woken up, so failover occurs with a delay of approximately 30 seconds."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:443
msgid "If a disk array has more than one storage processor, ensure that the SAN switch has a connection to the storage processor that owns the LUNs you want to access. On most disk arrays, all LUNs belong to both storage processors, so both connections are active."
msgstr ""

#. (itstool) path: note/title
#: xml/storage_multipath.xml:450
msgid "Storage Processors"
msgstr ""

#. (itstool) path: note/para
#: xml/storage_multipath.xml:451
msgid "On some disk arrays, the storage array manages the traffic through storage processors so that it presents only one storage processor at a time. One processor is active and the other one is passive until there is a failure. If you are connected to the wrong storage processor (the one with the passive path) you might not see the expected LUNs, or you might see the LUNs but get errors when you try to access them."
msgstr ""

#. (itstool) path: table/title
#: xml/storage_multipath.xml:461
msgid "Multipath I/O Features of Storage Arrays"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:468
msgid "Features of Storage Arrays"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:473
#: xml/storage_multipath.xml:614
#: xml/storage_multipath.xml:896
#: xml/storage_multipath.xml:1921
#: xml/storage_multipath.xml:2422
#: xml/storage_multipath.xml:2574
#: xml/storage_multipath.xml:2766
#: xml/storage_multipath.xml:2830
#: xml/storage_multipath.xml:2928
#: xml/storage_multipath.xml:3017
#: xml/storage_multipath.xml:3126
#: xml/storage_multipath.xml:3224
#: xml/storage_multipath.xml:3334
msgid "Description"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:482
msgid "Active/passive controllers"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:487
msgid "One controller is active and serves all LUNs. The second controller acts as a standby. The second controller also presents the LUNs to the multipath component so that the operating system knows about redundant paths. If the primary controller fails, the second controller takes over, and it serves all LUNs."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:494
msgid "In some arrays, the LUNs can be assigned to different controllers. A given LUN is assigned to one controller to be its active controller. One controller does the disk I/O for any LUN at a time, and the second controller is the standby for that LUN. The second controller also presents the paths, but disk I/O is not possible. Servers that use that LUN are connected to the LUN’s assigned controller. If the primary controller for a set of LUNs fails, the second controller takes over, and it serves all LUNs."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:508
msgid "Active/active controllers"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:513
msgid "Both controllers share the load for all LUNs, and can process disk I/O for any LUN. If one controller fails, the second controller automatically handles all traffic."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:522
msgid "Load balancing"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:527
msgid "The Device Mapper Multipath driver automatically load balances traffic across all active paths."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:535
msgid "Controller failover"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:540
msgid "When the active controller fails over to the passive, or standby, controller, the Device Mapper Multipath driver automatically activates the paths between the host and the standby, making them the primary paths."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:550
msgid "Boot/Root device support"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:555
msgid "Multipathing is supported for the root (<filename>/</filename>) device in <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase> 10 and later. The host server must be connected to the currently active controller and storage processor for the boot device."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:561
msgid "Multipathing is supported for the <filename>/boot</filename> device in <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase> 11 and later."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:570
msgid "Device Mapper Multipath detects every path for a multipathed device as a separate SCSI device. The SCSI device names take the form <filename>/dev/sd<replaceable>N</replaceable></filename>, where <filename><replaceable>N</replaceable></filename> is an autogenerated letter for the device, beginning with a and issued sequentially as the devices are created, such as <filename>/dev/sda</filename>, <filename>/dev/sdb</filename>, and so on. If the number of devices exceeds 26, the letters are duplicated so that the next device after <filename>/dev/sdz</filename> will be named <filename>/dev/sdaa</filename>, <filename>/dev/sdab</filename>, and so on."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:582
msgid "If multiple paths are not automatically detected, you can configure them manually in the <filename>/etc/multipath.conf</filename> file. The <filename>multipath.conf</filename> file does not exist until you create and configure it. For information, see <xref linkend=\"sec.multipath.conf_file\" xrefstyle=\"SectTitleOnPage\"/>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:592
msgid "Multipath I/O Management Tools"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:593
msgid "The packages <systemitem class=\"resource\">multipath-tools</systemitem> and <systemitem class=\"resource\">kpartx</systemitem> provide tools that take care of automatic path discovery and grouping. They automatically test the path periodically, so that a previously failed path is automatically reinstated when it becomes healthy again. This minimizes the need for administrator attention in a production environment."
msgstr ""

#. (itstool) path: table/title
#: xml/storage_multipath.xml:602
msgid "Tools in the multipath-tools Package"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:609
msgid "Tool"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:623
msgid "<command>multipath</command>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:628
msgid "Scans the system for multipathed devices and assembles them."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:635
msgid "<command>multipathd</command>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:640
msgid "Waits for maps events, then executes <command>multipath</command>."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:647
msgid "<command>kpartx</command>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:652
msgid "Maps linear devmaps to partitions on the multipathed device, which makes it possible to create multipath monitoring for partitions on the device."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:661
msgid "<command>mpathpersist</command>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:666
msgid "Manages SCSI-persistent reservations on Device Mapper Multipath devices.ppc"
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:678
msgid "Using MDADM for Multipathed Devices"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:679
msgid "Udev is the default device handler, and devices are automatically known to the system by the Worldwide ID instead of by the device node name. This resolves problems in previous releases of MDADM and LVM where the configuration files (<filename>mdadm.conf</filename> and <filename>lvm.conf)</filename> did not properly recognize multipathed devices."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:687
msgid "As with LVM2, MDADM requires that the devices be accessed by the ID rather than by the device node path. Therefore, the <systemitem>DEVICE</systemitem> entry in <filename>/etc/mdadm.conf</filename> should be set as follows:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:693
#, no-wrap
msgid ""
"DEVICE /dev/disk/by-id/*"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:694
msgid "If you are using user-friendly names, specify the path as follows so that only the device mapper names are scanned after multipathing is configured:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:698
#, no-wrap
msgid ""
"DEVICE /dev/disk/by-id/dm-uuid-.*-mpath-.*"
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:702
msgid "The multipath Command"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:703
msgid "Use the Linux <command>multipath(8)</command> command to configure and manage multipathed devices. The general syntax for the command looks like the following:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:708
#, no-wrap
msgid ""
"multipath [-v verbosity_level] [-b bindings_file] [-d] [-h|-l|-ll|-f|-F|-B|-c|-q|-r|-w|-W|-t] [-p failover|multibus|group_by_serial|group_by_prio|group_by_node_name] [<replaceable>DEVICENAME</replaceable>]"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:709
msgid "Refer to <command>man 8 multipath</command> for details."
msgstr ""

#. (itstool) path: sect2/bridgehead
#: xml/storage_multipath.xml:712
msgid "General Examples"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:715
msgid "multipath"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:717
msgid "Configures all multipath devices."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:723
msgid "multipath <replaceable>DEVICENAME</replaceable>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:726
msgid "Configures a specific multipath device."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:729
msgid "Replace <replaceable>DEVICENAME</replaceable> with the device node name such as <filename>/dev/sdb</filename> (as shown by udev in the $DEVNAME variable), or in the <literal>major:minor</literal> format. The device may alternatively be a multipath map name."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:738
msgid "multipath -f"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:740
msgid "Selectively suppresses a multipath map, and its device-mapped partitions."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:747
msgid "multipath -d"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:749
msgid "Dry run. Displays potential multipath devices, but does not create any devices and does not update device maps."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:756
msgid "multipath -v2 -d"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:758
msgid "Displays multipath map information for potential multipath devices in a dry run. The -v2 option shows only local disks. This verbosity level prints the created or updated multipath names only for use to feed other tools like kpartx."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:764
#: xml/storage_multipath.xml:781
msgid "There is no output if the device already exists and there are no changes. Use <command>multipath -ll</command> to see the status of configured multipath devices."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:772
msgid "multipath -v2 <replaceable>DEVICENAME</replaceable>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:775
msgid "Configures a specific potential multipath device and displays multipath map information for it. This verbosity level prints only the created or updated multipath names for use to feed other tools like <command>kpartx</command>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:786
#: xml/storage_multipath.xml:817
#: xml/storage_multipath.xml:841
#: xml/storage_multipath.xml:867
msgid "Replace <replaceable>DEVICENAME</replaceable> with the device node name such as <filename>/dev/sdb</filename> (as shown by <command>udev</command> in the $DEVNAME variable), or in the <literal>major:minor</literal> format. The device may alternatively be a multipath map name."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:796
msgid "multipath -v3"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:798
msgid "Configures potential multipath devices and displays multipath map information for them. This verbosity level prints all detected paths, multipaths, and device maps. Both WWID and <literal>devnode</literal> blacklisted devices are displayed."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:807
msgid "multipath -v3 <replaceable>DEVICENAME</replaceable>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:810
msgid "Configures a specific potential multipath device and displays information for it. The -v3 option shows the full path list. This verbosity level prints all detected paths, multipaths, and device maps. Both WWID and <literal>devnode</literal> blacklisted devices are displayed."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:827
msgid "multipath -ll"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:829
msgid "Displays the status of all multipath devices."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:835
msgid "multipath -ll <replaceable>DEVICENAME</replaceable>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:838
msgid "Displays the status of a specified multipath device."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:851
msgid "multipath -F"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:853
msgid "Flushes all unused multipath device maps. This unresolves the multiple paths; it does not delete the devices."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:860
msgid "multipath -F <replaceable>DEVICENAME</replaceable>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:863
msgid "Flushes unused multipath device maps for a specified multipath device. This unresolves the multiple paths; it does not delete the device."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:877
msgid "multipath -p [ failover | multibus | group_by_serial | group_by_prio | group_by_node_name ]"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:879
msgid "Sets the group policy by specifying one of the group policy options that are described in the following table:"
msgstr ""

#. (itstool) path: table/title
#: xml/storage_multipath.xml:884
#: xml/storage_multipath.xml:2410
msgid "Group Policy Options for the multipath -p Command"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:891
#: xml/storage_multipath.xml:2417
msgid "Policy Option"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:905
#: xml/storage_multipath.xml:2431
msgid "failover"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:910
msgid "(Default) One path per priority group. You can use only one path at a time."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:918
#: xml/storage_multipath.xml:2443
msgid "multibus"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:923
#: xml/storage_multipath.xml:2448
msgid "All paths in one priority group."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:930
#: xml/storage_multipath.xml:2455
msgid "group_by_serial"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:935
msgid "One priority group per detected SCSI serial number (the controller node worldwide number)."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:943
#: xml/storage_multipath.xml:2467
msgid "group_by_prio"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:948
msgid "One priority group per path priority value. Paths with the same priority are in the same priority group. Priorities are determined by callout programs specified as a global, per-controller, or per-multipath option in the <filename>/etc/multipath.conf</filename> configuration file."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:959
#: xml/storage_multipath.xml:2482
msgid "group_by_node_name"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:964
#: xml/storage_multipath.xml:2487
msgid "One priority group per target node name. Target node names are fetched in the<filename> /sys/class/fc_transport/target*/node_name</filename> location."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:977
msgid "multipath -t"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:979
msgid "Shows internal hardware table and active configuration of multipath. Refer to <command>man multipath</command> for details about the configuration parameters."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:990
msgid "The mpathpersist Utility"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:991
msgid "The <command>mpathpersist</command> utility can be used to manage SCSI persistent reservations on Device Mapper Multipath devices. The general syntax for the command looks like the following:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:996
#, no-wrap
msgid ""
"mpathpersist [options] [device]"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:997
msgid "Refer to <command>man 8 mpathpersist</command> for details."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1000
msgid "Use this utility with the service action reservation key (<literal>reservation_key</literal> attribute) in the <filename>/etc/multipath.conf</filename> file to set persistent reservations for SCSI devices. The attribute is not used by default. If it is not set, the <command>multipathd</command> daemon does not check for persistent reservation for newly discovered paths or reinstated paths."
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:1008
#, no-wrap
msgid ""
"reservation_key &lt;<replaceable>RESERVATION_KEY</replaceable>&gt;"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1009
msgid "You can add the attribute to the <literal>defaults</literal> section or the <literal>multipaths</literal> section. For example:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:1013
#, no-wrap
msgid ""
"multipaths {\n"
"  multipath {\n"
"    wwid   XXXXXXXXXXXXXXXX\n"
"    alias      yellow\n"
"    reservation_key  0x123abc\n"
"  }\n"
"}"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1020
msgid "Set the <literal>reservation_key</literal> parameter for all mpath devices applicable for persistent management, then restart the <systemitem class=\"daemon\">multipathd</systemitem> daemon by running the following command:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:1026
#, no-wrap
msgid ""
"sudo systemctl restart multipathd"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1027
msgid "After it is set up, you can specify the reservation key in the <command>mpathpersist</command> commands."
msgstr ""

#. (itstool) path: sect2/bridgehead
#: xml/storage_multipath.xml:1031
msgid "Examples"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:1034
msgid "mpathpersist --out --register --param-sark=123abc --prout-type=5 -d /dev/mapper/mpath9"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1036
msgid "Register the Service Action Reservation Key for the <filename>/dev/mapper/mpath9</filename> device."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:1043
msgid "mpathpersist -i -k -d /dev/mapper/mpath9"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1045
msgid "Read the Service Action Reservation Key for the <filename>/dev/mapper/mpath9</filename> device."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:1052
msgid "mpathpersist --out --reserve --param-sark=123abc --prout-type=8 -d /dev/mapper/mpath9"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1054
msgid "Reserve the Service Action Reservation Key for the <filename>/dev/mapper/mpath9</filename> device."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:1061
msgid "mpathpersist -i -s -d /dev/mapper/mpath9"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1063
msgid "Read the reservation status of the <filename>/dev/mapper/mpath9</filename> device."
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:1073
msgid "Configuring the System for Multipathing"
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:1078
msgid "Enabling, Disabling, Starting and Stopping Multipath I/O Services"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1079
msgid "To enable multipath services to start at boot time, run the following command:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:1083
#, no-wrap
msgid ""
"sudo systemctl enable multipathd"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1084
msgid "To manually start the service in the running system or to check its status, enter one of the following commands:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:1088
#, no-wrap
msgid ""
"sudo systemctl start multipathd\n"
"sudo systemctl status multipathd"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1090
msgid "To stop the multipath services in the current session and to disable it, so it will not be started the next time the system is booted, run the following commands:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:1095
#, no-wrap
msgid ""
"sudo systemctl stop multipathd\n"
"sudo systemctl disable multipathd"
msgstr ""

#. (itstool) path: important/title
#: xml/storage_multipath.xml:1099
msgid "Rebuilding the <systemitem>initrd</systemitem>"
msgstr ""

#. (itstool) path: important/para
#: xml/storage_multipath.xml:1100
msgid "Whenever you enable or disable the multipath services it is also required to rebuild the <systemitem>initrd</systemitem>, otherwise the system may not boot anymore. When enabling the multipath services, also run the following command to rebuild the initrd:"
msgstr ""

#. (itstool) path: important/screen
#. (itstool) path: step/screen
#: xml/storage_multipath.xml:1106
#: xml/storage_multipath.xml:4660
#, no-wrap
msgid ""
"dracut --force --add multipath"
msgstr ""

#. (itstool) path: important/para
#: xml/storage_multipath.xml:1107
msgid "When disabling the services, then run the following command to rebuild the initrd:"
msgstr ""

#. (itstool) path: important/screen
#. (itstool) path: step/screen
#: xml/storage_multipath.xml:1111
#: xml/storage_multipath.xml:4665
#, no-wrap
msgid ""
"dracut --force -o multipath"
msgstr ""

#. (itstool) path: important/para
#: xml/storage_multipath.xml:1112
msgid "Additionally and optionally, if you also want to make sure multipath devices do not get set up, even when starting multipath manually, add the following lines to the end of <filename>/etc/multipath.conf</filename> before rebuilding the initrd:"
msgstr ""

#. (itstool) path: important/screen
#: xml/storage_multipath.xml:1118
#, no-wrap
msgid ""
"blacklist {\n"
"    wwid \".*\"\n"
"}"
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:1125
msgid "Preparing SAN Devices for Multipathing"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1126
msgid "Before configuring multipath I/O for your SAN devices, prepare the SAN devices, as necessary, by doing the following:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1132
msgid "Configure and zone the SAN with the vendor’s tools."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1137
msgid "Configure permissions for host LUNs on the storage arrays with the vendor’s tools."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1143
msgid "Install the Linux HBA driver module. Upon module installation, the driver automatically scans the HBA to discover any SAN devices that have permissions for the host. It presents them to the host for further configuration."
msgstr ""

#. (itstool) path: note/title
#: xml/storage_multipath.xml:1150
msgid "No Native Multipathing"
msgstr ""

#. (itstool) path: note/para
#: xml/storage_multipath.xml:1151
msgid "Make sure that the HBA driver you are using does not have native multipathing enabled."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1156
msgid "See the vendor’s specific instructions for more details."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1161
msgid "After the driver module is loaded, discover the device nodes assigned to specific array LUNs or partitions."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1167
msgid "If the SAN device will be used as the root device on the server, modify the timeout settings for the device as described in <xref linkend=\"sec.multipath.best_practice.san_timeout\" xrefstyle=\"SectTitleOnPage\"/>."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1174
msgid "If the LUNs are not seen by the HBA driver, <command>lsscsi </command>can be used to check whether the SCSI devices are seen correctly by the operating system. When the LUNs are not seen by the HBA driver, check the zoning setup of the SAN. In particular, check whether LUN masking is active and whether the LUNs are correctly assigned to the server."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1181
msgid "If the LUNs are seen by the HBA driver, but there are no corresponding block devices, additional kernel parameters are needed to change the SCSI device scanning behavior, such as to indicate that LUNs are not numbered consecutively. For information, see <citetitle>TID 3955167: Troubleshooting SCSI (LUN) Scanning Issues</citetitle> in the SUSE Knowledgebase at <link xlink:href=\"https://www.suse.com/support/kb/doc.php?id=3955167\"/>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:1192
msgid "Partitioning Multipath Devices"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1193
msgid "Partitioning devices that have multiple paths is not recommended, but it is supported. You can use the <command>kpartx</command> tool to create partitions on multipath devices without rebooting. You can also partition the device before you attempt to configure multipathing by using the Partitioner function in YaST, or by using a third-party partitioning tool."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1201
msgid "Multipath devices are device-mapper devices. Modifying device-mapper devices with command line tools (such as parted, kpartx, or fdisk) works, but it does not necessarily generate the udev events that are required to update other layers. After you partition the device-mapper device, you should check the multipath map to make sure the device-mapper devices were mapped. If they are missing, you can remap the multipath devices or reboot the server to pick up all of the new partitions in the multipath map."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1210
msgid "The device-mapper device for a partition on a multipath device is not the same as an independent device. When you create an LVM logical volume using the whole device, you must specify a device that contains no partitions. If you specify a multipath partition as the target device for the LVM logical volume, LVM recognizes that the underlying physical device is partitioned and the create fails. If you need to subdivide a SAN device, you can carve LUNs on the SAN device and present each LUN as a separate multipath device to the server."
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:1223
msgid "Creating or Modifying the /etc/multipath.conf File"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1225
msgid "The <filename>/etc/multipath.conf</filename> file does not exist unless you create it. Default multipath device settings are applied automatically when the <command>multipathd</command> daemon runs unless you create the multipath configuration file and personalize the settings."
msgstr ""

#. (itstool) path: important/title
#: xml/storage_multipath.xml:1233
msgid "Testing and Permanently Applying Changes from <filename>/etc/multipath.conf</filename>"
msgstr ""

#. (itstool) path: important/para
#: xml/storage_multipath.xml:1237
msgid "Whenever you create or modify the <filename>/etc/multipath.conf</filename> file, the changes are not automatically applied when you save the file. This allows you to perform a dry run to verify your changes before they are committed. When you are satisfied with the revised settings, you can update the multipath maps as described in <xref linkend=\"sec.multipath.conf_file.apply\"/>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:1248
msgid "Creating the /etc/multipath.conf File"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:1251
msgid "Create an empty <filename>/etc/multipath.conf</filename> file with an editor of your choice."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:1257
msgid "Make sure to add an appropriate <literal>device</literal> section for your SAN. Most vendors provide documentation on the proper setup of the <command>device</command> section. Note that different SANs require individual <literal>device</literal> sections."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:1263
msgid "If you are using a storage subsystem that is automatically detected (see <xref linkend=\"sec.multipath.hardware.autodetect\" xrefstyle=\"HeadingOnPage\"/>), adding a <literal>device</literal> is not required—the default settings for this device will be applied in this case."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:1272
msgid "Create a <literal>blacklist</literal> section containing all non-multipath devices of your machine. Refer to <xref linkend=\"sec.multipath.blacklist\"/> for details."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:1279
msgid "If required, add more sections to the configuration file. Refer to <xref linkend=\"sec.multipath.conf_file.sections\"/> for a brief introduction. More details are available when running <command>man 5 multipath.conf</command>."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:1287
msgid "When finished, save <filename>/etc/multipath.conf</filename> and test your settings as described in <xref linkend=\"sec.multipath.conf_file.verify\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:1294
msgid "When you have successfully verified the configuration, apply it as described in <xref linkend=\"sec.multipath.conf_file.apply\"/>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:1303
msgid "Sections in the <filename>/etc/multipath.conf</filename> File"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1304
msgid "The <filename>/etc/multipath.conf</filename> file is organized into the following sections. See <command>man 5 multipath.conf</command> for details."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:1311
msgid "defaults"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1313
msgid "General default settings for multipath I/0. These values are used if no values are given in the appropriate device or multipath sections. For information, see <xref linkend=\"sec.multipath.policies_default\" xrefstyle=\"SectTitleOnPage\"/>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:1322
msgid "blacklist"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1324
msgid "Lists the device names to discard as not multipath candidates. Devices can be identified by their device node name (<literal>devnode</literal>), their WWID (<literal>wwid</literal>), or their vendor or product strings (<literal>device</literal>). You can typically ignore non-multipathed devices, such as <literal>hpsa</literal>, <literal>fd</literal>, <literal>hd</literal>, <literal>md</literal>, <literal>dm</literal>, <literal>sr</literal>, <literal>scd</literal>, <literal>st</literal>, <literal>ram</literal>, <literal>raw</literal>, <literal>loop</literal>. For more information and examples, see <xref linkend=\"sec.multipath.blacklist\" xrefstyle=\"HeadingOnPage\"/>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:1340
msgid "blacklist_exceptions"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1342
msgid "Lists the device names of devices to be treated as multipath candidates even if they are on the blacklist. Devices can be identified by their device node name (<literal>devnode</literal>), their WWID (<literal>wwid</literal>), or their vendor or product strings (<literal>device</literal>). You must specify the excepted devices by using the same keyword that you used in the blacklist. For example, if you used the <literal>devnode</literal> keyword for devices in the blacklist, you use the <literal>devnode</literal> keyword to exclude some devices in the blacklist exceptions. It is not possible to blacklist devices by using the <literal>devnode</literal> keyword and to exclude some of them by using the <literal>wwid</literal> keyword. For more information and examples, see <xref linkend=\"sec.multipath.blacklist\" xrefstyle=\"HeadingOnPage\"/>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:1360
msgid "multipaths"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1362
msgid "Specifies settings for individual multipath devices. Except for settings that do not support individual settings, these values overwrite what is specified in the <literal>defaults</literal> and <literal>devices</literal> sections of the configuration file."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:1371
msgid "devices"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1373
msgid "Specifies settings for individual storage controllers. These values overwrite values specified in the <filename>defaults</filename> section of the configuration file. If you use a storage array that is not supported by default, you can create a <literal>devices</literal> subsection to specify the default settings for it. These values can be overwritten by settings for individual multipath devices if the keyword allows it."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:1382
msgid "For information, see the following:"
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:1403
msgid "Verifying the Multipath Setup in the /etc/multipath.conf File"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1404
msgid "Whenever you create or modify the <filename>/etc/multipath.conf</filename> file, the changes are not automatically applied when you save the file. You can perform a <quote>dry run</quote> of the setup to verify the multipath setup before you update the multipath maps."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1410
msgid "At the server command prompt, enter"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:1413
#, no-wrap
msgid ""
"sudo multipath -v2 -d"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1414
msgid "This command scans the devices, then displays what the setup would look like if you commit the changes. It is assumed that the <systemitem class=\"daemon\">multipathd</systemitem> daemon is already running with the old (or default) multipath settings when you modify the <filename>/etc/multipath.conf</filename> file and perform the dry run. If the changes are acceptable, continue with the next step."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1422
msgid "The output is similar to the following:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:1425
#, no-wrap
msgid ""
"26353900f02796769\n"
"[size=127 GB]\n"
"[features=\"0\"]\n"
"[hwhandler=\"1    emc\"]\n"
"\n"
"\\_ round-robin 0 [first]\n"
"  \\_ 1:0:1:2 sdav 66:240  [ready ]\n"
"  \\_ 0:0:1:2 sdr  65:16   [ready ]\n"
"\n"
"\\_ round-robin 0\n"
"  \\_ 1:0:0:2 sdag 66:0    [ready ]\n"
"  \\_ 0:0:0:2 sdc   8:32   [ready ]\n"
""
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1438
msgid "Paths are grouped into priority groups. Only one priority group is in active use at a time. To model an active/active configuration, all paths end in the same group. To model an active/passive configuration, the paths that should not be active in parallel are placed in several distinct priority groups. This normally happens automatically on device discovery."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1445
msgid "The output shows the order, the scheduling policy used to balance I/O within the group, and the paths for each priority group. For each path, its physical address (host:bus:target:lun), device node name, major:minor number, and state is shown."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1451
msgid "By using a verbosity level of -v3 in the dry run, you can see all detected paths, multipaths, and device maps. Both WWID and device node blacklisted devices are displayed."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1456
msgid "The following is an example of -v3 output on a 64-bit SLES 11 SP2 server with two Qlogic HBAs connected to a Xiotech Magnitude 3000 SAN. Some multiple entries have been omitted to shorten the example."
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:1461
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>sudo multipath -v3 d\n"
"dm-22: device node name blacklisted\n"
"&lt; content omitted &gt;\n"
"loop7: device node name blacklisted\n"
"&lt; content omitted &gt;\n"
"md0: device node name blacklisted\n"
"&lt; content omitted &gt;\n"
"dm-0: device node name blacklisted\n"
"sdf: not found in pathvec\n"
"sdf: mask = 0x1f\n"
"sdf: dev_t = 8:80\n"
"sdf: size = 105005056\n"
"sdf: subsystem = scsi\n"
"sdf: vendor = XIOtech\n"
"sdf: product = Magnitude 3D\n"
"sdf: rev = 3.00\n"
"sdf: h:b:t:l = 1:0:0:2\n"
"sdf: tgt_node_name = 0x202100d0b2028da\n"
"sdf: serial = 000028DA0014\n"
"sdf: getuid= \"/lib/udev/scsi_id --whitelisted --device=/dev/%n\" (config file default)\n"
"sdf: uid = 200d0b2da28001400 (callout)\n"
"sdf: prio = const (config file default)\n"
"sdf: const prio = 1\n"
"[...]\n"
"ram15: device node name blacklisted\n"
"[...]\n"
"===== paths list =====\n"
"uuid              hcil    dev dev_t pri dm_st  chk_st  vend/prod/rev\n"
"200d0b2da28001400 1:0:0:2 sdf 8:80  1   [undef][undef] XIOtech,Magnitude 3D\n"
"200d0b2da28005400 1:0:0:1 sde 8:64  1   [undef][undef] XIOtech,Magnitude 3D\n"
"200d0b2da28004d00 1:0:0:0 sdd 8:48  1   [undef][undef] XIOtech,Magnitude 3D\n"
"200d0b2da28001400 0:0:0:2 sdc 8:32  1   [undef][undef] XIOtech,Magnitude 3D\n"
"200d0b2da28005400 0:0:0:1 sdb 8:16  1   [undef][undef] XIOtech,Magnitude 3D\n"
"200d0b2da28004d00 0:0:0:0 sda 8:0   1   [undef][undef] XIOtech,Magnitude 3D\n"
"params = 0 0 2 1 round-robin 0 1 1 8:80 1000 round-robin 0 1 1 8:32 1000\n"
"status = 2 0 0 0 2 1 A 0 1 0 8:80 A 0 E 0 1 0 8:32 A 0\n"
"sdf: mask = 0x4\n"
"sdf: path checker = directio (config file default)\n"
"directio: starting new request\n"
"directio: async io getevents returns 1 (errno=Success)\n"
"directio: io finished 4096/0\n"
"sdf: state = 2\n"
"[...]"
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:1507
msgid "Applying the /etc/multipath.conf File Changes to Update the Multipath Maps"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1508
msgid "Changes to the <filename>/etc/multipath.conf</filename> file cannot take effect when <command>multipathd</command> is running. After you make changes, save and close the file, then do the following to apply the changes and update the multipath maps:"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:1516
msgid "Stop the <systemitem class=\"daemon\">multipathd</systemitem> service:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:1519
#, no-wrap
msgid ""
"sudo systemctl stop multipathd"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:1522
msgid "Clear old multipath bindings by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:1525
#, no-wrap
msgid ""
"sudo /sbin/multipath -F"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:1528
msgid "Create new multipath bindings by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:1531
#, no-wrap
msgid ""
"sudo /sbin/multipath -v2 -l"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:1534
msgid "Restart the <systemitem class=\"daemon\">multipathd</systemitem> service:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:1537
#, no-wrap
msgid ""
"sudo systemctl start multipathd"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:1540
msgid "Run <command>dracut -f</command> to re-create the <filename>initrd</filename> image on your system, then reboot for the changes to take effect."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:1550
msgid "Generating a WWID"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:1551
msgid "To identify a device over different paths, multipath uses a World Wide Identification (WWID) for each device. If the WWID is the same for two device paths, they are assumed to represent the same device. We recommend not changing the method of WWID generation, unless there is a compelling reason to do so. For more details, see <command>man multipath.conf</command>."
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:1562
msgid "Configuring Default Policies for Polling, Queuing, and Failback"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1564
msgid "The goal of multipath I/O is to provide connectivity fault tolerance between the storage system and the server. The desired default behavior depends on whether the server is a stand-alone server or a node in a high-availability cluster."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1571
msgid "When you configure multipath I/O for a stand-alone server, the <literal>no_path_retry</literal> setting protects the server operating system from receiving I/O errors as long as possible. It queues messages until a multipath failover occurs and provides a healthy connection."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1578
msgid "When you configure multipath I/O for a node in a high-availability cluster, you want multipath to report the I/O failure to trigger the resource failover instead of waiting for a multipath failover to be resolved. In cluster environments, you must modify the <literal>no_path_retry </literal>setting so that the cluster node receives an I/O error in relation to the cluster verification process (recommended to be 50% of the heartbeat tolerance) if the connection is lost to the storage system. In addition, you want the multipath I/O fallback to be set to manual to avoid a ping-pong of resources because of path failures."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1590
msgid "The <filename>/etc/multipath.conf</filename> file should contain a <command>defaults</command> section where you can specify default behaviors for polling, queuing, and failback. If the field is not otherwise specified in a <command>device</command> section, the default setting is applied for that SAN configuration."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1598
msgid "The following are the compiled default settings. They will be used unless you overwrite these values by creating and configuring a personalized <filename>/etc/multipath.conf</filename> file."
msgstr ""

#. (itstool) path: sect1/screen
#: xml/storage_multipath.xml:1604
#, no-wrap
msgid ""
"defaults {\n"
"  verbosity 2\n"
"#  udev_dir is deprecated in SLES 11 SP3\n"
"#  udev_dir              /dev\n"
"  polling_interval      5\n"
"#  path_selector default value is service-time in SLES 11 SP3\n"
"#  path_selector         \"round-robin 0\"\n"
"  path selector         \"service-time 0\"\n"
"  path_grouping_policy  failover\n"
"#  getuid_callout is deprecated in SLES 11 SP3 and replaced with uid_attribute\n"
"#  getuid_callout        \"/lib/udev/scsi_id --whitelisted --device=/dev/%n\"\n"
"#  uid_attribute is new in SLES 11 SP3\n"
"  uid_attribute         \"ID_SERIAL\"\n"
"  prio                  \"const\"\n"
"  prio_args             \"\"\n"
"  features              \"0\"\n"
"  path_checker          \"tur\"\n"
"  alias_prefix          \"mpath\"\n"
"  rr_min_io_rq          1\n"
"  max_fds               \"max\"\n"
"  rr_weight             \"uniform\"\n"
"  queue_without_daemon  \"yes\"\n"
"  flush_on_last_del     \"no\"\n"
"  user_friendly_names   \"no\"\n"
"  fast_io_fail_tmo      5\n"
"  bindings_file         \"/etc/multipath/bindings\"\n"
"  wwids_file            \"/etc/multipath/wwids\"\n"
"  log_checker_err       \"always\"\n"
"\n"
"  retain_attached_hw_handler  \"no\"\n"
"  detect_prio           \"no\"\n"
"  failback              \"manual\"\n"
"  no_path_retry         \"fail\"\n"
"  }"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1639
msgid "For information about setting the polling, queuing, and failback policies, see the following parameters in <xref linkend=\"sec.multipath.policies_failover\" xrefstyle=\"SectTitleOnPage\"/>:"
msgstr ""

#. (itstool) path: sect1/para
#. (itstool) path: step/para
#: xml/storage_multipath.xml:1663
#: xml/storage_multipath.xml:1821
#: xml/storage_multipath.xml:2237
msgid "After you have modified the <filename>/etc/multipath.conf</filename> file, you must run <command>dracut</command> <option>-f</option> to re-create the <filename>initrd</filename> on your system, then restart the server for the changes to take effect. See <xref linkend=\"sec.multipath.conf_file.apply\"/> for details."
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:1672
msgid "Blacklisting Non-Multipath Devices"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1674
msgid "The <filename>/etc/multipath.conf</filename> file can contain a <command>blacklist</command> section where all non-multipath devices are listed. You can blacklist devices by WWID (<literal>wwid</literal> keyword), device name (<literal>devnode</literal> keyword), or device type (<literal>device</literal> section). You can also use the <literal>blacklist_exceptions</literal> section to enable multipath for some devices that are blacklisted by the regular expressions used in the <literal>blacklist</literal> section."
msgstr ""

#. (itstool) path: note/title
#: xml/storage_multipath.xml:1686
msgid "Preferred Blacklisting Methods"
msgstr ""

#. (itstool) path: note/para
#: xml/storage_multipath.xml:1689
msgid "The preferred method for blacklisting devices is by <emphasis>WWID</emphasis> or by <emphasis>vendor and product</emphasis>. Blacklisting by <emphasis>devnode</emphasis> is not recommended, because device nodes can change and thus are not useful for persistent device identification."
msgstr ""

#. (itstool) path: warning/title
#: xml/storage_multipath.xml:1698
msgid "Regular Expressions in multipath.conf"
msgstr ""

#. (itstool) path: warning/para
#: xml/storage_multipath.xml:1699
msgid "Regular expressions in the <filename>/etc/multipath.conf</filename> do <emphasis>not</emphasis> work in general. They only work if they are matched against common strings. However, the standard configuration of multipath already contains regular expressions for many devices and vendors. Matching regular expressions with other regular expressions does not work. Make sure that you are only matching against strings shown with <command>multipath -t</command>."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1709
msgid "You can typically ignore non-multipathed devices, such as <literal>hpsa</literal>, <literal>fd</literal>, <literal>hd</literal>, <literal>md</literal>, <literal>dm</literal>, <literal>sr</literal>, <literal>scd</literal>, <literal>st</literal>, <literal>ram</literal>, <literal>raw</literal>, and <literal>loop</literal>. For example, local SATA hard disks and flash disks do not have multiple paths. If you want <command>multipath</command> to ignore single-path devices, put them in the <command>blacklist</command> section."
msgstr ""

#. (itstool) path: note/title
#: xml/storage_multipath.xml:1722
msgid "Compatibility"
msgstr ""

#. (itstool) path: note/para
#: xml/storage_multipath.xml:1723
msgid "The keyword <literal>devnode_blacklist</literal> has been deprecated and replaced with the keyword <literal>blacklist</literal>."
msgstr ""

#. (itstool) path: note/para
#: xml/storage_multipath.xml:1727
msgid "With SUSE Linux Enterprise Server 12 the glibc-provided regular expressions are used. To match an arbitrary string, you must now use <literal>\".*\"</literal> rather than <literal>\"*\"</literal>."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1734
msgid "For example, to blacklist local devices and all arrays from the <filename>hpsa</filename> driver from being managed by multipath, the <command>blacklist</command> section looks like this:"
msgstr ""

#. (itstool) path: sect1/screen
#: xml/storage_multipath.xml:1740
#, no-wrap
msgid ""
"blacklist {\n"
"      wwid \"26353900f02796769\"\n"
"      devnode \"^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*\"\n"
"      devnode \"^sd[a-z][0-9]*\"\n"
"}"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1746
msgid "You can also blacklist only the partitions from a driver instead of the entire array. For example, you can use the following regular expression to blacklist only partitions from the cciss driver and not the entire array:"
msgstr ""

#. (itstool) path: sect1/screen
#: xml/storage_multipath.xml:1752
#, no-wrap
msgid ""
"blacklist {\n"
"      devnode \"^cciss!c[0-9]d[0-9]*[p[0-9]*]\"\n"
"}"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1756
msgid "You can blacklist by specific device types by adding a <literal>device</literal> section in the blacklist, and using the <literal>vendor</literal> and <literal>product</literal> keywords."
msgstr ""

#. (itstool) path: sect1/screen
#: xml/storage_multipath.xml:1762
#, no-wrap
msgid ""
"blacklist {\n"
"      device {\n"
"           vendor  \"DELL\"\n"
"           product \".*\"\n"
"       }\n"
"}"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1769
msgid "You can use a <literal>blacklist_exceptions</literal> section to enable multipath for some devices that were blacklisted by the regular expressions used in the <literal>blacklist</literal> section. You add exceptions by WWID (<literal>wwid</literal> keyword), device name (<literal>devnode</literal> keyword), or device type (<literal>device</literal> section). You must specify the exceptions in the same way that you blacklisted the corresponding devices. That is, <literal>wwid</literal> exceptions apply to a <literal>wwid</literal> blacklist, <literal>devnode</literal> exceptions apply to a <literal>devnode</literal> blacklist, and device type exceptions apply to a device type blacklist."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1782
msgid "For example, you can enable multipath for a desired device type when you have different device types from the same vendor. Blacklist all of the vendor’s device types in the <literal>blacklist</literal> section, and then enable multipath for the desired device type by adding a <literal>device</literal> section in a <literal>blacklist_exceptions</literal> section."
msgstr ""

#. (itstool) path: sect1/screen
#: xml/storage_multipath.xml:1791
#, no-wrap
msgid ""
"blacklist {\n"
"      devnode \"^(ram|raw|loop|fd|md|dm-|sr|scd|st|sda)[0-9]*\"\n"
"      device {\n"
"           vendor  \"DELL\"\n"
"           product \".*\"\n"
"       }\n"
"}\n"
"\n"
"blacklist_exceptions {\n"
"      device {\n"
"           vendor  \"DELL\"\n"
"           product \"MD3220i\"\n"
"       }\n"
"}"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1806
msgid "You can also use the blacklist_exceptions to enable multipath only for specific devices. For example:"
msgstr ""

#. (itstool) path: sect1/screen
#: xml/storage_multipath.xml:1811
#, no-wrap
msgid ""
"blacklist {\n"
"      wwid \".*\"\n"
"}\n"
"\n"
"blacklist_exceptions {\n"
"        wwid \"3600d0230000000000e13955cc3751234\"\n"
"        wwid \"3600d0230000000000e13955cc3751235\"\n"
"}"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1829
msgid "Following the reboot, the local devices should no longer be listed in the multipath maps when you issue the <command>multipath -ll</command> command."
msgstr ""

#. (itstool) path: note/title
#: xml/storage_multipath.xml:1835
msgid "Using the <literal>find_multipaths</literal> Option"
msgstr ""

#. (itstool) path: note/para
#: xml/storage_multipath.xml:1836
msgid "Starting with <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase> 12 SP2, the multipath tools support the option <literal>find_multipaths</literal> in the <literal>defaults</literal> section of <filename>/etc/multipath.conf</filename>. Simply put, this option prevents multipath and <systemitem class=\"daemon\">multipathd</systemitem> from setting up multipath maps for devices with only a single path (see the <command>man 5 multipath.conf</command> for details). In certain configurations, this may save the administrator from the effort of creating blacklist entries, for example for local SATA disks."
msgstr ""

#. (itstool) path: note/para
#: xml/storage_multipath.xml:1847
msgid "Convenient as it seems at first, using the <literal>find_multipaths</literal> option also has disadvantages. It complicates and slows down the system boot, because for every device found, the boot logic needs to wait until all devices have been discovered to see whether a second path exists for the device. Additionally, problems can arise when some paths are down or otherwise invisible at boot time—a device can be falsely detected as a single-path device and activated, causing later addition of more paths to fail."
msgstr ""

#. (itstool) path: note/para
#: xml/storage_multipath.xml:1857
msgid "<literal>find_multipaths</literal> considers all devices that are listed in <filename>/etc/multipath/wwids</filename> with matching WWIDs as being multipath devices. This is important when <literal>find_multipaths</literal> is first activated: Unless <filename>/etc/multipath/wwids</filename> is deleted or edited, activating this option has no effect, because all previously existing multipath maps (including single-path ones) are listed in the wwids file. On SAN-boot systems with a multipathed root file system, make sure to keep <filename>/etc/multipath/wwids</filename> synchronized between the initial RAM disk and the file system."
msgstr ""

#. (itstool) path: note/para
#: xml/storage_multipath.xml:1869
msgid "In Summary, using <literal>find_multipaths</literal> may be convenient in certain use cases, but SUSE still recommends the default configuration with a properly configured blacklist and blacklist exceptions."
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:1878
msgid "Configuring User-Friendly Names or Alias Names"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1880
msgid "A multipath device can be identified by its WWID, by a user-friendly name, or by an alias that you assign for it. Device node names in the form of <filename>/dev/sdn</filename> and <filename>/dev/dm-n</filename> can change on reboot and might be assigned to different devices each time. A device’s WWID, user-friendly name, and alias name persist across reboots, and are the preferred way to identify the device."
msgstr ""

#. (itstool) path: important/title
#: xml/storage_multipath.xml:1890
msgid "Using Persistent Names is Recommended"
msgstr ""

#. (itstool) path: important/para
#: xml/storage_multipath.xml:1891
msgid "Because device node names in the form of <filename>/dev/sdn</filename> and <filename>/dev/dm-n</filename> can change on reboot, referring to multipath devices by their WWID is preferred. You can also use a user-friendly name or alias that is mapped to the WWID to identify the device uniquely across reboots."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1900
msgid "The following table describes the types of device names that can be used for a device in the <filename>/etc/multipath.conf</filename> file. For an example of <filename>multipath.conf</filename> settings, see the <filename>/usr/share/doc/packages/multipath-tools/multipath.conf.synthetic</filename> file."
msgstr ""

#. (itstool) path: table/title
#: xml/storage_multipath.xml:1909
msgid "Comparison of Multipath Device Name Types"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:1916
msgid "Name Types"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:1930
msgid "WWID (default)"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:1935
msgid "The serial WWID (Worldwide Identifier) is an identifier for the multipath device that is guaranteed to be globally unique and unchanging. The default name used in multipathing is the ID of the logical unit as found in the <filename>/dev/disk/by-id</filename> directory. For example, a device with the WWID of <literal>3600508e0000000009e6baa6f609e7908</literal> is listed as <filename>/dev/disk/by-id/scsi-3600508e0000000009e6baa6f609e7908</filename>."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:1948
msgid "User-friendly"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:1953
msgid "The Device Mapper Multipath device names in the <filename>/dev/mapper</filename> directory also reference the ID of the logical unit. These multipath device names are user-friendly names in the form of <filename>/dev/mapper/mpath<replaceable>N</replaceable></filename>, such as <filename>/dev/mapper/mpath0</filename>. The names are unique and persistent because they use the <filename>/var/lib/multipath/bindings</filename> file to track the association between the UUID and user-friendly names."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:1968
msgid "Alias"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:1973
msgid "An alias name is a globally unique name that the administrator provides for a multipath device. Alias names override the WWID and the user-friendly <filename>/dev/mapper/mpath<replaceable>N</replaceable></filename> names."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:1980
msgid "If you are using user_friendly_names, do not set the alias to mpath<replaceable>N</replaceable> format. This may conflict with an automatically assigned user-friendly name, and give you incorrect device node names."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:1992
msgid "The global multipath <literal>user_friendly_names</literal> option in the <filename>/etc/multipath.conf</filename> file is used to enable or disable the use of user-friendly names for multipath devices. If it is set to <literal>no</literal> (the default), multipath uses the WWID as the name of the device. If it is set to <literal>yes</literal>, multipath uses the <filename>/var/lib/multipath/bindings</filename> file to assign a persistent and unique name to the device in the form of <filename>mpath&lt;<replaceable>N</replaceable>&gt;</filename> in the <filename>/dev/mapper </filename>directory. The <literal>bindings file</literal> option in the <literal>/etc/multipath.conf</literal> file can be used to specify an alternate location for the <filename>bindings</filename> file."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:2007
msgid "The global multipath <literal>alias</literal> option in the <filename>/etc/multipath.conf</filename> file is used to explicitly assign a name to the device. If an alias name is set up for a multipath device, the alias is used instead of the WWID or the user-friendly name."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:2014
msgid "Using the <literal>user_friendly_names</literal> option can be problematic in the following situations:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:2021
msgid "Root Device Is Using Multipath:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2023
msgid "If the system root device is using multipath and you use the <literal>user_friendly_names</literal> option, the user-friendly settings in the <filename>/var/lib/multipath/bindings</filename> file are included in the <filename>initrd</filename>. If you later change the storage setup, such as by adding or removing devices, there is a mismatch between the bindings setting inside the <filename>initrd</filename> and the bindings settings in <filename>/var/lib/multipath/bindings</filename>."
msgstr ""

#. (itstool) path: warning/title
#: xml/storage_multipath.xml:2033
msgid "Binding Mismatches"
msgstr ""

#. (itstool) path: warning/para
#: xml/storage_multipath.xml:2034
msgid "A bindings mismatch between <filename>initrd</filename> and <filename>/var/lib/multipath/bindings</filename> can lead to a wrong assignment of mount points to devices, which can result in file system corruption and data loss."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2041
msgid "To avoid this problem, we recommend that you use the default WWID settings for the system root device. You should not use aliases for the system root device. Because the device name would differ, using an alias causes you to lose the ability to seamlessly switch off multipathing via the kernel command line."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:2051
msgid "Mounting /var from Another Partition:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2053
msgid "The default location of the <literal>user_friendly_names</literal> configuration file is <filename>/var/lib/multipath/bindings</filename>. If the <filename>/var</filename> data is not located on the system root device but mounted from another partition, the <filename>bindings</filename> file is not available when setting up multipathing."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2061
msgid "Make sure that the <filename>/var/lib/multipath/bindings</filename> file is available on the system root device and multipath can find it. For example, this can be done as follows:"
msgstr ""

#. (itstool) path: listitem/para
#. (itstool) path: step/para
#: xml/storage_multipath.xml:2068
#: xml/storage_multipath.xml:2142
msgid "Move the <filename>/var/lib/multipath/bindings</filename> file to <filename>/etc/multipath/bindings</filename>."
msgstr ""

#. (itstool) path: listitem/para
#. (itstool) path: step/para
#: xml/storage_multipath.xml:2074
#: xml/storage_multipath.xml:2148
msgid "Set the <literal>bindings_file</literal> option in the <literal>defaults</literal> section of /<filename>etc/multipath.conf</filename> to this new location. For example:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/storage_multipath.xml:2080
#, no-wrap
msgid ""
"\n"
"defaults {\n"
"               user_friendly_names yes\n"
"               bindings_file \"/etc/multipath/bindings\"\n"
"}\n"
""
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:2092
msgid "Multipath Is in the initrd:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2094
msgid "Even if the system root device is not on multipath, it is possible for multipath to be included in the <filename>initrd</filename>. For example, this can happen if the system root device is on LVM. If you use the <literal>user_friendly_names</literal> option and multipath is in the <filename>initrd</filename>, you should boot with the parameter <command>multipath=off</command> to avoid problems."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2102
msgid "This disables multipath only in the <filename>initrd</filename> during system boots. After the system boots, the <filename>boot.multipath</filename> and <filename>multipathd</filename> boot scripts can activate multipathing."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:2111
msgid "Multipathing in HA Clusters:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2113
msgid "See <xref linkend=\"sec.multipath.names.ha\"/> for details."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:2120
msgid "To enable user-friendly names or to specify aliases:"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:2126
msgid "Open the <filename>/etc/multipath.conf</filename> file in a text editor with <systemitem class=\"username\">root</systemitem> privileges."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:2132
msgid "(Optional) Modify the location of the <filename>/var/lib/multipath/bindings</filename> file."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:2136
msgid "The alternate path must be available on the system root device where multipath can find it."
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:2154
#, no-wrap
msgid ""
"\n"
"defaults {\n"
"          user_friendly_names yes\n"
"          bindings_file \"/etc/multipath/bindings\"\n"
"}\n"
""
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:2164
msgid "(Optional, not recommended) Enable user-friendly names:"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:2169
msgid "Uncomment the <literal>defaults</literal> section and its ending bracket."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:2175
msgid "Uncomment the <literal>user_friendly_names option</literal>, then change its value from No to Yes."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:2179
#: xml/storage_multipath.xml:2195
#: xml/storage_multipath.xml:3879
msgid "For example:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:2182
#, no-wrap
msgid ""
"## Use user-friendly names, instead of using WWIDs as names.\n"
"defaults {\n"
"  user_friendly_names yes\n"
"}"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:2190
msgid "(Optional) Specify your own names for devices by using the <command>alias</command> option in the <command>multipath</command> section."
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:2198
#, no-wrap
msgid ""
"## Use alias names, instead of using WWIDs as names.\n"
"multipaths {\n"
"       multipath {\n"
"               wwid           36006048000028350131253594d303030\n"
"               alias             blue1\n"
"       }\n"
"       multipath {\n"
"               wwid           36006048000028350131253594d303041\n"
"               alias             blue2\n"
"       }\n"
"       multipath {\n"
"               wwid           36006048000028350131253594d303145\n"
"               alias             yellow1\n"
"       }\n"
"       multipath {\n"
"               wwid           36006048000028350131253594d303334\n"
"               alias             yellow2\n"
"       }\n"
"}\n"
""
msgstr ""

#. (itstool) path: important/title
#: xml/storage_multipath.xml:2219
msgid "WWWID Compared to WWN"
msgstr ""

#. (itstool) path: important/para
#: xml/storage_multipath.xml:2220
msgid "When you define device aliases in the <filename>/etc/multipath.conf</filename> file, ensure that you use each device’s WWID (such as <filename>3600508e0000000009e6baa6f609e7908</filename>) and not its WWN, which replaces the first character of a device ID with <filename>0x</filename>, such as <filename>0x600508e0000000009e6baa6f609e7908</filename>."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:2232
msgid "Save your changes, then close the file."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:2247
msgid "To use the entire LUN directly (for example, if you are using the SAN features to partition your storage), you can use the <filename>/dev/disk/by-id/xxx</filename> names for <command>mkfs</command>, <command>fstab</command>, your application, and so on. Partitioned devices have <filename>_part&lt;n&gt;</filename> appended to the device name, such as <filename>/dev/disk/by-id/xxx_part1</filename>."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:2256
msgid "In the <filename>/dev/disk/by-id</filename> directory, the multipath-mapped devices are represented by the device’s <filename>dm-uuid*</filename> name or alias name (if you assign an alias for it in the <filename>/etc/multipath.conf</filename> file). The <filename>scsi-</filename> and <filename>wwn-</filename> device names represent physical paths to the devices."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:2266
msgid "Multipath Device Names in HA Clusters"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:2267
msgid "Make sure that multipath devices have the same name across all devices by doing the following:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2273
msgid "Use UUID and alias names to ensure that multipath device names are consistent across all nodes in the cluster. Alias names must be unique across all nodes. Copy the <filename>/etc/multipath.conf </filename>file from the node to the <filename>/etc/</filename> directory for all of the other nodes in the cluster."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2282
msgid "When using links to multipath-mapped devices, ensure that you specify the <filename>dm-uuid*</filename> name or alias name in the <filename>/dev/disk/by-id</filename> directory, and not a fixed path instance of the device. For information, see <xref linkend=\"sec.multipath.names\" xrefstyle=\"SectTitleOnPage\"/>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2291
msgid "Set the <literal>user_friendly_names</literal> configuration option to <literal>no</literal> to disable it. A user-friendly name is unique to a node, but a device might not be assigned the same user-friendly name on every node in the cluster."
msgstr ""

#. (itstool) path: note/title
#: xml/storage_multipath.xml:2300
msgid "User-Friendly Names"
msgstr ""

#. (itstool) path: note/para
#: xml/storage_multipath.xml:2301
msgid "If you really need to use user-friendly names, you can force the system-defined user-friendly names to be consistent across all nodes in the cluster by doing the following:"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:2308
msgid "In the <filename>/etc/multipath.conf</filename> file on one node:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2313
msgid "Set the <literal>user_friendly_names</literal> configuration option to <literal>yes</literal> to enable it."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2317
msgid "Multipath uses the <filename>/var/lib/multipath/bindings</filename> file to assign a persistent and unique name to the device in the form of <filename>mpath&lt;<replaceable>N</replaceable>&gt;</filename> in the <filename>/dev/mapper </filename>directory."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2325
msgid "(Optional) Set the <literal>bindings_file</literal> option in the <literal>defaults</literal> section of the <literal>/etc/multipath.conf</literal> file to specify an alternate location for the <filename>bindings</filename> file."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2331
msgid "The default location is <filename>/var/lib/multipath/bindings</filename>."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:2339
msgid "Set up all of the multipath devices on the node."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:2344
msgid "Copy the <filename>/etc/multipath.conf</filename> file from the node to the <filename>/etc/</filename> directory of all the other nodes in the cluster."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:2351
msgid "Copy the <filename>bindings</filename> file from the node to the <filename>bindings_file</filename> path on all of the other nodes in the cluster."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:2358
msgid "After you have modified the <filename>/etc/multipath.conf</filename> file, you must run <command>dracut</command> <option>-f</option> to re-create the <filename>initrd</filename> on your system, then restart the node for the changes to take effect. See <xref linkend=\"sec.multipath.conf_file.apply\"/> for details. This applies to all affected nodes."
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:2372
msgid "Configuring Path Failover Policies and Priorities"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:2374
msgid "In a Linux host, when there are multiple paths to a storage controller, each path appears as a separate block device, and results in multiple block devices for single LUN. The Device Mapper Multipath service detects multiple paths with the same LUN ID, and creates a new multipath device with that ID. For example, a host with two HBAs attached to a storage controller with two ports via a single unzoned Fibre Channel switch sees four block devices: <filename>/dev/sda</filename>, <filename>/dev/sdb</filename>, <filename>/dev/sdc</filename>, and <filename>/dev/sdd</filename>. The Device Mapper Multipath service creates a single block device, <filename>/dev/mpath/mpath1</filename>, that reroutes I/O through those four underlying block devices."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:2388
msgid "This section describes how to specify policies for failover and configure priorities for the paths. Note that after you have modified the <filename>/etc/multipath.conf</filename> file, you must run <command>dracut</command> <option>-f</option> to re-create the <filename>initrd</filename> on your system, then restart the server for the changes to take effect. See <xref linkend=\"sec.multipath.conf_file.apply\"/> for details."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:2399
msgid "Configuring the Path Failover Policies"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:2400
msgid "Use the <command>multipath</command> command with the <option>-p</option> option to set the path failover policy:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:2404
#, no-wrap
msgid ""
"sudo multipath <replaceable>DEVICENAME</replaceable> -p <replaceable>POLICY</replaceable>"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:2405
msgid "Replace <replaceable>POLICY</replaceable> with one of the following policy options:"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2436
msgid "(Default) One path per priority group."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2460
msgid "One priority group per detected serial number."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2472
msgid "One priority group per path priority value. Priorities are determined by callout programs specified as a global, per-controller, or per-multipath option in the <filename>/etc/multipath.conf</filename> configuration file."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:2500
msgid "Configuring Failover Priorities"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:2501
msgid "You must manually enter the failover priorities for the device in the <filename>/etc/multipath.conf</filename> file. Examples for all settings and options can be found in the <filename>/usr/share/doc/packages/multipath-tools/multipath.conf.annotated</filename> file."
msgstr ""

#. (itstool) path: sect3/title
#: xml/storage_multipath.xml:2509
msgid "Understanding Priority Groups and Attributes"
msgstr ""

#. (itstool) path: sect3/para
#: xml/storage_multipath.xml:2510
msgid "A <emphasis>priority group</emphasis> is a collection of paths that go to the same physical LUN. By default, I/O is distributed in a round-robin fashion across all paths in the group. The <command>multipath</command> command automatically creates priority groups for each LUN in the SAN based on the <literal>path_grouping_policy</literal> setting for that SAN. The <command>multipath</command> command multiplies the number of paths in a group by the group’s priority to determine which group is the primary. The group with the highest calculated value is the primary. When all paths in the primary group are failed, the priority group with the next highest value becomes active."
msgstr ""

#. (itstool) path: sect3/para
#: xml/storage_multipath.xml:2522
msgid "A <emphasis>path priority</emphasis> is an integer value assigned to a path. The higher the value, the higher the priority. An external program is used to assign priorities for each path. For a given device, the paths with the same priorities belong to the same priority group."
msgstr ""

#. (itstool) path: sect3/para
#: xml/storage_multipath.xml:2528
msgid "The <literal>prio</literal> setting is used in the <literal>defaults{}</literal> or <literal>devices{}</literal> section of the <filename>/etc/multipath.conf</filename> file. It is silently ignored when it is specified for an individual <literal>multipath</literal> definition in the <literal>multipaths{)</literal> section. The <literal>prio</literal> line specifies the prioritizer. If the prioritizer requires an argument, you specify the argument by using the <literal>prio_args</literal> keyword on a second line."
msgstr ""

#. (itstool) path: sect3/bridgehead
#: xml/storage_multipath.xml:2538
msgid "PRIO Settings for the Defaults or Devices Sections"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:2541
msgid "prio"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2543
msgid "Specifies the prioritizer program to call to obtain a path priority value. Weights are summed for each path group to determine the next path group to use in case of failure."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2548
msgid "Use the <literal>prio_args</literal> keyword to specify arguments if the specified prioritizer requires arguments."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2552
msgid "If no <literal>prio</literal> keyword is specified, all paths are equal. The default setting is <literal>const</literal> with a <literal>prio_args</literal> setting with no value."
msgstr ""

#. (itstool) path: listitem/screen
#: xml/storage_multipath.xml:2557
#, no-wrap
msgid ""
"prio \"const\"\n"
"prio_args \"\""
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2559
msgid "Example prioritizer programs include:"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2569
msgid "Prioritizer Program"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2583
msgid "<literal>alua</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2588
msgid "Generates path priorities based on the SCSI-3 ALUA settings."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2595
msgid "<literal>const</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2600
msgid "Generates the same priority for all paths."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2607
msgid "<literal>emc</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2612
msgid "Generates the path priority for EMC arrays."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2619
msgid "<literal>hdc</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2624
msgid "Generates the path priority for Hitachi HDS Modular storage arrays."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2632
msgid "<literal>hp_sw</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2637
msgid "Generates the path priority for Compaq/HP controller in active/standby mode."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2645
msgid "<literal>ontap</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2650
msgid "Generates the path priority for NetApp arrays."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2657
msgid "<literal>random</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2662
msgid "Generates a random priority for each path."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2669
msgid "<literal>rdac</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2674
msgid "Generates the path priority for LSI/Engenio RDAC controller."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2681
msgid "<literal>weightedpath</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2686
msgid "Generates the path priority based on the weighted values you specify in the arguments for <literal>prio_args</literal>, such as:"
msgstr ""

#. (itstool) path: entry/screen
#: xml/storage_multipath.xml:2691
#, no-wrap
msgid ""
"[hbtl|devname] <replaceable>REGEX1</replaceable> <replaceable>PRIO1</replaceable> <replaceable>REGEX2</replaceable> <replaceable>PRIO2</replaceable>..."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2692
msgid "The <literal>hbtl regex</literal> argument format uses the SCSI <literal>H:B:T:L</literal> notation (such as <literal>1:0:.:.</literal> and <literal>*:0:0:.</literal>) with a weight value, where H, B, T, L are the host, bus, target, and LUN IDs for a device. For example:"
msgstr ""

#. (itstool) path: entry/screen
#: xml/storage_multipath.xml:2699
#, no-wrap
msgid ""
"prio \"weightedpath\"\n"
"prio_args \"hbtl 1:.:.:. 2 4:.:.:. 4\""
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2701
msgid "The <literal>devname</literal> regular expression argument format uses a device node name with a weight value for each device. For example:"
msgstr ""

#. (itstool) path: entry/screen
#: xml/storage_multipath.xml:2706
#, no-wrap
msgid ""
"prio \"weightedpath\"\n"
"prio_args \"devname sda 50 sde 10 sdc 50 sdf 10\""
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:2716
msgid "<literal>prio_args</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2719
msgid "Specifies the arguments for the specified prioritizer program that requires arguments. Most <literal>prio</literal> programs do not need arguments."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2724
msgid "There is no default. The value depends on the <literal>prio</literal> setting and whether the prioritizer requires arguments."
msgstr ""

#. (itstool) path: sect3/bridgehead
#: xml/storage_multipath.xml:2731
msgid "Multipath Attributes"
msgstr ""

#. (itstool) path: sect3/para
#: xml/storage_multipath.xml:2732
msgid "Multipath attributes are used to control the behavior of multipath I/O for devices. You can specify attributes as defaults for all multipath devices. You can also specify attributes that apply only to a given multipath device by creating an entry for that device in the <literal>multipaths</literal> section of the multipath configuration file."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:2741
msgid "<literal>user_friendly_names</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2744
msgid "Specifies whether to use world-wide IDs (WWIDs) or to use the <filename>/var/lib/multipath/bindings</filename> file to assign a persistent and unique alias to the multipath devices in the form of <filename>/dev/mapper/mpathN</filename>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2750
msgid "This option can be used in the <literal>devices</literal> section and the <literal>multipaths</literal> section."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2761
#: xml/storage_multipath.xml:2825
#: xml/storage_multipath.xml:2923
#: xml/storage_multipath.xml:3012
#: xml/storage_multipath.xml:3121
#: xml/storage_multipath.xml:3219
#: xml/storage_multipath.xml:3329
msgid "Value"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2775
msgid "<literal>no</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2780
msgid "(Default) Use the WWIDs shown in the <filename>/dev/disk/by-id/</filename> location."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2788
msgid "<literal>yes</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2793
msgid "Autogenerate user-friendly names as aliases for the multipath devices instead of the actual ID."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:2805
msgid "<literal>failback</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2808
msgid "Specifies whether to monitor the failed path recovery, and indicates the timing for group failback after failed paths return to service."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2812
msgid "When the failed path recovers, the path is added back into the multipath-enabled path list based on this setting. Multipath evaluates the priority groups, and changes the active priority group when the priority of the primary path exceeds the secondary group."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2839
msgid "<literal>manual</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2844
msgid "(Default) The failed path is not monitored for recovery. The administrator runs the <command>multipath</command> command to update enabled paths and priority groups."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2853
msgid "<literal>followover</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2858
msgid "Only perform automatic failback when the first path of a pathgroup becomes active. This keeps a node from automatically failing back when another node requested the failover."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2867
msgid "<literal>immediate</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2872
msgid "When a path recovers, enable the path immediately."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2879
#: xml/storage_multipath.xml:2937
msgid "<literal><replaceable>N</replaceable></literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2884
msgid "When the path recovers, wait <replaceable>N</replaceable> seconds before enabling the path. Specify an integer value greater than 0."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2893
msgid "We recommend failback setting of <literal>manual</literal> for multipath in cluster environments to prevent multipath failover ping-pong."
msgstr ""

#. (itstool) path: listitem/screen
#: xml/storage_multipath.xml:2898
#, no-wrap
msgid ""
"failback \"manual\""
msgstr ""

#. (itstool) path: important/title
#: xml/storage_multipath.xml:2900
#: xml/storage_multipath.xml:2990
msgid "Verification"
msgstr ""

#. (itstool) path: important/para
#: xml/storage_multipath.xml:2901
msgid "Make sure that you verify the failback setting with your storage system vendor. Different storage systems can require different settings."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:2910
msgid "<literal>no_path_retry</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2913
msgid "Specifies the behaviors to use on path failure."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2942
msgid "Specifies the number of retries until <command>multipath</command> stops the queuing and fails the path. Specify an integer value greater than 0."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2947
msgid "In a cluster, you can specify a value of “0” to prevent queuing and allow resources to fail over."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2955
msgid "<literal>fail</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2960
msgid "Specifies immediate failure (no queuing)."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2967
msgid "<literal>queue</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:2972
msgid "Never stop queuing (queue forever until the path comes alive)."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:2980
msgid "We recommend a retry setting of <literal>fail</literal> or <literal>0</literal> in the <filename>/etc/multipath.conf</filename> file when working in a cluster. This causes the resources to fail over when the connection is lost to storage. Otherwise, the messages queue and the resource failover cannot occur."
msgstr ""

#. (itstool) path: listitem/screen
#: xml/storage_multipath.xml:2987
#, no-wrap
msgid ""
"no_path_retry \"fail\"\n"
"no_path_retry \"0\""
msgstr ""

#. (itstool) path: important/para
#: xml/storage_multipath.xml:2991
msgid "Make sure that you verify the retry settings with your storage system vendor. Different storage systems can require different settings."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:2999
msgid "<literal>path_checker</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:3002
msgid "Determines the state of the path."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3026
msgid "<literal>directio</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3031
msgid "Reads the first sector that has direct I/O. This is useful for DASD devices. Logs failure messages in the <systemitem class=\"daemon\">systemd</systemitem> journal (see <xref linkend=\"cha.journalctl\"/>)."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3040
msgid "<literal>tur</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3045
msgid "Issues an SCSI test unit ready command to the device. This is the preferred setting if the LUN supports it. On failure, the command does not fill up the <systemitem class=\"daemon\">systemd</systemitem> log journal with messages."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3054
msgid "<replaceable>CUSTOM_VENDOR_VALUE</replaceable>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3059
msgid "Some SAN vendors provide custom path_checker options:"
msgstr ""

#. (itstool) path: formalpara/title
#: xml/storage_multipath.xml:3065
msgid "<literal>cciss_tur</literal>:"
msgstr ""

#. (itstool) path: formalpara/para
#: xml/storage_multipath.xml:3066
msgid "Checks the path state for HP Smart Storage Arrays."
msgstr ""

#. (itstool) path: formalpara/title
#: xml/storage_multipath.xml:3073
msgid "<literal>emc_clariion</literal>:"
msgstr ""

#. (itstool) path: formalpara/para
#: xml/storage_multipath.xml:3074
msgid "Queries the EMC Clariion EVPD page 0xC0 to determine the path state."
msgstr ""

#. (itstool) path: formalpara/title
#: xml/storage_multipath.xml:3082
msgid "<literal>hp_sw</literal>:"
msgstr ""

#. (itstool) path: formalpara/para
#: xml/storage_multipath.xml:3083
msgid "Checks the path state (Up, Down, or Ghost) for HP storage arrays with Active/Standby firmware."
msgstr ""

#. (itstool) path: formalpara/title
#: xml/storage_multipath.xml:3091
msgid "<literal>rdac</literal>:"
msgstr ""

#. (itstool) path: formalpara/para
#: xml/storage_multipath.xml:3092
msgid "Checks the path state for the LSI/Engenio RDAC storage controller."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:3107
msgid "<literal>path_grouping_policy</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:3110
msgid "Specifies the path grouping policy for a multipath device hosted by a given controller."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3135
msgid "<literal>failover</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3140
msgid "(Default) One path is assigned per priority group so that only one path at a time is used."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3148
msgid "<literal>multibus</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3153
msgid "All valid paths are in one priority group. Traffic is load-balanced across all active paths in the group."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3161
msgid "<literal>group_by_prio</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3166
msgid "One priority group exists for each path priority value. Paths with the same priority are in the same priority group. Priorities are assigned by an external program."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3175
msgid "<literal>group_by_serial</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3180
msgid "Paths are grouped by the SCSI target serial number (controller node WWN)."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3188
msgid "<literal>group_by_node_name</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3193
msgid "One priority group is assigned per target node name. Target node names are fetched in <filename>/sys/class/fc_transport/target*/node_name</filename>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:3206
msgid "<literal>path_selector</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:3209
msgid "Specifies the path-selector algorithm to use for load balancing."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3233
msgid "<literal>round-robin 0</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3238
msgid "The load-balancing algorithm used to balance traffic across all active paths in a priority group."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3246
msgid "<literal>queue-length 0</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3251
msgid "A dynamic load balancer that balances the number of in-flight I/O on paths similar to the least-pending option."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3259
msgid "<literal>service-time 0</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3264
msgid "(Default) A service-time oriented load balancer that balances I/O on paths according to the latency."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:3276
msgid "pg_timeout"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:3278
msgid "Specifies path group timeout handling. No value can be specified; an internal default is set."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:3285
msgid "<literal>polling_interval</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:3288
msgid "Specifies the time in seconds between the end of one path checking cycle and the beginning of the next path checking cycle."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:3292
msgid "Specify an integer value greater than 0. The default value is 5. Make sure that you verify the polling_interval setting with your storage system vendor. Different storage systems can require different settings."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:3301
msgid "<literal>rr_min_io_rq</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:3304
msgid "Specifies the number of I/O requests to route to a path before switching to the next path in the current path group, using request-based device-mapper-multipath."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:3309
msgid "Specify an integer value greater than 0. The default value is 1."
msgstr ""

#. (itstool) path: listitem/screen
#: xml/storage_multipath.xml:3312
#, no-wrap
msgid ""
"rr_min_io_rq \"1\""
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:3316
msgid "<literal>rr_weight</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:3319
msgid "Specifies the weighting method to use for paths."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3343
msgid "<literal>uniform</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3348
msgid "(Default) All paths have the same round-robin weights."
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3355
msgid "<literal>priorities</literal>"
msgstr ""

#. (itstool) path: entry/para
#: xml/storage_multipath.xml:3360
msgid "Each path’s weight is determined by the path’s priority times the rr_min_io_rq setting."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/storage_multipath.xml:3372
msgid "<literal>uid_attribute</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:3375
msgid "A udev attribute that provides a unique path identifier. The default value is <literal>ID_SERIAL</literal>."
msgstr ""

#. (itstool) path: sect3/title
#: xml/storage_multipath.xml:3384
msgid "Configuring for Round-Robin Load Balancing"
msgstr ""

#. (itstool) path: sect3/para
#: xml/storage_multipath.xml:3385
msgid "All paths are active. I/O is configured for some number of seconds or some number of I/O transactions before moving to the next open path in the sequence."
msgstr ""

#. (itstool) path: sect3/title
#: xml/storage_multipath.xml:3392
msgid "Configuring for Single Path Failover"
msgstr ""

#. (itstool) path: sect3/para
#: xml/storage_multipath.xml:3393
msgid "A single path with the highest priority (lowest value setting) is active for traffic. Other paths are available for failover, but are not used unless failover occurs."
msgstr ""

#. (itstool) path: sect3/title
#: xml/storage_multipath.xml:3400
msgid "Grouping I/O Paths for Round-Robin Load Balancing"
msgstr ""

#. (itstool) path: sect3/para
#: xml/storage_multipath.xml:3401
msgid "Multiple paths with the same priority fall into the active group. When all paths in that group fail, the device fails over to the next highest priority group. All paths in the group share the traffic load in a round-robin load balancing fashion."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:3411
msgid "Reporting Target Path Groups"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:3412
msgid "Use the SCSI Report Target Port Groups (<command>sg_rtpg(8)</command>) command. For information, see the man page for <command>sg_rtpg(8)</command>."
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:3420
msgid "Configuring Multipath I/O for the Root Device"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:3422
msgid "Device Mapper Multipath I/O (DM-MPIO) is available and supported for <filename>/boot</filename> and <filename>/root</filename> in <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase>. In addition, the YaST partitioner in the YaST installer supports enabling multipath during the install."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:3430
msgid "Enabling Multipath I/O at Install Time"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:3431
msgid "To install the operating system on a multipath device, the multipath software must be running at install time. The <systemitem class=\"daemon\">multipathd</systemitem> daemon is not automatically active during the system installation. You can start it by using the <guimenu>Configure Multipath</guimenu> option in the YaST Partitioner."
msgstr ""

#. (itstool) path: sect3/title
#: xml/storage_multipath.xml:3440
msgid "Enabling Multipath I/O at Install Time on an Active/Active Multipath Storage LUN"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3443
#: xml/storage_multipath.xml:3487
msgid "Choose <guimenu>Expert Partitioner</guimenu> on the <guimenu>Suggested Partitioning</guimenu> screen during the installation."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3449
#: xml/storage_multipath.xml:3493
msgid "Select the <guimenu>Hard Disks</guimenu> main icon, click the <guimenu>Configure</guimenu> button, then select <guimenu>Configure Multipath</guimenu>."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3456
#: xml/storage_multipath.xml:3500
msgid "Start multipath."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3459
msgid "YaST starts to rescan the disks and shows available multipath devices (such as <filename>/dev/disk/by-id/dm-uuid-mpath-3600a0b80000f4593000012ae4ab0ae65</filename>). This is the device that should be used for all further processing."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3467
#: xml/storage_multipath.xml:3512
msgid "Click <guimenu>Next</guimenu> to continue with the installation."
msgstr ""

#. (itstool) path: sect3/title
#: xml/storage_multipath.xml:3474
msgid "Enabling Multipath I/O at Install Time on an Active/Passive Multipath Storage LUN"
msgstr ""

#. (itstool) path: sect3/para
#: xml/storage_multipath.xml:3475
msgid "The <systemitem class=\"daemon\">multipathd</systemitem> daemon is not automatically active during the system installation. You can start it by using the <guimenu>Configure Multipath</guimenu> option in the YaST Partitioner."
msgstr ""

#. (itstool) path: sect3/para
#: xml/storage_multipath.xml:3481
msgid "To enable multipath I/O at install time for an active/passive multipath storage LUN:"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3503
msgid "YaST starts to rescan the disks and shows available multipath devices (such as <filename>/dev/disk/by-id/dm-uuid-mpath-3600a0b80000f4593000012ae4ab0ae65</filename>). This is the device that should be used for all further processing. Write down the device path and UUID; you will need it later."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3517
msgid "After all settings are done and the installation is finished, YaST starts to write the boot loader information, and displays a countdown to restart the system. Stop the counter by clicking the <guimenu>Stop</guimenu> button and press <keycombo><keycap function=\"control\"/><keycap function=\"alt\"/><keycap>F5</keycap></keycombo> to access a console."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3527
msgid "Use the console to determine if a passive path was entered in the <filename>/boot/grub2/device.map</filename> file for the <filename>hd0</filename> entry."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3532
msgid "This is necessary because the installation does not distinguish between active and passive paths."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3538
msgid "Mount the root device to <filename>/mnt</filename> by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3541
#, no-wrap
msgid ""
"mount /dev/disk/by-id/<replaceable>UUID</replaceable>;_part2 /mnt"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3542
#: xml/storage_multipath.xml:3552
#: xml/storage_multipath.xml:3626
msgid "For example, enter"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3545
#, no-wrap
msgid ""
"mount /dev/disk/by-id/dm-uuid-mpath-3600a0b80000f4593000012ae4ab0ae65_part2 /mnt"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3548
msgid "Mount the boot device to <filename>/mnt/boot</filename> by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3551
#, no-wrap
msgid ""
"mount /dev/disk/by-id/<replaceable>UUID</replaceable>_part1 /mnt/boot"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3555
#, no-wrap
msgid ""
"mount /dev/disk/by-id/dm-uuid-mpath-3600a0b80000f4593000012ae4ab0ae65_part2 /mnt/boot"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3558
msgid "In the <filename>/mnt/boot/grub2/device.map</filename> file, determine if the <filename>hd0</filename> entry points to a passive path, then do one of the following:"
msgstr ""

#. (itstool) path: formalpara/title
#: xml/storage_multipath.xml:3566
msgid "Active path:"
msgstr ""

#. (itstool) path: formalpara/para
#: xml/storage_multipath.xml:3567
msgid "No action is needed. Skip all remaining steps and return to the YaST graphical environment by pressing <keycombo><keycap function=\"control\"/><keycap function=\"alt\"/><keycap>F7</keycap></keycombo> and continue with the installation."
msgstr ""

#. (itstool) path: formalpara/title
#: xml/storage_multipath.xml:3577
msgid "Passive path:"
msgstr ""

#. (itstool) path: formalpara/para
#: xml/storage_multipath.xml:3578
msgid "The configuration must be changed and the boot loader must be reinstalled."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3589
msgid "If the <filename>hd0</filename> entry points to a passive path, change the configuration and reinstall the boot loader:"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3595
msgid "Enter the following commands at the console prompt:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3598
#, no-wrap
msgid ""
"\n"
"          mount -o bind /dev /mnt/dev\n"
"          mount -o bind /sys /mnt/sys\n"
"          mount -o bind /proc /mnt/proc\n"
"          chroot /mnt"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3605
msgid "At the console, run <command>multipath -ll</command>, then check the output to find the active path."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3609
msgid "Passive paths are flagged as <literal>ghost</literal>."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3614
msgid "In the <filename>/boot/grub2/device.map</filename> file, change the <literal>hd0</literal> entry to an active path, save the changes, and close the file."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3621
msgid "Reinstall the boot loader by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3624
#, no-wrap
msgid ""
"\n"
"          grub-install /dev/disk/by-id/<replaceable>UUID</replaceable>_part1 /mnt/boot"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3629
#, no-wrap
msgid ""
"grub-install /dev/disk/by-id/dm-uuid-mpath-3600a0b80000f4593000012ae4ab0ae65_part2 /mnt/boot"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3632
msgid "Enter the following commands:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3635
#, no-wrap
msgid ""
"exit\n"
"umount /mnt/*\n"
"umount /mnt"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3642
msgid "Return to the YaST graphical environment by pressing <keycombo><keycap function=\"control\"/><keycap function=\"alt\"/><keycap>F7</keycap></keycombo>."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3648
msgid "Click <guimenu>OK</guimenu> to continue with the installation reboot."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:3657
msgid "Enabling Multipath I/O for an Existing Root Device"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3660
msgid "Install Linux with only a single path active, preferably one where the <filename>by-id</filename> symbolic links are listed in the partitioner."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3666
msgid "Mount the devices by using the <filename>/dev/disk/by-id</filename> path used during the install."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3672
msgid "Add dm-multipath to <filename>/etc/dracut.conf.d/01-dist.conf</filename> by adding the following line:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3676
#, no-wrap
msgid ""
"force_drivers+=\"dm-multipath\""
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3679
msgid "For IBM z Systems, before running <command>dracut</command>, edit the <filename>/etc/zipl.conf</filename> file to change the by-path information in <filename>zipl.conf</filename> with the same by-id information that was used in <filename>/etc/fstab</filename>."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3690
msgid "Run <command>dracut</command> <option>-f</option> to update the <filename>initrd</filename> image."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3696
msgid "For IBM z Systems, after running <command>dracut</command>, run <command>zipl</command>."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3702
msgid "Reboot the server."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:3710
msgid "Disabling Multipath I/O on the Root Device"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:3711
msgid "Add <literal>multipath=off</literal> to the kernel command line. This can be done with the YaST Boot Loader module. Open <menuchoice> <guimenu>Boot Loader Installation</guimenu> <guimenu>Kernel Parameters</guimenu> </menuchoice> and add the parameter to both command lines."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:3717
msgid "This affects only the root device. All other devices are not affected."
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:3723
msgid "Configuring Multipath I/O for an Existing Software RAID"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:3725
msgid "Ideally, you should configure multipathing for devices before you use them as components of a software RAID device. If you add multipathing after creating any software RAID devices, the DM-MPIO service might be starting after the <command>multipath</command> service on reboot, which makes multipathing appear not to be available for RAIDs. You can use the procedure in this section to get multipathing running for a previously existing software RAID."
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:3735
msgid "For example, you might need to configure multipathing for devices in a software RAID under the following circumstances:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:3742
msgid "If you create a new software RAID as part of the Partitioning settings during a new install or upgrade."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:3748
msgid "If you did not configure the devices for multipathing before using them in the software RAID as a member device or spare."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:3754
msgid "If you grow your system by adding new HBA adapters to the server or expanding the storage subsystem in your SAN."
msgstr ""

#. (itstool) path: note/title
#: xml/storage_multipath.xml:3762
msgid "Assumptions"
msgstr ""

#. (itstool) path: note/para
#: xml/storage_multipath.xml:3763
msgid "The following instructions assume the software RAID device is <filename>/dev/mapper/mpath0</filename>, which is its device name as recognized by the kernel. It assumes you have enabled user-friendly names in the <filename>/etc/multipath.conf</filename> file as described in <xref linkend=\"sec.multipath.names\" xrefstyle=\"HeadingOnPage\"/>."
msgstr ""

#. (itstool) path: note/para
#: xml/storage_multipath.xml:3770
msgid "Make sure to modify the instructions for the device name of your software RAID."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3778
#: xml/storage_multipath.xml:4032
#: xml/storage_multipath.xml:4287
#: xml/storage_multipath.xml:4326
msgid "Open a terminal console."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3781
msgid "Except where otherwise directed, use this console to enter the commands in the following steps."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3787
msgid "If any software RAID devices are currently mounted or running, enter the following commands for each device to unmount the device and stop it."
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3791
#, no-wrap
msgid ""
"sudo umount /dev/mapper/mpath0\n"
"sudo mdadm --misc --stop /dev/mapper/mpath0"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3795
msgid "Stop the <command>md</command> service by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3798
#, no-wrap
msgid ""
"sudo systemctl stop mdmonitor"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3801
msgid "Start the <systemitem class=\"daemon\">multipathd</systemitem> daemon by entering the following command:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3805
#, no-wrap
msgid ""
"systemctl start multipathd"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3808
msgid "After the multipathing service has been started, verify that the software RAID’s component devices are listed in the <filename>/dev/disk/by-id</filename> directory. Do one of the following:"
msgstr ""

#. (itstool) path: formalpara/title
#: xml/storage_multipath.xml:3816
msgid "Devices Are Listed:"
msgstr ""

#. (itstool) path: formalpara/para
#: xml/storage_multipath.xml:3817
msgid "The device names should now have symbolic links to their Device Mapper Multipath device names, such as <filename>/dev/dm-1</filename>."
msgstr ""

#. (itstool) path: formalpara/title
#: xml/storage_multipath.xml:3825
msgid "Devices Are Not Listed:"
msgstr ""

#. (itstool) path: formalpara/para
#: xml/storage_multipath.xml:3826
msgid "Force the multipath service to recognize them by flushing and rediscovering the devices by entering"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/storage_multipath.xml:3831
#, no-wrap
msgid ""
"sudo multipath -F\n"
"sudo multipath -v0"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:3833
msgid "The devices should now be listed in <filename>/dev/disk/by-id</filename>, and have symbolic links to their Device Mapper Multipath device names. For example:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/storage_multipath.xml:3838
#, no-wrap
msgid ""
"lrwxrwxrwx 1 root root 10 2011-01-06 11:42 dm-uuid-mpath-36006016088d014007e0d0d2213ecdf11 -&gt; ../../dm-1"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3843
msgid "Restart the <filename>mdmonitor</filename> service and the RAID device by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3847
#, no-wrap
msgid ""
"systemctl start mdmonitor"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3850
msgid "Check the status of the software RAID by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3853
#: xml/storage_multipath.xml:3878
#, no-wrap
msgid ""
"mdadm --detail /dev/mapper/mpath0"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3854
msgid "The RAID’s component devices should match their Device Mapper Multipath device names that are listed as the symbolic links of devices in the <filename>/dev/disk/by-id</filename> directory."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3861
msgid "In case the root (<filename>/</filename>) device or any parts of it (such as <filename>/var</filename>, <filename>/etc</filename>, <filename>/log</filename>) are on the SAN and multipath is needed to boot, rebuild the <systemitem>initrd</systemitem>:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3866
#: xml/storage_multipath.xml:4698
#, no-wrap
msgid ""
"dracut -f --add-multipath"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3869
msgid "Reboot the server to apply the changes."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3874
msgid "Verify that the software RAID array comes up properly on top of the multipathed devices by checking the RAID status. Enter"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:3883
msgid "<literal>Number Major Minor RaidDevice State</literal>"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:3885
msgid "<literal>0 253 0 0 active sync /dev/dm-0</literal>"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:3887
msgid "<literal>1 253 1 1 active sync /dev/dm-1</literal>"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/storage_multipath.xml:3889
msgid "<literal>2 253 2 2 active sync /dev/dm-2</literal>"
msgstr ""

#. (itstool) path: note/title
#: xml/storage_multipath.xml:3896
msgid "Using mdadm with Multipath Devices"
msgstr ""

#. (itstool) path: note/para
#: xml/storage_multipath.xml:3897
msgid "The <command>mdadm</command> tool requires that the devices be accessed by the ID rather than by the device node path. Refer to <xref linkend=\"sec.multipath.mpiotools.mdadm\"/> for details."
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:3905
msgid "Using LVM2 on Multipath Devices"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:3906
msgid "By default LVM is configured to ignore components of multipath devices. This is the most likely desired behavior, but it can be changed in <filename>/etc/lvm/lvm.conf</filename>. When multipath_component_detection is set to 0, LVM is scanning multipath component devices. The default entry in lvm.conf is:"
msgstr ""

#. (itstool) path: sect1/screen
#: xml/storage_multipath.xml:3912
#, no-wrap
msgid ""
"    # By default, LVM2 will ignore devices used as component paths\n"
"    # of device-mapper multipath devices.\n"
"    # 1 enables; 0 disables.\n"
"    multipath_component_detection = 1"
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:3918
msgid "Best Practice"
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:3923
msgid "Scanning for New Devices without Rebooting"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:3924
msgid "If your system has already been configured for multipathing and you later need to add more storage to the SAN, you can use the <command>rescan-scsi-bus.sh</command> script to scan for the new devices. By default, this script scans all HBAs with typical LUN ranges. The general syntax for the command looks like the following:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:3931
#, no-wrap
msgid ""
"rescan-scsi-bus.sh [options] [host [host ...]]"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:3932
msgid "For most storage subsystems, the script can be run successfully without options. However, some special cases might need to use one or more options. Run <command>rescan-scsi-bus.sh --help</command> for details."
msgstr ""

#. (itstool) path: warning/title
#: xml/storage_multipath.xml:3938
#: xml/storage_multipath.xml:4020
msgid "EMC PowerPath Environments"
msgstr ""

#. (itstool) path: warning/para
#: xml/storage_multipath.xml:3939
#: xml/storage_multipath.xml:4021
msgid "In EMC PowerPath environments, do not use the <filename>rescan-scsi-bus.sh</filename> utility provided with the operating system or the HBA vendor scripts for scanning the SCSI buses. To avoid potential file system corruption, EMC requires that you follow the procedure provided in the vendor documentation for EMC PowerPath for Linux."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:3948
msgid "Use the following procedure to scan the devices and make them available to multipathing without rebooting the system."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3954
msgid "On the storage subsystem, use the vendor’s tools to allocate the device and update its access control settings to allow the Linux system access to the new storage. Refer to the vendor’s documentation for details."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3961
#: xml/storage_multipath.xml:4037
msgid "Scan all targets for a host to make its new device known to the middle layer of the Linux kernel’s SCSI subsystem. At a terminal console prompt, enter"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3966
#, no-wrap
msgid ""
"sudo rescan-scsi-bus.sh"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3967
#: xml/storage_multipath.xml:4043
msgid "Depending on your setup, you might need to run <command>rescan-scsi-bus.sh</command> with optional parameters. Refer to <command>rescan-scsi-bus.sh --help</command> for details."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3974
msgid "Check for scanning progress in the <systemitem class=\"daemon\">systemd</systemitem> journal (see <xref linkend=\"cha.journalctl\"/> for details). At a terminal console prompt, enter"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3979
#: xml/storage_multipath.xml:4065
#, no-wrap
msgid ""
"sudo journalctl -r"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3980
msgid "This command displays the last lines of the log. For example:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:3983
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>sudo journalctl -r\n"
"Feb 14 01:03 kernel: SCSI device sde: 81920000\n"
"Feb 14 01:03 kernel: SCSI device sdf: 81920000\n"
"Feb 14 01:03 multipathd: sde: path checker registered\n"
"Feb 14 01:03 multipathd: sdf: path checker registered\n"
"Feb 14 01:03 multipathd: mpath4: event checker started\n"
"Feb 14 01:03 multipathd: mpath5: event checker started\n"
"Feb 14 01:03:multipathd: mpath4: remaining active paths: 1\n"
"Feb 14 01:03 multipathd: mpath5: remaining active paths: 1\n"
"[...]"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:3995
msgid "Repeat the previous steps to add paths through other HBA adapters on the Linux system that are connected to the new device."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4001
msgid "Run the <command>multipath</command> command to recognize the devices for DM-MPIO configuration. At a terminal console prompt, enter"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4005
#, no-wrap
msgid ""
"sudo multipath"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4006
msgid "You can now configure the new device for multipathing."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:4014
msgid "Scanning for New Partitioned Devices without Rebooting"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4015
msgid "Use the example in this section to detect a newly added multipathed LUN without rebooting."
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4042
#, no-wrap
msgid ""
"rescan-scsi-bus.sh"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4050
msgid "Verify that the device is seen (such as if the link has a new time stamp) by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4054
#, no-wrap
msgid ""
"ls -lrt /dev/dm-*"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4055
msgid "You can also verify the devices in <filename>/dev/disk/by-id</filename> by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4059
#, no-wrap
msgid ""
"ls -l /dev/disk/by-id/"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4062
msgid "Verify the new device appears in the log by entering"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4068
msgid "Use a text editor to add a new alias definition for the device in the <filename>/etc/multipath.conf</filename> file, such as <filename>data_vol3</filename>."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4073
msgid "For example, if the UUID is <filename>36006016088d014006e98a7a94a85db11</filename>, make the following changes:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4078
#, no-wrap
msgid ""
"defaults {\n"
"     user_friendly_names   yes\n"
"  }\n"
"multipaths {\n"
"     multipath {\n"
"          wwid    36006016088d014006e98a7a94a85db11\n"
"          alias  data_vol3\n"
"          }\n"
"  }"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4089
msgid "Create a partition table for the device by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4092
#, no-wrap
msgid ""
"fdisk /dev/disk/by-id/dm-uuid-mpath-&lt;UUID&gt;"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4093
msgid "Replace UUID with the device WWID, such as <filename>36006016088d014006e98a7a94a85db11</filename>."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4099
msgid "Trigger udev by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4102
#, no-wrap
msgid ""
"sudo echo 'add' &gt; /sys/block/<replaceable>DM_DEVICE</replaceable>/uevent"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4103
msgid "For example, to generate the device-mapper devices for the partitions on <filename>dm-8</filename>, enter"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4107
#, no-wrap
msgid ""
"sudo echo 'add' &gt; /sys/block/dm-8/uevent"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4110
msgid "Create a file system on the device <filename>/dev/disk/by-id/dm-uuid-mpath-<replaceable>UUID_partN</replaceable></filename>. Depending on your choice for the file system, you may use one of the following commands for this purpose: <command>mkfs.btrfs</command> <command>mkfs.ext3</command>, <command>mkfs.ext4</command>, or <command>mkfs.xfs</command>. Refer to the respective man pages for details. Replace <filename>UUID_partN</filename> with the actual UUID and partition number, such as 36006016088d014006e98a7a94a85db11_part1."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4122
msgid "Create a label for the new partition by entering the following command:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4125
#, no-wrap
msgid ""
"sudo tune2fs -L <replaceable>LABELNAME</replaceable> /dev/disk/by-id/dm-uuid-<replaceable>UUID_partN</replaceable>\n"
""
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4127
msgid "Replace <filename>UUID_partN</filename> with the actual UUID and partition number, such as 36006016088d014006e98a7a94a85db11_part1. Replace <replaceable>LABELNAME</replaceable> with a label of your choice."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4134
msgid "Reconfigure DM-MPIO to let it read the aliases by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4137
#, no-wrap
msgid ""
"sudo multipathd -k'reconfigure'"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4140
msgid "Verify that the device is recognized by <systemitem class=\"daemon\">multipathd</systemitem> by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4144
#, no-wrap
msgid ""
"sudo multipath -ll"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4147
msgid "Use a text editor to add a mount entry in the <filename>/etc/fstab</filename> file."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4151
msgid "At this point, the alias you created in a previous step is not yet in the <filename>/dev/disk/by-label</filename> directory. Add a mount entry for the <filename>/dev/dm-9</filename> path, then change the entry before the next time you reboot to"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4157
#, no-wrap
msgid ""
"LABEL=<replaceable>LABELNAME</replaceable>"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4160
msgid "Create a directory to use as the mount point, then mount the device."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:4168
msgid "Viewing Multipath I/O Status"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4169
msgid "Querying the multipath I/O status outputs the current status of the multipath maps."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4173
msgid "The <command>multipath -l</command> option displays the current path status as of the last time that the path checker was run. It does not run the path checker."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4178
msgid "The <command>multipath -ll</command> option runs the path checker, updates the path information, then displays the current status information. This command always displays the latest information about the path status."
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:4183
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>sudo multipath -ll\n"
"3600601607cf30e00184589a37a31d911\n"
"[size=127 GB][features=\"0\"][hwhandler=\"1 emc\"]\n"
"\n"
"\\_ round-robin 0 [active][first]\n"
"  \\_ 1:0:1:2 sdav 66:240  [ready ][active]\n"
"  \\_ 0:0:1:2 sdr  65:16   [ready ][active]\n"
"\n"
"\\_ round-robin 0 [enabled]\n"
"  \\_ 1:0:0:2 sdag 66:0    [ready ][active]\n"
"  \\_ 0:0:0:2 sdc  8:32    [ready ][active]"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4194
msgid "For each device, it shows the device’s ID, size, features, and hardware handlers."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4198
msgid "Paths to the device are automatically grouped into priority groups on device discovery. Only one priority group is active at a time. For an active/active configuration, all paths are in the same group. For an active/passive configuration, the passive paths are placed in separate priority groups."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4205
msgid "The following information is displayed for each group:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4210
msgid "Scheduling policy used to balance I/O within the group, such as round-robin"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4216
msgid "Whether the group is active, disabled, or enabled"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4221
msgid "Whether the group is the first (highest priority) group"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4226
msgid "Paths contained within the group"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4231
msgid "The following information is displayed for each path:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4236
msgid "The physical address as <replaceable>HOST:BUS:TARGET:LUN</replaceable>, such as 1:0:1:2"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4242
msgid "Device node name, such as <filename>sda</filename>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4247
msgid "Major:minor numbers"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4252
msgid "Status of the device"
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:4260
msgid "Managing I/O in Error Situations"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4261
msgid "You might need to configure multipathing to queue I/O if all paths fail concurrently by enabling queue_if_no_path. Otherwise, I/O fails immediately if all paths are gone. In certain scenarios, where the driver, the HBA, or the fabric experience spurious errors, DM-MPIO should be configured to queue all I/O where those errors lead to a loss of all paths, and never propagate errors upward."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4269
msgid "When you use multipathed devices in a cluster, you might choose to disable queue_if_no_path. This automatically fails the path instead of queuing the I/O, and escalates the I/O error to cause a failover of the cluster resources."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4275
msgid "Because enabling queue_if_no_path leads to I/O being queued indefinitely unless a path is reinstated, ensure that <command>multipathd</command> is running and works for your scenario. Otherwise, I/O might be stalled indefinitely on the affected multipathed device until reboot or until you manually return to failover instead of queuing."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4282
msgid "To test the scenario:"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4292
msgid "Activate queuing instead of failover for the device I/O by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4295
#, no-wrap
msgid ""
"sudo dmsetup message <replaceable>DEVICE_ID</replaceable> 0 queue_if_no_path"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4296
msgid "Replace the <replaceable>DEVICE_ID</replaceable> with the ID for your device. The 0 value represents the sector and is used when sector information is not needed."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4301
msgid "For example, enter:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4304
#, no-wrap
msgid ""
"sudo dmsetup message 3600601607cf30e00184589a37a31d911 0 queue_if_no_path"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4307
msgid "Return to failover for the device I/O by entering"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4310
#, no-wrap
msgid ""
"sudo dmsetup message <replaceable>DEVICE_ID</replaceable> 0 fail_if_no_path"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4311
msgid "This command immediately causes all queued I/O to fail."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4314
msgid "Replace the <replaceable>DEVICE_ID</replaceable> with the ID for your device. For example, enter"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4318
#, no-wrap
msgid ""
"sudo dmsetup message 3600601607cf30e00184589a37a31d911 0 fail_if_no_path"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4321
msgid "To set up queuing I/O for scenarios where all paths fail:"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4331
msgid "Open the <filename>/etc/multipath.conf</filename> file in a text editor."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4336
msgid "Uncomment the defaults section and its ending bracket, then add the <literal>default_features</literal> setting, as follows:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4340
#, no-wrap
msgid ""
"defaults {\n"
"  default_features \"1 queue_if_no_path\"\n"
"}"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4345
msgid "After you modify the <filename>/etc/multipath.conf</filename> file, you must run <command>dracut</command> <option>-f</option> to re-create the <filename>initrd</filename> on your system, then reboot for the changes to take effect."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4353
msgid "When you are ready to return to failover for the device I/O, enter"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4356
#: xml/storage_multipath.xml:4381
#, no-wrap
msgid ""
"sudo dmsetup message <replaceable>MAPNAME</replaceable> 0 fail_if_no_path"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4357
msgid "Replace the <replaceable>MAPNAME</replaceable> with the mapped alias name or the device ID for the device. The 0 value represents the sector and is used when sector information is not needed."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4362
#: xml/storage_multipath.xml:4387
msgid "This command immediately causes all queued I/O to fail and propagates the error to the calling application."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:4371
msgid "Resolving Stalled I/O"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4372
msgid "If all paths fail concurrently and I/O is queued and stalled, do the following:"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4378
msgid "Enter the following command at a terminal console prompt:"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4382
msgid "Replace <literal><replaceable>MAPNAME</replaceable></literal> with the correct device ID or mapped alias name for the device. The 0 value represents the sector and is used when sector information is not needed."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4393
msgid "Reactivate queuing by entering the following command:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4396
#, no-wrap
msgid ""
"sudo dmsetup message <replaceable>MAPNAME</replaceable> 0 queue_if_no_path"
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:4402
msgid "Configuring Default Settings for IBM z Systems Devices"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4403
msgid "Testing of the IBM z Systems device with multipathing has shown that the <literal>dev_loss_tmo</literal> parameter should be set to 90 seconds, and the <literal>fast_io_fail_tmo</literal> parameter should be set to 5 seconds. If you are using z Systems devices, modify the <filename>/etc/multipath.conf</filename> file to specify the values as follows:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:4411
#, no-wrap
msgid ""
"defaults {\n"
"       dev_loss_tmo 90\n"
"       fast_io_fail_tmo 5\n"
"}"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4415
msgid "The <literal>dev_loss_tmo</literal> parameter sets the number of seconds to wait before marking a multipath link as bad. When the path fails, any current I/O on that failed path fails. The default value varies according to the device driver being used. The valid range of values is 0 to 600 seconds. To use the driver’s internal timeouts, set the value to zero (0) or to any value greater than 600."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4423
msgid "The <literal>fast_io_fail_tmo</literal> parameter sets the length of time to wait before failing I/O when a link problem is detected. I/O that reaches the driver fails. If I/O is in a blocked queue, the I/O does not fail until the <literal>dev_loss_tmo</literal> time elapses and the queue is unblocked."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4430
msgid "If you modify the <filename>/etc/multipath.conf</filename> file, the changes are not applied until you update the multipath maps, or until the <systemitem class=\"daemon\">multipathd</systemitem> daemon is restarted (<command>systemctl restart multipathd</command>)."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:4439
msgid "Using Multipath with NetApp Devices"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4440
msgid "When using multipath for NetApp devices, we recommend the following settings in the <filename>/etc/multipath.conf</filename> file:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4446
msgid "Set the default values for the following parameters globally for NetApp devices:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/storage_multipath.xml:4450
#, no-wrap
msgid ""
"max_fds max\n"
"queue_without_daemon no"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4454
msgid "Set the default values for the following parameters for NetApp devices in the hardware table:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/storage_multipath.xml:4458
#, no-wrap
msgid ""
"dev_loss_tmo infinity\n"
"fast_io_fail_tmo 5\n"
"features \"3 queue_if_no_path pg_init_retries 50\""
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:4466
msgid "Using --noflush with Multipath Devices"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4467
msgid "The <option>--noflush</option> option should always be used when running on multipath devices."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4471
msgid "For example, in scripts where you perform a table reload, you use the <literal>--noflush</literal> option on resume to ensure that any outstanding I/O is not flushed, because you need the multipath topology information."
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:4477
#, no-wrap
msgid ""
"load\n"
"resume --noflush"
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:4482
msgid "SAN Timeout Settings When the Root Device Is Multipathed"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4485
msgid "A system with root (<filename>/</filename>) on a multipath device might stall when all paths have failed and are removed from the system because a <literal>dev_loss_tmo</literal> timeout is received from the storage subsystem (such as Fibre Channel storage arrays)."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4491
msgid "If the system device is configured with multiple paths and the multipath <literal>no_path_retry</literal> setting is active, you should modify the storage subsystem’s <literal>dev_loss_tmo</literal> setting accordingly to ensure that no devices are removed during an all-paths-down scenario. We strongly recommend that you set the <literal>dev_loss_tmo</literal> value to be equal to or higher than the <literal>no_path_retry</literal> setting from multipath."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4500
msgid "The recommended setting for the storage subsystem’s <literal>dev_los_tmo</literal> is"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:4504
#, no-wrap
msgid ""
"&lt;dev_loss_tmo&gt; = &lt;no_path_retry&gt; * &lt;polling_interval&gt;"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4505
msgid "where the following definitions apply for the multipath values:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4510
msgid "<literal>no_path_retry</literal> is the number of retries for multipath I/O until the path is considered to be lost, and queuing of IO is stopped."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4517
msgid "<literal>polling_interval</literal> is the time in seconds between path checks."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4523
msgid "Each of these multipath values should be set from the <filename>/etc/multipath.conf</filename> configuration file. For information, see <xref linkend=\"sec.multipath.conf_file\" xrefstyle=\"SectTitleOnPage\"/>."
msgstr ""

#. (itstool) path: sect1/title
#: xml/storage_multipath.xml:4532
msgid "Troubleshooting MPIO"
msgstr ""

#. (itstool) path: sect1/para
#: xml/storage_multipath.xml:4534
msgid "This section describes some known issues and possible solutions for MPIO."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:4539
msgid "The System Exits to Emergency Shell at Boot When Multipath Is Enabled"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4540
msgid "During boot the system exits into the emergency shell with messages similar to the following:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:4544
#, no-wrap
msgid ""
"[  OK  ] Listening on multipathd control socket.\n"
"         Starting Device-Mapper Multipath Device Controller...\n"
"[  OK  ] Listening on Device-mapper event daemon FIFOs.\n"
"         Starting Device-mapper event daemon...\n"
"         Expecting device dev-disk-by\\x2duuid-34be48b2\\x2dc21...32dd9.device...\n"
"         Expecting device dev-sda2.device...\n"
"[  OK  ] Listening on udev Kernel Socket.\n"
"[  OK  ] Listening on udev Control Socket.\n"
"         Starting udev Coldplug all Devices...\n"
"         Expecting device dev-disk-by\\x2duuid-1172afe0\\x2d63c...5d0a7.device...\n"
"         Expecting device dev-disk-by\\x2duuid-c4a3d1de\\x2d4dc...ef77d.device...\n"
"[  OK  ] Started Create list of required static device nodes ...current kernel.\n"
"         Starting Create static device nodes in /dev...\n"
"[  OK  ] Started Collect Read-Ahead Data.\n"
"[  OK  ] Started Device-mapper event daemon.\n"
"[  OK  ] Started udev Coldplug all Devices.\n"
"         Starting udev Wait for Complete Device Initialization...\n"
"[  OK  ] Started Replay Read-Ahead Data.\n"
"         Starting Load Kernel Modules...\n"
"         Starting Remount Root and Kernel File Systems...\n"
"[  OK  ] Started Create static devices\n"
"[   13.682489] floppy0: no floppy controllers found\n"
"[*     ] (1 of 4) A start job is running for dev-disk-by\\x2du...(7s / 1min 30s)\n"
"[*     ] (1 of 4) A start job is running for dev-disk-by\\x2du...(7s / 1min 30s)\n"
"\n"
"...\n"
"\n"
"Timed out waiting for device dev-disk-by\\x2duuid-c4a...cfef77d.device.\n"
"[DEPEND] Dependency failed for /opt.\n"
"[DEPEND] Dependency failed for Local File Systems.\n"
"[DEPEND] Dependency failed for Postfix Mail Transport Agent.\n"
"Welcome to emergency shell\n"
"Give root password for maintenance\n"
"(or press Control-D to continue):"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4578
msgid "This issue occurs in the following situations:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4583
msgid "A non-multipath root file system is not blacklisted when multipath is enabled. See <xref linkend=\"pro.multipath.trouble.root.blacklist\" xrefstyle=\"HeadingOnPage\"/>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4590
msgid "On a system with a multipath root file system, multipath has been enabled/disabled without rebuilding the <filename>initrd</filename>. See <xref linkend=\"pro.multipath.trouble.root.initrd\"/>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4597
msgid "Network-storage drivers are missing in the <filename>initrd</filename> on a system with network-attached storage and multipath enabled."
msgstr ""

#. (itstool) path: procedure/title
#: xml/storage_multipath.xml:4605
msgid "Emergency Shell: Blacklist File Systems"
msgstr ""

#. (itstool) path: procedure/para
#: xml/storage_multipath.xml:4606
msgid "This fix is required if the root file system is not on multipath but multipath is enabled. In such a setup, multipath tries to set its paths for all devices that are not blacklisted. Since the device with the root file system is already mounted, it is inaccessible for multipath and causes it to fail. Fix this issue by configuring multipath correctly by blacklisting the root device in <filename>/etc/multipath.conf</filename>:"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4615
msgid "Run <command>multipath -v2</command> in the emergency shell and identify the device for the root file system. It will result in an output similar to:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4620
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt>multipath -v2\n"
"Dec 18 10:10:03 | 3600508b1001030343841423043300400: ignoring map"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4622
msgid "The string between <literal>| </literal> and <literal>:</literal> is the WWID needed for blacklisting."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4628
msgid "Open <filename>/etc/multipath.conf</filename> and add the following:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4631
#, no-wrap
msgid ""
"blacklist {\n"
"  wwid \"<replaceable>WWWID</replaceable>\"\n"
"}"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4634
msgid "Replace <replaceable>WWWID</replaceable> with the ID you retrieved in the previous step. For more information see <xref linkend=\"sec.multipath.blacklist\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4641
#: xml/storage_multipath.xml:4668
#: xml/storage_multipath.xml:4709
msgid "Exit the emergency shell and reboot the server by pressing <keycombo> <keycap function=\"control\"/> <keycap>D</keycap> </keycombo>."
msgstr ""

#. (itstool) path: procedure/title
#: xml/storage_multipath.xml:4649
#: xml/storage_multipath.xml:4676
msgid "Emergency Shell: Rebuild the <filename>initrd</filename>"
msgstr ""

#. (itstool) path: procedure/para
#: xml/storage_multipath.xml:4650
msgid "This fix is required if the multipath status (enabled or disabled) differs between <filename>initrd</filename> and system. To fix this, rebuild the <filename>initrd</filename>:"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4656
msgid "If multipath has been <emphasis>enabled</emphasis> in the system, rebuild the initrd with multipath support with this command:"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4661
msgid "In case Multipath has been <emphasis>disabled</emphasis> in the system, rebuild the initrd with Multipath support with this command:"
msgstr ""

#. (itstool) path: procedure/para
#: xml/storage_multipath.xml:4677
msgid "This fix is required if the initrd does not contain drivers to access network attached storage. This may, for example, be the case when the system was installed without multipath or when the respective hardware was added or replaced."
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4684
msgid "Add the required driver(s) to the variable <envar>force_drivers</envar> in the file <filename>/etc/dracut.conf.d/01-dist.conf</filename>. For example, if your system contains a RAID controller accessed by the <filename>hpsa</filename> driver and multipathed devices connected to a QLogic controller accessed by the driver qla23xx, this entry would look like:"
msgstr ""

#. (itstool) path: step/screen
#: xml/storage_multipath.xml:4692
#, no-wrap
msgid ""
"force_drivers+=\"hpsa qla23xx\""
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4695
msgid "Rebuild the <systemitem>initrd</systemitem> using the following command:"
msgstr ""

#. (itstool) path: step/para
#: xml/storage_multipath.xml:4701
msgid "To prevent the system from booting into emergency mode if attaching the network storage fails, it is recommended to add the mount option <literal>_netdev</literal> to the respective entries in <filename>/etc/fstab</filename>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:4718
msgid "PRIO Settings for Individual Devices Fail After Upgrading to Multipath 0.4.9 or Later"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4719
msgid "Multipath Tools from version 0.4.9 onward uses the <literal>prio</literal> setting in the <literal>defaults{}</literal> or <literal>devices{}</literal> section of the <filename>/etc/multipath.conf</filename> file. It silently ignores the keyword <literal>prio</literal> when it is specified for an individual <literal>multipath</literal> definition in the <literal>multipaths{)</literal> section."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4728
msgid "Multipath Tools 0.4.8 allowed the prio setting in the individual <literal>multipath</literal> definition in the <literal>multipaths{)</literal> section to override the <literal>prio</literal> settings in the <literal>defaults{}</literal> or <literal>devices{}</literal> section."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:4738
msgid "PRIO Settings with Arguments Fail After Upgrading to multipath-tools-0.4.9 or Later"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4739
msgid "When you upgrade from <filename>multipath-tools-0.4.8</filename> to <filename>multipath-tools-0.4.9</filename>, the <literal>prio</literal> settings in the <filename>/etc/multipath.conf</filename> file are broken for prioritizers that require an argument. In multipath-tools-0.4.9, the <literal>prio</literal> keyword is used to specify the prioritizer, and the <literal>prio_args</literal> keyword is used to specify the argument for prioritizers that require an argument. Previously, both the prioritizer and its argument were specified on the same <literal>prio</literal> line."
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4749
msgid "For example, in multipath-tools-0.4.8, the following line was used to specify a prioritizer and its arguments on the same line."
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:4753
#, no-wrap
msgid ""
"prio \"weightedpath hbtl [1,3]:.:.+:.+ 260 [0,2]:.:.+:.+ 20\""
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4754
msgid "After upgrading to multipath-tools-0.4.9 or later, the command causes an error. The message is similar to the following:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:4758
#, no-wrap
msgid ""
"&lt;Month day hh:mm:ss&gt; | Prioritizer 'weightedpath hbtl [1,3]:.:.+:.+ 260\n"
"[0,2]:.:.+:.+ 20' not found in /lib64/multipath"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4760
msgid "To resolve this problem, use a text editor to modify the <literal>prio</literal> line in the <filename>/etc/multipath.conf</filename> file. Create two lines with the prioritizer specified on the <filename>prio</filename> line, and the prioritizer argument specified on the <filename>prio_args</filename> line below it:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/storage_multipath.xml:4768
#, no-wrap
msgid ""
"prio \"weightedpath\"\n"
"prio_args \"hbtl [1,3]:.:.+:.+ 260 [0,2]:.:.+:.+ 20\""
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4770
msgid "Restart the <systemitem class=\"daemon\">multipathd</systemitem> daemon for the changes to become active by running <command>sudo systemctl restart multipathd</command>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/storage_multipath.xml:4778
msgid "Technical Information Documents"
msgstr ""

#. (itstool) path: sect2/para
#: xml/storage_multipath.xml:4779
msgid "For information about troubleshooting multipath I/O issues on SUSE Linux Enterprise Server, see the following Technical Information Documents (TIDs) in the SUSE Knowledgebase:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4786
msgid "<link xlink:href=\"http://www.suse.com/support/kb/doc.php?id=3617600\"><citetitle>Using LVM on local and SAN attached devices</citetitle></link>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4792
msgid "<link xlink:href=\"http://www.suse.com/support/kb/doc.php?id=7007498\"><citetitle>Using LVM on Multipath (DM MPIO) Devices</citetitle></link>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/storage_multipath.xml:4798
msgid "<link xlink:href=\"https://www.suse.com/support/kb/doc.php?id=7009660\"><citetitle>HOWTO: Add, Resize and Remove LUN without restarting SLES</citetitle></link>"
msgstr ""

