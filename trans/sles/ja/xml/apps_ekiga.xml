<?xml version="1.0"?>
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="apps_ekiga.xml" id="cha.ekiga">
 <title>Ekiga:Voice over IPの使用</title><indexterm id="idx.voip" class="startofrange"><primary>voice over IP</primary></indexterm><indexterm><primary>アプリケーション</primary><secondary>ネットワーク</secondary><tertiary>Ekiga</tertiary></indexterm><indexterm id="idx.ekiga" class="startofrange"><primary>Ekiga</primary></indexterm>
 <abstract>
  <para>
   モデムの通信は音声通話だけではありません。テキストメッセージや、時にはテレビ会議も含まれます。ローミングによって、1つの電話番号で世界中に接続ができます。Ekigaでは、これらの機能をLinuxデスクトップで使用してブロードバンドのインターネットで通信できるようにします。
  </para>
 </abstract>
 <para>
  始める前に、次の要件を満たしていることを確認してください。
 </para>
 <itemizedlist mark="bullet" spacing="normal">
  <listitem>
   <para>
    サウンドカードが適切に設定されている。
   </para>
  </listitem>
  <listitem>
   <para>
    ヘッドセットまたはマイクとスピーカーがコンピュータに接続されている。
   </para>
  </listitem>
  <listitem>
   <para>
    通常の電話回線にダイヤルするには、SIPアカウントが必要です。SIP(<emphasis>Signaling protocol for Internet Telephony</emphasis>)は、音声およびテレビ会議またはコール転送のセッション確立に使用されるプロトコルです。世界中には、多数のVoIPプロバイダが存在します。まず、<ulink url="http://www.ekiga.net"/>でEkigaプロジェクトが提供するサービスをご覧ください。
   </para>
  </listitem>
  <listitem>
   <para>
    テレビ会議の場合、Webカメラがコンピュータに接続されている。
   </para>
  </listitem>
 </itemizedlist>
 <sect1 id="sec.ekiga.configure">
  <title>Ekigaの設定</title>

  <tip>
   <para>
    Ekigaがシステムにインストールされていない場合は、YaST Software Managementモジュールを使用するか、またはコマンドラインから<systemitem class="username">root</systemitem>として「<command>zypper install ekiga</command>」と入力することによって、Ekigaをインストールします。インストールが完了したら、<menuchoice><guimenu>Applications (アプリケーション)</guimenu><guimenu>Internet (インターネット)</guimenu><guimenu>Ekiga Softphone</guimenu></menuchoice>の順にクリックすることにより、Ekigaを実行できます。
   </para>
  </tip>

  <para>
   最初に起動すると、Ekigaの設定アシスタントが開き、Ekigaの設定に必要なすべてのデータが要求されます。次の手順に従います。
  </para>

  <procedure>
   <step performance="required">
    <para>
     フルネーム(名前と姓)を入力します。
    </para>
   </step>
   <step performance="required">
    <para>
     <literal>ekiga.net</literal>アカウントのデータを入力するか、または<ulink url="http://www.ekiga.net"/>に登録しないことを選択します。
    </para>
    <para>
     別のアカウントを後で追加するには、<menuchoice><guimenu>編集</guimenu><guimenu>アカウント</guimenu></menuchoice>を使用して設定します。
    </para>
   </step>
   <step performance="required">
    <para>
     <literal>Ekiga Call Out</literal>アカウントのデータを入力するか、<ulink url="http://www.ekiga.net"/>に登録しないことを選択します。
    </para>
   </step>
   <step performance="required">
    <para>
     接続タイプを指定します。
    </para>
   </step>

   <step performance="required">
    <para>
     呼び出し音、出力および入力デバイスドライバを選択します。<guimenu>ALSA</guimenu>は、最適な音質を確保する確実なデフォルトオプションです。オープンソースソフトウェア(OSS)などの他のサウンドシステムも<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>で使用できます。
    </para>
    <para>
     デフォルトでは、リングするデバイスセットは存在しません。リングトーンを使用する場合は、使用可能ないずれかのオーディオデバイスにこの設定を変更します。
    </para>
   </step>
   <step performance="required">
    <para>
     使用可能な場合はビデオ入力デバイスを選択します。
    </para>
   </step>
   <step performance="required">
    <para>
     設定の概要を確認して適用します。
    </para>
   </step>
   <step performance="required">
    <para>
     設定を変更した後に登録が失敗した場合は、Ekigaを再起動します。
    </para>
   </step>
  </procedure>

  <para>
   Ekigaでは複数のアカウントを管理できます。アカウントを追加して設定するには、次の手順に従います。
  </para>

  <procedure>
   <step performance="required">
    <para>
     <menuchoice><guimenu>編集</guimenu><guimenu>アカウント</guimenu></menuchoice>を開きます。
    </para>
   </step>
   <step performance="required">
    <para>
     <menuchoice><guimenu>アカウント</guimenu><guimenu>&lt;アカウントの種類&gt;の追加</guimenu></menuchoice>の順に選択します。わからない場合は、<guimenu>Add a SIP Account(SIPアカウントの追加)</guimenu>を選択します。
    </para>
   </step>
   <step performance="required">
    <para>
     登録先を<guimenu>Registrar</guimenu>に入力します。これは通常は、インターネットテレフォニーサービスプロバイダが指定するIPアドレスまたはホスト名です。プロバイダが指定したデータに従って、<guimenu>ユーザ</guimenu>と<guimenu>パスワード</guimenu>を入力します。
    </para>
   </step>
   <step performance="required">
    <para>
     <guimenu>OK</guimenu>をクリックして設定ダイアログを終了し、アカウントを有効にします。Ekigaメインウィンドウに表示されるアカウントの状態が<guimenu>Registered</guimenu>に変更されます。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 id="sec.ekiga.ui">
  <title>Ekigaのユーザインタフェース</title>

  <para>
   Ekigaユーザインタフェースでは、いくつかのタブが使用可能です。第1のタブは<guimenu>仲間</guimenu>、第2のタブは<guimenu>ダイアルパッド</guimenu>、第3のタブは<guimenu>着信履歴</guimenu>です。さらに、<guimenu>呼び出しパネル</guimenu>タブを使用でき、ここには、ローカルまたはリモートのWebカメラの画像およびビデオが表示されます。
  </para>

  <figure id="fig.ekiga.main">
   <title>Ekigaのユーザインタフェース</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="ekiga_main.png" width="55%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="ekiga_main.png" width="55%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   ユーザインタフェースにはさまざまなモードがあります。ビューを切り替えるには、タブラインを使用します。デフォルトでは、Ekigaで<guimenu>連絡先</guimenu>タブが開きます。このタブでは、ローカルアドレス帳を使用して、よく使用する番号への接続をすばやく開くことができます。ウェブカムをサポートしオーディオ制御機能を含む完全なビューを表示するには、<menuchoice><guimenu>表示</guimenu><guimenu>着信パネルを表示する</guimenu></menuchoice>の順にクリックし、<guimenu>呼び出しパネル</guimenu>を有効にします。
  </para>

  <para>
   <guimenu>呼び出しパネル</guimenu>の下側には、<guimenu>オーディオ設定</guimenu>、<guimenu>ビデオ設定</guimenu>、<guimenu>ビデオ表示</guimenu>、<guimenu>Hold Call(コール保留)</guimenu>など複数の制御用アイコンがあります。すべてのアイコンはツールチップを提供し、マウスポインタをアイコン上に置くと表示されます。<guimenu>オーディオ設定</guimenu>などの一部の設定は、通話中にのみ変更できます。
  </para>

  <para>
   Ekigaの機能の多くは、キーの組み合わせで使用できます。<xref linkend="tab.ekiga.shortcut"/>に重要なショートカットをまとめてあります。
  </para>

  <table id="tab.ekiga.shortcut">
   <title>Ekigaのキーの組み合わせ</title>
   <tgroup cols="2">
    <thead>
     <row>
      <entry>
       <para>
        キーの組み合わせ
       </para>
      </entry>
      <entry>
       <para>
        説明
       </para>
      </entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry>
       <para>
        <keycombo> <keycap function="control"/> <keycap>O</keycap> </keycombo>
       </para>
      </entry>
      <entry>
       <para>
        現在の番号で通話を開始します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap function="escape"/>
       </para>
      </entry>
      <entry>
       <para>
        通話を切断します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>N</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        アドレス帳に連絡先を追加します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>B</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        <guimenu>アドレス帳</guimenu>ダイアログを開きます。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>H</keycap>
       </para>
      </entry>
      <entry>
       <para>
        現在のコールを保留にします。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>T</keycap>
       </para>
      </entry>
      <entry>
       <para>
        現在のコールを別の相手に転送します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>M</keycap>
       </para>
      </entry>
      <entry>
       <para>
        現在の通話のオーディオストリームを一時停止します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>P</keycap>
       </para>
      </entry>
      <entry>
       <para>
        現在の通話のビデオストリームを一時停止します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>W</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Ekigaユーザインタフェースを閉じます。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>Q</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Ekigaを終了します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>E</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        アカウントマネージャを開始します。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo> <keycap function="control"/> <keycap>J</keycap> </keycombo>
       </para>
      </entry>
      <entry>
       <para>
        メインユーザインタフェースの<guimenu>呼び出しパネル</guimenu>を有効にします。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>+</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Webカメラからの画像にズームインします。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>-</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Webカメラからの画像にズームアウトします。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>0</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Webカメラの標準サイズの画面に戻ります。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>F11</keycap>
       </para>
      </entry>
      <entry>
       <para>
        Webカメラの全画面表示を行います。
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
 </sect1>
 <sect1 id="sec.ekiga.firstcall">
  <title>電話をかける</title><indexterm><primary>Ekiga</primary><secondary>通話</secondary></indexterm>

  <para>
   Ekigaを適切に設定し終えたら、簡単に電話をかけられます。
  </para>

  <procedure>
   <step performance="required">
    <para>
     メニューまたはコマンドラインからEkigaを起動します。
    </para>
   </step>
   <step performance="required">
    <para>
     <guimenu>SIPアドレス</guimenu>に、通話相手のSIPアドレスを入力します。アドレスは次のような形式になります。
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       近距離の直接通話の場合: <literal>sip:username@domainname</literal>または<literal>username@hostname</literal>
      </para>
     </listitem>
     <listitem>
      <para>
       <literal>sip:username@domainname</literal>または<literal>userid@sipserver</literal>
      </para>
     </listitem>
    </itemizedlist>

   </step>
   <step performance="required">
    <para>
     <guimenu>発信</guimenu>をクリックするか、または<keycombo><keycap function="control"/><keycap>O</keycap></keycombo>を押して、相手が電話に出るまで待ちます。
    </para>
   </step>
   <step performance="required">
    <para>
     通話を終了するには、<guimenu>ハングアップ</guimenu>をクリックするか、または&lt;<keycap function="escape"/>&gt;を押します。
    </para>
   </step>
  </procedure>

  <para>
   通話中にサウンドパラメータを微調整する必要がある場合は、<guimenu>呼び出しパネル</guimenu>の<guimenu>オーディオ設定</guimenu>アイコンをクリックします。<guimenu>受話音量</guimenu>および<guimenu>送話音量</guimenu>に関する<guimenu>音声</guimenu>オプションを含むウィンドウが表示されます。必要に合わせてレベルをスライダで調整してください。
  </para>
 </sect1>
 <sect1 id="sec.ekiga.answer">
  <title>電話に出る</title>

  <para>
   Ekigaでは2つの方法で電話に出られます。まず、ユーザは、<literal>sip:user@host</literal>と直接通話することも、SIPプロバイダを介して通話することもできます。多くのSIPプロバイダは、通常の電話回線からVoIPアカウントに通話を受けられるようにしています。Ekigaが実行されているモードに応じて、着信コールの通知方法は複数あります。
  </para>

  <variablelist>
   <varlistentry>
    <term>通常のアプリケーション</term>
    <listitem>
     <para>
      着信は、Ekigaがすでに実行している場合にのみ、受け付けて応答することができます。着信音は、ヘッドセットまたはスピーカから聞こえます。Ekigaを実行していないと、電話は受けられません。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>パネルアプレット</term>
    <listitem>
     <para>
      通常、Ekigaのパネルアプレットは、サイレントで動作しており、目立ちません。これにより、着信が入るとすぐに次のように変わります。Ekigaのメインウィンドウが開き、ヘッドセットまたはスピーカから呼び出し音が聞こえます。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   着信に気が付いたら、<guimenu>Accept</guimenu>をクリックして、電話に出て会話します。電話に出たくない場合には、<guimenu>Reject</guimenu>をクリックします。コールを別のSIPアドレスに転送することもできます。
  </para>
 </sect1>
 <sect1 id="sec.ekiga.calladd">
  <title>アドレス帳の使用</title>

  <para>
   EkigaにはSIPの仲間を管理する機能があります。起動後にメインウィンドウに表示される<guimenu>連絡先</guimenu>タブにすべての連絡先が表示されます。仲間または新しい仲間グループを追加するには、<menuchoice><guimenu>チャット</guimenu><guimenu>仲間の追加</guimenu></menuchoice>を実行します。
  </para>

  <para>
   新しいグループを追加する場合は、下部のテキストボックスにグループ名を入力し、<guimenu>追加</guimenu>をクリックします。これにより、新しいグループがグループ一覧に追加され、事前に選択されます。
  </para>

  <para>
   有効な連絡先には、次のエントリが必要です。
  </para>

  <variablelist>
   <varlistentry>
    <term>名前</term>
    <listitem>
     <para>
      連絡先の名前を入力します。フルネームも入力できますが、またはニックネームも使用できます。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>アドレス</term>
    <listitem>
     <para>
      連絡先の有効なSIPアドレスを入力します。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>グループ</term>
    <listitem>
     <para>
      多数の連絡先がある場合は、独自のグループを追加します。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   アドレス帳から連絡先に通話するには、この仲間をダブルクリックします。すぐに電話がかかります。
  </para>
 </sect1>
 <sect1 id="sec.ekiga.moreinfo">
  <title>詳細情報</title>

  <para>
   Ekigaの公式ホームページは、<ulink url="http://www.ekiga.org/"/>です。このサイトでは、よくある質問への回答のほか、より詳細なマニュアルを利用できます。
  </para>

  <para>
   Linuxでの<literal>H323</literal>電子会議プロトコルのサポートの詳細は、<ulink url="http://www.voip-info.org/wiki/view/H.323"/>を参照してください。VoIPをサポートするプロジェクトを検索する際には、まずここを探してください。
  </para>

  <para>
   プライベートな電話ネットワークを設定するには、<literal>PBX</literal>ソフトウェアのAsterisk <ulink url="http://www.asterisk.org/"/>を検討できます。詳細については、<ulink url="http://www.voip-info.org/wiki-Asterisk"/>を参照してください。<indexterm startref="idx.ekiga" class="endofrange"/> <indexterm startref="idx.voip" class="endofrange"/>
  </para>
 </sect1>
</chapter>
