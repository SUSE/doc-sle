<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="yast2_lang.xml" id="cha.y2.lang">
 <title>YaSTによる言語および国の設定の変更</title><indexterm> <primary>システム</primary> <secondary>言語</secondary> </indexterm> <indexterm> <primary>YaST</primary> <secondary>言語</secondary> </indexterm> <indexterm> <primary>言語</primary> </indexterm> <indexterm> <primary>設定</primary> <secondary>言語</secondary> </indexterm>
 <para>
  別の国での作業、多国語環境での操作が必要な場合は、それに対応するコンピュータの設定が必要です。<phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> は、複数の<literal>ロケール</literal>を並行して扱うことができます。ロケールは、ユーザインタフェースに反映される言語と国を定義するパラメータのセットです。
 </para>
 <para>
  主要言語はインストール時に選択され、キーボードとタイムゾーンの設定は調整されています。ただし、システムに追加言語をインストールしたり、インストールした言語のどれをデフォルトするか決定することができます。
 </para>
 <para>
  それらのタスクでは、<xref linkend="sec.y2.langmod"/>に説明があるYaSTの言語モジュールを使用します。第一言語以外でアプリケーションまたはデスクトップを起動する必要がある場合は、二次言語をインストールしてオプションのローカライズを適用します。
 </para>
 <para>
  また、YaSTのタイムゾーンモジュールを使用すると、国を設定し、それに応じてタイムゾーンの設定を調整できます。タイムゾーンモジュールでは、タイムサーバとシステムクロックを同期することもできます。詳細については、<xref linkend="sec.y2.country"/>を参照してください。
 </para>
 <sect1 id="sec.y2.langmod">
  <title>システム言語の変更</title>

  <para>
   デスクトップを使用する方法や、システム全体を別の言語に切り替えるかデスクトップ環境のみを切り替えるかの指定などに応じて、この操作を実行する方法がいくつか用意されています。
  </para>

  <variablelist>
   <varlistentry id="vle.lang.system">
    <term>システム言語をグローバルに変更する</term>
    <listitem>
     <para>
      <xref linkend="sec.y2.lang.primsec"/>および<xref linkend="sec.y2.lang.switch"/>の説明に従って、YaSTで別のローカライズパッケージをインストールし、そのデフォルト言語を設定します。変更内容は再ログインの後に有効になります。システム全体で変更を反映するには、システムを再起動するか、またはすべての実行サービス、アプリケーション、およびプログラムを終了して再起動します。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry id="vle.lang.desktop">
    <term>デスクトップの言語だけを変更する</term>
    <listitem>
     <para>
      以下の説明に従ってYaSTを使用してデスクトップ環境に目的の言語パッケージをインストール済みであれば、デスクトップのコントロールセンターを使用してデスクトップの言語を切り替えることができます。Xサーバの再起動後、デスクトップ全体に新たに選択した言語が反映されます。デスクトップフレームワークに属さないアプリケーションでは、この変更が適用されず、YaSTで設定した言語で引き続き表示されることがあります。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry id="vle.lang.application">
    <term>1つのアプリケーションの言語だけを一時的に切り替える</term>
    <listitem>
     <para>
      1つのアプリケーションのみを、YaSTでインストール済みの別の言語で実行することもできます。そのためには、言語コードを指定して、コマンドラインからそのアプリケーションを起動します(<xref linkend="sec.y2.lang.applications"/>参照)。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <sect2 id="sec.y2.lang.primsec">
   <title>YaSTでシステムの言語を変更する</title>
   <para>
    YaSTでは、次の2種類の言語カテゴリを認識しています。
   </para>
   <variablelist>
    <varlistentry>
     <term>第一言語</term>
     <listitem>
      <para>
       YaSTに設定された第一言語は、YaSTおよびデスクトップ環境を含んだ、システム全体に適用されます。この言語は、別の言語を手動で指定しない限り、利用可能な場合に常に使用されます。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>第二言語</term>
     <listitem>
      <para>
       第二言語をインストールして、システムを多言語にします。第二言語としてインストールした言語は、特定の状況で使用するために手動選択できます。たとえば、一定の言語でワープロを行うため、その言語でアプリケーションを起動する場合は、第二言語を使用します。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    追加の言語をインストールする前に、インストール後にそれらの中からデフォルトのシステム言語(第一言語)とするものを決めておく必要があります。
   </para>
   <para>
    YaSTの言語モジュールにアクセスするには、YaSTを起動し、<menuchoice><guimenu>システム</guimenu><guimenu>言語</guimenu></menuchoice>の順にクリックします。コマンドラインで<command>sudo yast2 language &amp;</command>を実行して、<guimenu>言語</guimenu>ダイアログを直接起動することもできます。
   </para>
   <informalfigure>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2-language.png" width="75%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2-language.png" width="75%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </informalfigure>
   <procedure id="pro.yast.lang.additional">
    <title>追加言語をインストールする</title>
    <para>
     追加言語をインストールするときに、YaSTを使用して<systemitem class="username">root</systemitem>ユーザにいくつかのロケールを設定することもできます。<xref linkend="step.yast.lang.additional.root"/>を参照してください。<envar>/etc/sysconfig/language</envar>ファイルのロケール変数(<filename>LC_*</filename>)を<systemitem class="username">root</systemitem>ユーザに対してどのように設定するかは、<guimenu>rootユーザのロケール設定</guimenu>オプションで指定します。それらを通常ユーザ用と同じロケールに設定するか、言語の変更によってまったく影響されないようにするか、または変数<envar>RC_LC_CTYPE</envar>だけを通常ユーザ用と同じ値に設定することができます。この変数は、言語固有の関数呼び出しのローカライゼーションを設定します。
    </para>
    <step performance="required">
     <para>
      YaSTの言語モジュールで言語を追加するには、<guimenu>第二言語</guimenu>でインストールする言語を選択します。
     </para>
    </step>
    <step performance="required">
     <para>
      言語をデフォルト言語にするには、その言語を<guimenu>第一言語</guimenu>として設定します。
     </para>
    </step>
    <step performance="required">
     <para>
      さらに、新しい第一言語に合わせてキーボードを変更し、必要に応じてタイムゾーンを調整します。
     </para>

     <tip>
      <para>
       高度なキーボード設定を指定するには、YaSTで<menuchoice><guimenu>ハードウェア</guimenu><guimenu>System Keyboard Layout (システムのキーボードレイアウト)</guimenu></menuchoice>の順に選択して該当のダイアログを開きます。高度なタイムゾーン設定を指定するには、YaSTで<menuchoice><guimenu>システム</guimenu><guimenu>日付と時刻</guimenu></menuchoice>の順に選択して該当のダイアログを開きます。詳細については、<xref linkend="cha.y2.hw.keym"/>および<xref linkend="sec.y2.country"/>を参照してください。
      </para>
     </tip>
    </step>
    <step id="step.yast.lang.additional.root" performance="required">
     <para>
      <systemitem class="username">root</systemitem>ユーザに固有の言語設定を変更するには、<guimenu>詳細情報</guimenu>をクリックします。
     </para>
     <substeps performance="required">
      <step performance="required">
       <para>
        <guimenu>rootユーザのロケール設定</guimenu>を目的の値に設定します。詳細については、<guimenu>ヘルプ</guimenu>をクリックします。
       </para>
      </step>
      <step performance="required">
       <para>
        <systemitem class="username">root</systemitem>に<guimenu>UTF-8エンコーディングを使用</guimenu>を適用するかどうかを指定します。
       </para>
      </step>
     </substeps>
    </step>
    <step performance="required">
     <para>
      ロケールが利用可能な第一言語のリストに含まれていない場合は、<guimenu>詳細なロケール設定</guimenu>で、そのロケールを指定してください。ただし、こうしたローカライズの一部には、不完全なものがあります。
     </para>
    </step>
    <step performance="required">
     <para>
      <guimenu>OK</guimenu>をクリックして、ダイアログで行った変更を確認します。第二言語を選択していれば、その追加言語にローカライズされたソフトウェアパッケージがYaSTによってインストールされます。
     </para>
    </step>
   </procedure>
   <para>
    これで、システムが多言語になります。ただし、第一言語以外の言語でアプリケーションを起動するには、該当する言語を<xref linkend="sec.y2.lang.applications"/>の説明どおりに明示的に設定する必要があります。
   </para>
  </sect2>

  <sect2 id="sec.y2.lang.switch">
   <title>デフォルトシステム言語を切り替える</title>
   <procedure>
    <step performance="required">
     <para>
      デフォルトのシステム言語をグローバルに切り替えるには、YaSTの言語モジュールを起動します。
     </para>
    </step>
    <step performance="required">
     <para>
      <guimenu>第一言語</guimenu>で新しいシステム言語を選択します。
     </para>
     <important>
      <title>以前のシステム言語の削除</title>
      <para>
       別の第一言語に切り替えると、以前の第一言語用にローカライズされたソフトウェアパッケージがシステムから削除されます。デフォルトシステム言語を切り替えても、以前の第一言語は追加言語として保持しておきたい場合は、該当するチェックボックスを選択することで、以前の第一言語を<guimenu>第二言語</guimenu>として追加できます。
      </para>
     </important>
    </step>
    <step performance="required">
     <para>
      キーボードとタイムゾーンのオプションを適宜調整します。
     </para>
    </step>
    <step performance="required">
     <para>
      <guimenu>OK</guimenu>をクリックして、変更を確認します。
     </para>
    </step>
    <step performance="required">
     <para>
      YaSTによって変更内容が適用された後、任意のXセッションを再起動して(たとえば、いったんログアウトして再度ログインします)、YaSTとデスクトップアプリケーションに新しい言語設定が反映されるようにします。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.y2.lang.applications">
   <title>標準のXアプリケーションとGNOMEアプリケーションでの言語切り替え</title>
   <para>
    YaSTで各言語をインストールした後、1つのアプリケーションのみを他のアプリケーションとは別の言語で実行できます。
   </para>
   <para>
    次のコマンドで、アプリケーションをコマンドラインから起動します。
   </para>
<screen>LANG=<replaceable>language</replaceable> <replaceable>application</replaceable></screen>
   <para>
    たとえば、f-spotをドイツ語で起動するには、<command>LANG=de_DE f-spot</command>を実行します。他の言語については、適切な言語コードを使用します。利用可能なすべての言語コードのリストは、<command>locale <option>-av</option></command>コマンドで取得します。
   </para>
  </sect2>
 </sect1>
 <sect1 id="sec.y2.country">
  <title>国および時間の設定の変更</title>

  <para>
   YaSTの日付と時刻モジュールを使用して、システムの日付、時計、およびタイムゾーンの情報を作業地域に合わせて調整します。YaSTのモジュールにアクセスするには、YaSTを起動して<menuchoice><guimenu>システム</guimenu><guimenu>日付と時刻</guimenu></menuchoice>の順にクリックします。コマンドラインで<command>sudo yast2 timezone &amp;</command>を実行して、<guimenu>時計とタイムゾーン</guimenu>ダイアログを直接起動することもできます。
  </para>

  <informalfigure>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2-timezone.png" width="75%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2-timezone.png" width="75%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </informalfigure>

  <para>
   まず、<guimenu>ヨーロッパ</guimenu>などの一般的な地域を選択します。作業地と一致する国(たとえば、<guimenu>ドイツ</guimenu>)を選択します。
  </para>

  <para>
   ワークステーションで実行されるオペレーティングシステムに応じて、ハードウェアクロックの設定を調整します。
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     マシン上でMicrosoft Windows*などの別のオペレーティングシステムを実行している場合、システムでは、UTCではなく、ローカルタイムを使用している可能性があります。この場合は、<guimenu>Hardware Clock Set To UTC (ハードウェアクロックをUTCに設定)</guimenu>をオフにします。
    </para>
   </listitem>
   <listitem>
    <para>
     コンピュータでLinuxだけを実行する場合は、ハードウェアクロックをUTCに設定し、標準時間から夏時間への切り換えを自動的に実行させます。
    </para>
   </listitem>
  </itemizedlist>

  <important>
   <title>UTCへのハードウェアクロックの設定</title>
   <para>
    標準時間からサマータイムへの転換(およびその逆)は、ハードウェアロック(CMOSクロック)がUTCに設定されている場合にのみ、自動的に行われます。この処理は、NTPとの時間の自動同期機能を使用している場合にも実行されます。これは、ハードウェアとシステムクロックの時間差が15分未満であれば、時間の自動同期が機能するからです。
   </para>
   <para>
    誤ったシステム時間は、深刻な問題の原因になる場合があります(バックアップの失敗、メールメッセージの削除、リモートファイルシステムでの障害の発生など)。ハードウェアのクロックを<emphasis>常に</emphasis>UTCに設定することを強くお勧めします。
   </para>
  </important>

  <para>
   日付と時刻を手動で変更できるほか、NTPサーバにマシンが永続的に同期できるようにするか、ハードウェアの時刻を調整する目的でのみ同期するかを選択できます。
  </para>

  <procedure>
   <title>日付と時刻を手動で調整する</title>
   <step performance="required">
    <para>
     YaSTのタイムゾーンモジュールで、<guimenu>Other Settings (その他の設定)</guimenu>をクリックして日付と時刻を設定します。
    </para>
   </step>
   <step performance="required">
    <para>
     <guimenu>手動</guimenu>を選択し、日時の値を入力します。
    </para>
   </step>
   <step performance="required">
    <para>
     変更内容を確認します。
    </para>
   </step>
  </procedure>

  <procedure>
   <title>NTPサーバにより日付と時刻を設定する</title>
   <step performance="required">
    <para>
     日付と時刻を変更するには、<guimenu>Other Settings (その他の設定)</guimenu>をクリックします。
    </para>
   </step>
   <step performance="required">
    <para>
     <guimenu>Synchronize with NTP Server</guimenu>を選択します。
    </para>
   </step>
   <step performance="required">
    <para>
     まだ入力されていない場合は、NTPサーバのアドレスを入力します。
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="html">
       <imagedata fileref="yast2-timezone-ntp.png" width="75%" format="PNG"/>
      </imageobject>
      <imageobject role="pdf">
       <imagedata fileref="yast2-timezone-ntp.png" width="75%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step performance="required">
    <para>
     <guimenu>今すぐ同期</guimenu>をクリックして、システム時間を正しく設定します。
    </para>
   </step>
   <step performance="required">
    <para>
     NTPを永続的に利用する場合は、<guimenu>Save NTP Configuration</guimenu>を有効にします。
    </para>
   </step>
   <step performance="required">
    <para>
     <guimenu>設定</guimenu>ボタンをクリックすると、［高度なNTP設定］を開くことができます。詳細については、<xref linkend="sec.netz.xntp.yast"/>を参照してください。
    </para>
   </step>
   <step performance="required">
    <para>
     変更内容を確認します。
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
