<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="x11.xml" version="5.0" xml:id="cha-gui-desktop">
 <title>图形用户界面。</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>是</dm:translation>
  </dm:docmanager>
  <abstract>
   <para>
    <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 包含 X.org 服务器和 GNOME 桌面。本章介绍用于所有用户的图形用户界面配置。
   </para>
  </abstract>
 </info>
 <sect1 xml:id="sec-gui-desktop-xorg">
  <title>X 窗口系统</title>
  <para>
   X.org 服务器是实施 X11 协议的事实上的标准。X 是基于网络的，可以使在一个主机上启动的应用程序显示在通过任何类型的网络（LAN 或 Internet）连接的另一个主机上。
  </para>
  <para>
   X Window 系统一般不需要进行任何配置。X 启动期间会动态检测硬件。因此，<filename>xorg.conf</filename> 已被弃用。如果您仍然需要指定自定义选项来更改 X 的行为方式，还是可以通过修改 <filename>/etc/X11/xorg.conf.d/</filename> 下的配置文件来实现。
  </para>
  
  <tip arch="zseries" os="sles">
   <title>IBM Z：配置图形用户界面</title>
   <para>
    IBM Z 没有任何 X.Org 支持的输入或输出设备。因此，本节中所述的所有配置过程都不适用。有关 IBM Z 的更多信息，请参见<xref linkend="cha-zseries"/>。
   </para>
  </tip>
  <para>
   您可安装 <systemitem class="resource">xorg-docs</systemitem> 包以更深入地了解 X11。<command>man 5 xorg.conf</command> 提供了有关手动配置（如果需要）的格式的详细信息。有关 X11 开发的更多信息，请参见该项目的主页：<link xlink:href="http://www.x.org"/>。
  </para>

  <para>
   驱动程序位于 <systemitem>xf86-video-*</systemitem> 包中，例如 <systemitem>xf86-video-ati</systemitem>。相关手册页中详细说明了这些包附带的很多驱动程序。例如，如果您使用 <literal>ati</literal> 驱动程序，在 <command>man 4 ati</command> 中可以找到有关此驱动程序的更多信息。
  </para>

  <para>
   有关第三方驱动程序的信息位于 <filename>/usr/share/doc/packages/&lt;package_name&gt;</filename> 中。例如，<systemitem class="resource">x11-video-nvidiaG04</systemitem> 的文档在安装包之后位于 <filename>/usr/share/doc/packages/x11-video-nvidiaG03</filename> 中。
  </para>
 </sect1>
 <xi:include href="x11_fonts.xml"/>
 <sect1 xml:id="sec-gui-desktop-gnome">
  <title>GNOME 配置（供管理员使用）</title>

  <sect2 xml:id="sec-gui-desktop-gnome-dconf">
   <title>dconfg 系统</title>

   <para>
    GNOME 桌面使用 <literal>dconf</literal> 管理其配置。它是一个有层次结构的数据库或注册表，用户可在其中更改自己的设置，系统管理员可在其中为所有用户设置默认值或强制值。<literal>dconf</literal> 取代了 GNOME 2 的 <literal>gconf</literal>。
   </para>

   <para>
    使用 <command>dconf-editor</command> 可通过图形用户界面查看 dconf 选项。使用 <command>dconf</command> 可通过命令行访问和更改配置选项。
   </para>

   <para>
    GNOME <literal>Tweaks</literal> 工具提供易于使用的用户界面，其中包含不属于标准 GNOME 配置的其他配置选项。从 GNOME 应用程序菜单或在命令行中使用 <command>gnome-tweak-tool</command> 可启动该工具。
   </para>
  </sect2>

  <sect2 xml:id="sec-gui-desktop-gnome-global">
   <title>系统范围的配置</title>
   <para>
    全局 <literal>dconf</literal> 配置参数在 <filename>/etc/dconf/db/</filename> 目录中设置，其中包括 GDM 的配置或针对用户锁定特定的配置选项。
   </para>
   <para>
    我们以下面的过程举例说明如何创建系统范围的配置：
   </para>
   <procedure>
    <step>
     <para>
      在 <filename>/etc/dconf/db/</filename> 中创建以 <literal>.d</literal> 结尾的新目录。此目录可包含任意数量的配置选项文本文件。在此例中，创建含有以下内容的文件 <filename>/etc/dconf/db/network/00-proxy</filename>：
     </para>
     <screen># This is a comment
[system/proxy/http]
host='10.0.0.1'
enabled=true</screen>
    </step>
    <step>
     <para>
      将新的配置指令分析为 dconf 数据库格式：
     </para>
     <screen><prompt>tux &gt; </prompt><command>sudo</command> <command>dconf update</command></screen>
    </step>
    <step>
     <para>
      创建 <filename>/etc/dconf/profiles/user</filename> 文件，以将新 <literal>network</literal> 配置数据库添加至默认用户配置文件。然后添加以下内容：
     </para>
     <screen>system-db:network</screen>
     <para>
      <filename>/etc/dconf/profiles/user</filename> 文件是将要使用的 GNOME 默认设置。其他配置文件可在环境变量 <literal>DCONF_PROFILE</literal> 中定义。
     </para>
    </step>
    <step>
     <para>
      可选：要锁定用户的代理配置，请创建文件 <filename>/etc/dconf/db/network/locks/proxy</filename>。然后将含有不能更改的关键字的一行添加至此文件：
     </para>
     <screen>/system/proxy/http/host
/system/proxy/http/enabled</screen>
    </step>
   </procedure>
   <para>
    您可以使用图形 <command>dconf-editor</command> 创建包含一个用户的配置文件，然后使用 <command>dconf dump /</command> 列出所有配置选项。之后便可将配置选项储存在全局配置文件中。
   </para>
   <para>
    <link xlink:href="https://wiki.gnome.org/Projects/dconf/SystemAdministrators"/> 中提供了全局配置的详细说明。
   </para>
  </sect2>

  <sect2 xml:id="sec-gui-desktop-gnome-more-info">
   <title>更多信息</title>
   <para>
    有关详细信息，请参见 <link xlink:href="http://help.gnome.org/admin/"/>。
   </para>
  </sect2>
 </sect1>
</chapter>
