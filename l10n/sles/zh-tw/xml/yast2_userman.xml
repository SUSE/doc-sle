<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_userman.xml" version="5.0" xml:id="cha-yast-userman">
 <title>使用 YaST 管理使用者</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  在安裝期間，您可能已為系統建立了本地使用者。使用 YaST 模組<guimenu>使用者和群組管理</guimenu>可以新增使用者，或編輯現有使用者。它還可讓您設定系統，以在網路伺服器上驗證使用者。
 </para>
 <sect1 xml:id="sec-yast-userman-main">
  <title>使用者及群組管理對話方塊</title>

  <para>
   若要管理使用者或群組，請啟動 YaST，然後按一下<menuchoice>
   <guimenu>安全性與使用者</guimenu> <guimenu> 使用者和群組管理</guimenu> </menuchoice>。或者，在指令列中執行 <command>sudo
   yast2 users &amp;</command>，以直接啟動<guimenu>使用者及群組管理</guimenu>對話方塊。
  </para>

  <figure xml:id="fig-y2-userman-main">
   <title>YaST 使用者及群組管理</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_users_main_qt.png" width="90%" os="sles;sled"/>
     
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_users_main_qt.png" width="70%" os="sles;sled"/>
     
    </imageobject>
   </mediaobject>
  </figure>
  <para>
   每位使用者都被指定了全系統使用者 ID (UID)。除了可以登入機器的使用者之外，系統還提供了幾個僅供內部使用的<emphasis>系統使用者</emphasis>。系統會將每個使用者指定給一或多個群組。類似於「<emphasis>系統使用者</emphasis>」，系統還提供了「<emphasis>系統群組</emphasis>」供內部使用。
  </para>

  <para>
  根據您選擇檢視和修改的使用者集 (本地使用者、網路使用者、系統使用者)，主視窗會顯示幾個索引標籤。這些索引標籤可用於執行以下任務：
  </para>

  <variablelist>
   <varlistentry>
    <term>管理使用者帳戶</term>
    <listitem>
     <para>
      從<guimenu>使用者</guimenu>索引標籤中，建立、修改、刪除或暫時停用使用者帳戶，如<xref linkend="sec-yast-userman-users"/> 所述。在<xref linkend="sec-yast-userman-adv"/>中瞭解進階選項，例如強制執行密碼規則、使用加密的主目錄或管理磁碟配額。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>變更預設設定</term>
    <listitem>
     <para>
      系統會根據在<guimenu>新使用者的預設值</guimenu>索引標籤中定義的設定建立本地使用者帳戶。在<xref linkend="sec-yast-userman-defaults"/> 中瞭解如何變更指定的預設群組，或主目錄的預設路徑及存取權限。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>將使用者指定給群組</term>
    <listitem>
     <para>
      在<xref linkend="sec-yast-userman-assign"/> 中瞭解如何變更為個別使用者指定的群組。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>管理群組</term>
    <listitem>
     <para>
      在<guimenu>群組</guimenu>索引標籤中，您可以新增、修改或刪除現有的群組。有關如何執行此操作的資訊，請參閱<xref linkend="sec-yast-userman-groups"/>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>變更使用者驗證方法</term>
    <listitem>
     <para>
      機器連接到提供 NIS 或 LDAP 等使用者驗證方式的網路時，您可以在<guimenu>驗證設定</guimenu>索引標籤上的多種驗證方式中進行選擇。若需更多資訊，請參閱<xref linkend="sec-yast-userman-authent"/>。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   對於使用者及群組管理，對話方塊提供了類似的功能。透過在對話方塊頂部選擇對應的索引標籤，可以輕鬆地在使用者與群組管理檢視窗之間切換。
  </para>

  <para>
   使用過濾器選項可定義要修改的一組使用者或群組：在<guimenu>使用者</guimenu>或<guimenu>群組</guimenu>索引標籤上，按一下<guimenu>設定過濾器</guimenu>，可檢視和編輯使用者或群組。系統會根據<guimenu>本地使用者</guimenu>或 <guimenu>LDAP 使用者</guimenu>等特定類別 (如果適用) 列出使用者或群組。透過<menuchoice> <guimenu>設定過濾器</guimenu>
   <guimenu> 自訂過濾器</guimenu> </menuchoice>，您還可以設定和使用自訂過濾器。
  </para>

  <para>
   此對話方塊可能不會提供以下所有選項和功能，具體取決於您選擇的過濾器。
  </para>
 </sect1>
 <sect1 xml:id="sec-yast-userman-users">
  <title>管理使用者帳戶</title>

  <para>
   YaST 可讓您建立、修改、刪除或暫時停用使用者帳戶。請勿修改使用者帳戶，除非您是有經驗的使用者或管理員。
  </para>

  <note>
   <title>變更現有使用者的 ID</title>
   <para>
    檔案擁有權與使用者 ID 而非使用者名稱繫結。變更使用者 ID 後，使用者主目錄中的檔案會自動調整以反映此變更。但變更 ID 後，使用者不再擁有他們在檔案系統中其他位置建立的檔案，除非您手動修改那些檔案的檔案擁有權。
   </para>
  </note>

  <para>
   以下說明示範如何設定預設使用者帳戶。關於其他選項，請參閱<xref linkend="sec-yast-userman-adv"/>。
  </para>

  <procedure>
   <title>新增或修改使用者帳戶</title>
   <step>
    <para>
     開啟 YaST 的<guimenu>使用者和群組管理</guimenu>對話方塊並按一下<guimenu>使用者</guimenu>索引標籤。
    </para>
   </step>
   <step>
    <para>
     使用<guimenu>設定過濾器</guimenu>定義要管理的一組使用者。對話方塊將列出系統中的使用者以及使用者隸屬的群組。
    </para>
   </step>
   <step>
    <para>
     若要修改現有使用者的選項，請選取項目，然後按一下<guimenu>編輯</guimenu>。
    </para>
    <para>
     若要建立新的使用者帳戶，請按一下<guimenu>新增</guimenu>。
    </para>
   </step>
   <step>
    <para>
     在第一個索引標籤上輸入適當的使用者資料，例如<guimenu>使用者名稱</guimenu>(用於登入) 和<guimenu>密碼</guimenu>。此資料已足可建立新使用者。如果此時按一下<guimenu>確定</guimenu>，系統會自動指定使用者 ID，並將所有其他值設定為預設值。
    </para>
   </step>

   <step>
    <para>
     若希望系統通知傳送到此使用者的信箱，請啟用<guimenu>接收系統郵件</guimenu>。這會為 <systemitem class="username">root</systemitem> 建立郵件別名，使用者無需先以 <systemitem class="username">root</systemitem> 身分登入便可閱讀系統郵件。
    </para>
    <para>
     系統服務傳送的郵件儲存在本地信箱 <filename>/var/spool/mail/</filename><replaceable>USERNAME</replaceable> 中，其中 <replaceable>USERNAME</replaceable> 是所選使用者的登入名稱。若要閱讀電子郵件，可以使用 <command>mail</command> 指令。
    </para>
   </step>
   <step>
    <para>
     若要進一步調整詳細資料 (例如使用者 ID 或使用者主目錄的路徑)，可以在<guimenu>詳細資料</guimenu>索引標籤中進行。
    </para>
    <para>
     如果您需要重設現有使用者的主目錄，請在該處輸入新主目錄的路徑，然後使用<guimenu>移動到新位置</guimenu>移動目前主目錄的內容。否則，將會建立不含任何現有資料的新主目錄。
    </para>
   </step>
   <step>
    <para>
     要強制使用者定期變更其密碼或設定其他密碼選項，請切換到<guimenu>密碼設定</guimenu>並調整選項。如需詳細資訊，請參閱 <xref linkend="sec-yast-userman-adv-passw"/>。
    </para>
   </step>
   <step>
    <para>
     視需要設定所有選項之後，按一下<guimenu>確定</guimenu>。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>確定</guimenu>關閉管理對話方塊並儲存變更。現在，新增的使用者便可使用您建立的登入名稱和密碼登入系統。
    </para>
    <para>
     或者，若要儲存所有變更且不離開<guimenu>使用者和群組管理</guimenu>對話方塊，請按一下<menuchoice> <guimenu>進階選項</guimenu> <guimenu>立即寫入變更</guimenu> </menuchoice>。
    </para>
   </step>
  </procedure>

   
  <warning>
    <title>請勿重新命名 <systemitem class="username">root</systemitem> 帳戶</title>
    <para>
      雖然從技術上來說可以對 <systemitem class="username">root</systemitem> 帳戶重新命名，但特定應用程式、指令碼或協力廠商產品可能需要名為 <systemitem class="username">root</systemitem> 的使用者存在才能正常運作。雖然這樣的組態永遠針對的是個別環境，但廠商更新可能會覆寫必要的調整，因此這變成了一項需要持續執行的任務，而不是一次性設定。在涉及到協力廠商應用程式的複雜設定中更是如此。在這些設定中，需要向涉及的每個廠商驗證是否支援重新命名 <systemitem class="username">root</systemitem> 帳戶。
    </para>
    <para>
      由於無法預見重新命名 <systemitem class="username">root</systemitem> 帳戶造成的後果，SUSE 不支援重新命名 <systemitem class="username">root</systemitem> 帳戶。
    </para>
    <para>
      通常，重新命名 <systemitem class="username">root</systemitem> 帳戶背後的理念是隱藏該帳戶或使其無法預測。但是，<filename>/etc/passwd</filename> 要求一般使用者具有 <literal>644</literal> 權限，因此系統的任何使用者都能獲得使用者 ID 0 的登入名稱。<phrase os="sles;sled;osuse">如果要使用更好的方法來保護 <systemitem class="username">root</systemitem> 帳戶的安全，請參閱<xref linkend="sec-sec-prot-restrict-root"/>和<xref linkend="sec-sec-prot-restrict-root-ssh"/>。</phrase>
    </para>
  </warning>
  <tip>
   <title>比對使用者 ID</title>
   <para>
    將 (本地) 使用者 ID 與網路中的 ID 進行對比會很有用。例如，應該將筆記型電腦上的新 (本地) 使用者整合到包含相同使用者 ID 的網路環境中。如此可確定使用者<quote>離線</quote>所建檔案與在網路上直接建立之檔案的檔案擁有權相同。
   </para>
  </tip>

  <procedure>
   <title>停用或刪除使用者帳戶</title>
   <step>
    <para>
     開啟 YaST 的<guimenu>使用者和群組管理</guimenu>對話方塊並按一下<guimenu>使用者</guimenu>索引標籤。
    </para>
   </step>
   <step>
    <para>
     若要暫時停用使用者帳戶而不將其刪除，請從清單中選取該使用者，然後按一下<guimenu>編輯</guimenu>。啟用<guimenu>停用使用者登入</guimenu>。您再次啟用該帳戶之前，使用者將一直無法登入機器。
    </para>
   </step>
   <step>
    <para>
     若要刪除使用者帳戶，請從清單中選取該使用者，然後按一下<guimenu>刪除</guimenu>。選擇您是要刪除使用者的主目錄，還是要保留該資料。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec-yast-userman-adv">
  <title>其他使用者帳戶選項</title>

  <para>
   除了預設使用者帳戶的設定外，<phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> 還提供了其他選項。例如，用於強制執行密碼規則、使用加密的主目錄，或者為使用者和群組定義磁碟配額的選項。
  </para>

  <sect2 xml:id="sec-yast-userman-adv-login">
   <title>自動登入和無密碼登入</title>
   <para>
    如果您使用的是 GNOME 桌面環境，則可以為特定使用者設定<emphasis>自動登入</emphasis>，為所有使用者設定<emphasis>無密碼登入</emphasis>。自動登入會讓使用者在開機時自動登入桌面環境。一次只能對一個使用者啟用此功能。使用無密碼登入可以讓使用者在登入管理員中輸入其使用者名稱後直接登入系統。
   </para>
   <warning>
    <title>安全性風險</title>
    <para>
     在多人可以存取的機器上啟用<emphasis>自動登入</emphasis>或<emphasis>無密碼登入</emphasis>會有安全性風險。所有使用者無須驗證即可存取您的系統和資料。如果您的系統含有機密資料，則請勿使用此功能。
    </para>
   </warning>
   <para>
    若要啟用自動登入或無密碼登入，請透過 YaST <guimenu>使用者及群組管理</guimenu>中的<menuchoice> <guimenu>專家選項</guimenu> <guimenu>登入設定</guimenu> </menuchoice>來存取這些功能。
   </para>
  </sect2>

  <sect2 xml:id="sec-yast-userman-adv-passw">
   <title>強制執行密碼規則</title>
   <para>
    在任何擁有多個使用者的系統上，若能至少強制執行基本的密碼安全性規則，是個不錯的作法。使用者應定期變更密碼，並應使用增強式密碼，因為此種密碼無法輕易破解。對於本地使用者，請按照下列步驟進行：

   </para>
   <procedure>
    <title>組態密碼設定</title>
    <step>
     <para>
      開啟 YaST 的<guimenu>使用者和群組管理</guimenu>對話方塊並選取<guimenu>使用者</guimenu>索引標籤。
     </para>
    </step>
    <step>
     <para>
      選取使用者並按一下<guimenu>編輯</guimenu>。
     </para>
    </step>
    <step>
     <para>
      切換到<guimenu>密碼設定</guimenu>索引標籤。該索引標籤上會顯示使用者上次的密碼變更。
     </para>
    </step>
    <step>
     <para>
      若要讓使用者在下次登入時變更其密碼，請啟用<guimenu>強制密碼變更</guimenu>。
     </para>
    </step>
    <step>
     <para>
      若要強制密碼輪用，請設定<guimenu>相同密碼最多可使用天數</guimenu>和<guimenu>相同密碼最少可使用天數</guimenu>。
     </para>
    </step>
    <step>
     <para>
      若要提醒使用者在其密碼過期之前變更密碼，請設定<guimenu>密碼過期前發出警告的天數</guimenu>。
     </para>
    </step>
    <step>
     <para>
      若要限制使用者在其密碼過期後可以登入的期限，請變更<guimenu>密碼過期後仍可登入的天數</guimenu>中的值。
     </para>
    </step>
    <step>
     <para>
      您還可以為整個帳戶指定特定的過期日期。以 <replaceable>YYYY-MM-DD</replaceable> 格式輸入<guimenu>過期日</guimenu>。此設定與密碼無關，而是套用至帳戶自身。
     </para>
    </step>
    <step>
     <para>
      如需選項和預設值的詳細資訊，請按一下<guimenu>說明</guimenu>。
     </para>
    </step>
    <step>
     <para>
      按一下<guimenu>確定</guimenu>套用您的變更。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-yast-userman-adv-quota">
   <title>管理配額</title>
   <para>
    為避免出現事先未通知系統容量即用盡的情況，系統管理員可以為使用者或群組設定配額。配額可以針對一或多個檔案系統定義，並限制可以使用的磁碟空間容量以及可在其中建立的 inode (索引節點) 數量。Inode 是檔案系統上的一種資料結構，用於儲存一般檔案、目錄或其他檔案系統物件的基本資訊。該結構會儲存檔案系統物件的所有屬性 (例如使用者和群組擁有權、讀取、寫入或執行權限)，但不會儲存檔案名稱和內容。
   </para>
   <para>
    <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 允許使用 <literal>soft</literal> 和 <literal>hard</literal> 配額。此外，您還可以定義寬限間隔，允許使用者或群組暫時超出配額一定的數量。
   </para>
   <variablelist>
    <varlistentry>
     <term>軟配額</term>
     <listitem>
      <para>
       定義一個警告層級，達到此層級時，將告知使用者他們即將超過限制。管理員可能會要求使用者清理並減少分割區上的資料。軟配額限制通常低於硬配額限制。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>硬配額</term>
     <listitem>
      <para>
       定義拒絕寫入請求之前所要達到的限制。如果達到了硬配額，則不再可以儲存資料，並且應用程式可能會當機。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>寬限期間</term>
     <listitem>
      <para>
       定義在超出軟配額之後，經過多長時間再發出警告。通常設定為一個相當小的值，例如一小時或數小時。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <procedure>
    <title>對分割區啟用配額支援</title>
    <para>
     若要為特定使用者和群組設定配額，您需要先在 YaST 進階磁碟分割程式中對相應的分割區啟用配額支援。
    </para>
    <note os="sles">
     <title>Btrfs 分割區的配額</title>
     <para>

      Btrfs 分割區的配額將以不同的方式處理。如需詳細資訊，請參閱 <xref linkend="sec-filesystems-major-btrfs-quota"/>。

      <remark>taroth 2014-06-04: todo - after btrfs quotas have been covered in
       the manuals (Storage Guide?), add link - taroth 2014-12-29: done</remark>
     </para>
    </note>
    <step>
     <para>
      在 YaST 中，選取<menuchoice> <guimenu>系統</guimenu>
      <guimenu> 磁碟分割程式</guimenu> </menuchoice>，然後按一下<guimenu>是</guimenu>以繼續。
     </para>
    </step>
    <step>
     <para>
      在<guimenu>進階磁碟分割程式</guimenu>中，選取要對其啟用配額的分割區，然後按一下<guimenu>編輯</guimenu>。
     </para>
    </step>
    <step>
     <para>

      按一下<guimenu>Fstab 選項</guimenu>並啟用<guimenu>啟用配額支援</guimenu>。如果尚未安裝 <systemitem>quota</systemitem> 套件，當您按一下<guimenu>是</guimenu>確認相應的訊息時，系統就會安裝該套件。
     </para>
    </step>
    <step>
     <para>
      確認變更並離開<guimenu>進階磁碟分割程式</guimenu>。
     </para>
    </step>
    <step>
     <para>
      輸入以下指令以確定 <systemitem class="service">quotaon</systemitem> 服務正在執行：
     </para>
<screen><prompt>&gt; </prompt><command>sudo</command> systemctl status quotaon.service</screen>
     <para>
      它應該標示為處於 <literal>active</literal> 狀態。如果情況並非如此，請使用指令 <command>systemctl start
      quotaon.service</command> 將其啟動。
     </para>
    </step>
   </procedure>
   <procedure>
    <title>為使用者或群組設定配額</title>
    <para>
     現在，您可以為特定使用者或群組定義軟配額或硬配額，並設定做為寬限間隔的期間。
    </para>
    <step>
     <para>
      在 YaST 的<guimenu>使用者和群組管理</guimenu>中，選取要為其設定配額的使用者或群組，然後按一下<guimenu>編輯</guimenu>。
     </para>
    </step>
    <step>
     <para>
      在<guimenu>外掛程式</guimenu>索引標籤中，選取<guimenu>管理使用者配額</guimenu>項目，然後按一下<guimenu>啟動</guimenu>開啟<guimenu>配額組態</guimenu>對話方塊。
     </para>
    </step>
    <step>
     <para>
      從<guimenu>檔案系統</guimenu>中，選取要為其套用配額的分割區。
     </para>
     <informalfigure os="sles;sled">
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="yast2_users_quota_qt.png" width="80%" os="sles;sled"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="yast2_users_quota_qt.png" width="70%" os="sles;sled"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      在<guimenu>大小限制</guimenu>下面，限制磁碟空間的容量。輸入使用者或群組在此分割區上可使用的 1 KB 區塊數。指定<guimenu>軟限制</guimenu>和<guimenu>硬限制</guimenu>的值。
     </para>
    </step>
    <step>
     <para>
      此外，您還可以限制使用者或群組在分割區上可擁有的 inode 數。在<guimenu>Inode 限制</guimenu>下面，輸入<guimenu>軟限制</guimenu>和<guimenu>硬限制</guimenu>。
     </para>
    </step>
    <step>
     <para>
      只有在使用者或群組已經超過指定的大小或 inode 軟限制後，您才可以定義寬限間隔。否則，與時間相關的文字方塊將處於未啟用狀態。指定允許使用者或群組超過上述所設限制的期間。
     </para>
    </step>
    <step>
     <para>
      以 <guimenu>確定</guimenu> 確認您的設定值。
     </para>
    </step>
    <step>
     <para>
      按一下<guimenu>確定</guimenu>關閉管理對話方塊並儲存變更。
     </para>
     <para>
      或者，若要儲存所有變更且不離開<guimenu>使用者和群組管理</guimenu>對話方塊，請按一下<menuchoice> <guimenu>進階選項</guimenu> <guimenu>立即寫入變更</guimenu> </menuchoice>。
     </para>
    </step>
   </procedure>
   <para>
    <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 還隨附了 <literal>repquota</literal> 或 <literal>warnquota</literal> 等指令列工具。系統管理員可以使用這些工具來控制磁碟使用量，或者向超出配額的使用者傳送電子郵件通知。管理員還可以使用 <command>quota_nld</command>，將有關超出配額的核心訊息轉遞給 D-BUS。如需詳細資訊，請參閱 <systemitem>repquota</systemitem>、<systemitem>warnquota</systemitem> 和 <command>quota_nld</command> 手冊頁。

   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-yast-userman-defaults">
  <title>變更本地使用者的預設設定</title>

  <para>
   建立新的本地使用者時，YaST 會使用幾個預設設定。例如，這些設定包括使用者所屬的群組，或使用者主目錄的存取權限。您可以變更這些預設設定來符合自身需求。
  </para>

  <procedure>
   <step>
    <para>
     開啟 YaST 的<guimenu>使用者和群組管理</guimenu>對話方塊並選取<guimenu>新使用者的預設值</guimenu>索引標籤。
    </para>
   </step>
   <step>
    <para>
     若要變更新使用者應自動隸屬的群組，請從<guimenu>預設群組</guimenu>中選取另一個群組。
    </para>
   </step>
   <step>
    <para>
     如果不想使用 <filename>/home/<replaceable>USERNAME</replaceable></filename> 做為新使用者主目錄的預設路徑，請修改<guimenu>主目錄的路徑字首</guimenu>。
    </para>
   </step>
   <step>
    <para>
     若要變更新建立之主目錄的預設許可模式，請在<guimenu>主目錄的 Umask</guimenu>中調整 Umask 值。如需 Umask 的詳細資訊，請參閱<xref linkend="cha-security-acls"/>和 <command>umask</command> 手冊頁。
    </para>
   </step>
   <step>
    <para>
     如需關於各選項的資訊，請按一下<guimenu>說明</guimenu>。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>確定</guimenu>套用您的變更。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec-yast-userman-assign">
  <title>將使用者指定給群組</title>

  <para>
   系統會根據預設設定將本地使用者指定給數個群組。您可從<guimenu>使用者及群組管理</guimenu>對話方塊中<guimenu>新使用者的預設值</guimenu>索引標籤存取預設設定。下面說明了如何修改為個別使用者指定的群組。如果您需要變更新為使用者預設指定的群組，請參閱<xref linkend="sec-yast-userman-defaults"/>。
  </para>

  <procedure>
   <title>變更使用者的群組指定</title>
   <step>
    <para>
     開啟 YaST 的<guimenu>使用者和群組管理</guimenu>對話方塊並按一下<guimenu>使用者</guimenu>索引標籤。該索引標籤將列出使用者以及使用者隸屬的群組。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>編輯</guimenu>並切換到<guimenu>詳細資料</guimenu>索引標籤。
    </para>
   </step>
   <step>
    <para>
     若要變更使用者隸屬的群組，請按一下<guimenu>預設群組</guimenu>，然後從清單中選取群組。
    </para>
   </step>
   <step>
    <para>
     若要為使用者指定其他次要群組，請啟用<guimenu>其他群組</guimenu>清單中對應的核取方塊。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>確定</guimenu>套用您的變更。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>確定</guimenu>關閉管理對話方塊並儲存變更。
    </para>
    <para>
     或者，若要儲存所有變更且不離開<guimenu>使用者和群組管理</guimenu>對話方塊，請按一下<menuchoice> <guimenu>進階選項</guimenu> <guimenu>立即寫入變更</guimenu> </menuchoice>。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec-yast-userman-groups">
  <title>管理群組</title>

  <para>
   使用 YaST 還可以輕鬆地新增、修改或刪除群組。
  </para>

  <procedure>
   <title>建立和修改群組</title>
   <step>
    <para>
     開啟 YaST 的<guimenu>使用者和群組管理</guimenu>對話方塊並按一下<guimenu>群組</guimenu>索引標籤。
    </para>
   </step>
   <step>
    <para>
     使用<guimenu>設定過濾器</guimenu>定義要管理的一組群組。對話方塊將列出系統中的群組。
    </para>
   </step>
   <step>
    <para>
     若要建立新的群組，請按一下<guimenu>新增</guimenu>。
    </para>
   </step>
   <step>
    <para>
     若要修改現有的群組，請選取群組，然後按一下<guimenu>編輯</guimenu>。
    </para>
   </step>
   <step>
    <para>
     在下面的對話方塊中，輸入或變更資料。右側的清單顯示可以做為群組成員的所有可用使用者和系統使用者的綜覽。
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="yast2_groups_edit_qt.png" width="80%" os="sles;sled"/>
       
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="yast2_groups_edit_qt.png" width="75%" os="sles;sled"/>
       
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step>
    <para>
     若要將現有的使用者新增到新群組，請在可用<guimenu>群組成員</guimenu>的清單中核取對應的方塊選取使用者。若要從群組中移除使用者，請停用方塊。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>確定</guimenu>套用您的變更。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>確定</guimenu>關閉管理對話方塊並儲存變更。
    </para>
    <para>
     或者，若要儲存所有變更且不離開<guimenu>使用者和群組管理</guimenu>對話方塊，請按一下<menuchoice> <guimenu>進階選項</guimenu> <guimenu>立即寫入變更</guimenu> </menuchoice>。
    </para>
   </step>
  </procedure>

  <para>
   若要刪除群組，則它不能包含任何群組成員。若要刪除群組，請從清單中選取群組，然後按一下<guimenu>刪除</guimenu>。按一下<guimenu>確定</guimenu>關閉管理對話方塊並儲存變更。或者，若要儲存所有變更且不離開<guimenu>使用者和群組管理</guimenu>對話方塊，請按一下<menuchoice>
   <guimenu>進階選項</guimenu> <guimenu>立即寫入變更</guimenu>
   </menuchoice>。
  </para>
 </sect1>
 <sect1 xml:id="sec-yast-userman-authent">
  <title>變更使用者驗證方法</title>

  <para>
   機器連接到網路時，您可以變更驗證方式。下列選項可供使用：
  </para>

  <variablelist>
   <varlistentry>
    <term>NIS</term>
    <listitem>
     <para>
      在 NIS 伺服器上集中管理網路中所有系統的使用者。如需詳細資料，請參閱<xref linkend="cha-nis"/>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>SSSD</term>
    <listitem>
     <para>
      <emphasis>系統安全性服務精靈</emphasis> (SSSD) 可在本地快取使用者資料，並可讓使用者使用這些資料，即使實際目錄服務 (暫時) 無法連接也不例外。如需詳細資料，請參閱<xref linkend="sec-security-auth-sssd"/>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Samba</term>
    <listitem>
     <para>
      Linux 與 Windows 混合網路中常使用 SMB 驗證。若需要詳細資料，請參閱 <xref linkend="cha-samba" os="sles"/> .
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   若要變更驗證方式，請按照下列步驟進行：
  </para>

  <procedure>
   <step>
    <para>
     在 YaST 中開啟<guimenu>使用者和群組管理</guimenu>對話方塊。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>驗證設定</guimenu>索引標籤，顯示可用驗證方式和目前設定的綜覽。
    </para>
   </step>
   <step>
    <para>
     若要變更驗證方式，請按一下<guimenu>設定</guimenu>並選取要修改的驗證方式。此動作會將您直接轉到 YaST 中的用戶端組態模組。如需設定適當用戶端的相關資訊，請參閱以下幾節：
    </para>
    <formalpara>
     <title>NIS：</title>
     <para>
      <xref linkend="sec-nis-client"/>
     </para>
    </formalpara>
    <formalpara>
     <title>LDAP：</title>
     <para>
      <phrase><xref linkend="sec-security-auth-yast-client"/></phrase>
     </para>
    </formalpara>
    <formalpara os="sles">
     <title>Samba：</title>
     <para>
      <xref linkend="sec-samba-client-inst-yast"/>
     </para>
    </formalpara>
   <formalpara>
     <title>SSSD：</title>
     <para>
      <xref linkend="sec-security-auth-sssd"/>
     </para>
    </formalpara>
   </step>
   <step>
    <para>
     接受組態後，返回<guimenu>使用者及群組管理</guimenu>綜覽。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>確定</guimenu>，關閉管理對話方塊。
    </para>
   </step>
  </procedure>
 </sect1>

 <sect1 xml:id="sec-yast-userman-defaultsystemusers">
  <title>預設系統使用者</title>
  <para>
   <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 預設會建立一些不可刪除的使用者名稱。通常在 Linux Standard Base 中定義這些使用者。下面的清單提供了常見的使用者名稱及其用途：
  </para>
  
  <variablelist>
   <title>預設安裝的常見使用者名稱</title>
   <varlistentry>
    <term><systemitem class="username">bin</systemitem></term>
    <term><systemitem class="username">daemon</systemitem></term>
    <listitem>
     <para>
      舊版使用者，為了與舊版應用程式相容而提供。新版應用程式應該不再使用此使用者名稱。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">gdm</systemitem></term>
    <listitem>
     
     <para>
      GNOME 顯示管理員 (GDM) 使用此使用者名稱來提供圖形登入，以及管理本地和遠端顯示內容。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">lp</systemitem></term>
    <listitem>
     
     <para>
      由通用 Unix 列印系統 (CUPS) 的印表機精靈使用。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">mail</systemitem></term>
    <listitem>
     <para>
      為 <command>sendmail</command> 或 <command>postfix</command> 等郵件程式保留的使用者。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">man</systemitem></term>
    <listitem>
     
     <para>
      由 man 用來存取手冊頁。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">messagebus</systemitem></term>
    <listitem>
     
     <para>
      用於存取 D-Bus (桌面匯流排，用於程序間通訊的軟體匯流排)。精靈是 <systemitem class="daemon">dbus-daemon</systemitem>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">nobody</systemitem></term>
    <listitem>
     <para>
      不擁有任何檔案，且屬於無權限群組的使用者。目前，其用途有限，因為 Linux Standard Base 建議為每個精靈提供單獨的使用者帳戶。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">nscd</systemitem></term>
    <listitem>
     
     <para>
      由名稱服務快取精靈使用。此精靈是用於改善 NIS 和 LDAP 效能的查閱服務。精靈是 <systemitem class="daemon">nscd</systemitem>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">polkitd</systemitem></term>
    <listitem>
     
     <para>
      由 PolicyKit 授權架構使用，該架構用於定義和處理非特權程序的授權要求。精靈是 <systemitem class="daemon">polkitd</systemitem>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">postfix</systemitem></term>
    <listitem>
     
     <para>
      由 Postfix 郵件程式使用。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">pulse</systemitem></term>
    <listitem>
     
     <para>
      由 Pulseaudio 音效伺服器使用。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">root</systemitem></term>
    <listitem>
     <para>
      由提供所有適當權限的系統管理員使用。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">rpc</systemitem></term>
    <listitem>
     
     <para>
      由 <command>rpcbind</command> 指令 (RPC 連接埠對應程式) 使用。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">rtkit</systemitem></term>
    <listitem>
     
     <para>
      由提供 D-Bus 系統服務以實現即時排程模式的 <package>rtkit</package> 套件使用。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">salt</systemitem></term>
    <listitem>
     
     <para>
      Salt 提供的平行遠端執行的使用者。精靈名為 <systemitem class="daemon">salt-master</systemitem>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">scard</systemitem></term>
    <listitem>
     
     <para>
      與智慧卡和讀卡器通訊時使用的使用者。精靈名為 <systemitem class="daemon">pcscd</systemitem>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">srvGeoClue</systemitem></term>
    <listitem>
     
     <para>
      GeoClue D-Bus 服務使用它來提供位置資訊。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">sshd</systemitem></term>
    <listitem>
     
     <para>
      安全外圍程序精靈 (SSH) 使用它來確保在非安全網路上進行安全的加密通訊。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">statd</systemitem></term>
    <listitem>
     
     <para>
      <systemitem class="daemon">rpc.statd</systemitem> 精靈中實作的網路狀態監控通訊協定 (NSM) 使用它來監聽重新開機通知。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem class="username">systemd-coredump</systemitem></term>
    <listitem>
     
     <para>
      <command>/usr/lib/systemd/systemd-coredump</command> 指令使用它來獲取、儲存和處理核心傾印。
     </para>
    </listitem>
   </varlistentry>
   
   <varlistentry>
    <term><systemitem class="username">systemd-timesync</systemitem></term>
    <listitem>
     
     <para>
      <command>/usr/lib/systemd/systemd-timesyncd</command> 指令使用它將本地系統時鐘與遠端網路時間通訊協定 (NTP) 伺服器同步。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="default-system-groups">
  <title>預設系統群組</title>
  <para>
    依預設，SLE 會建立多個供系統服務使用的使用者群組。下面列出了一些範例，其中有些是必需的群組，有些是常見的選擇性群組。
  </para>
  <variablelist>
    <varlistentry>
        <term><systemitem class="groupname">root</systemitem></term>
        <listitem>
          <para>
            具有所有權限的管理群組。
          </para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term><systemitem class="groupname">bin</systemitem></term>
        <listitem>
          <para>
            為了與舊版應用程式相容而提供。新應用程式不應使用此群組。
          </para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term><systemitem class="groupname">daemon</systemitem></term>
        <listitem>
          <para>
            以前用於限制精靈對系統的存取。精靈現在應使用各自的 UID/GID 執行，以便相互區分。
          </para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term><systemitem class="groupname">audio</systemitem></term>
        <listitem>
          <para>
            音訊裝置的權限。
          </para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term><systemitem class="groupname">gdm</systemitem></term>
        <listitem>
          <para>
            GNOME 顯示管理員的權限。
          </para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term><systemitem class="groupname">chrony</systemitem></term>
        <listitem>
          <para>
            時間同步服務的權限。
          </para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term><systemitem class="groupname">kvm</systemitem></term>
        <listitem>
          <para>
            QEMU 機器模擬器工具套件的權限。
          </para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term><systemitem class="groupname">libvirt</systemitem></term>
        <listitem>
          <para>
            虛擬化堆疊的權限。
          </para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term><systemitem class="groupname">lp</systemitem></term>
        <listitem>
          <para>
            印表機操作的權限。
          </para>
        </listitem>
    </varlistentry>
    <varlistentry>
      <term><systemitem class="groupname">mail</systemitem></term>
      <listitem>
        <para>
          郵件服務的權限。
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
        <term><systemitem class="groupname">man</systemitem></term>
        <listitem>
          <para>
            特定於手冊頁和 <command>man</command> 指令的權限。
          </para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term><systemitem class="groupname">sshd</systemitem></term>
        <listitem>
          <para>
            SSH 通訊協定精靈的權限。
          </para>
        </listitem>
    </varlistentry>
  </variablelist>
 </sect1>
</chapter>
