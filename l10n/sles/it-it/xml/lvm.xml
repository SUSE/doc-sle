<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="lvm.xml" version="5.0" xml:id="sec-yast2-system-lvm">
 <title>Configurazione di LVM</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>sì</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  In questa sezione viene illustrata la procedura specifica da seguire per la configurazione di LVM. <phrase os="sles">Per informazioni generali su Logical Volume Manager, vedere <xref linkend="sec-lvm-explained"/>.</phrase>
 </para>

 <warning>
  <title>backup dei dati</title>
  <para>
   L'uso di LVM può talvolta aumentare i rischi compresi quelli relativi all'eventuale perdita di dati. I rischi comprendono anche arresti delle applicazioni, interruzioni nell'alimentazione e comandi errati. Prima di implementare LVM o di riconfigurare i volumi, è sempre opportuno salvare i dati. Ricordarsi sempre di effettuare un backup prima di effettuare qualunque operazione.
  </para>
 </warning>





 <sect2 xml:id="sec-yast2-system-lvm-yast">
  <title>Configurazione di LVM con YaST</title>
  <para>
   È possibile accedere alla configurazione LVM di YaST tramite la Modalità di partizionamento per esperti YaST (vedere <xref linkend="sec-yast2-i-y2-part-expert"/>) nella voce <guimenu>Gestione volume</guimenu> del riquadro <guimenu>Vista sistema</guimenu>. La Modalità di partizionamento per esperti consente di modificare e cancellare le partizioni esistenti, nonché di crearne di nuove da utilizzare con LVM. Il primo task consiste nella creazione di volumi fisici che forniscano spazio a un gruppo di volumi:
  </para>
  <procedure>
   <step>
    <para>
     Selezionare un disco rigido da <guimenu>Dischi rigidi</guimenu>
    </para>
   </step>
   <step>
    <para>
     Passare alla scheda <guimenu>Partizioni</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Fare clic su <guimenu>Aggiungi</guimenu> e immettere la dimensione desiderata per il volume fisico sul disco.
    </para>
   </step>
   <step>
    <para>
     Utilizzare <guimenu>Non formattare la partizione</guimenu> e modificare il valore del <guimenu>File system ID</guimenu> in <guimenu>0x8E Linux LVM</guimenu>. Non montare questa partizione.
    </para>
   </step>
   <step>
    <para>
     Ripetere questa procedura finché non si sono definiti tutti i volumi fisici desiderati dei dischi disponibili.
    </para>
   </step>
  </procedure>
  <sect3 xml:id="sec-yast2-system-lvm-yast-volume-groups">
   <title>Creazione di gruppi di volumi</title>
   <para>
    Se nel sistema non esistono ancora gruppi di volumi, è necessario aggiungerne uno (vedere <xref linkend="fig-lvm-yast-volgrp"/>). È possibile creare gruppi aggiuntivi facendo clic su <guimenu>Gestione volume</guimenu> nel riquadro <guimenu>Vista sistema</guimenu> e successivamente su <guimenu>Aggiungi gruppo di volumi</guimenu>. Generalmente è sufficiente un solo gruppo di volumi.
   </para>
   <procedure>
    <step>
     <para>
      Immettere un nome per il gruppo di volumi, ad esempio <literal>system</literal>.
     </para>
    </step>
    <step>
     <para>
      Selezionare le <guimenu>dimensioni dell'estensione fisica</guimenu> desiderate. Questo valore definisce la dimensione di un blocco fisico nel gruppo di volumi. Tutto lo spazio su disco del gruppo di volumi viene gestito utilizzando blocchi della dimensione specificata.
     </para>
    </step>
    <step>
     <para>
      Aggiungere i volumi fisici preparati al gruppo di volumi selezionando il dispositivo e facendo clic su <guimenu>Aggiungi</guimenu>. Per selezionare più dispositivi, tenere premuto il tasto <keycap function="control"/> durante la selezione.
     </para>
    </step>
    <step>
     <para>
      Selezionare <guimenu>Fine</guimenu> per rendere il gruppo di volumi disponibile per le operazioni di configurazione.
     </para>
    </step>
   </procedure>
   <figure xml:id="fig-lvm-yast-volgrp">
    <title>Creazione di un gruppo di volumi</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2_lvm4.png" width="75%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2_lvm4.png" width="75%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Se sono stati definiti più gruppi di volumi e si desidera aggiungere o rimuovere volumi fisici, selezionare il gruppo di volumi nell'elenco <guimenu>Gestione volume</guimenu>, quindi fare clic su <guimenu>Ridimensiona</guimenu>. Nella seguente finestra, è possibile aggiungere o rimuovere volumi fisici al/dal gruppo di volumi.
   </para>
  </sect3>
  <sect3 xml:id="sec-yast2-system-lvm-yast-logical-vol">
   <title>Configurazione dei volumi logici</title>
   <para>
    Una volta aggiunto il volume fisico al gruppo di volumi, definire il volume logico che il sistema operativo deve utilizzare nella finestra di dialogo successiva. Scegliere il gruppo di volumi corrente e passare alla scheda <guimenu>Volumi logici</guimenu>. <guimenu>Aggiungere</guimenu>, <guimenu>modificare</guimenu>, <guimenu>ridimensionare</guimenu> e <guimenu>cancellare</guimenu> i volumi logici in base alle esigenze fino a quando tutto lo spazio nel gruppo di volumi non si esaurisce. Assegnare almeno un volume logico a ciascun gruppo di volumi.
   </para>
   <figure xml:id="fig-lvm-yast-mgmt">
    <title>Gestione dei volumi logici</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2_lvm6.png" width="75%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2_lvm6.png" width="75%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Fare clic su <guimenu>Aggiungi</guimenu> e procedere con le operazioni richieste nella finestra popup simile a una procedura guidata che viene visualizzata.
   </para>
   <orderedlist spacing="normal">
    <listitem>
     <para>
      Immettere il nome del volume logico. Per una partizione da montare nel percorso <filename>/home</filename>, è possibile utilizzare un nome come <literal>HOME</literal>.
     </para>
    </listitem>
    <listitem>
     <para>
      Selezionare il tipo di volume logico tra <guimenu>Volume normale</guimenu>, <guimenu>Pool leggero</guimenu> o <guimenu>Volume leggero</guimenu>. È necessario creare prima un pool leggero che sia in grado di memorizzare singoli volumi leggeri. Il principale vantaggio del thin provisioning è dato dal fatto che la somma totale di tutti i volumi leggeri memorizzati in un pool leggero può superare le dimensioni del pool stesso.
     </para>
    </listitem>
    <listitem>
     <para>
      Selezionare la dimensione e il numero di stripe del volume logico. Se si dispone di un solo volume fisico, non risulta utile selezionare più stripe.
     </para>
    </listitem>
    <listitem>
     <para>
      Scegliere il file system da utilizzare nel volume logico e il punto di montaggio.
     </para>
    </listitem>
   </orderedlist>
   <para>
    L'utilizzo delle stripe consente di distribuire il flusso di dati del volume logico tra più volumi fisici (striping). Lo striping di un volume può tuttavia essere eseguito solo su volumi fisici diversi, ciascuno dei quali fornisce almeno la quantità di spazio del volume. Il numero massimo di segmenti corrisponde a quello di volumi fisici. Il valore "1" indica "nessuno striping". Lo striping ha senso solo per volumi fisici presenti su dischi rigidi diversi, in caso contrario si avrebbe una riduzione delle prestazioni.
   </para>
   <warning>
    <title>Striping</title>
    <para>
     A questo punto, YaST non è in grado di verificare la correttezza delle voci relative agli stripe. Quindi, gli eventuali errori saranno visibili solo successivamente, quando LVM viene implementato sul disco.
    </para>
   </warning>
   <para>
    Se si è già configurato LVM sul sistema, è possibile utilizzare anche i volumi logici esistenti. Prima di continuare, assegnare punti di montaggio appropriati a tali volumi logici. <guimenu>Fine</guimenu> consente di tornare a Partizionatore avanzato di YaST, per completare il lavoro.
   </para>
  </sect3>
 </sect2>
</sect1>
