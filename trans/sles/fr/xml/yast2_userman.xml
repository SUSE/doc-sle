<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="yast2_userman.xml" id="cha.y2.userman">
 <title>Gestion des utilisateurs avec YaST</title>
 <para>
  Lors de l'installation, vous avez eu la possibilité de créer un utilisateur local pour votre système. Le module <guimenu>Gestion des utilisateurs et des groupes</guimenu> de YaST vous permet d'ajouter davantage d'utilisateurs ou de modifier des utilisateurs existants. Il vous permet également de configurer votre système afin d'authentifier des utilisateurs auprès d'un serveur réseau.
 </para>
 <sect1 id="sec.y2.userman.main">
  <title>Boîte de dialogue Gestion des utilisateurs et des groupes</title>

  <para>
   Pour gérer des utilisateurs et des groupes, démarrez YaST et cliquez sur <menuchoice> <guimenu>Sécurité et Utilisateurs</guimenu> <guimenu>Gestion des groupes et des utilisateurs</guimenu> </menuchoice>. Vous pouvez également ouvrir directement la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu> à partir d'une ligne de commande en exécutant <command>sudo yast2 users &amp;</command>.
  </para>

  <figure id="fig.y2.userman.main">
   <title>Gestion des utilisateurs et des groupes YaST</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_users_main_gtk.png" width="90%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_users_main_gtk.png" width="70%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Un ID utilisateur (UID) est attribué à chaque utilisateur à l'échelle du système. En dehors des utilisateurs qui peuvent se connecter à votre machine, il existe également un certain nombre d'<emphasis>utilisateurs système</emphasis> destinés à un usage interne exclusivement. Chaque utilisateur est affecté à un ou plusieurs groupes. Comme pour les <emphasis>utilisateurs système</emphasis>, il existe également des <emphasis>groupes système</emphasis> destinés à un usage interne.
  </para>

  <para>
   En fonction de l'ensemble d'utilisateurs que vous choisissez d'afficher et de modifier dans la boîte de dialogue (utilisateurs locaux, utilisateurs réseau, utilisateurs système), la fenêtre principale présente plusieurs onglets. Ces derniers vous permettent d'exécuter les tâches suivantes :
  </para>

  <variablelist>
   <varlistentry>
    <term>Gestion des comptes utilisateur</term>
    <listitem>
     <para>
      À partir de l'onglet <guimenu>Utilisateurs</guimenu>, vous pouvez créer, modifier, supprimer ou désactiver temporairement les comptes utilisateur, comme décrit à la <xref linkend="sec.y2.userman.users"/>. Pour en savoir plus sur les options avancées, telles que l'application des stratégies de mot de passe, l'utilisation de répertoires privés codés ou la gestion des quotas de disque, reportez-vous à la <xref linkend="sec.y2.userman.adv"/>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Modification des paramètres par défaut</term>
    <listitem>
     <para>
      Les comptes utilisateur locaux sont créés en fonction des paramètres définis dans l'onglet <guimenu>Paramètres par défaut pour les nouveaux utilisateurs</guimenu>. Pour en savoir plus sur la modification de l'affectation aux groupes et le chemin d'accès par défaut ou les autorisations d'accès aux répertoires, reportez-vous à la <xref linkend="sec.y2.userman.defaults"/>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Affectation des utilisateurs à des groupes</term>
    <listitem>
     <para>
      Pour savoir comment modifier l'affectation d'utilisateurs individuels à des groupes, reportez-vous à la <xref linkend="sec.y2.userman.assign"/>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Gestion des groupes</term>
    <listitem>
     <para>
      L'onglet <guimenu>Groupes</guimenu> vous permet d'ajouter, de modifier ou de supprimer des groupes existants. Reportez-vous à la <xref linkend="sec.y2.userman.groups"/> pour obtenir des informations sur cette procédure.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Modification de la méthode d'authentification des utilisateurs</term>
    <listitem>
     <para>
      Si votre machine est connectée à un réseau fournissant des méthodes d'authentification des utilisateurs, telles que NIS ou LDAP, vous pouvez choisir parmi plusieurs méthodes d'authentification dans l'onglet <guimenu>Paramètres d'authentification</guimenu>. Pour plus d'informations, reportez-vous à la <xref linkend="cha.y2.userman.authent"/>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   Pour la gestion des utilisateurs et des groupes, la boîte de dialogue offre une fonctionnalité similaire. Vous pouvez facilement passer de la gestion des utilisateurs à celle des groupes en sélectionnant l'onglet approprié en haut de la boîte de dialogue.
  </para>

  <para>
   Les options de filtre vous permettent de définir l'ensemble d'utilisateurs ou de groupes que vous souhaitez modifier : dans l'onglet <guimenu>Utilisateurs</guimenu> ou <guimenu>Groupes</guimenu>, cliquez sur <guimenu>Définir le filtre</guimenu> pour afficher et modifier les utilisateurs ou les groupes en fonction de certaines catégories comme <guimenu>Utilisateurs locaux</guimenu> ou <guimenu>Utilisateurs LDAP</guimenu>, par exemple (si vous faites partie d'un réseau utilisant LDAP). Les options <menuchoice> <guimenu>Définir le filtre</guimenu> <guimenu>Personnaliser le filtre</guimenu> </menuchoice> vous permettent également de définir et d'utiliser un filtre personnalisé.
  </para>

  <para>
   En fonction du filtre sélectionné, les options suivantes ne seront pas toutes accessibles dans la boîte de dialogue.
  </para>
 </sect1>
 <sect1 id="sec.y2.userman.users">
  <title>Gestion des comptes utilisateur</title>

  <para>
   <indexterm> <primary>utilisateurs</primary> <secondary>création de comptes</secondary> </indexterm> <indexterm> <primary>utilisateurs</primary> <secondary>modification de comptes</secondary> </indexterm> YaST permet de créer, de modifier, de supprimer ou de désactiver temporairement des comptes utilisateur. Ne modifiez les comptes utilisateur que si vous êtes un utilisateur expérimenté ou un administrateur.
  </para>

  <note>
   <title>modification des ID d'utilisateurs existants</title>
   <para>
    La propriété des fichiers est liée à l'ID de l'utilisateur, et non à son nom. Suite à la modification d'un ID utilisateur, les fichiers du répertoire privé de l'utilisateur appliquent automatiquement cette modification. Néanmoins, après une telle modification, l'utilisateur n'est plus propriétaire des fichiers qu'il a créés ailleurs que dans le système de fichiers, sauf si la propriété de ces fichiers a été modifiée manuellement.
   </para>
  </note>

  <para>
   La section suivante explique comment définir des comptes utilisateur par défaut. Pour certaines options supplémentaires, telles que la connexion automatique, la connexion sans mot de passe, la configuration de répertoires privés codés ou la gestion des quotas pour les utilisateurs et les groupes, reportez-vous à la <xref linkend="sec.y2.userman.adv"/>.
  </para>

  <procedure>
   <title>Ajout ou modification des comptes utilisateur</title>
   <step performance="required">
    <para>
     Ouvrez la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu> dans YaST et cliquez sur l'onglet <guimenu>Utilisateurs</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Sélectionnez l'option <guimenu>Définir le filtre</guimenu> pour définir l'ensemble d'utilisateurs que vous souhaitez gérer. La boîte de dialogue affiche la liste des utilisateurs du système et des groupes auxquels ils appartiennent.
    </para>
   </step>
   <step performance="required">
    <para>
     Pour modifier les options d'un utilisateur existant, sélectionnez une entrée et cliquez sur <guimenu>Modifier</guimenu>.
    </para>
    <para>
     Pour créer un nouveau compte utilisateur, cliquez sur <guimenu>Ajouter</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Entrez les données de l'utilisateur appropriées dans le premier onglet, comme les paramètres <guimenu>Nom d'utilisateur</guimenu> (utilisé pour se connecter) et <guimenu>Mot de passe</guimenu>. Ces données sont suffisantes pour créer un nouvel utilisateur. Si vous cliquez sur <guimenu>OK</guimenu> maintenant, le système affectera automatiquement un ID utilisateur et définira toutes les autres valeurs en fonction des paramètres par défaut.
    </para>
   </step>

   
   <step performance="required">
    <para>
     Si vous souhaitez modifier des détails supplémentaires comme l'ID ou le chemin d'accès au répertoire privé de l'utilisateur, sélectionnez l'onglet <guimenu>Détails</guimenu>.
    </para>
    <para>
     Si vous devez déplacer le répertoire privé d'un utilisateur existant, entrez le chemin d'accès au nouveau répertoire privé ici et transférez le contenu du répertoire actuel à l'aide de l'option <guimenu>Déplacer vers un nouvel emplacement</guimenu>. Faute de quoi, le nouveau répertoire ne contiendra aucune donnée existante.
    </para>
   </step>
   <step performance="required">
    <para>
     Pour obliger les utilisateurs à modifier régulièrement leur mot de passe ou définir d'autres options de mot de passe, sélectionnez <guimenu>Paramètres du mot de passe</guimenu> et modifiez les options. Pour plus d'informations, reportez-vous à la <xref linkend="sec.y2.userman.adv.passw"/>.
    </para>
   </step>
   <step performance="required">
    <para>
     Une fois toutes les options modifiées, cliquez sur <guimenu>OK</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Cliquez sur <guimenu>OK</guimenu> pour fermer la boîte de dialogue de gestion et enregistrer les modifications. Un utilisateur qui vient d'être ajouté peut désormais se connecter au système à l'aide du nom de connexion et du  mot de passe que vous avez créés.
    </para>
    <para>
     Si vous souhaitez enregistrer toutes les modifications sans quitter la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu>, cliquez sur <menuchoice> <guimenu>Options avancées</guimenu> <guimenu>Écrire les modifications maintenant</guimenu> </menuchoice>.
    </para>
   </step>
  </procedure>

  <tip>
   <title>concordance des ID utilisateur</title>
   <para>
    Pour un nouvel utilisateur (local) d'ordinateur portable qui doit également s'intégrer à un environnement réseau dans lequel il possède déjà un ID utilisateur, il est utile de faire correspondre l'ID utilisateur (local) avec celui du réseau. Cela garantit que la propriété des fichiers créés par l'utilisateur <quote>hors ligne</quote> est identique à la propriété des fichiers qui auraient été créés directement sur le réseau.
   </para>
  </tip>

  <procedure>
   <title>Désactivation ou suppression de comptes utilisateur</title><indexterm> <primary>utilisateurs</primary> <secondary>désactivation de comptes</secondary></indexterm><indexterm> <primary>utilisateurs</primary> <secondary>suppression de comptes</secondary></indexterm>
   <step performance="required">
    <para>
     Ouvrez la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu> dans YaST et cliquez sur l'onglet <guimenu>Utilisateurs</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Pour désactiver temporairement un compte utilisateur sans le supprimer, sélectionnez l'utilisateur dans la liste, puis cliquez sur <guimenu>Modifier</guimenu>. Activez l'option <guimenu>Désactiver le compte de connexion de l'utilisateur</guimenu>. L'utilisateur ne peut pas se connecter à votre machine tant que vous n'avez pas réactivé le compte.
    </para>
   </step>
   <step performance="required">
    <para>
     Pour supprimer un compte utilisateur, sélectionnez un utilisateur dans la liste, puis cliquez sur <guimenu>Supprimer</guimenu>. Choisissez si vous souhaitez également supprimer le répertoire privé de cet utilisateur ou si vous préférez conserver les données qu'il contient.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 id="sec.y2.userman.adv">
  <title>Options supplémentaires des comptes utilisateur</title>

  <para>
   Outre les paramètres d'un compte utilisateur par défaut, <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> propose des options supplémentaires, telles que l'application de stratégies de mot de passe, l'utilisation de répertoires privés codés ou la définition de quotas de disque pour les utilisateurs et les groupes.
  </para>

  <sect2 id="cha.y2.userman.adv.login">
   <title>Connexion automatique et connexion sans mot de passe</title>
   <para>
    Si vous utilisez un environnement de bureau GNOME, vous pouvez configurer une <emphasis>Connexion automatique</emphasis> pour un utilisateur spécifique, ainsi qu'une <emphasis>Connexion sans mot de passe</emphasis> pour tous les utilisateurs. La fonction de connexion automatique connecte automatiquement l'utilisateur à l'environnement du bureau au démarrage de l'ordinateur. Cette fonctionnalité ne peut être activée que pour un utilisateur à la fois. Avec la connexion sans mot de passe, tous les utilisateurs peuvent se connecter au système après avoir saisi leur nom d'utilisateur dans le gestionnaire de connexion.
   </para>
   <warning>
    <title>risque lié à la sécurité</title>
    <para>
     L'activation des options <emphasis>Connexion automatique</emphasis> ou <emphasis>Connexion sans mot de passe</emphasis> sur une machine à laquelle plusieurs personnes peuvent accéder présente un risque de sécurité. Si les utilisateurs n'ont pas besoin de s'authentifier, ils pourront accéder à votre système et à vos données. Si votre système contient des données confidentielles, n'utilisez pas cette fonctionnalité.
    </para>
   </warning>
   <para>
    Si vous souhaitez activer les options de connexion automatique ou de connexion sans mot de passe, accédez à la section <guimenu>Gestion des utilisateurs et des groupes</guimenu> dans YaST, puis sélectionnez <menuchoice> <guimenu>Options avancées</guimenu> <guimenu>Paramètres de connexion</guimenu> </menuchoice>.
   </para>
  </sect2>

  <sect2 id="sec.y2.userman.adv.passw">
   <title>Applications des stratégies de mot de passe</title>
   <para>
    Sur tout système comportant plusieurs utilisateurs, il est judicieux d'appliquer au moins des stratégies de base en matière de sécurité des mots de passe. Les utilisateurs doivent modifier leurs mots de passe régulièrement et utiliser des mots de passe forts qui ne peuvent pas être exploités facilement. Pour les utilisateurs locaux, procédez comme suit :

   </para>
   <procedure>
    <title>Configuration des paramètres de mot de passe</title><indexterm> <primary>utilisateurs</primary> <secondary>paramètres de mot de passe</secondary></indexterm>
    <step performance="required">
     <para>
      Ouvrez la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu> dans YaST, puis sélectionnez l'onglet <guimenu>Utilisateurs</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Sélectionnez l'utilisateur pour lequel vous souhaitez modifier les options du mot de passe, puis cliquez sur <guimenu>Modifier</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Sélectionnez l'onglet <guimenu>Paramètres du mot de passe</guimenu>. La modification du dernier mot de passe de l'utilisateur s'affiche sur l'onglet.
     </para>
    </step>
    <step performance="required">
     <para>
      Pour que l'utilisateur modifie son mot de passe à sa prochaine connexion, sélectionnez <guimenu>Forcer la modification du mot de passe</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Pour obliger les utilisateurs à modifier leur mot de passe, renseignez les paramètres <guimenu>Durée maximale d'un mot de passe (en jours)</guimenu> et <guimenu>Durée minimale d'un mot de passe (en jours)</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Pour rappeler aux utilisateurs de modifier leur mot de passe avant qu'il n'expire, définissez le paramètre <guimenu>Délai de publication d'un avertissement (en jours) avant l'expiration d'un mot de passe</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Pour limiter la période durant laquelle l'utilisateur peut continuer de se connecter après l'expiration de son mot de passe, modifiez la valeur du paramètre <guimenu>Délai (en jours) pendant lequel la connexion est encore utilisable après l'expiration du mot de passe</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Vous pouvez également spécifier une date d'expiration particulière pour un mot de passe. Renseignez le paramètre <guimenu>Date d'expiration</guimenu> au format <replaceable>AAAA-MM-JJ</replaceable>.
     </para>
    </step>
    <step performance="required">
     <para>
      Pour plus d'informations sur les options et les valeurs par défaut, cliquez sur <guimenu>Aide</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Cliquez sur <guimenu>OK</guimenu> pour appliquer vos modifications.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.y2.userman.adv.crypto">
   <title>Gestion des répertoires privés codés</title><indexterm> <primary>répertoires privés</primary> <secondary>chiffrement</secondary></indexterm><indexterm> <primary>utilisateurs</primary> <secondary>répertoires privés chiffrés</secondary></indexterm>
   <para>
    Pour protéger les données des répertoires privés contre le vol et la suppression du disque dur, vous pouvez créer des répertoires privés codés pour les utilisateurs. Ceux-ci sont codés avec LUKS (Linux Unified Key Setup), qui génère une image et une clé d'image pour l'utilisateur. La clé d'image est protégée par le mot de passe de connexion de l'utilisateur. Lorsque l'utilisateur se connecte au système, son répertoire privé codé est monté et l'utilisateur peut accéder à son contenu.
   </para>
   <para>
    YaST vous permet de créer des répertoires privés codés pour les nouveaux utilisateurs et les utilisateurs existants. Pour coder ou modifier les répertoires privés codés d'utilisateurs existants, vous devez connaître leur mot de passe de connexion actuel. Par défaut, toutes les données des utilisateurs existants sont copiées sur le nouveau répertoire privé codé, mais ne sont pas supprimées du répertoire non codé.
   </para>
   <warning>
    <title>restrictions de sécurité</title>
    <para>
     Le codage du répertoire privé d'un utilisateur n'offre pas une sécurité élevée par rapport aux autres utilisateurs. Si un niveau de sécurité élevé est requis, le système ne doit pas être physiquement partagé.
    </para>
   </warning>
   <para>
    Pour plus d'informations sur les répertoires privés codés et les actions à entreprendre pour augmenter la sécurité, reportez-vous à la <xref linkend="sec.security.cryptofs.y2.homes"/>.
   </para>
   <procedure>
    <title>Création de répertoires privés codés</title>
    <step performance="required">
     <para>
      Ouvrez la boîte de dialogue <guimenu>Gestion des groupes et des utilisateurs</guimenu> dans YaST, puis cliquez sur l'onglet <guimenu>Utilisateurs</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Pour coder le répertoire privé d'un utilisateur existant, sélectionnez l'utilisateur, puis cliquez sur <guimenu>Modifier</guimenu>.
     </para>
     <para>
      Vous pouvez également cliquer sur <guimenu>Ajouter</guimenu> pour créer un nouveau compte utilisateur et entrer les données de l'utilisateur appropriées dans le premier onglet.
     </para>
    </step>
    <step performance="required">
     <para>
      Dans l'onglet <guimenu>Détails</guimenu>, sélectionnez <guimenu>Utiliser un répertoire personnel codé</guimenu>. L'option <guimenu>Taille du répertoire en Mo</guimenu> vous permet de spécifier la taille du fichier image codé à créer pour cet utilisateur.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="yast2_users_crypto_gtk.png" width="90%" format="PNG"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="yast2_users_crypto_gtk.png" width="70%" format="PNG"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step performance="required">
     <para>
      Cliquez sur <guimenu>OK</guimenu> pour appliquer vos paramètres.
     </para>
    </step>
    <step performance="required">
     <para>
      Entrez mot de passe de connexion actuel de l'utilisateur si YaST vous y invite.
     </para>
    </step>
    <step performance="required">
     <para>
      Cliquez sur <guimenu>OK</guimenu> pour fermer la boîte de dialogue de gestion et enregistrer les modifications.
     </para>
     <para>
      Si vous souhaitez enregistrer toutes les modifications sans quitter la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu>, cliquez sur <menuchoice> <guimenu>Options avancées</guimenu> <guimenu>Écrire les modifications maintenant</guimenu> </menuchoice>.
     </para>
    </step>
   </procedure>
   <procedure>
    <title>Modification ou désactivation des répertoires privés codés</title>
    <para>
     Évidemment, vous pouvez également désactiver le codage d'un répertoire privé ou modifier la taille du fichier image à tout moment.
    </para>
    <step performance="required">
     <para>
      Ouvrez la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu> dans YaST, puis sélectionnez la vue <guimenu>Utilisateurs</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Sélectionnez un utilisateur dans la liste, puis cliquez sur <guimenu>Modifier</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Pour désactiver le codage, accédez à l'onglet <guimenu>Détails</guimenu> et désactivez l'option <guimenu>Utiliser un répertoire personnel codé</guimenu>.
     </para>
     <para>
      Si vous souhaitez agrandir ou diminuer la taille du fichier image codé pour cet utilisateur, modifiez le paramètre <guimenu>Taille du répertoire en Mo</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Cliquez sur <guimenu>OK</guimenu> pour appliquer vos paramètres.
     </para>
    </step>
    <step performance="required">
     <para>
      Entrez mot de passe de connexion actuel de l'utilisateur si YaST vous y invite.
     </para>
    </step>
    <step performance="required">
     <para>
      Cliquez sur <guimenu>OK</guimenu> pour fermer la boîte de dialogue de gestion et enregistrer les modifications.
     </para>
     <para>
      Si vous souhaitez enregistrer toutes les modifications sans quitter la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu>, cliquez sur <menuchoice> <guimenu>Options avancées</guimenu> <guimenu>Écrire les modifications maintenant</guimenu> </menuchoice>.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.y2.userman.adv.quota">
   <title>Gestion des quotas</title><indexterm> <primary>utilisateurs</primary> <secondary>quotas</secondary></indexterm><indexterm> <primary>quotas</primary> <secondary>utilisateurs, groupes</secondary></indexterm>
   <para>
    Pour éviter l'épuisement des capacités du système sans notification, les administrateurs peuvent définir des quotas pour les utilisateurs et les groupes. Les quotas peuvent être définis pour un ou plusieurs systèmes de fichiers et restreindre la quantité d'espace disque pouvant être utilisée et le nombre d'inodes (index nodes - nœuds d'index) pouvant être créés ici. Les inodes sont des structures de données sur un système de fichiers qui stockent des informations de base sur un fichier ordinaire, un répertoire ou un autre objet du système de fichiers. Ils stockent tous les attributs d'un objet du système de fichiers (comme la propriété des utilisateurs et des groupes, les autorisations de lecture, d'écriture ou d'exécution), à l'exception du nom et du contenu du fichier.
   </para>
   <para>
    <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> permet d'utiliser des quotas <literal>soft</literal> et <literal>hard</literal>. Les quotas souples (soft) définissent généralement un niveau d'avertissement qui informe les utilisateurs qu'ils approchent de leur limite, alors que les quotas stricts (hard) définissent la limite à partir de laquelle les requêtes d'écriture sont refusées. En outre, il est possible de définir des intervalles bonus qui permettent aux utilisateurs ou aux groupes de dépasser temporairement leur quota, sous certaines limites.
   </para>
   <procedure>
    <title>Activation de la prise en charge des quotas pour une partition</title>
    <para>
     Pour configurer des quotas pour certains utilisateurs et groupes, vous devez commencer par activer la prise en charge des quotas pour la partition concernée dans le partitionneur en mode expert de YaST.
    </para>
    <note>
     <title>quotas pour les partitions Btrfs</title>
     <para>
      
      À partir de <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> <phrase role="productname"><phrase os="sles;sled;slerte">12</phrase></phrase>, les quotas ne sont plus pris en charge pour les partitions Btrfs.

     </para>
    </note>
    <step performance="required">
     <para>
      Dans YaST, sélectionnez <menuchoice> <guimenu>Système</guimenu> <guimenu>Partitionneur</guimenu> </menuchoice>, puis cliquez sur <guimenu>Oui</guimenu> pour poursuivre.
     </para>
    </step>
    <step performance="required">
     <para>
      Dans le <guimenu>Partitionneur en mode expert</guimenu>, sélectionnez la partition pour laquelle vous souhaitez activer les quotas, puis cliquez sur <guimenu>Modifier</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>

      Cliquez sur<guimenu>Options Fstab</guimenu> et activez l'option <guimenu>Activer la prise en charge des quotas</guimenu>. Si le paquetage <systemitem>quota</systemitem> n'est pas déjà installé, il le sera une fois que vous aurez confirmé le message approprié en cliquant sur <guimenu>Oui</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Confirmez vos modifications et quittez le <guimenu>Partitionneur en mode expert</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Vérifiez que le service <systemitem class="service">quotaon</systemitem> est en cours d'exécution en entrant la commande suivante :
     </para>
     <screen>systemctl status quotaon.service</screen>
     <para>
      Il doit être marqué comme étant actif (<literal>active</literal>). À défaut, démarrez-le à l'aide de la commande <command>systemctl start quotaon.service</command>.
     </para>
    </step>
   </procedure>
   <procedure>
    <title>Définition de quotas pour les utilisateurs et les groupes</title>
    <para>
     Vous pouvez désormais définir des quotas souples ou stricts pour des utilisateurs ou des groupes spécifiques, ainsi que des délais sous forme d'intervalles bonus.
    </para>
    <step performance="required">
     <para>
      Dans la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu> de YaST, sélectionnez l'utilisateur ou le groupe pour lequel vous souhaitez définir les quotas, puis cliquez sur <guimenu>Modifier</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Dans l'onglet <guimenu>Plug-ins</guimenu>, sélectionnez l'entrée <guimenu>Gérer les quotas des utilisateurs</guimenu>, puis cliquez sur <guimenu>Lancer</guimenu> pour ouvrir la boîte de dialogue <guimenu>Configuration des quotas</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Dans <guimenu>Système de fichiers</guimenu>, sélectionnez la partition à laquelle vous souhaitez appliquer le quota.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="yast2_users_quota_gtk.png" width="80%" format="PNG"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="yast2_users_quota_gtk.png" width="70%" format="PNG"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step performance="required">
     <para>
      Sous <guimenu>Limites de taille</guimenu>, limitez la quantité d'espace disque. Entrez le nombre de blocs de 1 Go que l'utilisateur ou le groupe peut avoir sur cette partition. Spécifiez une valeur pour les champs <guimenu>Limite douce</guimenu> et <guimenu>Limite dure</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Par ailleurs, vous pouvez limiter le nombre d'inodes que l'utilisateur ou le groupe peut avoir sur cette partition. Sous <guimenu>Limites I-nodes</guimenu>, entrez les valeurs des champs <guimenu>Limite douce</guimenu> et <guimenu>Limite dure</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Vous ne pouvez définir des intervalles bonus que si l'utilisateur ou le groupe a déjà dépassé la limite douce de taille ou d'inodes spécifiée. Dans le cas contraire, les zones de texte relatives au délai ne seront pas activées. Spécifiez le délai pendant lequel l'utilisateur ou le groupe est autorisé à dépasser les limites définies ci-dessus.
     </para>
    </step>
    <step performance="required">
     <para>
      Cliquez sur <guimenu>OK</guimenu> pour confirmer vos paramètres.
     </para>
    </step>
    <step performance="required">
     <para>
      Cliquez sur <guimenu>OK</guimenu> pour fermer la boîte de dialogue de gestion et enregistrer les modifications.
     </para>
     <para>
      Si vous souhaitez enregistrer toutes les modifications sans quitter la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu>, cliquez sur <menuchoice> <guimenu>Options avancées</guimenu> <guimenu>Écrire les modifications maintenant</guimenu> </menuchoice>.
     </para>
    </step>
   </procedure>
   <para>
    <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> fournit également des outils de ligne de commande tels que <literal>repquota</literal> ou <literal>warnquota</literal> qui permettent aux administrateurs système de contrôler l'utilisation du disque ou d'envoyer des notifications par e-mail aux utilisateurs qui dépassent leur quota. Avec <command>quota_nld</command>, les administrateurs peuvent également transmettre à D-BUS les messages du kernel relatifs aux quotas dépassés. Pour plus d'informations, reportez-vous aux pages du manuel <systemitem>repquota</systemitem>, <systemitem>warnquota</systemitem> et <command>quota_nld</command>.

   </para>
  </sect2>
 </sect1>
 <sect1 id="sec.y2.userman.defaults">
  <title>Modification des paramètres par défaut des utilisateurs locaux</title><indexterm> <primary>utilisateurs</primary> <secondary>paramètres par défaut</secondary></indexterm>

  <para>
   Lorsque vous créez des utilisateurs locaux, certains paramètres par défaut sont utilisés par YaST. Ces paramètres incluent par exemple le groupe principal et les groupes secondaires auxquels appartient l'utilisateur ou les autorisations d'accès au répertoire privé de l'utilisateur. Vous pouvez modifier ces paramètres par défaut selon vos besoins :
  </para>

  <procedure>
   <step performance="required">
    <para>
     Ouvrez la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu> dans YaST et sélectionnez l'onglet <guimenu>Paramètres par défaut pour les nouveaux utilisateurs</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Pour modifier le groupe principal auquel les nouveaux utilisateurs doivent automatiquement appartenir, sélectionnez un autre groupe dans <guimenu>Groupe par défaut</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Pour modifier les groupes secondaires des nouveaux utilisateurs, ajoutez ou changez les groupes dans <guimenu>Groupes secondaires</guimenu>. Les noms des groupes doivent être séparés par des virgules.
    </para>
   </step>
   <step performance="required">
    <para>
     Si vous ne voulez pas utiliser <filename>/home/<replaceable>nom_utilisateur</replaceable></filename> comme chemin d'accès par défaut aux répertoires privés des nouveaux utilisateurs, modifiez le paramètre <guimenu>Préfixe du chemin d'accès pour le répertoire personnel</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Pour modifier les répertoires privés récemment créés, changez la valeur umask dans <guimenu>Umask pour le répertoire privé</guimenu>. Pour plus d'informations sur la valeur umask, reportez-vous au <xref linkend="cha.security.acls"/> et à la page de manuel <command>umask</command>.
    </para>
   </step>
   <step performance="required">
    <para>
     Pour obtenir des informations sur les options individuelles, cliquez sur <guimenu>Aide</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Cliquez sur <guimenu>OK</guimenu> pour appliquer vos modifications.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 id="sec.y2.userman.assign">
  <title>Affectation des utilisateurs à des groupes</title>

  <para>
   <indexterm> <primary>utilisateurs</primary> <secondary>affectation aux groupes</secondary> </indexterm> Les utilisateurs locaux sont affectés à plusieurs groupes en fonction des paramètres par défaut accessibles depuis la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu>, dans l'onglet <guimenu>Paramètres par défaut pour les nouveaux utilisateurs</guimenu>. La section suivante explique comment modifier l'affectation d'un utilisateur individuel à un groupe. Si vous devez modifier les affectations aux groupes par défaut pour les nouveaux utilisateurs, reportez-vous à la <xref linkend="sec.y2.userman.defaults"/>.
  </para>

  <procedure>
   <title>Modification de l'affectation d'un utilisateur à un groupe</title>
   <step performance="required">
    <para>
     Ouvrez la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu> dans YaST et cliquez sur l'onglet <guimenu>Utilisateurs</guimenu>. La liste des utilisateurs et des groupes auxquels ils appartiennent s'affiche.
    </para>
   </step>
   <step performance="required">
    <para>
     Cliquez sur <guimenu>Modifier</guimenu> et sélectionnez l'onglet <guimenu>Détails</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Pour modifier le groupe principal auquel l'utilisateur appartient, cliquez sur <guimenu>Groupe par défaut</guimenu> et sélectionnez le groupe dans la liste.
    </para>
   </step>
   <step performance="required">
    <para>
     Pour affecter l'utilisateur à des groupes secondaires supplémentaires, cochez les cases correspondantes dans la liste <guimenu>Groupes supplémentaires</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Cliquez sur <guimenu>OK</guimenu> pour appliquer vos modifications.
    </para>
   </step>
   <step performance="required">
    <para>
     Cliquez sur <guimenu>OK</guimenu> pour fermer la boîte de dialogue de gestion et enregistrer les modifications.
    </para>
    <para>
     Si vous souhaitez enregistrer toutes les modifications sans quitter la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu>, cliquez sur <menuchoice> <guimenu>Options avancées</guimenu> <guimenu>Écrire les modifications maintenant</guimenu> </menuchoice>.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 id="sec.y2.userman.groups">
  <title>Gestion des groupes</title><indexterm> <primary>groupes</primary> <secondary>gestion</secondary></indexterm><indexterm> <primary>YaST</primary> <secondary>gestion des groupes</secondary></indexterm><indexterm> <primary>configuration</primary> <secondary>groupes</secondary></indexterm>

  <para>
   YaST vous permet également d'ajouter, de modifier ou de supprimer des groupes en toute simplicité.
  </para>

  <procedure>
   <title>Création et modification de groupes</title>
   <step performance="required">
    <para>
     Ouvrez la boîte de dialogue <guimenu>Gestion des groupes et des utilisateurs</guimenu> dans YaST, puis cliquez sur l'onglet <guimenu>Groupes</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     L'option <guimenu>Définir le filtre</guimenu> permet de définir l'ensemble de groupes que vous souhaitez gérer. La boîte de dialogue affiche la liste des groupes du système.
    </para>
   </step>
   <step performance="required">
    <para>
     Pour créer un nouveau groupe, cliquez sur <guimenu>Ajouter</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Pour modifier un groupe existant, sélectionnez-le et cliquez sur <guimenu>Modifier</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Vous pouvez entrer ou modifier les données dans la boîte de dialogue suivante. La liste de droite présente un aperçu de tous les utilisateurs et utilisateurs système disponibles qui peuvent être membres du groupe.
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="yast2_groups_edit_gtk.png" width="80%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="yast2_groups_edit_gtk.png" width="75%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step performance="required">
    <para>
     Pour ajouter des utilisateurs existants au nouveau groupe, sélectionnez-les dans la liste <guimenu>Membres du groupe</guimenu> en cochant la case correspondante. Décochez la case pour les supprimer du groupe.
    </para>
   </step>
   <step performance="required">
    <para>
     Cliquez sur <guimenu>OK</guimenu> pour appliquer vos modifications.
    </para>
   </step>
   <step performance="required">
    <para>
     Cliquez sur <guimenu>OK</guimenu> pour fermer la boîte de dialogue de gestion et enregistrer les modifications.
    </para>
    <para>
     Si vous souhaitez enregistrer toutes les modifications sans quitter la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu>, cliquez sur <menuchoice> <guimenu>Options avancées</guimenu> <guimenu>Écrire les modifications maintenant</guimenu> </menuchoice>.
    </para>
   </step>
  </procedure>

  <para>
   Pour pouvoir supprimer un groupe, celui-ci ne doit contenir aucun membre. Pour supprimer un groupe, sélectionnez-le dans la liste, puis cliquez sur <guimenu>Supprimer</guimenu>. Cliquez sur <guimenu>OK</guimenu> pour fermer la boîte de dialogue de gestion et enregistrer les modifications. Si vous souhaitez enregistrer toutes les modifications sans quitter la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu>, cliquez sur <menuchoice> <guimenu>Options avancées</guimenu> <guimenu>Écrire les modifications maintenant</guimenu> </menuchoice>.
  </para>
 </sect1>
 <sect1 id="cha.y2.userman.authent">
  <title>Modification de la méthode d'authentification des utilisateurs</title><indexterm> <primary>utilisateurs</primary> <secondary>authentification</secondary></indexterm>

  <para>
   Si votre machine est connectée à un réseau, vous pouvez modifier la méthode d'authentification. Les options suivantes sont disponibles :
  </para>

  <variablelist>
   <varlistentry>
    <term>NIS</term>
    <listitem>
     <para>
      Les utilisateurs sont gérés de façon centralisée sur un serveur NIS, pour tous les systèmes membres du réseau. Pour plus de détails, reportez-vous à la <xref linkend="cha.nis"/>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>LDAP</term>
    <listitem>
     <para>
      Les utilisateurs sont gérés de façon centralisée sur un serveur LDAP, pour tous les systèmes membres du réseau. Pour obtenir des détails sur LDAP, reportez-vous au <xref linkend="cha.security.ldap"/>.
     </para>
     <para>
      Vous pouvez gérer les utilisateurs LDAP à l'aide du module YaST relatif aux utilisateurs. Tous les autres paramètres LDAP, y compris les paramètres par défaut des utilisateurs LDAP, doivent être définis à l'aide du module YaST relatif aux clients LDAP, comme décrit dans la <xref linkend="sec.security.auth.yast.client"/> .
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Kerberos</term>
    <listitem>
     <para>
      Avec Kerberos, un utilisateur s'enregistre une fois, puis est approuvé dans tout le réseau pendant toute la session.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Samba</term>
    <listitem>
     <para>
      L'authentification SMB est souvent employée dans les réseaux mixtes Linux et Windows. Pour plus de détails, reportez-vous à la <xref linkend="cha.samba"/>.
     </para>
    </listitem>
   </varlistentry>

  </variablelist>

  <para>
   Pour modifier la méthode d'authentification, procédez comme suit :
  </para>

  <procedure>
   <step performance="required">
    <para>
     Ouvrez la boîte de dialogue <guimenu>Gestion des utilisateurs et des groupes</guimenu> dans YaST.
    </para>
   </step>
   <step performance="required">
    <para>
     Cliquez sur l'onglet <guimenu>Paramètres d'authentification</guimenu> pour afficher un aperçu des méthodes d'authentification disponibles et des paramètres actuels.
    </para>
   </step>
   <step performance="required">
    <para>
     Pour changer de méthode d'authentification, cliquez sur <guimenu>Configurer</guimenu> et sélectionnez la méthode d'authentification que vous souhaitez modifier. Cela vous permet d'accéder directement aux modules YaST relatifs à la configuration des clients. Pour plus d'informations sur la configuration du client approprié, reportez-vous aux sections suivantes :
    </para>
    <formalpara>
     <title>NIS :</title>
     <para>
      <xref linkend="sec.nis.client"/>
     </para>
    </formalpara>
    <formalpara>
     <title>LDAP :</title>
     <para>
      <xref linkend="sec.security.auth.yast.client"/>
     </para>
    </formalpara>

    <formalpara>
     <title>Samba :</title>
     <para>
      <xref linkend="sec.samba.client.inst.yast"/>
     </para>
    </formalpara>

   </step>
   <step performance="required">
    <para>
     Après avoir accepté la configuration, revenez à l'aperçu <guimenu>Gestion des utilisateurs et des groupes</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Cliquez sur <guimenu>OK</guimenu> pour fermer la boîte de dialogue de gestion.
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
