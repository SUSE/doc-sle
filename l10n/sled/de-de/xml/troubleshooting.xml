<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="troubleshooting.xml" version="5.0" xml:id="cha-trouble">
 <title>Häufige Probleme und deren Lösung</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  In diesem Kapitel werden mögliche Probleme und deren Lösungen beschrieben. Auch wenn Ihre Situation nicht genau auf die hier beschriebenen Probleme zutreffen mag, finden Sie vielleicht einen ähnlichen Fall, der Ihnen Hinweise zur Lösung Ihres Problems liefert.
 </para>
 <sect1 xml:id="sec-trouble-info">
  <title>Suchen und Sammeln von Informationen</title>

  <para>
   Linux gibt äußerst detailliert Aufschluss über die Vorgänge in Ihrem System. Es gibt mehrere Quellen, die Sie bei einem Problem mit Ihrem System zurate ziehen können. Die meisten davon beziehen sich auf Linux-Systeme im Allgemeinen, doch einige sind speziell auf <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>-Systeme ausgerichtet. Die meisten Protokolldateien können mit YaST angezeigt werden (<menuchoice>
   <guimenu>Verschiedenes</guimenu> <guimenu>Startprotokoll anzeigen</guimenu>
   </menuchoice>).
  </para>



  <para>
   YaST bietet die Möglichkeit, alle erforderlichen Systeminformationen für das Supportteam zusammenzustellen. Wählen Sie <menuchoice>

   <guimenu>Andere</guimenu> <guimenu>Support</guimenu> </menuchoice> und dann die Kategorie Ihres Problems aus. Wenn alle Informationen gesammelt wurden, können Sie diese an Ihre Support-Anfrage anhängen.
  </para>

  <para>
   Nachfolgend finden Sie eine Liste der wichtigsten Protokolldateien mit einer Beschreibung ihrer typischen Einsatzbereiche. Eine Tilde (<filename>~</filename>) in einer Pfadangabe verweist auf das Home-Verzeichnis des aktuellen Benutzers.
  </para>

  <table xml:id="tab-trouble-info">
   <title>Protokolldateien</title>
   <tgroup cols="2">
    <thead>
     <row>
      <entry>
       <para>
        Protokolldatei
       </para>
      </entry>
      <entry>
       <para>
        Beschreibung
       </para>
      </entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry>
       <para>
        <filename>~/.xsession-errors</filename>
       </para>
      </entry>
      <entry>
       <para>
        Meldungen von den zurzeit ausgeführten Desktop-Anwendungen. 
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/var/log/apparmor/</filename>
       </para>
      </entry>
      <entry>
       <para>
        Protokolldateien von AppArmor (Detailinformationen finden Sie im <xref linkend="part-apparmor"/>).
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/var/log/audit/audit.log</filename>
       </para>
      </entry>
      <entry>
       <para>
        Protokolldatei von Audit, um Zugriffe auf Dateien, Verzeichnisse oder Ressourcen Ihres Systems sowie Systemaufrufe zu verfolgen. Ausführliche Informationen erhalten Sie im <xref linkend="part-audit"/>.
       </para>
      </entry>
     </row>

     <row>
      <entry>
       <para>
        <filename>/var/log/mail.*</filename>
       </para>
      </entry>
      <entry>
       <para>
        Meldungen vom Email-System.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/var/log/NetworkManager</filename>
       </para>
      </entry>
      <entry>
       <para>
        NetworkManager-Protokolldatei zur Erfassung von Problemen hinsichtlich der Netzwerkkonnektivität
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/var/log/samba/</filename>
       </para>
      </entry>
      <entry>
       <para>
        Verzeichnis, das Protokollmeldungen vom Samba-Server und -Client enthält.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/var/log/warn</filename>
       </para>
      </entry>
      <entry>
       <para>
        Alle Meldungen vom Kernel und dem Systemprotokoll-Daemon mit der Protokollstufe <quote>Warnung</quote> oder höher.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/var/log/wtmp</filename>
       </para>
      </entry>
      <entry>
       <para>
        Binärdatei mit Benutzeranmeldedatensätzen für die aktuelle Computersitzung. Die Anzeige erfolgt mit <command>last</command>.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/var/log/Xorg&#x002E;*&#x002E;log</filename>
       </para>
      </entry>
      <entry>
       <para>
        Unterschiedliche Start- und Laufzeitprotokolldateien des X Window System. Hilfreich für die Fehlersuche bei Problemen beim Start von X.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/var/log/YaST2/</filename>
       </para>
      </entry>
      <entry>
       <para>
        Verzeichnis, das die Aktionen von YAST und deren Ergebnissen enthält.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/var/log/zypper.log</filename>
       </para>
      </entry>
      <entry>
       <para>
        Protokolldatei von Zypper.
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>

  <para>
   Neben den Protokolldateien versorgt Ihr Computer Sie auch mit Informationen zum laufenden System. Siehe <xref linkend="tab-trouble-system" xrefstyle="select:label title nopage"/>
  </para>

  <table xml:id="tab-trouble-system">
   <title>Systeminformationen mit dem <filename>/proc</filename>-Dateisystem</title>
   <tgroup cols="2">
    <thead>
     <row>
      <entry>
       <para>
        Datei
       </para>
      </entry>
      <entry>
       <para>
        Beschreibung
       </para>
      </entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry>
       <para>
        <filename>/proc/cpuinfo</filename>
       </para>
      </entry>
      <entry>
       <para>
        Enthält Prozessorinformationen wie Typ, Fabrikat, Modell und Leistung.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/proc/dma</filename>
       </para>
      </entry>
      <entry>
       <para>
        Zeigt die aktuell verwendeten DMA-Kanäle an.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/proc/interrupts</filename>
       </para>
      </entry>
      <entry>
       <para>
        Zeigt an, welche Interrupts verwendet werden und wie viele bisher verwendet wurden.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/proc/iomem</filename>
       </para>
      </entry>
      <entry>
       <para>
        Zeigt den Status des E/A (Eingabe/Ausgabe)-Speichers an.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/proc/ioports</filename>
       </para>
      </entry>
      <entry>
       <para>
        Zeigt an, welche E/A-Ports zurzeit verwendet werden.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/proc/meminfo</filename>
       </para>
      </entry>
      <entry>
       <para>
        Zeigt den Speicherstatus an.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/proc/modules</filename>
       </para>
      </entry>
      <entry>
       <para>
        Zeigt die einzelnen Module an.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/proc/mounts</filename>
       </para>
      </entry>
      <entry>
       <para>
        Zeigt die zurzeit eingehängten Geräte an.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/proc/partitions</filename>
       </para>
      </entry>
      <entry>
       <para>
        Zeigt die Partitionierung aller Festplatten an.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/proc/version</filename>
       </para>
      </entry>
      <entry>
       <para>
        Zeigt die aktuelle Linux-Version an.
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>

  <para>
   Abgesehen vom Dateisystem <filename>/proc</filename> exportiert der Linux-Kernel Informationen mit dem Modul <literal>sysfs</literal>, einem speicherinternen Dateisystem. Dieses Modul stellt Kernelobjekte, deren Attribute und Beziehungen dar. Weitere Informationen zu <literal>sysfs</literal> finden Sie im Kontext von udev im Abschnitt <xref linkend="cha-udev"/>. <xref linkend="tab-trouble-sysfs" xrefstyle="select:label nopage"/> enthält einen Überblick über die am häufigsten verwendeten Verzeichnisse unter <filename>/sys</filename>.
  </para>

  <table xml:id="tab-trouble-sysfs">
   <title>Systeminformationen mit dem <filename>/sys</filename>-Dateisystem</title>
   <tgroup cols="2">
    <thead>
     <row>
      <entry>
       <para>
        Datei
       </para>
      </entry>
      <entry>
       <para>
        Beschreibung
       </para>
      </entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry>
       <para>
        <filename>/sys/block</filename>
       </para>
      </entry>
      <entry>
       <para>
        Enthält Unterverzeichnisse für jedes im System ermittelte Blockgerät. Im Allgemeinen handelt es sich dabei meistens um Geräte vom Typ Datenträger.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/sys/bus</filename>
       </para>
      </entry>
      <entry>
       <para>
        Enthält Unterverzeichnisse für jeden physischen Bustyp.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/sys/class</filename>
       </para>
      </entry>
      <entry>
       <para>
        Enthält Unterverzeichnisse, die nach den Funktionstypen der Geräte (wie Grafik, Netz, Drucker usw.) gruppiert sind.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <filename>/sys/device</filename>
       </para>
      </entry>
      <entry>
       <para>
        Enthält die globale Gerätehierarchie.
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>

  <para>
   Linux bietet mehrere Werkzeuge für die Systemanalyse und -überwachung. Im <xref linkend="cha-util"/> finden Sie eine Auswahl der wichtigsten, die zur Systemdiagnose eingesetzt werden.
  </para>

  <para>
   Jedes der nachfolgenden Szenarien beginnt mit einem Header, in dem das Problem beschrieben wird, gefolgt von ein oder zwei Absätzen mit Lösungsvorschlägen, verfügbaren Referenzen für detailliertere Lösungen sowie Querverweisen auf andere Szenarien, die mit diesem Szenario in Zusammenhang stehen.
  </para>
 </sect1>

 <sect1 xml:id="sec-trouble-boot">
  <title>Probleme beim Booten</title>

  <para>
   Probleme beim Booten sind Fälle, in denen Ihr System nicht vorschriftsmäßig gebootet wird, das Booten also nicht mit dem erwarteten Ziel und Anmeldebildschirm erfolgt.
  </para>

  <sect2 xml:id="sec-trouble-boot-nogrub">
   <title>GRUB 2-Bootloader wird nicht geladen</title>
   <para>
    Wenn die Hardware vorschriftsmäßig funktioniert, ist möglicherweise der Bootloader beschädigt und Linux kann auf dem Computer nicht gestartet werden. In diesem Fall muss der Bootloader repariert werden. Dazu müssen Sie das Rettungssystem starten wie in <xref linkend="sec-trouble-data-recover-rescue"/> beschrieben und den Anweisungen in <xref linkend="sec-trouble-data-recover-rescue-grub"/> folgen.
   </para>
   <para>
    Alternativ können Sie den Bootloader mit dem Rettungssystem wie folgt reparieren. Booten Sie den Computer von den Installationsmedien. Wählen Sie im Bootbildschirm die Option <menuchoice><guimenu>Mehr</guimenu> <guimenu>Linux-System booten</guimenu></menuchoice>. Wählen Sie die Festplatte aus, auf der sich das installierte System und der Kernel mit den Kernel-Standardoptionen befinden.
   </para>

   

   <para>
    Wenn das System gebootet wird, starten Sie YaST und wechseln Sie zu <menuchoice><guimenu>System</guimenu> <guimenu>Bootloader</guimenu></menuchoice>. Prüfen Sie, ob die Option <guimenu>Generischen Bootcode in MBR schreiben</guimenu> aktiviert ist, und klicken Sie auf <guimenu>OK</guimenu>. Ein beschädigte Bootloader wird überschrieben und damit repariert, ein fehlender Bootloader wird installiert.
   </para>

   <para>
    Die Grunde dafür, dass der Computer nicht gebootet werden kann, stehen möglicherweise in Zusammenhang mit dem BIOS.
   </para>
   <variablelist>
    <varlistentry>
     <term>BIOS-Einstellungen</term>
     <listitem>
      <para>
       Überprüfen Sie Ihr BIOS auf Verweise auf Ihre Festplatte hin. GRUB 2 wird möglicherweise einfach deshalb nicht gestartet, weil die Festplatte mit den aktuellen BIOS-Einstellungen nicht gefunden wird.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>BIOS-Bootreihenfolge</term>
     <listitem>
      <para>
       Überprüfen Sie, ob die Festplatte in der Bootreihenfolge Ihres Systems enthalten ist. Wenn die Festplatten-Option nicht aktiviert wurde, wird Ihr System möglicherweise vorschriftsmäßig installiert. Das Booten ist jedoch nicht möglich, wenn auf die Festplatte zugegriffen werden muss.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="sec-trouble-boot-hang" os="sled;osuse">
   <title>Es wird keine Anmeldemaske oder Eingabeaufforderung angezeigt</title>
   <para>
    Dieses Verhalten tritt normalerweise nach einem nicht erfolgreichen Kernelupgrade auf und ist nach der Art von Fehler auf der Systemkonsole, der zuweilen im Endstadium des Vorgangs auftritt, als <emphasis>Kernelpanik</emphasis> bekannt. Wenn der Computer tatsächlich soeben nach einer Softwareaktualisierung neu gebootet wurde, sollte er zunächst mithilfe der alten, bewährten Version des Linux-Kernels und der zugehörigen Dateien erneut gebootet werden. Gehen Sie dazu während des Bootvorgangs am Bildschirm des GRUB 2-Bootloaders wie folgt vor:
   </para>
   <procedure>
    <step>
     <para>
      Booten Sie den Computer mithilfe der Schaltfläche zum Zurücksetzen neu oder schalten Sie ihn aus und wieder an.
     </para>
    </step>
    <step>
     <para>
      Wenn der GRUB 2-Bootbildschirm angezeigt wird, wählen Sie den Eintrag <guimenu>Erweiterte Optionen</guimenu> aus und wählen Sie den vorherigen Kernel aus dem Menü aus. Der Computer sollte nun mithilfe der früheren Version des Kernels und der zugehörigen Dateien gebootet werden.
     </para>
    </step>
    <step xml:id="st-trouble-boot-hang-modify-grub">
     <para>
      Entfernen Sie nach Abschluss des Bootvorgangs den neu installierten Kernel und legen Sie, falls nötig, anhand des YaST <guimenu>Boot Loader</guimenu>-Moduls den Standard-Boot-Eintrag auf den alten Kernel fest. Weitere Informationen finden Sie unter <xref linkend="sec-grub2-yast2-config"/>. Eine Aktualisierung dieser Datei ist jedoch wahrscheinlich nicht erforderlich, da sie normalerweise während des Rollback-Vorgangs von den automatischen Aktualisierungswerkzeugen bearbeitet wird.
     </para>
    </step>
    <step>
     <para>
      Booten Sie den Computer neu.
     </para>
    </step>
   </procedure>
   <para>
    Falls dadurch das Problem nicht behoben wird, booten Sie den Computer anhand der Installationsmedien. Fahren Sie nach dem Booten des Computers mit <xref linkend="st-trouble-boot-hang-modify-grub" xrefstyle="StepOnPage"/> und fort.
   </para>
  </sect2>

  <sect2 xml:id="sec-trouble-boot-prompt">
   <title>Keine grafische Anmeldung</title>
   <para>
    Wenn der Computer hochfährt, jedoch der grafische Anmelde-Manager nicht gebootet wird, müssen Sie entweder hinsichtlich der Auswahl des standardmäßigen systemd-Ziels oder der Konfiguration des X-Window-Systems mit Problemen rechnen. Zum Prüfen des aktuellen systemd-Standardziels führen Sie das Kommando <command>sudo systemctl get-default</command> aus. Wenn <emphasis>nicht</emphasis>
    <literal> der Wert graphical.target</literal> zurückgegeben wird, führen Sie das Kommando <command>sudo systemctl isolate graphical.target</command> aus. Wird der grafische Anmeldebildschirm geöffnet, melden Sie sich an, starten Sie <menuchoice> <guimenu> YaST</guimenu>
    <guimenu> System</guimenu> <guimenu> Dienste-Verwaltung</guimenu></menuchoice>, und legen Sie für <guimenu>Default System Target</guimenu> (Standard-Systemziel) den Wert <guimenu>Graphical Interface</guimenu> (Grafische Oberfläche) fest. Von nun an bootet das System in den grafischen Anmeldebildschirm.
   </para>
   <para>
    Falls der grafische Anmeldebildschirm auch nicht nach dem Booten oder dem Wechsel zum grafischen Ziel gestartet wird, ist die Desktop- oder X Window-Software möglicherweise fehlerhaft konfiguriert oder beschädigt. Untersuchen Sie die Protokolldateien unter <filename>/var/log/Xorg&#x002E;*&#x002E;log</filename> nach detaillierten Meldungen vom X-Server beim Startversuch. Wenn beim Starten des Desktops ein Fehler auftritt, werden möglicherweise Fehlermeldungen im Systemjournal protokolliert, die Sie mit dem Kommando <command>journalctl</command> abfragen können (weitere Informationen finden Sie in <xref linkend="cha-journalctl"/>). Wenn diese Fehlermeldungen auf ein Konfigurationsproblem mit dem X-Server hinweisen, versuchen Sie, diese Probleme zu beseitigen. Wenn das grafische System weiterhin nicht aktiviert wird, ziehen Sie die Neuinstallation des grafischen Desktop in Betracht.
   </para>

  </sect2>

  <sect2 xml:id="sec-trouble-boot-btrfs">
   <title>Einhängen der Root-Btrfs-Partition nicht möglich</title>
   <para>
    Wenn eine <systemitem class="filesystem">btrfs</systemitem>-root-Partition beschädigt wird, haben Sie folgende Möglichkeiten:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Hängen Sie die Partition mit der Option <option>-o recovery</option> ein.
     </para>
    </listitem>
    <listitem>
     <remark>toms 2014-03-12: According to FATE#315126: "this one is open to
      debate, it might do more harm than good.."</remark>
     <para>
      Falls dies nicht funktioniert, führen Sie <command>btrfs-zero-log</command> auf der root-Partition aus.
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 xml:id="sec-trouble-boot-forcecheck">
   <title>Erzwingen der Prüfung von root-Partitionen</title>
   <remark>toms 2016-05-18: FATE#320126</remark>
   <para>
    Wenn die Root-Partition beschädigt ist, verwenden Sie den Parameter <parameter>forcefsck</parameter> an der Boot-Eingabeaufforderung. Hierdurch wird die Option <option>-f</option> (force = zwingen) an das Kommando <command>fsck</command> übergeben.
   </para>
  </sect2>
  
  <sect2 xml:id="sec-trouble-boot-disable-swap">
      <title>Auslagerungsgerät zum Booten deaktivieren</title>
      <para>
          Wenn kein Auslagerungsgerät verfügbar ist und das System es beim Booten nicht aktivieren kann, schlägt der Bootvorgang womöglich fehl. Versuchen Sie, alle Auslagerungsgeräte zu deaktivieren, indem Sie auf der Kernel-Kommandozeile die folgenden Optionen hinzufügen: 
      </para>
      <screen>systemd.device_wants_unit=off systemd.mask=swap.target</screen>
      <para>
          Sie können auch versuchen, bestimmte Auslagerungsgeräte zu deaktivieren:
      </para>
      <screen>systemd.mask=dev-sda1.swap</screen>
  </sect2>
  
  <sect2 xml:id="sec-trouble-boot-dual-boot">
   <title>Fehler bei GRUB 2 beim Neustarten auf einem Dual-Boot-System </title>
   <remark>jufa 2021-06-09: bsc#1185274</remark>
   <para>
    Wenn bei GRUB 2 ein Fehler beim Neustarten auftritt, deaktivieren Sie die Einstellung <option>Fast Boot</option> (Schnelles Booten) im BIOS.
     </para>
   
  </sect2>
 </sect1>
 
 <sect1 xml:id="sec-trouble-login">
  <title>Probleme bei der Anmeldung</title>

  <para>
   Probleme bei der Anmeldung sind Fälle, in denen Ihr Computer in den erwarteten Begrüßungsbildschirm bzw. die erwartete Anmelde-Eingabeaufforderung bootet, den Benutzernamen und das Passwort jedoch entweder nicht akzeptiert oder zunächst akzeptiert, sich dann aber nicht erwartungsgemäß verhält (der grafische Desktop wird nicht gestartet, es treten Fehler auf, es wird wieder eine Kommandozeile angezeigt usw).
  </para>

  <sect2 xml:id="sec-trouble-login-no">
   <title>Fehler trotz gültiger Kombination aus Benutzername und Passwort</title>
   <para>
    Dieser Fall tritt in der Regel ein, wenn das System zur Verwendung von Netzwerkauthentifizierung oder Verzeichnisdiensten konfiguriert wurde und aus unbekannten Gründen keine Ergebnisse von den zugehörigen konfigurierten Servern abrufen kann. Der <systemitem class="username">root</systemitem>-Benutzer ist der einzige lokale Benutzer, der sich noch bei diesen Computern anmelden kann. Nachfolgend sind einige häufige Ursachen dafür aufgeführt, weshalb Anmeldungen nicht ordnungsgemäß verarbeitet werden können, obwohl der Computer funktionstüchtig zu sein scheint:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Es liegt ein Problem mit der Netzwerkfunktion vor. Weitere Anweisungen hierzu finden Sie in <xref linkend="sec-trouble-netconfig"/>.
     </para>
    </listitem>
    <listitem>
     <para>
      DNS ist zurzeit nicht funktionsfähig (dadurch ist GNOME nicht funktionsfähig, und das System kann keine an sichere Server gerichteten bestätigten Anforderungen durchführen). Ein Hinweis, dass dies zutrifft, ist, dass der Computer auf sämtliche Aktionen ausgesprochen langsam reagiert. Weitere Informationen zu diesem Thema finden Sie in <xref linkend="sec-trouble-netconfig"/>.
     </para>
    </listitem>
    <listitem>
     <para>
      Wenn das System für die Verwendung von Kerberos konfiguriert ist, hat die lokale Systemzeit möglicherweise die zulässige Abweichung zur Kerberos-Serverzeit (üblicherweise 300 Sekunden) überschritten. Wenn NTP (Network Time Protocol) nicht ordnungsgemäß funktioniert bzw. lokale NTP-Server nicht funktionieren, kann auch die Kerberos-Authentifizierung nicht mehr verwendet werden, da sie von der allgemeinen netzwerkübergreifenden Uhrsynchronisierung abhängt.
     </para>
    </listitem>
    <listitem>
     <para>
      Die Authentifizierungskonfiguration des Systems ist fehlerhaft. Prüfen Sie die betroffenen PAM-Konfigurationsdateien auf Tippfehler oder falsche Anordnung von Direktiven hin. Zusätzliche Hintergrundinfomationen zu PAM (Password Authentification Module) und der Syntax der betroffenen Konfigurationsdateien finden Sie im <xref linkend="cha-pam"/>.
     </para>
    </listitem>
    <listitem>
     <para>
      Die Home-Partition ist verschlüsselt. Weitere Informationen zu diesem Thema finden Sie in <xref linkend="sec-trouble-login-encrypted"/>.
     </para>
    </listitem>
   </itemizedlist>
   <para>
    In allen Fällen, in denen keine externen Netzwerkprobleme vorliegen, besteht die Lösung darin, das System erneut im Einzelbenutzermodus zu booten und die Konfigurationsfehler zu beseitigen, bevor Sie erneut in den Betriebsmodus booten und erneut versuchen, sich anzumelden. So booten Sie in den Einzelbenutzerbetrieb:
   </para>
   <procedure xml:id="proc-trouble-login-no">
    <step>
     <para>
      Booten Sie das System neu. Daraufhin wird der Bootbildschirm mit einer Eingabeaufforderung eingeblendet.
     </para>
    </step>

    <step>
     <para>
      Drücken Sie <keycap function="escape"/>. Der Eröffnungsbildschirm wird geschlossen und Sie gelangen zum textgestützten GRUB 2-Menü.
     </para>
    </step>
    <step>
     <para>
      Drücken Sie <keycap>B</keycap>. Der GRUB 2-Editor wird geöffnet.
     </para>
    </step>
    <step>
     <para>
      Fügen Sie den folgenden Parameter an die Zeile mit den Kernel-Parametern an:
     </para>
<screen>systemd.unit=rescue.target</screen>
    </step>
    <step>
     <para>
      Drücken Sie <keycap>F10</keycap>.
     </para>
    </step>
    <step>
     <para>
      Geben Sie Benutzername und Passwort für <systemitem class="username">root</systemitem>   ein.
     </para>
    </step>
    <step>
     <para>
      Nehmen Sie alle erforderlichen Änderungen vor.
     </para>
    </step>
    <step>
     <para>
      Booten Sie in den vollen Mehrbenutzer- und Netzwerkbetrieb, indem Sie <command>systemctl isolate graphical.target</command> an der Kommandozeile eingeben.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-trouble-login-pw">
   <title>Keine Annahme einer gültigen Kombination aus Benutzername und Passwort</title>
   <para>
    Dies ist das mit Abstand häufigste Problem, auf das Benutzer stoßen, da es hierfür zahlreiche Ursachen gibt. Je nachdem, ob Sie lokale Benutzerverwaltung und Authentifizierung oder Netzwerkauthentifizierung verwenden, treten Anmeldefehler aus verschiedenen Gründen auf.
   </para>
   <para>
    Fehler bei der lokalen Benutzerverwaltung können aus folgenden Gründen auftreten:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Der Benutzer hat möglicherweise das falsche Passwort eingegeben.
     </para>
    </listitem>
    <listitem>
     <para>
      Das Home-Verzeichnis des Benutzers, das die Desktopkonfigurationsdateien enthält, ist beschädigt oder schreibgeschützt.
     </para>
    </listitem>
    <listitem>
     <para>
      Möglicherweise bestehen hinsichtlich der Authentifizierung dieses speziellen Benutzers durch das X Windows System Probleme, insbesondere, wenn das Home-Verzeichnis des Benutzers vor der Installation der aktuellen Distribution für andere Linux-Distributionen verwendet wurde.
     </para>
    </listitem>
   </itemizedlist>
   <para>
    Gehen Sie wie folgt vor, um den Grund für einen Fehler bei der lokalen Anmeldung ausfindig zu machen:
   </para>
   <procedure>
    <step>
     <para>
      Überprüfen Sie, ob der Benutzer sein Passwort richtig in Erinnerung hat, bevor Sie mit der Fehlersuche im gesamten Authentifizierungsmechanismus beginnen. Sollte sich der Benutzer nicht mehr an sein Passwort erinnern, können Sie es mithilfe des YaST-Moduls für die Benutzerverwaltung ändern. Achten Sie auf die <keycap>Feststelltaste</keycap> und deaktivieren Sie sie gegebenenfalls.
     </para>
    </step>
    <step>
     <para>
      Melden Sie sich als <systemitem class="username">root</systemitem> an, und prüfen Sie das Systemjournal mit <command>journalctl -e</command> auf Fehlermeldungen aus dem Anmeldevorgang und von PAM.
     </para>
    </step>
    <step>
     <para>
      Versuchen Sie, sich von einer Konsole aus anzumelden (mit <keycombo>
      <keycap function="control"/> <keycap function="alt"/> <keycap>F1</keycap>
      </keycombo>). Wenn dies gelingt, liegt der Fehler nicht bei PAM, da die Authentifizierung dieses Benutzers auf diesem Computer möglich ist. Versuchen Sie, mögliche Probleme mit dem X-Window-System oder dem GNOME-Desktop ausfindig zu machen. Weitere Informationen hierzu finden Sie im <xref linkend="sec-trouble-login-dk"/>.
     </para>
    </step>
    <step>
     <para>
      Wenn das Home-Verzeichnis des Benutzers für eine andere Linux-Distribution verwendet wurde, entfernten Sie die Datei <filename>Xauthority</filename> aus dem Heimverzeichnis des Benutzers. Melden Sie sich mit <keycombo>
      <keycap function="control"/> <keycap function="alt"/> <keycap>F1</keycap>
      </keycombo> bei der Konsole an und führen Sie <command>rm .Xauthority</command> als dieser Benutzer aus. Auf diese Weise sollten die X-Authentifizierungsprobleme dieses Benutzers beseitigt werden. Versuchen Sie erneut, sich beim grafischen Desktop anzumelden.
     </para>
    </step>

    <step>
     <para>
      Wenn der Desktop aufgrund beschädigter Konfigurationsdateien nicht aufgerufen werden konnte, fahren Sie mit <xref linkend="sec-trouble-login-dk"/> fort.
     </para>
    </step>
   </procedure>
   <para>
    Im Folgenden sind allgemeine Gründe aufgelistet, aus denen eine Netzwerkauthentifizierung für einen bestimmten Benutzer auf einem bestimmten Computer fehlschlagen könnte:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Der Benutzer hat möglicherweise das falsche Passwort eingegeben.
     </para>
    </listitem>
    <listitem>
     <para>
      Der Benutzername ist in den lokalen Authentifizierungsdateien des Computers vorhanden und wird zudem von einem Netzwerkauthentifizierungssystem bereitgestellt, was zu Konflikten führt.
     </para>
    </listitem>
    <listitem>
     <para>
      Das Home-Verzeichnis ist zwar vorhanden, ist jedoch beschädigt oder nicht verfügbar. Es ist möglicherweise schreibgeschützt oder befindet sich auf einem Server, auf den momentan nicht zugegriffen werden kann.
     </para>
    </listitem>
    <listitem>
     <para>
      Der Benutzer ist nicht berechtigt, sich bei diesem Host im Authentifizierungssystem anzumelden.
     </para>
    </listitem>
    <listitem>
     <para>
      Der Hostname des Computers hat sich geändert, und der Benutzer ist nicht zur Anmeldung bei diesem Host berechtigt.
     </para>
    </listitem>
    <listitem>
     <para>
      Der Computer kann keine Verbindung mit dem Authentifizierungs- oder Verzeichnisserver herstellen, auf dem die Informationen dieses Benutzers gespeichert sind.
     </para>
    </listitem>
    <listitem>
     <para>
      Möglicherweise bestehen hinsichtlich der Authentifizierung dieses speziellen Benutzers durch das X Window System Probleme, insbesondere, wenn das Home-Verzeichnis des Benutzers vor der Installation der aktuellen Distribution für andere Linux-Distributionen verwendet wurde.
     </para>
    </listitem>
   </itemizedlist>
   <para>
    Gehen Sie wie folgt vor, um die Ursache der Anmeldefehler bei der Netzwerkauthentifizierung zu ermitteln:
   </para>
   <procedure xml:id="proc-trouble-login-pw">
    <step>
     <para>
      Überprüfen Sie, ob der Benutzer sein Passwort richtig in Erinnerung hat, bevor Sie mit der Fehlersuche im gesamten Authentifizierungsmechanismus beginnen.
     </para>
    </step>
    <step>
     <para>
      Ermitteln Sie den Verzeichnisserver, den der Computer für die Authentifizierung verwendet, und vergewissern Sie sich, dass dieser ausgeführt wird und ordnungsgemäß mit den anderen Computern kommuniziert.
     </para>
    </step>
    <step>
     <para>
      Überprüfen Sie, ob der Benutzername und das Passwort des Benutzers auf anderen Computern funktionieren, um sicherzustellen, dass seine Authentifizierungsdaten vorhanden sind und ordnungsgemäß verteilt wurden.
     </para>
    </step>
    <step>
     <para>
      Finden Sie heraus, ob sich ein anderer Benutzer bei dem problembehafteten Computer anmelden kann. Wenn sich ein anderer Benutzer oder der <systemitem class="username">root</systemitem>-Benutzer anmelden kann, melden Sie sich mit dessen Anmeldedaten an, und überprüfen Sie das Systemjournal mit <command>journalctl -e</command> &gt; Datei. Suchen Sie nach dem Zeitstempel, der sich auf die Anmeldeversuche bezieht, und finden Sie heraus, ob von PAM Fehlermeldungen generiert wurden.
     </para>
    </step>
    <step>
     <para>
      Versuchen Sie, sich von einer Konsole aus anzumelden (mit <keycombo>
      <keycap function="control"/> <keycap function="alt"/> <keycap>F1</keycap>
      </keycombo>). Wenn dies gelingt, liegt der Fehler nicht bei PAM oder dem Verzeichnisserver mit dem Home-Verzeichnis des Benutzers, da die Authentifizierung dieses Benutzers auf diesem Computer möglich ist. Versuchen Sie, mögliche Probleme mit dem X-Window-System oder dem GNOME-Desktop ausfindig zu machen. Weitere Informationen hierzu finden Sie im <xref linkend="sec-trouble-login-dk"/>.
     </para>
    </step>
    <step>
     <para>
      Wenn das Home-Verzeichnis des Benutzers für eine andere Linux-Distribution verwendet wurde, entfernten Sie die Datei <filename>Xauthority</filename> aus dem Heimverzeichnis des Benutzers. Melden Sie sich mit <keycombo>
      <keycap function="control"/> <keycap function="alt"/> <keycap>F1</keycap>
      </keycombo> bei der Konsole an und führen Sie <command>rm .Xauthority</command> als dieser Benutzer aus. Auf diese Weise sollten die X-Authentifizierungsprobleme dieses Benutzers beseitigt werden. Versuchen Sie erneut, sich beim grafischen Desktop anzumelden.
     </para>
    </step>

    <step>
     <para>
      Wenn der Desktop aufgrund beschädigter Konfigurationsdateien nicht aufgerufen werden konnte, fahren Sie mit <xref linkend="sec-trouble-login-dk"/> fort.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-trouble-login-encrypted">
   <title>Anmeldung bei verschlüsselter Home-Partition fehlgeschlagen</title>
   <para>
    Bei Laptops ist es empfehlenswert, die Home-Partition zu verschlüsseln. Wenn Sie sich bei Ihrem Laptop nicht anmelden können, gibt es dafür normalerweise einen einfachen Grund: Ihre Partition konnte nicht entsperrt werden.
   </para>
   <para>
    Beim Booten müssen Sie den Passwortsatz eingeben, damit Ihre verschlüsselte Partition entsperrt wird. Wenn Sie den Passwortsatz nicht eingeben, wird der Boot-Vorgang fortgesetzt und die Partition bleibt gesperrt.
   </para>
   <para>
    Gehen Sie folgendermaßen vor, um die verschlüsselte Partition zu entsperren:
   </para>
   <procedure>
    <step>
     <para>
      Schalten Sie zur Textkonsole um, indem Sie auf <keycombo> <keycap function="control"/>
      <keycap function="alt"/> <keycap>F1</keycap> </keycombo> drücken.
     </para>
    </step>
    <step>
     <para>
      Melden Sie sich als <systemitem class="username">root</systemitem> an.
     </para>
    </step>
    <step>
     <para>
      Starten Sie den Entsperrvorgang erneut mit:
     </para>
<screen><prompt role="root"># </prompt>systemctl restart home.mount</screen>
    </step>
    <step>
     <para>
      Geben Sie Ihren Passwortsatz ein, um die verschlüsselte Partition zu entsperren.
     </para>
    </step>
    <step>
     <para>
      Beenden Sie die Textkonsole und wechseln Sie mit <keycombo>
      <keycap function="alt"/> <keycap>F7</keycap> </keycombo> zum Anmeldebildschirm.
     </para>
    </step>
    <step>
     <para>
      Melden Sie sich wie gewöhnlich an.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-trouble-login-dk">
   <title>Probleme mit dem GNOME-Desktop</title>
   <para>
     Wenn Probleme mit dem GNOME-Desktop auftreten, stehen mehrere Möglichkeiten zur Fehlerbehebung der problembehafteten grafischen Desktop-Umgebung zur Auswahl. Das unten beschriebene empfohlene Verfahren ist die sicherste Option zum Reparieren eines beschädigten GNOME-Desktops.
   </para>
   <procedure>
     <title>Fehlerbehebung für GNOME</title>
     <step>
       <para>
	 Starten Sie YaST und wechseln Sie zu <guimenu>Sicherheit und Benutzer</guimenu>.
       </para>
     </step>
     <step>
       <para>
	 Öffnen Sie das Dialogfeld <guimenu>Benutzer- und Gruppenverwaltung</guimenu> und klicken Sie auf <guimenu>Hinzufügen</guimenu>.
       </para>
     </step>
     <step>
       <para>
	 Füllen Sie die Pflichtfelder aus und klicken Sie auf <guimenu>OK</guimenu>. Damit wird ein neuer Benutzer erstellt.
       </para>
     </step>
     <step>
       <para>
	 Melden Sie sich ab und dann als der neue Benutzer wieder an. So erhalten Sie eine frische GNOME-Umgebung.
       </para>
     </step>
     <step>
       <para>
	 Kopieren Sie einzelne Unterverzeichnisse aus den Verzeichnissen <filename>~/.local/</filename> und <filename>~/.config/</filename> des bisherigen Benutzerkontos in die entsprechenden Verzeichnisse des neuen Benutzerkontos.
       </para>
       <para>
	 Melden Sie sich nach jedem Kopiervorgang ab und als der neue Benutzer wieder an und prüfen Sie, ob GNOME noch ordnungsgemäß funktioniert.
       </para>
     </step>
     <step>
       <para>
	 Wiederholen Sie den letzten Schritt, bis Sie die Konfigurationsdatei finden, die den Fehler in GNOME verursacht hat.
       </para>
     </step>
     <step>
       <para>
	 Melden Sie sich als der bisherige Benutzer an und verschieben Sie die problembehaftete Konfigurationsdatei an einen anderen Ort. Melden Sie sich ab und dann als der bisherige Benutzer wieder an.
       </para>
     </step>
     <step>
       <para>
	 Löschen Sie den zuvor erstellten Benutzer.
       </para>
     </step>
   </procedure>
  </sect2>

 </sect1>
 <sect1 xml:id="sec-trouble-netconfig">
  <title>Probleme mit dem Netzwerk</title>

  <para>
   Zahlreiche Probleme Ihres Systems stehen möglicherweise mit dem Netzwerk in Verbindung, obwohl zunächst ein anderer Eindruck entsteht. So kann beispielsweise ein Netzwerkproblem die Ursache sein, wenn sich Benutzer bei einem System nicht anmelden können. In diesem Abschnitt finden Sie eine einfache Checkliste, anhand derer Sie die Ursache jeglicher Netzwerkprobleme ermitteln können.
  </para>

  <procedure xml:id="proc-trouble-config-net">
   <title>Erkennen von Netzwerkproblemen</title>
   <para>
    Gehen Sie zur Überprüfung der Netzwerkverbindung Ihres Computers folgendermaßen vor:
   </para>
   <step>
    <para>
     Wenn Sie eine Ethernet-Verbindung nutzen, überprüfen Sie zunächst die Hardware. Vergewissern Sie sich, dass das Netzwerkkabel ordnungsgemäß am Computer und Router (oder Hub usw.) angeschlossen ist. Die Kontrolllämpchen neben dem Ethernet-Anschluss sollten beide leuchten.
    </para>
    <para>
     Wenn keine Verbindung hergestellt werden kann, testen Sie, ob Ihr Netzwerkkabel funktionstüchtig ist, wenn es mit einem anderen Computer verbunden wird. Wenn dies der Fall ist, ist das Problem auf Ihre Netzwerkkarte zurückzuführen. Wenn Ihre Netzwerkeinrichtung Hubs oder Switches enthält, sind diese möglicherweise auch fehlerhaft.
    </para>
   </step>
   <step>
    <para>
     Bei einer drahtlosen Verbindung testen Sie, ob die drahtlose Verbindung von anderen Computern hergestellt werden kann. Ist dies nicht der Fall, sollten Sie das Problem an den Administrator des drahtlosen Netzwerks weiterleiten.
    </para>
   </step>
   <step>
    <para>
     Nachdem Sie die grundlegende Netzwerkkonnektivität sichergestellt haben, versuchen Sie zu ermitteln, welcher Dienst nicht reagiert. Tragen Sie die Adressinformationen aller Netzwerkserver zusammen, die Bestandteil Ihrer Einrichtung sind. Suchen Sie sie entweder im entsprechenden YaST-Modul oder wenden Sie sich an Ihren Systemadministrator. In der nachfolgenden Liste sind einige der typischen Netzwerkserver aufgeführt, die Bestandteil einer Einrichtung sind; außerdem finden Sie hier die Symptome eines Ausfalls.
    </para>
    <variablelist>
     <varlistentry>
      <term>DNS (Namendienst)</term>
      <listitem>
       <para>
        Ein Namendienst, der ausgefallen ist oder Fehlfunktionen aufweist, kann die Funktionalität des Netzwerks auf vielfältige Weise beeinträchtigen. Wenn die Authentifizierung für einen lokalen Rechner über einen oder mehrere Netzwerkserver erfolgt und diese Server aufgrund von Problemen bei der Namenauflösung nicht auffindbar sind, können sich die Benutzer noch nicht einmal anmelden. Die Rechner in einem Netzwerk, das von einem ausgefallenen Nameserver verwaltet wird, können einander nicht <quote>sehen</quote> und nicht miteinander kommunizieren.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>NTP (Zeitdienst)</term>
      <listitem>
       <para>
        Ein NTP-Dienst, der ausgefallen ist oder Fehlfunktionen aufweist, kann die Kerberos-Authentifizierung und die X-Server-Funktionalität beeinträchtigen.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>NFS (Dateidienst)</term>
      <listitem>
       <para>
        Wenn eine Anwendung Daten benötigt, die in einem NFS-eingehängten Verzeichnis gespeichert sind, kann sie nicht aufgerufen werden bzw. weist Fehlfunktionen auf, wenn dieser Dienst ausgefallen oder falsch konfiguriert ist. Im schlimmsten Fall wird die persönliche Desktop-Konfiguration eines Benutzers nicht angezeigt, wenn sein Home-Verzeichnis mit dem <filename>.gconf</filename>-Unterverzeichnis nicht gefunden wird, weil der NFS-Server ausgefallen ist.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Samba (Dateidienst)</term>
      <listitem>
       <para>
        Wenn eine Anwendung Daten benötigt, die in einem Verzeichnis auf einem fehlerhaften Samba-Server gespeichert sind, kann sie nicht aufgerufen werden oder weist Fehlfunktionen auf.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>NIS (Benutzerverwaltung)</term>
      <listitem>
       <para>
        Wenn Ihr <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>-System hinsichtlich der Bereitstellung der Benutzerdaten von einem fehlerhaften NIS-Server abhängig ist, können sich Benutzer nicht bei diesem Rechner anmelden.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>LDAP (Benutzerverwaltung)</term>
      <listitem>
       <para>
        Wenn Ihr <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>-System hinsichtlich der Bereitstellung der Benutzerdaten von einem fehlerhaften LDAP-Server abhängig ist, können sich Benutzer nicht bei diesem Rechner anmelden.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Kerberos (Authentifizierung)</term>
      <listitem>
       <para>
        Die Authentifizierung funktioniert nicht und die Anmeldung bei den Computern schlägt fehl.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>CUPS (Netzwerkdruck)</term>
      <listitem>
       <para>
        Die Benutzer können nicht drucken.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </step>
   <step>
    <para>
     Überprüfen Sie, ob die Netzwerkserver aktiv sind und ob Ihre Netzwerkeinrichtung das Herstellern einer Verbindung ermöglicht:
    </para>
    <important>
     <title>Nutzungsbeschränkungen</title>
     <para>
      Das unten beschriebene Fehlersuchverfahren gilt nur für ein einfaches Setup aus Netzwerkserver/-Client, das kein internes Routing beinhaltet. Es wird davon ausgegangen, dass sowohl Server als auch Client Mitglieder desselben Subnetzes sind, ohne dass die Notwendigkeit für weiteres Routing besteht.
     </para>
    </important>
    <substeps performance="required">
     <step>
      <para>
       Mit <command>ping</command>
       <replaceable>IP-ADRESSE/HOSTNAME</replaceable> (ersetzen Sie IP-ADRESSE/HOSTNAME durch den Hostnamen oder die IP-Adresse des Servers) können Sie überprüfen, ob die einzelnen Server verfügbar sind und ob vom Netzwerk aus auf sie zugegriffen werden kann. Wenn dieses Kommando erfolgreich ist, besagt dies, dass der von Ihnen gesuchte Host aktiv ist und dass der Namendienst für Ihr Netzwerk vorschriftsmäßig konfiguriert ist.
      </para>
      <para>
       Wenn beim Ping-Versuch die Meldung <literal>destination host unreachable</literal> zurückgegeben wird, also nicht auf den Ziel-Host zugegriffen werden kann, ist entweder Ihr System oder der gewünschte Server nicht vorschriftsmäßig konfiguriert oder ausgefallen. Überprüfen Sie, ob Ihr System erreichbar ist, indem Sie <command>ping</command> <replaceable>IP-ADRESSE</replaceable> oder <replaceable>IHR_HOSTNAME</replaceable> von einem anderen Computer aus ausführen. Wenn Sie von einem anderen Computer aus auf Ihren Computer zugreifen können, ist der Server nicht aktiv oder nicht vorschriftsmäßig konfiguriert.
      </para>
      <para>
       Wenn beim Ping-Versuch die Meldung <literal>unknown host</literal> zurückgegeben wird, der Host also nicht bekannt ist, ist der Namendienst nicht vorschriftsmäßig konfiguriert, oder der verwendete Hostname ist falsch. Weitere Prüfungen dieser Arten finden Sie unter <xref linkend="st-trouble-config-net-host" xrefstyle="StepOnPage"/>. Wenn der Ping-Versuch weiterhin erfolglos ist, ist entweder Ihre Netzwerkkarte nicht vorschriftsmäßig konfiguriert bzw. Ihre Netzwerk-Hardware ist fehlerhaft.
      </para>
     </step>
     <step xml:id="st-trouble-config-net-host">
      <para>
       Mit <command>host</command> <replaceable>HOSTNAME</replaceable> können Sie überprüfen, ob der Hostname des Servers, mit dem Sie eine Verbindung herstellen möchten, vorschriftsmäßig in eine IP-Adresse übersetzt wird (und umgekehrt). Wenn bei diesem Kommando die IP-Adresse dieses Host zurückgegeben wird, ist der Namendienst aktiv. Wenn es bei diesem <command>host</command>-Kommando zu einem Problem kommt, überprüfen Sie alle Netzwerkkonfigurationsdateien, die für die Namen- und Adressauflösung auf Ihrem Host relevant sind:
      </para>
      <variablelist>
       <varlistentry>
        <term><filename>/var/run/netconfig/resolv.conf</filename>
        </term>
        <listitem>
         <para>
          Mithilfe dieser Datei wissen Sie stets, welchen Nameserver und welche Domäne Sie zurzeit verwenden. Sie ist ein symbolischer Link zu <filename>/run/netconfig/resolv.conf</filename> und wird in der Regel von YaST oder DHCP automatisch angepasst. Stellen Sie sicher, dass diese Datei die nachfolgend angegebene Struktur aufweist und dass alle Netzwerkadressen und Domänennamen richtig sind:
         </para>
<screen>search <replaceable>FULLY_QUALIFIED_DOMAIN_NAME</replaceable>
nameserver <replaceable>IPADDRESS_OF_NAMESERVER</replaceable></screen>
         <para>
          Diese Datei kann die Adresse eines oder mehrerer Namenserver enthalten, mindestens einer davon muss aber richtig sein, um die Namenauflösung für Ihren Host bereitzustellen. Wenn nötig, können Sie diese Datei auf der Registerkarte „Hostname/DNS“ des YaST-Moduls „Netzwerkeinstellungen“ anpassen.
         </para>
         <para>
          Wenn die Netzwerkverbindung über DHCP erfolgt, aktivieren Sie DHCP, damit der Hostname und die Namensdienstinformationen geändert werden. Wählen Sie hierzu <guimenu>Hostname über DHCP festlegen</guimenu> (kann global für alle Schnittstellen oder auch separat für die einzelnen Schnittstellen eingestellt werden) und <guimenu>Nameserver und Suchliste über DHCP aktualisieren</guimenu> im YaST-Netzwerkeinstellungsmodul (Registerkarte „Hostname/DNS“).
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><filename>/etc/nsswitch.conf</filename>
        </term>
        <listitem>
         <para>
          Aus dieser Datei geht hervor, wo Linux nach Namendienstinformationen suchen soll. Sie sollte folgendes Format aufweisen:
         </para>
<screen> ...
hosts: files dns
networks: files dns
...</screen>
         <para>
          Der Eintrag <option>dns</option> ist von großer Bedeutung. Hiermit wird Linux angewiesen, einen externen Namenserver zu verwenden. Normalerweise werden diese Einträge automatisch von YaST verwaltet, es empfiehlt sich jedoch, dies zu überprüfen.
         </para>
         <para>
          Wenn alle relevanten Einträge auf dem Host richtig sind, lassen Sie Ihren Systemadministrator die DNS-Serverkonfiguration auf die richtigen Zoneninformationen hin prüfen. Wenn Sie sichergestellt haben, dass die DNS-Konfiguration auf Ihrem Host und dem DNS-Server richtig ist, überprüfen Sie als Nächstes die Konfiguration Ihres Netzwerks und Netzwerkgeräts.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
     </step>
     <step>
      <para>
       Wenn von Ihrem System keine Verbindung mit dem Netzwerk hergestellt werden kann und Sie Probleme mit dem Namendienst mit Sicherheit als Ursache ausschließen können, überprüfen Sie die Konfiguration Ihrer Netzwerkkarte.
      </para>
      <para>
       Prüfen Sie mit dem Kommando <command>ip addr show</command>
       <replaceable>NETZWERKGERÄT</replaceable>, ob dieses Gerät ordnungsgemäß konfiguriert wurde. Prüfen Sie, ob die <option>inet address</option> mit der Netzmaske (<literal>/<replaceable>MASK</replaceable></literal>) ordnungsgemäß konfiguriert ist. Wenn die IP-Adresse einen Fehler enthält oder die Netzwerkmaske unvollständig ist, kann Ihre Netzwerkkonfiguration nicht verwendet werden. Führen Sie diese Überprüfung im Bedarfsfall auch auf dem Server durch.
      </para>
     </step>
     <step>
      <para>
       Wenn der Namensdienst und die Netzwerk-Hardware ordnungsgemäß konfiguriert und aktiv/verfügbar sind, bei einigen externen Netzwerkverbindungen jedoch nach wie vor lange Zeitüberschreitungen auftreten bzw. der Verbindungsaufbau überhaupt nicht möglich ist, können Sie mit <command>traceroute</command>
       <replaceable>VOLLSTÄNDIGER_DOMÄNENNAME</replaceable> (Ausführung als <systemitem class="username">root</systemitem>) die Netzwerkroute dieser Anforderungen überwachen. Mit diesem Kommando werden sämtliche Gateways (Sprünge) aufgelistet, die eine Anforderung von Ihrem Computer auf ihrem Weg zu ihrem Ziel passiert. Mit ihm wird die Antwortzeit der einzelnen Sprünge (Hops) aufgelistet und es wird ersichtlich, ob dieser Sprung erreichbar ist. Verwenden Sie eine Kombination von „traceroute“ und „ping“, um die Ursache des Problems ausfindig zu machen, und informieren Sie die Administratoren.
      </para>
     </step>
    </substeps>
   </step>
  </procedure>

  <para>
   Nachdem Sie die Ursache Ihres Netzwerkproblems ermittelt haben, können Sie es selbst beheben (wenn es auf Ihrem Computer vorliegt) oder die Administratoren Ihres Netzwerks entsprechend informieren, damit sie die Dienste neu konfigurieren bzw. die betroffenen Systeme reparieren können.
  </para>

  <sect2 xml:id="sec-trouble-networkmanager">
   <title>Probleme mit NetworkManager</title>
   <remark>This is a bit small, needs more text.</remark>
   <para>
    Grenzen Sie Probleme mit der Netzwerkkonnektivität wie unter <xref linkend="proc-trouble-config-net"/> beschrieben ein. Wenn die Ursache bei NetworkManager zu liegen scheint, gehen Sie wie folgt vor, um Protokolle abzurufen, die Hinweise für den Grund der NetworkManager-Probleme enthalten:
   </para>
   <procedure>
    <step>
     <para>
      Öffnen Sie eine Shell und melden Sie sich als <systemitem class="username">root</systemitem> an.
     </para>
    </step>
    <step>
     <para>
      Starten Sie NetworkManager neu.
     </para>
<screen><prompt>&gt; </prompt><command>sudo</command> systemctl restart NetworkManager</screen>
    </step>
    <step>
     <para>
      Öffnen Sie eine Website, beispielsweise <link xlink:href="http://www.opensuse.org"/>, als normaler Benutzer, um zu überprüfen, ob Sie eine Verbindung herstellen können.
     </para>
    </step>
    <step>
     <para>
      Erfassen Sie sämtliche Informationen zum Status von NetworkManager in <filename>/var/log/NetworkManager</filename>.
     </para>
    </step>
   </procedure>
   <para>
    Weitere Informationen zu NetworkManager finden Sie unter <xref linkend="cha-nm"/>.
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-trouble-data">
  <title>Probleme mit Daten</title>

  <para>
   Probleme mit Daten treten auf, wenn der Computer entweder ordnungsgemäß gebootet werden kann oder nicht, in jedem Fall jedoch offensichtlich ist, dass Daten auf dem System beschädigt wurden und das System wiederhergestellt werden muss. In dieser Situation muss eine Sicherung Ihrer kritischen Daten durchgeführt werden, damit Sie wieder zu dem Zustand zurückkehren können, in dem sich Ihr System befand, als das Problem auftrat.
  </para>

  <sect2 xml:id="sec-trouble-data-partitions">
   <title>Verwalten von Partitions-Images</title>
   <para>
    In manchen Fällen müssen Sie eine Sicherung einer ganzen Partition oder sogar der gesamten Festplatte erstellen. Im Lieferumfang von Linux ist das Werkzeug <command>dd</command> enthalten, das eine exakte Kopie Ihrer Festplatte erstellen kann. In Kombination mit <command>gzip</command> wird dabei Speicherplatz gespart.
   </para>
   <procedure>
    <title>Sichern und Wiederherstellen von Festplatten</title>
    <step>
     <para>
      Starten Sie eine Shell als <systemitem class="username">root</systemitem>-Benutzer.
     </para>
    </step>
    <step>
     <para>
      Wählen Sie das Quellgerät aus. Typischerweise lautet es wie <filename>/dev/sda</filename> (bezeichnet als <replaceable>SOURCE</replaceable>).
     </para>
    </step>
    <step>
     <para>
      Entscheiden Sie, wo das Image gespeichert werden soll (bezeichnet als <replaceable>BACKUP_PATH</replaceable>). Der Speicherort darf sich nicht auf dem Quellgerät befinden. Mit anderen Worten: Wenn Sie eine Sicherung von <filename>/dev/sda</filename> erstellen, muss das Image nicht unter <filename>/dev/sda</filename> gespeichert werden.
     </para>
    </step>
    <step>
     <para>
      Führen Sie die Kommandos zur Erstellung einer komprimierten Image-Datei aus:
     </para>
<screen><prompt role="root"># </prompt>dd if=/dev/<replaceable>SOURCE</replaceable> | gzip &gt; /<replaceable>BACKUP_PATH</replaceable>/image.gz </screen>
    </step>
    <step>
     <para>
      Stellen Sie die Festplatte mithilfe der folgenden Kommandos wieder her:
     </para>
<screen><prompt role="root"># </prompt>gzip -dc /<replaceable>BACKUP_PATH</replaceable>/image.gz | dd of=/dev/<replaceable>SOURCE</replaceable></screen>
    </step>
   </procedure>
   <para>
    Wenn Sie eine Partition nur sichern müssen, ersetzen Sie den Platzhalter <replaceable>QUELLE</replaceable> durch Ihre entsprechende Partition. In diesem Fall kann sich Ihre Image-Datei auf derselben Festplatte befinden, allerdings in einer anderen Partition.
   </para>
  </sect2>





  <xi:include href="system_repair.xml"/>
 </sect1>
 
 
</chapter>
