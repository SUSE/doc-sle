msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2018-09-30 01:20+0200\n"
"PO-Revision-Date: 2018-09-30 01:20+0200\n"
"Last-Translator: Automatically generated\n"
"Language-Team: none\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: nl\n"
"Plural-Forms: nplurals=2; plural=(n != 1);\n"

#. Put one translator per line, in the form NAME <EMAIL>, YEAR1, YEAR2
msgctxt "_"
msgid "translator-credits"
msgstr ""

#. (itstool) path: chapter/title
#: xml/libvirt_connect.xml:9
msgid "Connecting and Authorizing"
msgstr ""

#. (itstool) path: chapter/para
#: xml/libvirt_connect.xml:16
msgid ""
"Managing several VM Host Servers, each hosting multiple VM Guests, quickly "
"becomes difficult. One benefit of <systemitem class=\"library\">libvirt</"
"systemitem> is the ability to connect to several VM Host Servers at once, "
"providing a single interface to manage all VM Guests and to connect to their "
"graphical console."
msgstr ""

#. (itstool) path: chapter/para
#: xml/libvirt_connect.xml:22
msgid ""
"To ensure only authorized users can connect, <systemitem class=\"library"
"\">libvirt</systemitem> offers several connection types (via TLS, SSH, Unix "
"sockets, and TCP) that can be combined with different authorization "
"mechanisms (socket, PolKit, SASL and Kerberos)."
msgstr ""

#. (itstool) path: sect1/title
#: xml/libvirt_connect.xml:29
msgid "Authentication"
msgstr ""

#. (itstool) path: sect1/para
#: xml/libvirt_connect.xml:31
msgid ""
"The power to manage VM Guests and to access their graphical console is "
"something that should be restricted to a well defined circle of persons. To "
"achieve this goal, you can use the following authentication techniques on "
"the VM Host Server:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:40
msgid ""
"Access control for Unix sockets with permissions and group ownership. This "
"method is available for <systemitem class=\"daemon\">libvirtd</systemitem> "
"connections only."
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:46
msgid ""
"Access control for Unix sockets with PolKit. This method is available for "
"local <systemitem class=\"daemon\">libvirtd</systemitem> connections only."
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:52
msgid ""
"User name and password authentication with SASL (Simple Authentication and "
"Security Layer). This method is available for both, <systemitem class="
"\"daemon\">libvirtd</systemitem> and VNC connections. Using SASL does not "
"require real user accounts on the server, since it uses its own database to "
"store user names and passwords. Connections authenticated with SASL are "
"encrypted."
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:61
msgid ""
"Kerberos authentication. This method, available for <systemitem class="
"\"daemon\">libvirtd</systemitem> connections only, is not covered in this "
"manual. Refer to <link xlink:href=\"http://libvirt.org/auth."
"html#ACL_server_kerberos\"/> for details."
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:69
msgid ""
"Single password authentication. This method is available for VNC connections "
"only."
msgstr ""

#. (itstool) path: important/title
#: xml/libvirt_connect.xml:77
msgid ""
"Authentication for <systemitem class=\"daemon\">libvirtd</systemitem> and "
"VNC need to be configured separately"
msgstr ""

#. (itstool) path: important/para
#: xml/libvirt_connect.xml:78
msgid ""
"Access to the VM Guest's management functions (via <systemitem class=\"daemon"
"\">libvirtd</systemitem>) on the one hand, and to its graphical console on "
"the other hand, always needs to be configured separately. When restricting "
"access to the management tools, these restrictions do <emphasis>not</"
"emphasis> automatically apply to VNC connections!"
msgstr ""

#. (itstool) path: sect1/para
#: xml/libvirt_connect.xml:87
msgid ""
"When accessing VM Guests from remote via TLS/SSL connections, access can be "
"indirectly controlled on each client by restricting read permissions to the "
"certificate's key file to a certain group. See <xref linkend=\"sec.libvirt."
"connect.remote.tls.security\"/> for details."
msgstr ""

#. (itstool) path: sect2/title
#: xml/libvirt_connect.xml:95
msgid "<systemitem class=\"daemon\">libvirtd</systemitem> Authentication"
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:96
msgid ""
"<systemitem class=\"daemon\">libvirtd</systemitem> authentication is "
"configured in <filename>/etc/libvirt/libvirtd.conf</filename>. The "
"configuration made here applies to all <systemitem class=\"library"
"\">libvirt</systemitem> tools such as the Virtual Machine Manager or "
"<command>virsh</command>."
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:102
msgid ""
"<systemitem class=\"library\">libvirt</systemitem> offers two sockets: a "
"read-only socket for monitoring purposes and a read-write socket to be used "
"for management operations. Access to both sockets can be configured "
"independently. By default, both sockets are owned by <literal>root.root</"
"literal>. Default access permissions on the read-write socket are restricted "
"to the user <systemitem class=\"username\">root</systemitem> (<literal>0700</"
"literal>) and fully open on the read-only socket (<literal>0777</literal>)."
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:111
msgid ""
"In the following instructions, you will learn how to configure access "
"permissions for the read-write socket. The same instructions also apply to "
"the read-only socket. All configuration steps need to be carried out on the "
"VM Host Server."
msgstr ""

#. (itstool) path: note/title
#: xml/libvirt_connect.xml:118
msgid ""
"Default Authentication Settings on <phrase role=\"productname\"><phrase os="
"\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise "
"Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase></"
"phrase>"
msgstr ""

#. (itstool) path: note/para
#: xml/libvirt_connect.xml:119
msgid ""
"The default authentication method on <phrase role=\"productname\"><phrase os="
"\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise "
"Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase></"
"phrase> is access control for Unix sockets. Only the user <systemitem class="
"\"username\">root</systemitem> may authenticate. When accessing the "
"<systemitem class=\"library\">libvirt</systemitem> tools as a non-root user "
"directly on the VM Host Server, you need to provide the <systemitem class="
"\"username\">root</systemitem> password through PolKit once. You are then "
"granted access for the current and for future sessions."
msgstr ""

#. (itstool) path: note/para
#: xml/libvirt_connect.xml:127
msgid ""
"Alternatively, you can configure <systemitem class=\"library\">libvirt</"
"systemitem> to allow <quote>system</quote> access to non-privileged users. "
"See <xref linkend=\"sec.libvirt.connect.connecting.dac\"/> for details."
msgstr ""

#. (itstool) path: variablelist/title
#: xml/libvirt_connect.xml:134
msgid "Recommended Authorization Methods"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:136
msgid "Local Connections"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:147
msgid "Remote Tunnel over SSH"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:156
msgid "Remote TLS/SSL Connection"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/libvirt_connect.xml:161
msgid ""
"none (access controlled on the client side by restricting access to the "
"certificates)"
msgstr ""

#. (itstool) path: sect3/title
#: xml/libvirt_connect.xml:168
msgid "Access Control for Unix Sockets with Permissions and Group Ownership"
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:169
msgid ""
"To grant access for non-<systemitem class=\"username\">root</systemitem> "
"accounts, configure the sockets to be owned and accessible by a certain "
"group (<systemitem class=\"groupname\">libvirt</systemitem> in the following "
"example). This authentication method can be used for local and remote SSH "
"connections."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:178
msgid "In case it does not exist, create the group that should own the socket:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:182
#, no-wrap
msgid "<prompt>tux &gt; </prompt><command>sudo</command> groupadd libvirt"
msgstr ""

#. (itstool) path: important/title
#: xml/libvirt_connect.xml:184
msgid "Group Needs to Exist"
msgstr ""

#. (itstool) path: important/para
#: xml/libvirt_connect.xml:185
msgid ""
"The group must exist prior to restarting <systemitem class=\"daemon"
"\">libvirtd</systemitem>. If not, the restart will fail."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:192
msgid "Add the desired users to the group:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:195
#, no-wrap
msgid "<prompt>tux &gt; </prompt><command>sudo</command> usermod --append --groups libvirt tux"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:198 xml/libvirt_connect.xml:320
msgid ""
"Change the configuration in <filename>/etc/libvirt/libvirtd.conf</filename> "
"as follows:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:202
#, no-wrap
msgid ""
"unix_sock_group = \"libvirt\"<co xml:id=\"co.libvirt.connect.ssh.group\"/>\n"
"unix_sock_rw_perms = \"0770\"<co xml:id=\"co.libvirt.connect.ssh.perms\"/>\n"
"auth_unix_rw = \"none\"<co xml:id=\"co.libvirt.connect.ssh.enable\"/>"
msgstr ""

#. (itstool) path: callout/para
#: xml/libvirt_connect.xml:207
msgid "Group ownership will be set to group <literal>libvirt</literal>."
msgstr ""

#. (itstool) path: callout/para
#: xml/libvirt_connect.xml:212
msgid ""
"Sets the access permissions for the socket (<literal>srwxrwx---</literal>)."
msgstr ""

#. (itstool) path: callout/para
#: xml/libvirt_connect.xml:218
msgid ""
"Disables other authentication methods (PolKit or SASL). Access is solely "
"controlled by the socket permissions."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:226 xml/libvirt_connect.xml:340
#: xml/libvirt_connect.xml:502 xml/libvirt_connect.xml:559
#: xml/libvirt_connect.xml:609 xml/libvirt_connect.xml:824
msgid "Restart <systemitem class=\"daemon\">libvirtd</systemitem>:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:229
#, no-wrap
msgid "<prompt>tux &gt; </prompt><command>sudo</command> systemctl start libvirtd"
msgstr ""

#. (itstool) path: sect3/title
#: xml/libvirt_connect.xml:234
msgid "Local Access Control for Unix Sockets with PolKit"
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:235
msgid ""
"Access control for Unix sockets with PolKit is the default authentication "
"method on <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</"
"phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os="
"\"sled\">SUSE Linux Enterprise Desktop</phrase></phrase> for non-remote "
"connections. Therefore, no <systemitem class=\"library\">libvirt</"
"systemitem> configuration changes are needed. With PolKit authorization "
"enabled, permissions on both sockets default to <literal>0777</literal> and "
"each application trying to access a socket needs to authenticate via PolKit."
msgstr ""

#. (itstool) path: important/title
#: xml/libvirt_connect.xml:244
msgid "PolKit Authentication for Local Connections Only"
msgstr ""

#. (itstool) path: important/para
#: xml/libvirt_connect.xml:245
msgid ""
"Authentication with PolKit can only be used for local connections on the VM "
"Host Server itself, since PolKit does not handle remote authentication."
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:252
msgid ""
"Two policies for accessing <systemitem class=\"library\">libvirt</"
"systemitem>'s sockets exist:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:257
msgid ""
"<emphasis>org.libvirt.unix.monitor</emphasis>: accessing the read-only socket"
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:263
msgid ""
"<emphasis>org.libvirt.unix.manage</emphasis>: accessing the read-write socket"
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:269
msgid ""
"By default, the policy for accessing the read-write socket is to "
"authenticate with the <systemitem class=\"username\">root</systemitem> "
"password once and grant the privilege for the current and for future "
"sessions."
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:274
msgid ""
"To grant users access to a socket without having to provide the <systemitem "
"class=\"username\">root</systemitem> password, you need to create a rule in "
"<filename>/etc/polkit-1/rules.d</filename>. Create the file <filename>/etc/"
"polkit-1/rules.d/10-grant-libvirt</filename> with the following content to "
"grant access to the read-write socket to all members of the group "
"<systemitem class=\"groupname\">libvirt</systemitem>:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/libvirt_connect.xml:283
#, no-wrap
msgid ""
"polkit.addRule(function(action, subject) {\n"
"  if (action.id == \"org.libvirt.unix.manage\" &amp;&amp; subject.isInGroup(\"libvirt\")) {\n"
"    return polkit.Result.YES;\n"
"  }\n"
"});"
msgstr ""

#. (itstool) path: sect3/title
#: xml/libvirt_connect.xml:290 xml/libvirt_connect.xml:430
msgid "User name and Password Authentication with SASL"
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:291
msgid ""
"SASL provides user name and password authentication and data encryption "
"(digest-md5, by default). Since SASL maintains its own user database, the "
"users do not need to exist on the VM Host Server. SASL is required by TCP "
"connections and on top of TLS/SSL connections."
msgstr ""

#. (itstool) path: important/title
#: xml/libvirt_connect.xml:298
msgid "Plain TCP and SASL with digest-md5 Encryption"
msgstr ""

#. (itstool) path: important/para
#: xml/libvirt_connect.xml:299
msgid ""
"Using digest-md5 encryption on an otherwise not encrypted TCP connection "
"does not provide enough security for production environments. It is "
"recommended to only use it in testing environments."
msgstr ""

#. (itstool) path: tip/title
#: xml/libvirt_connect.xml:306
msgid "SASL Authentication on Top of TLS/SSL"
msgstr ""

#. (itstool) path: tip/para
#: xml/libvirt_connect.xml:307
msgid ""
"Access from remote TLS/SSL connections can be indirectly controlled on the "
"<emphasis>client side</emphasis> by restricting access to the certificate's "
"key file. However, this might prove error-prone when dealing with many "
"clients. Using SASL with TLS adds security by additionally controlling "
"access on the server side."
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:315
msgid "To configure SASL authentication, proceed as follows:"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:326
msgid "To enable SASL for TCP connections:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:329
#, no-wrap
msgid "auth_tcp = \"sasl\""
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:332
msgid "To enable SASL for TLS/SSL connections:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:335
#, no-wrap
msgid "auth_tls = \"sasl\""
msgstr ""

#. (itstool) path: step/screen
#. (itstool) path: sect4/screen
#: xml/libvirt_connect.xml:343 xml/libvirt_connect.xml:505
#: xml/libvirt_connect.xml:562 xml/libvirt_connect.xml:612
#: xml/libvirt_connect.xml:827 xml/libvirt_connect.xml:1045
#: xml/libvirt_connect.xml:1160 xml/libvirt_connect.xml:1363
#, no-wrap
msgid "<prompt>tux &gt; </prompt><command>sudo</command> systemctl restart libvirtd"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:346
msgid ""
"The libvirt SASL configuration file is located at <filename>/etc/sasl2/"
"libvirtd.conf</filename>. Normally, there is no need to change the defaults. "
"However, if using SASL on top of TLS, you may turn off session encryption to "
"avoid additional overhead (TLS connections are already encrypted) by "
"commenting the line setting the <literal>mech_list</literal> parameter. Only "
"do this for TLS/SASL, for TCP connections this parameter must be set to "
"digest-md5."
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:355
#, no-wrap
msgid "#mech_list: digest-md5"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:358 xml/libvirt_connect.xml:476
msgid ""
"By default, no SASL users are configured, so no logins are possible. Use the "
"following commands to manage users:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:364 xml/libvirt_connect.xml:482
msgid "Add the user <systemitem class=\"username\">tux</systemitem>"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/libvirt_connect.xml:366
#, no-wrap
msgid "saslpasswd2 -a libvirt tux"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:370 xml/libvirt_connect.xml:488
msgid "Delete the user <systemitem class=\"username\">tux</systemitem>"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/libvirt_connect.xml:372
#, no-wrap
msgid "saslpasswd2 -a libvirt -d tux"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:376 xml/libvirt_connect.xml:494
msgid "List existing users"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/libvirt_connect.xml:378
#, no-wrap
msgid "sasldblistusers2 -f /etc/libvirt/passwd.db"
msgstr ""

#. (itstool) path: tip/title
#: xml/libvirt_connect.xml:385
msgid "<command>virsh</command> and SASL Authentication"
msgstr ""

#. (itstool) path: tip/para
#: xml/libvirt_connect.xml:386
msgid ""
"When using SASL authentication, you will be prompted for a user name and "
"password every time you issue a <command>virsh</command> command. Avoid this "
"by using <command>virsh</command> in shell mode."
msgstr ""

#. (itstool) path: sect2/title
#: xml/libvirt_connect.xml:396
msgid "VNC Authentication"
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:397
msgid ""
"Since access to the graphical console of a VM Guest is not controlled by "
"<systemitem class=\"library\">libvirt</systemitem>, but rather by the "
"specific hypervisor, it is always necessary to additionally configure VNC "
"authentication. The main configuration file is <filename>/etc/libvirt/&lt;"
"hypervisor&gt;.conf</filename>. This section describes the QEMU/KVM "
"hypervisor, so the target configuration file is <filename>/etc/libvirt/qemu."
"conf</filename>."
msgstr ""

#. (itstool) path: note/title
#: xml/libvirt_connect.xml:407
msgid "VNC Authentication for Xen"
msgstr ""

#. (itstool) path: note/para
#: xml/libvirt_connect.xml:408
msgid ""
"In contrast to KVM and LXC, Xen does not yet offer more sophisticated VNC "
"authentication than setting a password on a per VM basis. See the "
"<literal>&lt;graphics type='vnc'...</literal> <systemitem class=\"library"
"\">libvirt</systemitem> configuration option below."
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:415
msgid ""
"Two authentication types are available: SASL and single password "
"authentication. If you are using SASL for <systemitem class=\"library"
"\">libvirt</systemitem> authentication, it is strongly recommended to use it "
"for VNC authentication as well—it is possible to share the same database."
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:421
msgid ""
"A third method to restrict access to the VM Guest is to enable the use of "
"TLS encryption on the VNC server. This requires the VNC clients to have "
"access to x509 client certificates. By restricting access to these "
"certificates, access can indirectly be controlled on the client side. Refer "
"to <xref linkend=\"sec.libvirt.connect.remote.tls.vnc.client\"/> for details."
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:431
msgid ""
"SASL provides user name and password authentication and data encryption. "
"Since SASL maintains its own user database, the users do not need to exist "
"on the VM Host Server. As with SASL authentication for <systemitem class="
"\"library\">libvirt</systemitem>, you may use SASL on top of TLS/SSL "
"connections. Refer to <xref linkend=\"sec.libvirt.connect.remote.tls.vnc."
"client\"/> for details on configuring these connections."
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:439
msgid "To configure SASL authentication for VNC, proceed as follows:"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:444
msgid ""
"Create a SASL configuration file. It is recommended to use the existing "
"<systemitem class=\"library\">libvirt</systemitem> file. If you have already "
"configured SASL for <systemitem class=\"library\">libvirt</systemitem> and "
"are planning to use the same settings including the same user name and "
"password database, a simple link is suitable:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:450
#, no-wrap
msgid "<prompt>tux &gt; </prompt><command>sudo</command> ln -s /etc/sasl2/libvirt.conf /etc/sasl2/qemu.conf"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:451
msgid ""
"If are setting up SASL for VNC only or you are planning to use a different "
"configuration than for <systemitem class=\"library\">libvirt</systemitem>, "
"copy the existing file to use as a template:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:456
#, no-wrap
msgid "<prompt>tux &gt; </prompt><command>sudo</command> cp /etc/sasl2/libvirt.conf /etc/sasl2/qemu.conf"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:457
msgid "Then edit it according to your needs."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:462 xml/libvirt_connect.xml:546
msgid ""
"Change the configuration in <filename>/etc/libvirt/qemu.conf</filename> as "
"follows:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:466
#, no-wrap
msgid ""
"vnc_listen = \"0.0.0.0\"\n"
"vnc_sasl = 1\n"
"sasldb_path: /etc/libvirt/qemu_passwd.db"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:469
msgid ""
"The first parameter enables VNC to listen on all public interfaces (rather "
"than to the local host only), and the second parameter enables SASL "
"authentication."
msgstr ""

#. (itstool) path: listitem/screen
#: xml/libvirt_connect.xml:484
#, no-wrap
msgid "<prompt>tux &gt; </prompt>saslpasswd2 -f /etc/libvirt/qemu_passwd.db -a qemu tux"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/libvirt_connect.xml:490
#, no-wrap
msgid "<prompt>tux &gt; </prompt>saslpasswd2 -f /etc/libvirt/qemu_passwd.db -a qemu -d tux"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/libvirt_connect.xml:496
#, no-wrap
msgid "<prompt>tux &gt; </prompt>sasldblistusers2 -f /etc/libvirt/qemu_passwd.db"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:508
msgid ""
"Restart all VM Guests that have been running prior to changing the "
"configuration. VM Guests that have not been restarted will not use SASL "
"authentication for VNC connects."
msgstr ""

#. (itstool) path: note/title
#: xml/libvirt_connect.xml:516
msgid "Supported VNC Viewers"
msgstr ""

#. (itstool) path: note/para
#: xml/libvirt_connect.xml:517
msgid ""
"SASL authentication is currently supported by Virtual Machine Manager and "
"<command>virt-viewer</command>. Both of these viewers also support TLS/SSL "
"connections."
msgstr ""

#. (itstool) path: sect3/title
#: xml/libvirt_connect.xml:525
msgid "Single Password Authentication"
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:526
msgid ""
"Access to the VNC server may also be controlled by setting a VNC password. "
"You can either set a global password for all VM Guests or set individual "
"passwords for each guest. The latter requires to edit the VM Guest's "
"configuration files."
msgstr ""

#. (itstool) path: note/title
#: xml/libvirt_connect.xml:533
msgid "Always Set a Global Password"
msgstr ""

#. (itstool) path: note/para
#: xml/libvirt_connect.xml:534
msgid ""
"If you are using single password authentication, it is good practice to set "
"a global password even if setting passwords for each VM Guest. This will "
"always leave your virtual machines protected with a <quote>fallback</quote> "
"password if you forget to set a per-machine password. The global password "
"will only be used if no other password is set for the machine."
msgstr ""

#. (itstool) path: procedure/title
#: xml/libvirt_connect.xml:544
msgid "Setting a Global VNC Password"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:550
#, no-wrap
msgid ""
"vnc_listen = \"0.0.0.0\"\n"
"vnc_password = \"<replaceable>PASSWORD</replaceable>\""
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:552
msgid ""
"The first parameter enables VNC to listen on all public interfaces (rather "
"than to the local host only), and the second parameter sets the password. "
"The maximum length of the password is eight characters."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:565 xml/libvirt_connect.xml:615
msgid ""
"Restart all VM Guests that have been running prior to changing the "
"configuration. VM Guests that have not been restarted will not use password "
"authentication for VNC connects."
msgstr ""

#. (itstool) path: procedure/title
#: xml/libvirt_connect.xml:573
msgid "Setting a VM Guest Specific VNC Password"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:575
msgid ""
"Change the configuration in <filename>/etc/libvirt/qemu.conf</filename> as "
"follows to enable VNC to listen on all public interfaces (rather than to the "
"local host only)."
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:581
#, no-wrap
msgid "vnc_listen = \"0.0.0.0\""
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:584
msgid ""
"Open the VM Guest's XML configuration file in an editor. Replace "
"<replaceable>VM_NAME</replaceable> in the following example with the name of "
"the VM Guest. The editor that is used defaults to <envar>$EDITOR</envar>. If "
"that variable is not set, <command>vi</command> is used."
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:591
#, no-wrap
msgid "<prompt>tux &gt; </prompt>virsh edit <replaceable>VM_NAME</replaceable>"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:594
msgid ""
"Search for the element <literal>&lt;graphics&gt;</literal> with the "
"attribute <literal>type='vnc'</literal>, for example:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:598
#, no-wrap
msgid "&lt;graphics type='vnc' port='-1' autoport='yes'/&gt;"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:601
msgid ""
"Add the <literal>passwd=<replaceable>PASSWORD</replaceable></literal> "
"attribute, save the file and exit the editor. The maximum length of the "
"password is eight characters."
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:606
#, no-wrap
msgid "&lt;graphics type='vnc' port='-1' autoport='yes' passwd='PASSWORD'/&gt;"
msgstr ""

#. (itstool) path: warning/title
#: xml/libvirt_connect.xml:623
msgid "Security of the VNC Protocol"
msgstr ""

#. (itstool) path: warning/para
#: xml/libvirt_connect.xml:624
msgid ""
"The VNC protocol is not considered to be safe. Although the password is sent "
"encrypted, it might be vulnerable when an attacker can sniff both the "
"encrypted password and the encryption key. Therefore, it is recommended to "
"use VNC with TLS/SSL or tunneled over SSH. <command>virt-viewer</command>, "
"Virtual Machine Manager and Remmina (refer to <xref linkend=\"vnc.remmina\"/"
">) support both methods."
msgstr ""

#. (itstool) path: sect1/title
#: xml/libvirt_connect.xml:637
msgid "Connecting to a VM Host Server"
msgstr ""

#. (itstool) path: sect1/para
#: xml/libvirt_connect.xml:639
msgid ""
"To connect to a hypervisor with <systemitem class=\"library\">libvirt</"
"systemitem>, you need to specify a uniform resource identifier (URI). This "
"URI is needed with <command>virsh</command> and <command>virt-viewer</"
"command> (except when working as <systemitem class=\"username\">root</"
"systemitem> on the VM Host Server) and is optional for the Virtual Machine "
"Manager. Although the latter can be called with a connection parameter (for "
"example, <command>virt-manager -c qemu:///system</command>), it also offers "
"a graphical interface to create connection URIs. See <xref linkend=\"sec."
"libvirt.connect.connecting.vmm\"/> for details."
msgstr ""

#. (itstool) path: sect1/screen
#: xml/libvirt_connect.xml:650
#, no-wrap
msgid "<replaceable>HYPERVISOR</replaceable><co xml:id=\"co.libvirt.connect.hyperv\"/><replaceable>+PROTOCOL</replaceable><co xml:id=\"co.libvirt.connect.protocol\"/>://<replaceable>USER@REMOTE</replaceable><co xml:id=\"co.libvirt.connect.remote\"/>/<replaceable>CONNECTION_TYPE</replaceable><co xml:id=\"co.libvirt.connect.type\"/>"
msgstr ""

#. (itstool) path: callout/para
#: xml/libvirt_connect.xml:654
msgid ""
"Specify the hypervisor. <phrase role=\"productname\"><phrase os=\"osuse"
"\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</"
"phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase></phrase> "
"currently supports the following hypervisors: <option>test</option> (dummy "
"for testing), <option>qemu</option> (KVM), and <option>xen</option> (Xen). "
"This parameter is mandatory."
msgstr ""

#. (itstool) path: callout/para
#: xml/libvirt_connect.xml:662
msgid ""
"When connecting to a remote host, specify the protocol here. It can be one "
"of: <option>ssh</option> (connection via SSH tunnel), <option>tcp</option> "
"(TCP connection with SASL/Kerberos authentication), <option>tls</option> "
"(TLS/SSL encrypted connection with authentication via x509 certificates)."
msgstr ""

#. (itstool) path: callout/para
#: xml/libvirt_connect.xml:671
msgid ""
"When connecting to a remote host, specify the user name and the remote host "
"name. If no user name is specified, the user name that has called the "
"command (<envar>$USER</envar>) is used. See below for more information. For "
"TLS connections, the host name needs to be specified exactly as in the x509 "
"certificate."
msgstr ""

#. (itstool) path: callout/para
#: xml/libvirt_connect.xml:680
msgid ""
"When connecting to the <literal>QEMU/KVM</literal> hypervisor, two "
"connection types are accepted: <option>system</option> for full access "
"rights, or <option>session</option> for restricted access. Since "
"<option>session</option> access is not supported on <phrase role="
"\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles"
"\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux "
"Enterprise Desktop</phrase></phrase>, this documentation focuses on "
"<option>system</option> access."
msgstr ""

#. (itstool) path: variablelist/title
#: xml/libvirt_connect.xml:692
msgid "Example Hypervisor Connection URIs"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:694
msgid "<option>test:///default</option>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:697
msgid "Connect to the local dummy hypervisor. Useful for testing."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:703
msgid "<option>qemu:///system</option> or <option>xen:///system</option>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:706
msgid ""
"Connect to the QEMU/Xen hypervisor on the local host having full access "
"(type system)."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:713
msgid ""
"<option>qemu+ssh://tux@mercury.example.com/system</option> or <option>xen"
"+ssh://tux@mercury.example.com/system</option>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:717
msgid ""
"Connect to the QEMU/Xen hypervisor on the remote host mercury.example.com. "
"The connection is established via an SSH tunnel."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:724
msgid ""
"<option>qemu+tls://saturn.example.com/system</option> or <option>xen+tls://"
"saturn.example.com/system</option>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:727
msgid ""
"Connect to the QEMU/Xen hypervisor on the remote host mercury.example.com. "
"The connection is established using TLS/SSL."
msgstr ""

#. (itstool) path: sect1/para
#: xml/libvirt_connect.xml:735
msgid ""
"For more details and examples, refer to the <systemitem class=\"library"
"\">libvirt</systemitem> documentation at <link xlink:href=\"http://libvirt."
"org/uri.html\"/>."
msgstr ""

#. (itstool) path: note/title
#: xml/libvirt_connect.xml:741
msgid "User Names in URIs"
msgstr ""

#. (itstool) path: note/para
#: xml/libvirt_connect.xml:742
msgid ""
"A user name needs to be specified when using Unix socket authentication "
"(regardless of whether using the user/password authentication scheme or "
"PolKit). This applies to all SSH and local connections."
msgstr ""

#. (itstool) path: note/para
#: xml/libvirt_connect.xml:747
msgid ""
"There is no need to specify a user name when using SASL authentication (for "
"TCP or TLS connections) or when doing no additional server-side "
"authentication for TLS connections. With SASL the user name will not be "
"evaluated—you will be prompted for an SASL user/password combination in any "
"case."
msgstr ""

#. (itstool) path: sect2/title
#: xml/libvirt_connect.xml:767
msgid "<quote>system</quote> Access for Non-Privileged Users"
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:768
msgid ""
"As mentioned above, a connection to the QEMU hypervisor can be established "
"using two different protocols: <literal>session</literal> and "
"<literal>system</literal>. A <quote>session</quote> connection is spawned "
"with the same privileges as the client program. Such a connection is "
"intended for desktop virtualization, since it is restricted (for example no "
"USB/PCI device assignments, no virtual network setup, limited remote access "
"to <systemitem class=\"daemon\">libvirtd</systemitem>)."
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:777
msgid ""
"The <quote>system</quote> connection intended for server virtualization has "
"no functional restrictions but is, by default, only accessible by "
"<systemitem class=\"username\">root</systemitem>. However, with the addition "
"of the DAC (Discretionary Access Control) driver to <systemitem class="
"\"library\">libvirt</systemitem> it is now possible to grant non-privileged "
"users <quote>system</quote> access. To grant <quote>system</quote> access to "
"the user <systemitem class=\"username\">tux</systemitem>, proceed as follows:"
msgstr ""

#. (itstool) path: procedure/title
#: xml/libvirt_connect.xml:787
msgid "Granting <quote>system</quote> Access to a Regular User"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:789
msgid ""
"Enable access via Unix sockets as described in <xref linkend=\"sec.libvirt."
"connect.auth.libvirt.traditional\"/>. In that example access to libvirt is "
"granted to all members of the group <systemitem class=\"groupname\">libvirt</"
"systemitem> and <systemitem class=\"username\">tux</systemitem> made a "
"member of this group. This ensures that <systemitem class=\"username\">tux</"
"systemitem> can connect using <command>virsh</command> or Virtual Machine "
"Manager."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:799
msgid ""
"Edit <filename>/etc/libvirt/qemu.conf</filename> and change the "
"configuration as follows:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:803
#, no-wrap
msgid ""
"user = \"tux\"\n"
"group = \"libvirt\"\n"
"dynamic_ownership = 1"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:806
msgid ""
"This ensures that the VM Guests are started by <systemitem class=\"username"
"\">tux</systemitem> and that resources bound to the guest (for example "
"virtual disks) can be accessed and modified by <systemitem class=\"username"
"\">tux</systemitem>."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:813
msgid ""
"Make <systemitem class=\"username\">tux</systemitem> a member of the group "
"<systemitem class=\"groupname\">kvm</systemitem>:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:817
#, no-wrap
msgid "<prompt>tux &gt; </prompt><command>sudo</command> usermod --append --groups kvm tux"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:818
msgid ""
"This step is needed to grant access to <filename>/dev/kvm</filename>, which "
"is required to start VM Guests."
msgstr ""

#. (itstool) path: sect2/title
#: xml/libvirt_connect.xml:833
msgid "Managing Connections with Virtual Machine Manager"
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:834
msgid ""
"The Virtual Machine Manager uses a <literal>Connection</literal> for every "
"VM Host Server it manages. Each connection contains all VM Guests on the "
"respective host. By default, a connection to the local host is already "
"configured and connected."
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:840
msgid ""
"All configured connections are displayed in the Virtual Machine Manager main "
"window. Active connections are marked with a small triangle, which you can "
"click to fold or unfold the list of VM Guests for this connection."
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:846
msgid ""
"Inactive connections are listed gray and are marked with <literal>Not "
"Connected</literal>. Either double-click or right-click it and choose "
"<guimenu>Connect</guimenu> from the context menu. You can also "
"<guimenu>Delete</guimenu> an existing connection from this menu."
msgstr ""

#. (itstool) path: note/title
#: xml/libvirt_connect.xml:853
msgid "Editing Existing Connections"
msgstr ""

#. (itstool) path: note/para
#: xml/libvirt_connect.xml:854
msgid ""
"It is not possible to edit an existing connection. To change a connection, "
"create a new one with the desired parameters and delete the <quote>old</"
"quote> one."
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:860
msgid ""
"To add a new connection in the Virtual Machine Manager, proceed as follows:"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:865
msgid ""
"Choose <menuchoice> <guimenu>File</guimenu> <guimenu>Add Connection</"
"guimenu> </menuchoice>"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:871
msgid ""
"Choose the host's <guimenu>Hypervisor</guimenu> (<guimenu>Xen</guimenu> or "
"<guimenu>QEMU/KVM</guimenu>)"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:877
msgid ""
"To set up a remote connection, choose <guimenu>Connect to remote host</"
"guimenu>. For more information, see <xref linkend=\"sec.libvirt.connect."
"remote\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:882
msgid ""
"In case of a remote connection, specify the <guimenu>Hostname</guimenu> of "
"the remote machine in the format <literal><replaceable>USERNAME</"
"replaceable>@<replaceable>REMOTE _HOST</replaceable></literal>."
msgstr ""

#. (itstool) path: important/title
#: xml/libvirt_connect.xml:888
msgid "Specifying a User Name"
msgstr ""

#. (itstool) path: important/para
#: xml/libvirt_connect.xml:889
msgid ""
"There is no need to specify a user name for TCP and TLS connections: In "
"these cases, it will not be evaluated. However, in the case of SSH "
"connections, specifying a user name is necessary when you want to connect as "
"a user other than <systemitem class=\"username\">root</systemitem>."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:899
msgid ""
"If you do not want the connection to be automatically started when starting "
"the Virtual Machine Manager, deactivate <guimenu>Autoconnect</guimenu>."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:905
msgid "Finish the configuration by clicking <guimenu>Connect</guimenu>."
msgstr ""

#. (itstool) path: sect1/title
#: xml/libvirt_connect.xml:913
msgid "Configuring Remote Connections"
msgstr ""

#. (itstool) path: sect1/para
#: xml/libvirt_connect.xml:915
msgid ""
"A major benefit of <systemitem class=\"library\">libvirt</systemitem> is the "
"ability to manage VM Guests on different remote hosts from a central "
"location. This section gives detailed instructions on how to configure "
"server and client to allow remote connections."
msgstr ""

#. (itstool) path: sect2/title
#: xml/libvirt_connect.xml:923
msgid ""
"Remote Tunnel over SSH (<literal>qemu+ssh</literal> or <literal>xen+ssh</"
"literal>)"
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:924
msgid ""
"Enabling a remote connection that is tunneled over SSH on the VM Host Server "
"only requires the ability to accept SSH connections. Make sure the SSH "
"daemon is started (<command>systemctl status sshd</command>) and that the "
"ports for service <systemitem class=\"service\">SSH</systemitem> are opened "
"in the firewall."
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:931
msgid ""
"User authentication for SSH connections can be done using traditional file "
"user/group ownership and permissions as described in <xref linkend=\"sec."
"libvirt.connect.auth.libvirt.traditional\"/>. Connecting as user tux "
"(<literal>qemu+ssh://tuxsIVname;/system</literal> or <literal>xen+ssh://"
"tuxsIVname;/system</literal>) works out of the box and does not require "
"additional configuration on the <systemitem class=\"library\">libvirt</"
"systemitem> side."
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:941
msgid ""
"When connecting via SSH <literal>qemu+ssh://<replaceable>USER</"
"replaceable>@<replaceable>SYSTEM</replaceable></literal> or <literal>xen"
"+ssh://<replaceable>USER</replaceable>@<replaceable>SYSTEM</replaceable></"
"literal> you need to provide the password for <replaceable>USER</"
"replaceable>. This can be avoided by copying your public key to "
"<filename>~<replaceable>USER</replaceable>/.ssh/authorized_keys</filename> "
"on the VM Host Server as explained in <xref linkend=\"sec.ssh.authentic."
"key_copy\"/>. Using an ssh-agent on the machine from which you are "
"connecting adds even more convenience. For more information, see <xref "
"linkend=\"sec.ssh.authentic.agent\"/>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/libvirt_connect.xml:958
msgid ""
"Remote TLS/SSL Connection with x509 Certificate (<literal>qemu+tls</literal> "
"or <literal>xen+tls</literal>)"
msgstr ""

#. (itstool) path: sect2/para
#: xml/libvirt_connect.xml:959
msgid ""
"Using TCP connections with TLS/SSL encryption and authentication via x509 "
"certificates is much more complicated to set up than SSH, but it is a lot "
"more scalable. Use this method if you need to manage several VM Host Servers "
"with a varying number of administrators."
msgstr ""

#. (itstool) path: sect3/title
#: xml/libvirt_connect.xml:966
msgid "Basic Concept"
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:967
msgid ""
"TLS (Transport Layer Security) encrypts the communication between two "
"computers by using certificates. The computer starting the connection is "
"always considered the <quote>client</quote>, using a <quote>client "
"certificate</quote>, while the receiving computer is always considered the "
"<quote>server</quote>, using a <quote>server certificate</quote>. This "
"scenario applies, for example, if you manage your VM Host Servers from a "
"central desktop."
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:976
msgid ""
"If connections are initiated from both computers, each needs to have a "
"client <emphasis>and</emphasis> a server certificate. This is the case, for "
"example, if you migrate a VM Guest from one host to another."
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:981
msgid ""
"Each x509 certificate has a matching private key file. Only the combination "
"of certificate and private key file can identify itself correctly. To assure "
"that a certificate was issued by the assumed owner, it is signed and issued "
"by a central certificate called certificate authority (CA). Both the client "
"and the server certificates must be issued by the same CA."
msgstr ""

#. (itstool) path: important/title
#: xml/libvirt_connect.xml:990
msgid "User Authentication"
msgstr ""

#. (itstool) path: important/para
#: xml/libvirt_connect.xml:991
msgid ""
"Using a remote TLS/SSL connection only ensures that two computers are "
"allowed to communicate in a certain direction. Restricting access to certain "
"users can indirectly be achieved on the client side by restricting access to "
"the certificates. For more information, see <xref linkend=\"sec.libvirt."
"connect.remote.tls.security\"/>."
msgstr ""

#. (itstool) path: important/para
#: xml/libvirt_connect.xml:998
msgid ""
"<systemitem class=\"library\">libvirt</systemitem> also supports user "
"authentication on the server with SASL. For more information, see <xref "
"linkend=\"sec.libvirt.connect.remote.tls.sasl\"/>."
msgstr ""

#. (itstool) path: sect3/title
#: xml/libvirt_connect.xml:1006
msgid "Configuring the VM Host Server"
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:1007
msgid ""
"The VM Host Server is the machine receiving connections. Therefore, the "
"<emphasis>server</emphasis> certificates need to be installed. The CA "
"certificate needs to be installed, too. When the certificates are in place, "
"TLS support can be turned on for <systemitem class=\"library\">libvirt</"
"systemitem>."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:1015
msgid ""
"Create the server certificate and export it together with the CA certificate "
"as described in <xref linkend=\"app.kvm.certificates\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:1021
msgid "Create the following directories on the VM Host Server:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:1024 xml/libvirt_connect.xml:1081
#, no-wrap
msgid "<prompt>tux &gt; </prompt><command>sudo</command> mkdir -p /etc/pki/CA/ /etc/pki/libvirt/private/"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:1025 xml/libvirt_connect.xml:1082
msgid "Install the certificates as follows:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:1028
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt><command>sudo</command> /etc/pki/CA/cacert.pem\n"
"<prompt>tux &gt; </prompt><command>sudo</command> /etc/pki/libvirt/servercert.pem\n"
"<prompt>tux &gt; </prompt><command>sudo</command> /etc/pki/libvirt/private/serverkey.pem"
msgstr ""

#. (itstool) path: important/title
#: xml/libvirt_connect.xml:1032 xml/libvirt_connect.xml:1089
#: xml/libvirt_connect.xml:1246
msgid "Restrict Access to Certificates"
msgstr ""

#. (itstool) path: important/para
#: xml/libvirt_connect.xml:1033 xml/libvirt_connect.xml:1090
#: xml/libvirt_connect.xml:1247
msgid ""
"Make sure to restrict access to certificates as explained in <xref linkend="
"\"sec.libvirt.connect.remote.tls.security\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:1040
msgid ""
"Enable TLS support by editing <filename>/etc/libvirt/libvirtd.conf</"
"filename> and setting <literal>listen_tls = 1</literal>. Restart <systemitem "
"class=\"daemon\">libvirtd</systemitem>:"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:1048
msgid ""
"By default, <systemitem class=\"library\">libvirt</systemitem> uses the TCP "
"port 16514 for accepting secure TLS connections. Open this port in the "
"firewall."
msgstr ""

#. (itstool) path: important/title
#: xml/libvirt_connect.xml:1055
msgid ""
"Restarting <systemitem class=\"daemon\">libvirtd</systemitem> with TLS "
"enabled"
msgstr ""

#. (itstool) path: important/para
#: xml/libvirt_connect.xml:1056
msgid ""
"If you enable TLS for <systemitem class=\"library\">libvirt</systemitem>, "
"the server certificates need to be in place, otherwise restarting "
"<systemitem class=\"daemon\">libvirtd</systemitem> will fail. You also need "
"to restart <systemitem class=\"daemon\">libvirtd</systemitem> in case you "
"change the certificates."
msgstr ""

#. (itstool) path: sect3/title
#: xml/libvirt_connect.xml:1064
msgid "Configuring the Client and Testing the Setup"
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:1065
msgid ""
"The client is the machine initiating connections. Therefore the "
"<emphasis>client</emphasis> certificates need to be installed. The CA "
"certificate needs to be installed, too."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:1072
msgid ""
"Create the client certificate and export it together with the CA certificate "
"as described in <xref linkend=\"app.kvm.certificates\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:1078
msgid "Create the following directories on the client:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:1085
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt><command>sudo</command> /etc/pki/CA/cacert.pem\n"
"<prompt>tux &gt; </prompt><command>sudo</command> /etc/pki/libvirt/clientcert.pem\n"
"<prompt>tux &gt; </prompt><command>sudo</command> /etc/pki/libvirt/private/clientkey.pem"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:1097
msgid ""
"Test the client/server setup by issuing the following command. Replace "
"<replaceable>mercury.example.com</replaceable> with the name of your VM Host "
"Server. Specify the same fully qualified host name as used when creating the "
"server certificate."
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:1103
#, no-wrap
msgid ""
"#QEMU/KVM\n"
"virsh -c qemu+tls://<replaceable>mercury.example.com</replaceable>/system list --all\n"
"\n"
"#Xen\n"
"virsh -c xen+tls://<replaceable>mercury.example.com</replaceable>/system list --all"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:1108
msgid ""
"If your setup is correct, you will see a list of all VM Guests registered "
"with <systemitem class=\"library\">libvirt</systemitem> on the VM Host "
"Server."
msgstr ""

#. (itstool) path: sect3/title
#: xml/libvirt_connect.xml:1116
msgid "Enabling VNC for TLS/SSL connections"
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:1117
msgid ""
"Currently, VNC communication over TLS is only supported by a few tools. "
"Common VNC viewers such as <command>tightvnc</command> or <command>tigervnc</"
"command> do not support TLS/SSL. The only supported alternative to Virtual "
"Machine Manager and <command>virt-viewer</command> is <command>remmina</"
"command> (refer to <xref linkend=\"vnc.remmina\"/>)."
msgstr ""

#. (itstool) path: sect4/title
#: xml/libvirt_connect.xml:1125
msgid "VNC over TLS/SSL: VM Host Server Configuration"
msgstr ""

#. (itstool) path: sect4/para
#: xml/libvirt_connect.xml:1126
msgid ""
"To access the graphical console via VNC over TLS/SSL, you need to configure "
"the VM Host Server as follows:"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:1132
msgid ""
"Open ports for the service <systemitem class=\"service\">VNC</systemitem> in "
"your firewall."
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:1138
msgid ""
"Create a directory <filename>/etc/pki/libvirt-vnc</filename> and link the "
"certificates into this directory as follows:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:1142
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt><command>sudo</command> mkdir -p /etc/pki/libvirt-vnc &amp;&amp; cd /etc/pki/libvirt-vnc\n"
"<prompt>tux &gt; </prompt><command>sudo</command> ln -s /etc/pki/CA/cacert.pem ca-cert.pem\n"
"<prompt>tux &gt; </prompt><command>sudo</command> ln -s /etc/pki/libvirt/servercert.pem server-cert.pem\n"
"<prompt>tux &gt; </prompt><command>sudo</command> ln -s /etc/pki/libvirt/private/serverkey.pem server-key.pem"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:1148
msgid ""
"Edit <filename>/etc/libvirt/qemu.conf</filename> and set the following "
"parameters:"
msgstr ""

#. (itstool) path: step/screen
#: xml/libvirt_connect.xml:1152
#, no-wrap
msgid ""
"vnc_listen = \"0.0.0.0\"\n"
"        vnc_tls = 1\n"
"        vnc_tls_x509_verify = 1"
msgstr ""

#. (itstool) path: step/para
#: xml/libvirt_connect.xml:1157
msgid "Restart the <systemitem class=\"daemon\">libvirtd</systemitem>:"
msgstr ""

#. (itstool) path: important/title
#: xml/libvirt_connect.xml:1162
msgid "VM Guests Need to be Restarted"
msgstr ""

#. (itstool) path: important/para
#: xml/libvirt_connect.xml:1163
msgid ""
"The VNC TLS setting is only set when starting a VM Guest. Therefore, you "
"need to restart all machines that have been running prior to making the "
"configuration change."
msgstr ""

#. (itstool) path: sect4/title
#: xml/libvirt_connect.xml:1173
msgid "VNC over TLS/SSL: Client Configuration"
msgstr ""

#. (itstool) path: sect4/para
#: xml/libvirt_connect.xml:1174
msgid ""
"The only action needed on the client side is to place the x509 client "
"certificates in a location recognized by the client of choice. "
"Unfortunately, Virtual Machine Manager and <command>virt-viewer</command> "
"expect the certificates in a different location. Virtual Machine Manager can "
"either read from a system-wide location applying to all users, or from a per-"
"user location. Remmina (refer to <xref linkend=\"vnc.remmina\"/>) asks for "
"the location of certificates when initializing the connection to the remote "
"VNC session."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:1185
msgid ""
"<emphasis role=\"bold\"> Virtual Machine Manager (<command>virt-manager</"
"command>) </emphasis>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:1190
msgid ""
"To connect to the remote host, Virtual Machine Manager requires the setup "
"explained in <xref linkend=\"sec.libvirt.connect.remote.tls.client\"/>. To "
"be able to connect via VNC, the client certificates also need to be placed "
"in the following locations:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:1198
msgid "System-wide location"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/libvirt_connect.xml:1201 xml/libvirt_connect.xml:1214
#: xml/libvirt_connect.xml:1235
msgid "<filename>/etc/pki/CA/cacert.pem</filename>"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/libvirt_connect.xml:1203 xml/libvirt_connect.xml:1237
msgid "<filename>/etc/pki/libvirt-vnc/clientcert.pem</filename>"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/libvirt_connect.xml:1205 xml/libvirt_connect.xml:1239
msgid "<filename>/etc/pki/libvirt-vnc/private/clientkey.pem</filename>"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:1211
msgid "Per-user location"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/libvirt_connect.xml:1216
msgid "<filename>~/.pki/libvirt-vnc/clientcert.pem</filename>"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/libvirt_connect.xml:1218
msgid "<filename>~/.pki/libvirt-vnc/private/clientkey.pem</filename>"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:1227
msgid "<emphasis role=\"bold\"><command>virt-viewer</command></emphasis>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:1230
msgid ""
"<command>virt-viewer</command> only accepts certificates from a system-wide "
"location:"
msgstr ""

#. (itstool) path: sect3/title
#: xml/libvirt_connect.xml:1255
msgid "Restricting Access (Security Considerations)"
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:1256
msgid ""
"Each x509 certificate consists of two pieces: the public certificate and a "
"private key. A client can only authenticate using both pieces. Therefore, "
"any user that has read access to the client certificate and its private key "
"can access your VM Host Server. On the other hand, an arbitrary machine "
"equipped with the full server certificate can pretend to be the VM Host "
"Server. Since this is probably not desirable, access to at least the private "
"key files needs to be restricted as much as possible. The easiest way to "
"control access to a key file is to use access permissions."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:1269
msgid "<emphasis role=\"bold\">Server Certificates</emphasis>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:1272
msgid ""
"Server certificates need to be readable for QEMU processes. On <phrase role="
"\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles"
"\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux "
"Enterprise Desktop</phrase></phrase> QEMU, processes started from "
"<systemitem class=\"library\">libvirt</systemitem> tools are owned by "
"<systemitem class=\"username\">root</systemitem>, so it is sufficient if the "
"<systemitem class=\"username\">root</systemitem> can read the certificates:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/libvirt_connect.xml:1278
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>chmod 700 /etc/pki/libvirt/private/\n"
"<prompt>tux &gt; </prompt>chmod 600 /etc/pki/libvirt/private/serverkey.pem"
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:1280
msgid ""
"If you change the ownership for QEMU processes in <filename>/etc/libvirt/"
"qemu.conf</filename>, you also need to adjust the ownership of the key file."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:1288
msgid "<emphasis role=\"bold\">System Wide Client Certificates</emphasis>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:1291
msgid ""
"To control access to a key file that is available system-wide, restrict read "
"access to a certain group, so that only members of that group can read the "
"key file. In the following example, a group <systemitem class=\"groupname"
"\">libvirt</systemitem> is created, and group ownership of the "
"<filename>clientkey.pem</filename> file and its parent directory is set to "
"<systemitem class=\"groupname\">libvirt</systemitem>. Afterward, the access "
"permissions are restricted to owner and group. Finally the user <systemitem "
"class=\"username\">tux</systemitem> is added to the group <systemitem class="
"\"groupname\">libvirt</systemitem>, and thus can access the key file."
msgstr ""

#. (itstool) path: listitem/screen
#: xml/libvirt_connect.xml:1304
#, no-wrap
msgid ""
"CERTPATH=\"/etc/pki/libvirt/\"\n"
"# create group libvirt\n"
"groupadd libvirt\n"
"# change ownership to user root and group libvirt\n"
"chown root.libvirt $CERTPATH/private $CERTPATH/clientkey.pem\n"
"# restrict permissions\n"
"chmod 750 $CERTPATH/private\n"
"chmod 640 $CERTPATH/private/clientkey.pem\n"
"# add user tux to group libvirt\n"
"usermod --append --groups libvirt tux"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/libvirt_connect.xml:1317
msgid "<emphasis role=\"bold\">Per-User Certificates</emphasis>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/libvirt_connect.xml:1320
msgid ""
"User-specific client certificates for accessing the graphical console of a "
"VM Guest via VNC need to be placed in the user's home directory in "
"<filename>~/.pki</filename>. Contrary to SSH, for example, the VNC viewer "
"using these certificates do not check the access permissions of the private "
"key file. Therefore, it is solely the user's responsibility to make sure the "
"key file is not readable by others."
msgstr ""

#. (itstool) path: sect4/title
#: xml/libvirt_connect.xml:1333
msgid "Restricting Access from the Server Side"
msgstr ""

#. (itstool) path: sect4/para
#: xml/libvirt_connect.xml:1334
msgid ""
"By default, every client that is equipped with appropriate client "
"certificates may connect to a VM Host Server accepting TLS connections. "
"Therefore, it is possible to use additional server-side authentication with "
"SASL as described in <xref linkend=\"sec.libvirt.connect.auth.libvirt.sasl\"/"
">."
msgstr ""

#. (itstool) path: sect4/para
#: xml/libvirt_connect.xml:1341
msgid ""
"It is also possible to restrict access with a whitelist of DNs "
"(distinguished names), so only clients with a certificate matching a DN from "
"the list can connect."
msgstr ""

#. (itstool) path: sect4/para
#: xml/libvirt_connect.xml:1346
msgid ""
"Add a list of allowed DNs to <literal>tls_allowed_dn_list</literal> in "
"<filename>/etc/libvirt/libvirtd.conf</filename>. This list may contain wild "
"cards. Do not specify an empty list, since that would result in refusing all "
"connections."
msgstr ""

#. (itstool) path: sect4/screen
#: xml/libvirt_connect.xml:1352
#, no-wrap
msgid ""
"tls_allowed_dn_list = [\n"
"   \"C=US,L=Provo,O=SUSE Linux Products GmbH,OU=*,CN=venus.example.com,EMAIL=*\",\n"
"   \"C=DE,L=Nuremberg,O=SUSE Linux Products GmbH,OU=Documentation,CN=*\"]"
msgstr ""

#. (itstool) path: sect4/para
#: xml/libvirt_connect.xml:1355
msgid "Get the distinguished name of a certificate with the following command:"
msgstr ""

#. (itstool) path: sect4/screen
#: xml/libvirt_connect.xml:1359
#, no-wrap
msgid "<prompt>tux &gt; </prompt>certtool -i --infile /etc/pki/libvirt/clientcert.pem | grep \"Subject:\""
msgstr ""

#. (itstool) path: sect4/para
#: xml/libvirt_connect.xml:1360
msgid ""
"Restart <systemitem class=\"daemon\">libvirtd</systemitem> after having "
"changed the configuration:"
msgstr ""

#. (itstool) path: sect3/title
#: xml/libvirt_connect.xml:1367
msgid "Central User Authentication with SASL for TLS Sockets"
msgstr ""

#. (itstool) path: sect3/para
#: xml/libvirt_connect.xml:1371
msgid ""
"A direct user authentication via TLS is not possible—this is handled "
"indirectly on each client via the read permissions for the certificates as "
"explained in <xref linkend=\"sec.libvirt.connect.remote.tls.security\"/>. "
"However, if a central, server-based user authentication is needed, "
"<systemitem class=\"library\">libvirt</systemitem> also allows to use SASL "
"(Simple Authentication and Security Layer) on top of TLS for direct user "
"authentication. See <xref linkend=\"sec.libvirt.connect.auth.libvirt.sasl\"/"
"> for configuration details."
msgstr ""

#. (itstool) path: sect3/title
#: xml/libvirt_connect.xml:1384
msgid "Troubleshooting"
msgstr ""

#. (itstool) path: sect4/title
#: xml/libvirt_connect.xml:1387
msgid ""
"Virtual Machine Manager/<command>virsh</command> Cannot Connect to Server"
msgstr ""

#. (itstool) path: sect4/para
#: xml/libvirt_connect.xml:1388
msgid "Check the following in the given order:"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/libvirt_connect.xml:1392
msgid "Is it a firewall issue (TCP port 16514 needs to be open on the server)?"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/libvirt_connect.xml:1394
msgid ""
"Is the client certificate (certificate and key) readable by the user that "
"has started Virtual Machine Manager/<command>virsh</command>?"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/libvirt_connect.xml:1398
msgid ""
"Has the same full qualified host name as in the server certificate been "
"specified with the connection?"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/libvirt_connect.xml:1400
msgid "Is TLS enabled on the server (<literal>listen_tls = 1</literal>)?"
msgstr ""

#. (itstool) path: simplelist/member
#: xml/libvirt_connect.xml:1402
msgid ""
"Has <systemitem class=\"daemon\">libvirtd</systemitem> been restarted on the "
"server?"
msgstr ""

#. (itstool) path: sect4/title
#: xml/libvirt_connect.xml:1407
msgid "VNC Connection fails"
msgstr ""

#. (itstool) path: sect4/para
#: xml/libvirt_connect.xml:1408
msgid ""
"Ensure that you can connect to the remote server using Virtual Machine "
"Manager. If so, check whether the virtual machine on the server has been "
"started with TLS support. The virtual machine's name in the following "
"example is <literal>sles</literal>."
msgstr ""

#. (itstool) path: sect4/screen
#: xml/libvirt_connect.xml:1414
#, no-wrap
msgid "<prompt>tux &gt; </prompt>ps ax | grep qemu | grep \"\\-name sles\" | awk -F\" -vnc \" '{ print FS $2 }'"
msgstr ""

#. (itstool) path: sect4/para
#: xml/libvirt_connect.xml:1415
msgid ""
"If the output does not begin with a string similar to the following, the "
"machine has not been started with TLS support and must be restarted."
msgstr ""

#. (itstool) path: sect4/screen
#: xml/libvirt_connect.xml:1420
#, no-wrap
msgid " -vnc 0.0.0.0:0,tls,x509verify=/etc/pki/libvirt"
msgstr ""
