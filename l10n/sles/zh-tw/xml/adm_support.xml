<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="adm_support.xml" version="5.0" xml:id="cha-adm-support">

 <title>收集系統資訊以供支援所用</title>
 <info>
  <abstract>
   <para>
    為了讓使用者快速綜覽機器的所有相關系統資訊，<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 提供了 <systemitem class="systemname">hostinfo</systemitem> 套件。該套件還可以協助系統管理員檢查污染的 (不受支援的) 核心，或者機器上安裝的任何協力廠商套件。
   </para>

   <para>
    出現問題時，可以使用 <command>supportconfig</command> 指令行工具或 YaST <guimenu>支援</guimenu>模組建立詳細的系統報告。這兩種方法都會收集系統的相關資訊，包括目前的核心版本、硬體、已安裝套件、分割區設定及其他資訊。最後會產生一個包含多個檔案的 TAR 歸檔。在建立服務要求 (SR) 後，您可以將該 TAR 歸檔上傳至全球技術支援。該歸檔有助於找出您所報告的問題，並可以協助您解決問題。
   </para>

   <para>
    此外，您可以分析 <command>supportconfig</command> 輸出來發現已知問題，以協助快速解決問題。為此，<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 提供了一個裝置和一個指令行工具用於進行 <literal>Supportconfig 分析</literal> (SCA)。
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <sect1 xml:id="sec-admsupport-hostinfo">
  <title>顯示目前系統資訊</title>

  <para>
   在登入伺服器時，要想快速方便地綜覽所有相關系統資訊，請使用套件 <systemitem class="systemname">hostinfo</systemitem>。機器上安裝該套件後，控制台將會向登入此機器的任何 <systemitem class="username">root</systemitem> 使用者顯示以下資訊：
  </para>

  <example xml:id="ex-support-hostinfo">
   <title>以 <systemitem class="username">root</systemitem> 身分登入時的 <command>hostinfo</command> 輸出</title>
<screen>Welcome to SUSE Linux Enterprise Server 15 SP2 Snapshot8 (x86_64) - Kernel \r (\l).


Distribution:             SUSE Linux Enterprise Server 15 SP2
Current As Of:            Wed 25 Mar 2020 12:09:20 PM PDT
Hostname:                 localhost
Kernel Version:           5.3.18-8-default
 Architecture:            x86_64
 Installed:               Thu 19 Mar 2020 11:25:13 AM PDT
 Status:                  Not Tainted
Last Installed Package:   Wed 25 Mar 2020 11:42:24 AM PDT
 Patches Needed:          0
 Security:                0
 3rd Party Packages:      219
Network Interfaces
 eth0:                    192.168.2/24 2002:c0a8:20a::/64
Memory
 Total/Free/Avail:        7.4Gi/6.4Gi/6.8Gi (91% Avail)
CPU Load Average:         7 (3%) with 2 CPUs
</screen>
  </example>

  <para>
   如果輸出顯示 <literal>tainted</literal> 核心狀態，請參閱<xref linkend="sec-admsupport-kernel"/>以瞭解更多詳細資料。
  </para>
 </sect1>
 <sect1 xml:id="sec-admsupport-supportconfig">
  <title>使用 Supportconfig 收集系統資訊</title>
  <para>
   若要建立包含詳細系統資訊的 TAR 歸檔，以提交給全球技術支援，請使用：
  </para>
  <itemizedlist>
   <listitem>
    <para><command>supportconfig</command> 指令，或者 </para>
   </listitem>
   <listitem>
    <para>YaST <guimenu>支援</guimenu>模組。</para>
   </listitem>
  </itemizedlist>
  <para>
   該指令行工具由預設安裝的套件 <systemitem>supportutils</systemitem> 提供。YaST <guimenu>支援</guimenu>模組也以該指令行工具為基礎。
  </para>
  <para>
   系統上的一些套件整合了 Supportconfig 外掛程式，具體視系統上安裝的套件而定。執行 Supportconfig 時，還會執行所有外掛程式，並建立該歸檔的一或多個結果檔案。這樣做的好處是只檢查包含特定外掛程式的主題。Supportconfig 外掛程式儲存在 <filename>/usr/lib/supportconfig/plugins/</filename> 目錄中。
  </para>

  <sect2 xml:id="sec-admsupport-supportconfig-sr">
   <title>建立服務要求號碼</title>
   <para>
    系統隨時都可以產生 Supportconfig 歸檔。但是，要將 Supportconfig 資料提交給全球技術支援，首先需要產生一個服務要求號碼。上傳歸檔以獲得支援時，您需要使用此號碼。
   </para>
   <para>
    若要建立服務要求，請造訪 <link xlink:href="https://scc.suse.com/support/requests"/> 並依照螢幕上的指示執行操作。記下服務要求號碼。
   </para>
   <note>
    <title>隱私權聲明</title>
    <para>
     SUSE 將系統報告視為機密資料。關於我們在隱私方面所做承諾的詳細資訊，請參閱 <link xlink:href="https://www.suse.com/company/policies/privacy/"/>。
    </para>
   </note>
  </sect2>

  <sect2 xml:id="sec-admsupport-supportconfig-upload">
   <title>上傳目標</title>
   <para>
    建立服務要求號碼後，可以依照<xref linkend="pro-admsupport-submit-yast"/>或<xref linkend="pro-admsupport-submit-cli"/>中所述將 Supportconfig 歸檔上傳到全球技術支援網站。使用下列上傳目標之一：
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
     
      北美：FTP <link xlink:href="ftp://support-ftp.us.suse.com/incoming/"/>、FTPS <link xlink:href="ftps://support-ftp.us.suse.com/incoming/"/>
     </para>
    </listitem>
    <listitem>
     <para>
      EMEA (歐洲、中東和非洲)：FTP <link xlink:href="ftp://support-ftp.emea.suse.com/incoming"/>、FTPS <link xlink:href="ftps://support-ftp.emea.suse.com/incoming"/>
     </para>
    </listitem>
   </itemizedlist>
   <para>
    或者，可以使用以下服務要求 URL 手動將該 TAR 歸檔附加到您的服務要求：<link xlink:href="https://scc.suse.com/support/requests"/>。
   </para>
  </sect2>

  <sect2 xml:id="sec-admsupport-yast">
   <title>使用 YaST 建立 supportconfig 歸檔</title>
   <para>
    若要使用 YaST 收集系統資訊，請執行以下步驟：
    <remark>2008-11-20 toms: YaST asks the user to open a URL as
     root(!). This happens when the users clicks on "Open" (Open
     Support Center/ This will start a browser with
     Support Center Portal). I do not think we should describe this
     and only *use* the above URL as a normal user for security
     reasons.</remark>
   </para>
   <procedure>
    <step>
     <para>
      啟動 YaST 並開啟<guimenu>支援</guimenu>模組。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="yast2_support_main.png" width="70%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="yast2_support_main.png" width="60%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      按一下<guimenu>建立報告 Tar 聚合檔</guimenu>。
     </para>
    </step>
    <step>
     <para>
      在隨後出現的視窗中，從選項圓鈕清單中選取一個 Supportconfig 選項。依預設，系統會預先選取<guimenu>使用自訂 (進階) 設定</guimenu>。如果要先測試報告功能，請使用<guimenu>僅收集最少量的資訊</guimenu>。如需其他選項的更多資訊，請參閱 <command>supportconfig</command> 的 man 頁面。
     </para>
     <para>
      按<guimenu>下一步</guimenu>。
     </para>
    </step>
    <step xml:id="st-supportconfig-contact">
     <para>
      輸入您的聯絡人資訊。此資訊將儲存在 <filename>basic-environment.txt</filename> 檔案中，並會包含在建立的歸檔中。
     </para>
    </step>
    <step xml:id="st-supportconfig-upload-target">
     <para>
      若要將歸檔提交到全球技術支援，請提供所需的<guimenu>上載資訊</guimenu>。YaST 會自動推薦一個上載伺服器。若要修改該伺服器，請參閱<xref linkend="sec-admsupport-supportconfig-upload"/>，以詳細瞭解可以使用哪些上載伺服器。
     </para>
     <para>
      若要日後再提交歸檔，請將<guimenu>上載資訊</guimenu>保留空白。
     </para>
    </step>
    <step>
     <para>
      按<guimenu>下一步</guimenu>以啟動資訊收集程序。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="yast2_support_conf.png" width="90%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="yast2_support_conf.png" width="80%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
     <para>
      完成該程序後，按<guimenu>下一步</guimenu>。
     </para>
    </step>
    <step>
     <para>
      若要檢視已收集的資料，請從<guimenu>檔案名稱</guimenu>中選取所需的檔案，以在 YaST 中檢視其內容。在將 TAR 歸檔提交到支援部門之前，若要移除該歸檔中的某個檔案，請使用<guimenu>從資料移除</guimenu>。按<guimenu>下一步</guimenu>。
     </para>
    </step>
    <step>
     <para>
      儲存該 TAR 歸檔。如果您以 <systemitem class="username">root</systemitem> 使用者身分啟動了 YaST 模組，則 YaST 會提示您將該歸檔儲存到 <filename>/var/log</filename> (否則將儲存到您的主目錄)。檔案名稱格式為 <filename>scc_<replaceable>HOST</replaceable>_<replaceable>DATE</replaceable>_<replaceable>TIME</replaceable>.tbz</filename>。
     </para>
    </step>
    <step>
     <para>
      如果要直接將該歸檔上載到支援部門，請務必啟用<guimenu>將記錄檔案 Tar 聚合檔上載到 URL</guimenu>。這裡顯示的<guimenu>上載目標</guimenu>是<xref linkend="st-supportconfig-upload-target"/> 中 YaST 建議的上載目標。若要修改上載目標，請在<xref linkend="sec-admsupport-supportconfig-upload"/>中查看有哪些可用的上載伺服器。
     </para>
    </step>
    <step>
     <para>
      如果要跳過上載步驟，請停用<guimenu>將記錄檔案 Tar 聚合檔上載到 URL</guimenu>。
     </para>
    </step>
    <step>
     <para>
      確認變更以關閉 YaST 模組。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-admsupport-cli">
   <title>從指令行建立 supportconfig 歸檔</title>
   <para>
    下面的程序顯示如何建立 Supportconfig 歸檔，但不將它直接提交給支援人員。要上傳該歸檔，需要依照<xref linkend="pro-admsupport-submit-cli"/>中所述，結合某些選項執行指令。
   </para>
   <procedure>
    <step>
     <para>
      開啟外圍程序，切換為 <systemitem class="username">root</systemitem> 身分。
     </para>
    </step>
    <step>
     <para>
      執行 <command>supportconfig</command>。一般而言，不帶任何選項執行此工具就足以符合需要。下面的清單中顯示了一些十分常用的選項：
     </para>
     <variablelist>
      <varlistentry>
       <term><option>-E <replaceable>MAIL</replaceable></option></term>
       <term><option>-N <replaceable>NAME</replaceable></option></term>
       <term><option>-O <replaceable>COMPANY</replaceable></option></term>
       <term><option>-P <replaceable>PHONE</replaceable></option></term>
       <listitem>
        <para>
         設定您的聯絡資料：電子郵件地址 (<option>-E</option>)、公司名稱 (<option>-O</option>)、您的姓名 (<option>-N</option>) 和電話號碼 (<option>-P</option>)。
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term><option>-i <replaceable>KEYWORDS</replaceable></option></term>
       <term><option>-F</option></term>
       <listitem>
        <para>
         限制檢查的功能。<replaceable>KEYWORDS</replaceable> 預留位置是區分大小寫的關鍵字清單 (以逗號分隔)。使用 <command>supportconfig -F</command> 可獲得所有關鍵字清單。
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term><option>-r <replaceable>SRNUMBER</replaceable></option></term>
       <listitem>
        <para>
         定義上傳產生的 TAR 歸檔時所用的服務要求號碼。
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
    </step>
    <step>
     <para>
      等待工具完成操作。
     </para>
    </step>
    <step>
     <para>
      預設的歸檔位置為 <filename>/var/log</filename>，檔案名稱格式為 <filename>scc_<replaceable>HOST</replaceable>_<replaceable>DATE</replaceable>_<replaceable>TIME</replaceable>.tbz</filename>
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-admsupport-supportconfig-log">
   <title>瞭解 <command>supportconfig</command> 的輸出</title>
   <para>
    無論您是透過 YaST 還是直接執行 <command>supportconfig</command>，該程序檔都會顯示其所執行操作的摘要。
   </para>
   <screen>                     Support Utilities - Supportconfig
                          Script Version: 3.0-98 
                          Script Date: 2017 06 01
[...]
Gathering system information
  Data Directory:    /var/log/scc_d251_180201_1525 <co xml:id="co-admsupport-script-datadir"/>

  Basic Server Health Check...                 Done <co xml:id="co-admsupport-script-done"/>
  RPM Database...                              Done <xref linkend="co-admsupport-script-done"/>
  Basic Environment...                         Done <xref linkend="co-admsupport-script-done"/>
  System Modules...                            Done <xref linkend="co-admsupport-script-done"/>
[...]
  File System List...                          Skipped <co xml:id="co-admsupport-script-skipped"/>
[...]
  Command History...                           Excluded <co xml:id="co-admsupport-script-excluded"/>
[...]
  Supportconfig Plugins:                       1 <co xml:id="co-admsupport-script-plugin"/>
    Plugin: pstree...                          Done
[...]
Creating Tar Ball

==[ DONE ]===================================================================
  Log file tar ball: /var/log/scc_d251_180201_1525.txz <co xml:id="co-admsupport-script-archive"/>
  Log file size:     732K
  Log file md5sum:   bf23e0e15e9382c49f92cbce46000d8b
=============================================================================</screen>
   <calloutlist>
    
    <callout arearefs="co-admsupport-script-datadir">
     <para>
      用於儲存結果的暫存資料目錄。系統會將此目錄歸檔為 tar 檔案，請參閱<xref linkend="co-admsupport-script-archive"/>。
     </para>
    </callout>
    <callout arearefs="co-admsupport-script-done">
     <para>
      已成功啟用 (預設或手動選取) 並執行該功能。結果儲存在檔案中 (請參閱<xref linkend="tab-admsupport-features-and-filenames"/>)。
     </para>
    </callout>
    <callout arearefs="co-admsupport-script-skipped">
     <para>
      已跳過該功能，因為一或多個 RPM 套件的部分檔案有變更。
     </para>
    </callout>
    <callout arearefs="co-admsupport-script-excluded">
     <para>
      已排除該功能，因為已透過 <option>-x</option> 選項將其取消選取。
     </para>
    </callout>
    <callout arearefs="co-admsupport-script-plugin">
     <para>
      程序檔找到了一個外掛程式，並執行該外掛程式 <command>pstree</command>。該外掛程式位於 <filename class="directory">/usr/lib/supportconfig/plugins/</filename> 目錄中。如需詳細資料，請參閱 man 頁面。
     </para>
    </callout>
    <callout arearefs="co-admsupport-script-archive">
     <para>
      歸檔的 Tar 檔案名稱，預設使用 <command>xz</command> 壓縮。
     </para>
    </callout>
   </calloutlist>
  </sect2>

  <sect2 xml:id="sec-admsupport-options">
   <title>常用的 supportconfig 選項</title>
   <para>
    呼叫 <command>supportconfig</command> 公用程式時通常不會顯示任何選項。請使用 <command>supportconfig</command> <option> -h</option> 顯示所有選項的清單，或參閱 man 頁面。下面的清單簡要概述了一些常見的使用案例：
   </para>
   <variablelist>
    <varlistentry>
     <term>減少所收集資訊的大小</term>
     <listitem>
      <para>
       使用最少量選項 (<option>-m</option>)：
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> supportconfig -m</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>將資訊限制為特定的主題</term>
     <listitem>
      <para>
       如果已確定問題所在，並發現該問題僅與特定的區域或功能集相關，您在下次執行 <command>supportconfig</command> 時，應限制針對特定的區域收集資訊。例如，如果您偵測到 LVM 出現問題，並想要測試最近對 LVM 組態所做的變更。此時，合適的做法是僅收集有關 LVM 的最少量 Supportconfig 資訊：
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> supportconfig -i LVM</screen>
      <para>
       可透過逗號分隔額外的關鍵字。例如，額外的磁碟測試：
      </para>
      <screen><prompt>&gt; </prompt><command>sudo</command> supportconfig -i LVM,DISK</screen>
      <para>
       要查看可用來將收集之資訊限制為特定區域的功能關鍵字的完整清單，請執行：
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> supportconfig -F</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>在輸出中包含其他聯絡資訊：</term>
     <listitem>
<screen><prompt>&gt; </prompt><command>sudo</command> supportconfig -E tux@example.org -N "Tux Penguin" -O "Penguin Inc." ...</screen>
      <para>
       (在一行中輸入所有指令)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>收集已輪替的記錄檔案</term>
     <listitem>
<screen><prompt>&gt; </prompt><command>sudo</command> supportconfig -l</screen>
      <para>
       這對記錄量較大的環境，或在重新開機後 syslog 輪替記錄檔案時核心發生當機的情況特別實用。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
  <sect2 xml:id="sec-admsupport-log">
   <title>歸檔內容綜覽</title>
   <para>
    TAR 歸檔包含各功能的所有結果。根據所選的內容 (所有功能或只有一小部分功能) 而定，歸檔包含的檔案可能有多有少。您可透過 <option>-i</option> 選項來限制功能集 (請參閱<xref linkend="sec-admsupport-options"/>)。
   </para>
   <para>
    若要列出歸檔的內容，請使用以下 <command>tar</command> 指令：
   </para>
   <screen><prompt role="root"># </prompt><command>tar</command> xf /var/log/scc_earth_180131_1545.tbz</screen>
   <para>
    TAR 歸檔中永遠包含以下檔案名稱：
   </para>
   <variablelist>
    <title>歸檔中一定會包含的檔案</title>
    <varlistentry>
     <term><filename>basic-environment.txt</filename></term>
     <listitem>
      <para>包含執行此程序檔的日期和系統資訊 (如套裝作業系統版本)、監管程式資訊等。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><filename>basic-health-check.txt</filename></term>
     <listitem>
      <para>
       包含一些基本的狀態檢查，如運作時間、虛擬記憶體統計資料、可用記憶體和硬碟、殭屍程序檢查等。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><filename>hardware.txt</filename></term>
     <listitem>
      <para>
       包含基本硬體檢查 (如有關 CPU 架構的資訊)、所有已連接硬體的清單、中斷、I/O 連接埠、核心開機訊息等。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><filename>messages.txt</filename></term>
     <listitem>
      <para>
       包含系統日誌中的記錄訊息。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><filename>rpm.txt</filename></term>
     <listitem>
      <para>包含所有已安裝的 RPM 套件、名稱、來源及其版本的清單。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><filename>summary.xml</filename></term>
     <listitem>
      <para>包含 XML 格式的一些資訊，如套裝作業系統、版本和產品特定的片段。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><filename>supportconfig.txt</filename></term>
     <listitem>
      <para>
       包含有關 <command>supportconfig</command> 程序檔自身的資訊。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><filename>y2log.txt</filename></term>
     <listitem>
      <para>
       包含 YaST 特定的資訊，如特定的套件、組態檔案和記錄檔案。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    <xref linkend="tab-admsupport-features-and-filenames"/>列出了所有可用的功能及其檔案名稱。後續的 Service Pack 或外掛程式將會補充到清單中。
   </para>
   <table xml:id="tab-admsupport-features-and-filenames">
    <title>TAR 歸檔中的功能和檔案名稱對照</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>特性</entry>
       <entry>檔案名稱</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry><parameter>APPARMOR</parameter></entry>
       <entry><filename>security-apparmor.txt</filename></entry>
      </row>
      <row>
       <entry><parameter>AUDIT</parameter></entry>
       <entry><filename>security-audit.txt</filename></entry>
      </row>
      <row>
       <entry><parameter>AUTOFS</parameter></entry>
       <entry><filename>fs-autofs.txt</filename></entry>
      </row>
      <row>
       <entry><parameter>BOOT</parameter></entry>
       <entry><filename>boot.txt</filename></entry>
      </row>
      <row>
       <entry><parameter>BTRFS</parameter></entry>
       <entry><filename>fs-btrfs.txt</filename></entry>
      </row>
      <row>
       <entry><parameter>DAEMONS</parameter></entry>
       <entry><filename>systemd.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>CIMOM</parameter></entry>
         <entry><filename>cimom.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>CRASH</parameter></entry>
         <entry><filename>crash.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>CRON</parameter></entry>
         <entry><filename>cron.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>DHCP</parameter></entry>
         <entry><filename>dhcp.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>DISK</parameter></entry>
         <entry><filename>fs-diskio.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>DNS</parameter></entry>
         <entry><filename>dns.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>DOCKER</parameter></entry>
         <entry><filename>docker.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>DRBD</parameter></entry>
         <entry><filename>drbd.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>ENV</parameter></entry>
         <entry><filename>env.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>ETC</parameter></entry>
         <entry><filename>etctxt</filename></entry>
      </row>
      <row>
         <entry><parameter>HA</parameter></entry>
         <entry><filename>ha.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>HAPROXY</parameter></entry>
         <entry><filename>haproxy.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>HISTORY</parameter></entry>
         <entry><filename>shell_history.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>IB</parameter></entry>
         <entry><filename>ib.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>IMAN</parameter></entry>
         <entry><filename>novell-iman.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>ISCSI</parameter></entry>
         <entry><filename>fs-iscsi.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>LDAP</parameter></entry>
         <entry><filename>ldap.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>LIVEPATCH</parameter></entry>
         <entry><filename>kernel-livepatch.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>LVM</parameter></entry>
         <entry><filename>lvm.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>MEM</parameter></entry>
         <entry><filename>memory.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>MOD</parameter></entry>
         <entry><filename>modules.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>MPIO</parameter></entry>
         <entry><filename>mpio.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>NET</parameter></entry>
         <entry><filename>network-*.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>NFS</parameter></entry>
         <entry><filename>nfs.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>NTP</parameter></entry>
         <entry><filename>ntp.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>NVME</parameter></entry>
         <entry><filename>nvme.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>OCFS2</parameter></entry>
         <entry><filename>ocfs2.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>OFILES</parameter></entry>
         <entry><filename>open-files.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>PRINT</parameter></entry>
         <entry><filename>print.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>PROC</parameter></entry>
         <entry><filename>proc.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>SAR</parameter></entry>
         <entry><filename>sar.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>SLERT</parameter></entry>
         <entry><filename>slert.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>SLP</parameter></entry>
         <entry><filename>slp.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>SMT</parameter></entry>
         <entry><filename>smt.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>SMART</parameter></entry>
         <entry><filename>fs-smartmon.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>SMB</parameter></entry>
         <entry><filename>samba.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>SRAID</parameter></entry>
         <entry><filename>fs-softraid.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>SSH</parameter></entry>
         <entry><filename>ssh.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>SSSD</parameter></entry>
         <entry><filename>sssd.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>SYSCONFIG</parameter></entry>
         <entry><filename>sysconfig.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>SYSFS</parameter></entry>
         <entry><filename>sysfs.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>TRANSACTIONAL</parameter></entry>
         <entry><filename>transactional-update.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>TUNED</parameter></entry>
         <entry><filename>tuned.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>UDEV</parameter></entry>
         <entry><filename>udev.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>UFILES</parameter></entry>
         <entry><filename>fs-files-additional.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>UP</parameter></entry>
         <entry><filename>updates.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>WEB</parameter></entry>
         <entry><filename>web.txt</filename></entry>
      </row>
      <row>
         <entry><parameter>X</parameter></entry>
         <entry><filename>x.txt</filename></entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  <remark>toms 2018-04-05: Make the table be aware of what packages brings
     what plugin?</remark>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-admsupport-submit">
  <title>將資訊提交至全球技術支援部門</title>

  <para>
   可以使用 YaST <guimenu>支援</guimenu>模組或 <command>supportconfig</command> 指令行公用程式向全球技術支援提交系統資訊。如果您遇到伺服器問題，想要獲得支援人員的協助，則首先需要建立一個服務要求。如需詳細資料，請參閱<xref linkend="sec-admsupport-supportconfig-sr"/>。
  </para>

  <para>
   以下範例使用 <replaceable>12345678901</replaceable> 做為服務要求號碼的預留位置。請以您在<xref linkend="sec-admsupport-supportconfig-sr"/>中建立的服務要求號碼取代 <replaceable>12345678901</replaceable>。
  </para>

  <procedure xml:id="pro-admsupport-submit-yast">
   <title>使用 YaST 向支援部門提交資訊</title>
   <para>
    下面的程序假設您已建立某個 Supportconfig 歸檔，但尚未將其上傳。請確定已按<xref linkend="sec-admsupport-yast"/>中<xref linkend="st-supportconfig-contact" xrefstyle="select:label nopage"/>所述，在歸檔中包含了您的聯絡資訊。如需如何透過一個步驟產生並提交 Supportconfig 歸檔的說明，請參閱<xref linkend="sec-admsupport-yast"/>。
   </para>
   <step>
    <para>
     啟動 YaST 並開啟<guimenu>支援</guimenu>模組。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>上傳</guimenu>。
    </para>
   </step>
   <step>
    <para>
     在<guimenu>含記錄檔案的套件</guimenu>中，指定現有 Supportconfig 歸檔的路徑，或者按一下<guimenu>瀏覽</guimenu>找到該歸檔。
    </para>
   </step>
   <step xml:id="st-supportcfg-submit-upltarget">
    <para>
     YaST 會自動推薦一個上傳伺服器。如果要修改該伺服器，請參閱<xref linkend="sec-admsupport-supportconfig-upload"/>，以詳細瞭解可以使用哪些上傳伺服器。
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="yast2_support_conf_upload.png" width="70%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="yast2_support_conf_upload.png" width="60%"/>
      </imageobject>
     </mediaobject>
    </informalfigure>
    <para>
     <remark>taroth 2014-04-11: this does not make sense to me - why does the
      YaST module *not* ask for the SR number now? and lets you continue after
      specifying an upload target (but no RC or customer info)? I would
      expect it to *check* if an SR has been entered and otherwise show an error
      message - filed http://bugzilla.suse.com/show_bug.cgi?id=880943 for this, unfortunately it
      was rejected for technical reasons</remark>
     按<guimenu>繼續</guimenu>以繼續。
    </para>
   </step>
   <step>
    <para>
     按一下 <guimenu>Finish</guimenu> (完成)。
    </para>
   </step>
  </procedure>

  <procedure xml:id="pro-admsupport-submit-cli">
   <title>從指令行向支援部門提交資訊</title>
   <para>
    下面的程序假設您已建立某個 Supportconfig 歸檔，但尚未將其上傳。如需如何透過一個步驟產生並提交 Supportconfig 歸檔的說明，請參閱<xref linkend="sec-admsupport-yast"/>。
   </para>
   <step>
    <para>
     伺服器連接至網際網路：
    </para>
    <substeps performance="required">
     <step>
      <para>
       要使用預設上載目標，請執行：
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> supportconfig -ur <replaceable>12345678901</replaceable></screen>
     </step>
     <step>
      <para>
       對於安全上傳目標，請使用以下指令：
      </para>

<screen><prompt>&gt; </prompt><command>sudo</command> supportconfig -ar <replaceable>12345678901</replaceable></screen>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     伺服器<emphasis>未</emphasis>連接至網際網路
    </para>
    <substeps performance="required">
     <step>
      <para>
       執行以下指令：
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> supportconfig -r <replaceable>12345678901</replaceable></screen>
     </step>
     <step>
      <para>
       將 <filename>/var/log/scc_<replaceable>SR12345678901</replaceable>*tbz</filename> 歸檔，並手動上載到我們的 FTP 伺服器之一。要使用哪個伺服器取決於您所在的位置。如需綜覽，請參閱<xref linkend="sec-admsupport-supportconfig-upload"/>。
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     TAR 歸檔傳輸到我們 FTP 伺服器的內送目錄後，會自動附加到您的服務要求中。
    </para>
   </step>
  </procedure>
 </sect1>

 <sect1 xml:id="sec-admsupport-sca">
  <title>分析系統資訊</title>

  <para>
   您可以分析使用 <command>supportconfig</command> 建立的系統報告來發現已知問題，以幫助快速解決問題。為此，<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 提供了一個裝置和一個指令行工具用於進行 <literal>Supportconfig 分析</literal> (SCA)。SCA 裝置是一個非互動式伺服器端工具。SCA 工具 (<package>sca-server-report</package> 套件提供的 <command>scatool</command>) 在用戶端執行，並從指令行執行。這兩個工具都能分析來自受影響伺服器的 Supportconfig 歸檔。初始伺服器分析在 SCA 裝置或執行 <command>scatool</command> 的工作站上進行。線上伺服器上不會發生任何分析週期。
  </para>

  <para>
   此外，該裝置和指令行工具還需要產品特定的模式，這樣它們才能分析關聯產品的 Supportconfig 輸出。每個模式就是一個程序檔，用於針對某個已知問題分析和評估 Supportconfig 歸檔。模式以 RPM 套件的形式提供。
  </para>

  <para>
   您也可以依照<xref linkend="sec-admsupport-sca-patterns"/>中的簡要描述開發自己的模式。
  </para>

  <sect2 xml:id="sec-admsupport-sca-tool">
   <title>SCA 指令行工具</title>
   <para>
    SCA 指令行工具讓您既可使用 <command>supportconfig</command>，又可使用本地機器上安裝的特定產品的分析模式來分析該機器。該工具將建立一份顯示分析結果的 HTML 報告。如需取得範例說明，請參閱<xref linkend="fig-scatool-html"/>。
   </para>
   <figure xml:id="fig-scatool-html">
    <title>SCA 工具產生的 HTML 報告</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="sca_tool_report_html.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="sca_tool_report_html.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    <command>scatool</command> 指令由 <package>sca-server-report</package> 套件提供。系統上預設不會安裝該套件。此外，您還需要 <package>sca-patterns-base</package> 套件，以及符合以下條件的任何產品特定的 <package>sca-patterns-*</package> 套件：與您想要在其上執行 <command>scatool</command> 指令的機器上安裝的產品相符。
   </para>
   <para>
    以 <systemitem class="username">root</systemitem> 使用者身分或者結合 <command>sudo</command> 執行 <command>scatool</command> 指令。在呼叫 SCA 工具時，可以分析現有的 <command>supportconfig</command> TAR 歸檔，或者透過一步即讓該工具產生並分析新的歸檔。該工具還提供具有 Tab 補齊功能的互動式主控台。您可以在外部機器上執行 <command>supportconfig</command>，並在本地機器上執行後續分析。
   </para>
   <para>
    下面提供了一些範例指令：
   </para>
   <variablelist>
    <varlistentry>
     <term><command>sudo scatool </command><option>-s</option>
     </term>
     <listitem>
      <para>
       呼叫 <command>supportconfig</command>，並在本地機器上產生新的 Supportconfig 歸檔。透過套用與所安裝產品相符的 SCA 分析模式來分析歸檔，以發現已知問題。顯示基於分析結果產生之 HTML 報告的路徑。通常，該報告會寫入到 Supportconfig 歸檔所在的同一目錄中。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>sudo scatool </command><option>-s</option> <option>-o</option> <replaceable>/opt/sca/reports/</replaceable> 
     </term>
     <listitem>
      <para>
       與 <command>sudo scatool </command> <option>-s</option> 類似，唯一的差別在於，HTML 報告會寫入 <option>-o</option> 選項指定的路徑。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>sudo scatool </command><option>-a</option> <replaceable>PATH_TO_TARBALL_OR_DIR</replaceable> 
     </term>
     <listitem>
      <para>
       分析指定的 Supportconfig 歸檔檔案 (或者指定用於存放解壓縮 Supportconfig 歸檔的目錄)。產生的 HTML 報告儲存在 Supportconfig 歸檔或目錄所在的位置。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>sudo scatool </command><option>-a</option> <replaceable>SLES_SERVER.COMPANY.COM</replaceable> 
     </term>
     <listitem>
      <para>
       與外部伺服器 <replaceable>SLES_SERVER.COMPANY.COM</replaceable> 建立 SSH 連接，並在該伺服器上執行 <command>supportconfig</command>。系統隨後將 Supportconfig 歸檔複製回本地機器，並在該處進行分析。產生的 HTML 報告儲存在預設的 <filename>/var/log</filename> 目錄中。(<replaceable>SLES_SERVER.COMPANY.COM</replaceable> 上只建立 Supportconfig 歸檔)。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>sudo scatool </command><option>-c</option>
     </term>
     <listitem>
      <para>
       啟動 <command>scatool</command> 的互動式控制台。按 <keycap function="tab"/> 兩次可查看可用指令。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    關於其他選項和資訊，請執行 <command>sudo scatool -h</command> 或參閱 <command>scatool</command> 的 man 頁面。
   </para>
  </sect2>

  <sect2 xml:id="sec-admsupport-sca-appliance">
   <title>SCA 裝置</title>
   <para>
    如果您決定使用 SCA 裝置來分析 Supportconfig 歸檔，請設定一部伺服器 (或虛擬機器) 做為專屬的 SCA 裝置伺服器。然後，可以使用該 SCA 裝置伺服器，對企業中執行 SUSE Linux Enterprise Server 或 SUSE Linux Enterprise Desktop 的所有機器上的 Supportconfig 歸檔進行分析。您只需將 Supportconfig 歸檔上傳到裝置伺服器，等待它執行分析。此程序無需任何互動。在 MariaDB 資料庫中，SCA 裝置會追蹤已分析的所有 Supportconfig 歸檔。您可以直接從裝置 Web 介面閱讀 SCA 報告。或者，可以讓裝置透過電子郵件將 HTML 報告傳送給任何管理使用者。如需詳細資料，請參閱<xref linkend="sec-admsupport-sca-appliance-config-mail"/>。
   </para>
   <sect3 xml:id="sec-admsupport-sca-appliance-installquick">
    <title>安裝快速入門</title>
    <para>
     若要透過指令行快速安裝和設定 SCA 裝置，請依照此處的指示操作。該程序適用於進階使用者，並主要針對純安裝與指令的設定。如需詳細資訊，請參閱<xref linkend="sec-admsupport-sca-appliance-pre"/>到<xref linkend="sec-admsupport-sca-appliance-install"/>中的詳細描述。
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <title>先決條件</title>
     <listitem>
      <para>
       Web 與 LAMP 模式
      </para>
     </listitem>
     <listitem>
      <para>
       Web 與程序檔模組 (您必須註冊機器才能選取此模組)。
      </para>
     </listitem>
    </itemizedlist>
    <note>
     <title>需要 <systemitem class="username">root</systemitem> 權限</title>
     <para>
      以下程序中的所有指令必須以 <systemitem class="username">root</systemitem> 身分執行。
     </para>
    </note>
    <procedure>
     <title>使用匿名 FTP 進行上傳的安裝</title>
     <para>
      設定並執行裝置後，將不再需要人工互動。因此，對於透過 cron 工作建立和上傳 Supportconfig 歸檔的情形，非常適合使用這種方法來設定裝置。
     </para>
     <step>
      <para>
       在要安裝裝置的機器上，登入主控台並執行以下指令 (確定接受推薦的套件)：
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install sca-appliance-* sca-patterns-* \
vsftpd yast2 yast2-ftp-server
<prompt>&gt; </prompt><command>sudo</command> systemctl enable apache2
<prompt>&gt; </prompt><command>sudo</command> systemctl start apache2
<prompt>&gt; </prompt><command>sudo</command> systemctl enable vsftpd
<prompt>&gt; </prompt><command>sudo</command> systemctl start vsftpd
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server</screen>
     </step>
     <step>
      <para>
       在 YaST FTP 伺服器中，選取<menuchoice>
       <guimenu>驗證</guimenu> <guimenu> 啟用上載</guimenu>
       <guimenu> 匿名使用者可上載</guimenu> <guimenu> 完成</guimenu>
       <guimenu> 是</guimenu> </menuchoice>，以<guimenu>建立 /srv/ftp/upload</guimenu>。
      </para>
     </step>
     <step>
      <para>
       執行以下指令：
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> systemctl enable mysql
<prompt>&gt; </prompt><command>sudo</command> systemctl start mysql
<prompt>&gt; </prompt><command>sudo</command> mysql_secure_installation
<prompt>&gt; </prompt><command>sudo</command> setup-sca -f</screen>
      <para>
       mysql_secure_installation 將建立一個 MariaDB <systemitem class="username">root</systemitem> 密碼。
      </para>
     </step>
    </procedure>
    <procedure>
     <title>使用 SCP/tmp 進行上傳的安裝</title>
     <para>
      這種設定裝置的方法需要在輸入 SSH 密碼時進行人工互動。
     </para>
     <step>
      <para>
       在要安裝裝置的機器上，登入控制台。
      </para>
     </step>
     <step>
      <para>
       執行以下指令：
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install sca-appliance-* sca-patterns-*
<prompt>&gt; </prompt><command>sudo</command> systemctl enable apache2
<prompt>&gt; </prompt><command>sudo</command> systemctl start apache2
<prompt>&gt; </prompt><command>sudo</command> sudo systemctl enable mysql
<prompt>&gt; </prompt><command>sudo</command> systemctl start mysql
<prompt>&gt; </prompt><command>sudo</command> mysql_secure_installation
<prompt>&gt; </prompt><command>sudo</command> setup-sca</screen>
     </step>
    </procedure>
   </sect3>
   <sect3 xml:id="sec-admsupport-sca-appliance-pre">
    <title>先決條件</title>
    <para>
     若要執行 SCA 裝置伺服器，需要滿足以下先決條件：
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       所有 <systemitem>sca-appliance-*</systemitem> 套件。
      </para>
     </listitem>
     <listitem>
      <para>
       <systemitem class="resource">sca-patterns-base</systemitem> 套件。此外，需要針對您要使用該裝置分析的 Supportconfig 歸檔類型安裝任意產品特定的 <systemitem class="resource">sca-patterns-*</systemitem>。
      </para>
     </listitem>
     <listitem>
      <para>
       Apache
      </para>
     </listitem>
     <listitem>
      <para>
       PHP
      </para>
     </listitem>
     <listitem>
      <para>
       MariaDB
      </para>
     </listitem>
     <listitem>
      <para>
       匿名 FTP 伺服器 (選擇性)
      </para>
     </listitem>
    </itemizedlist>
   </sect3>
   <sect3 xml:id="sec-admsupport-sca-appliance-install">
    <title>安裝與基本設定</title>
    <para>
     如<xref linkend="sec-admsupport-sca-appliance-pre"/>中所列，SCA 裝置與其他套件存在若干相依性。因此，在安裝和設定 SCA 裝置伺服器之前，需要做一些準備工作：
    </para>
    <procedure>
     <step>
      <para>
       對於 Apache 和 MariaDB，請安裝 <systemitem>Web</systemitem> 和 <systemitem>LAMP</systemitem> 安裝模式。
      </para>
     </step>
     <step>
      <para>
       設定 Apache 和 MariaDB，並視需要設定一個匿名 FTP 伺服器。<phrase os="sles">如需詳細資訊，請參閱 <xref linkend="cha-apache2"/> 與 <xref linkend="cha-ftp"/>。</phrase>
      </para>
     </step>
     <step>
      <para>
       將 Apache 和 MariaDB 設定為在開機時啟動：
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> systemctl enable apache2 mysql</screen>
     </step>
     <step>
      <para>
       啟動這兩個服務：
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> systemctl start apache2 mysql</screen>
     </step>
    </procedure>
    <para>
     現在，您便可以依照<xref linkend="pro-sca-appl-install"/>中所述安裝和設定 SCA 裝置。
    </para>
    <procedure xml:id="pro-sca-appl-install">
     <title>安裝和設定 SCA 裝置</title>
     <para>
      安裝這些套件後，可以使用 <command>setup-sca</command> 程序檔來對 SCA 裝置使用的 MariaDB 管理與報告資料庫進行基本設定。
     </para>
     <para>
      使用該程序檔可以設定以下選項，以便將 Supportconfig 歸檔從您的機器上傳到 SCA 裝置：
     </para>
     <itemizedlist mark="bullet" spacing="normal">
      <listitem>
       <para>
        <command>scp</command>
       </para>
      </listitem>
      <listitem>
       <para>
        匿名 FTP 伺服器
       </para>
      </listitem>
     </itemizedlist>
     <step>
      <para>
       安裝裝置和 SCA 基本模式程式庫：
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install sca-appliance-* sca-patterns-base</screen>
     </step>
     <step>
      <para>
       此外，請針對您要分析的 Supportconfig 歸檔類型安裝模式套件。例如，如果您的環境中安裝了 SUSE Linux Enterprise Server 12 和 SUSE Linux Enterprise Server 15 伺服器，請安裝 <systemitem>sca-patterns-sle12</systemitem> 和 <systemitem>sca-patterns-sle15</systemitem> 這兩個套件。
      </para>
      <para>
       若要安裝所有可用模式：
      </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install sca-patterns-*</screen>
     </step>
     <step>
      <para>
       若要對 SCA 裝置進行基本設定，請使用 <command>setup-sca</command> 程序檔。如何呼叫該指令取決於您要如何將 Supportconfig 歸檔上傳到 SCA 裝置伺服器：
      </para>
      <itemizedlist mark="bullet" spacing="normal">
       <listitem>
        <para>
         如果您設定了使用 <filename>/srv/ftp/upload</filename> 目錄的匿名 FTP 伺服器，請結合 <option>-f</option> 選項執行設定程序檔。依照螢幕上的說明執行操作：
        </para>
<screen><prompt>&gt; </prompt><command>sudo</command> setup-sca -f</screen>
        <note>
         <title>使用其他目錄的 FTP 伺服器</title>
         <para>
          如果 FTP 伺服器使用的目錄不是 <filename>/srv/ftp/upload</filename>，請先調整以下組態檔案，使其指向正確的目錄：<filename>/etc/sca/sdagent.conf</filename> 與 <filename>/etc/sca/sdbroker.conf</filename>。
         </para>
        </note>
       </listitem>
       <listitem>
        <para>
         如果您想透過 <filename>scp</filename> 將 Supportconfig 檔案上傳到 SCA 裝置伺服器的 <command>/tmp</command> 目錄，請不帶任何參數呼叫該設定程序檔。依照螢幕上的說明執行操作：
        </para>
<screen><prompt>&gt; </prompt><command>sudo</command> setup-sca</screen>
       </listitem>
      </itemizedlist>
      <para>
       該設定程序檔將會依據它的要求執行一些檢查，並設定所需的元件。它會提示您輸入兩個密碼：您設定之 MariaDB 的 MySQL <systemitem class="username">root</systemitem> 密碼，以及用於登入 SCA 裝置 Web 介面的 Web 使用者密碼。
      </para>
     </step>
     <step>
      <para>
       輸入現有的 MariaDB <systemitem class="username">root</systemitem> 密碼。SCA 裝置將使用該密碼連接到 MariaDB。
      </para>
     </step>
     <step>
      <para>
       定義 Web 使用者的密碼。該密碼將寫入 <filename>/srv/www/htdocs/sca/web-config.php</filename>，並設定為使用者 <systemitem class="username">scdiag</systemitem> 的密碼。以後，您可隨時變更使用者名稱和密碼，請參閱<xref linkend="sec-admsupport-sca-appliance-config-passwd"/>。
      </para>

     </step>
    </procedure>
    <para>
     在成功完成安裝和設定後，便可以開始使用 SCA 裝置，請參閱<xref linkend="sec-admsupport-sca-appliance-use"/>。但是，您應修改部分選項，如變更 Web 介面的密碼、變更 SCA 模式更新來源、啟用歸檔模式，或者設定電子郵件通知。如需相關的詳細資訊，請參閱<xref linkend="sec-admsupport-sca-appliance-config"/>。
    </para>
    <warning>
     <title>資料保護</title>
     <para>
      由於 SCA 裝置伺服器上的報告包含安全相關資訊，因此，請務必保護好 SCA 裝置伺服器上的資料，以防未經授權的人員存取。
     </para>
    </warning>
   </sect3>
   <sect3 xml:id="sec-admsupport-sca-appliance-use">
    <title>使用 SCA 裝置</title>
    <para>
     您可以將現有的 Supportconfig 歸檔手動上傳到 SCA 裝置，也可以一步即完成建立新 Supportconfig 歸檔並上傳到 SCA 裝置的操作。可以透過 FTP 或 SCP 來上傳。對於這兩種上傳方式，您需要知道可用來存取 SCA 裝置的 URL。要透過 FTP 上傳，需要為 SCA 裝置設定一台 FTP 伺服器，請參閱<xref linkend="pro-sca-appl-install"/>。
    </para>
    <sect4 xml:id="sec-admsupport-sca-appliance-use-upload">
     <title>將 supportconfig 歸檔上傳到 SCA 裝置</title>
     <para/>
     <itemizedlist mark="bullet" spacing="normal">
      <listitem>
       <para>
        若要建立 Supportconfig 歸檔並透過 (匿名) FTP 上傳：
       </para>
<screen><prompt>&gt; </prompt><command>sudo</command> supportconfig -U “ftp://<replaceable>SCA-APPLIANCE.COMPANY.COM</replaceable>/upload”</screen>
      </listitem>
      <listitem>
       <para>
        若要建立 Supportconfig 歸檔並透過 SCP 上傳：
       </para>
<screen><prompt>&gt; </prompt><command>sudo</command> supportconfig -U “scp://<replaceable>SCA-APPLIANCE.COMPANY.COM</replaceable>/tmp”</screen>
       <para>
        系統將提示您輸入執行 SCA 裝置之伺服器的 <systemitem class="username">root</systemitem> 使用者密碼。
       </para>
      </listitem>
      <listitem>
       <para>
        如果要手動上載一或多個歸檔，請將現有的歸檔檔案 (通常位於 <filename>/var/log/scc_*.tbz</filename>) 複製到 SCA 裝置中。對於目標，請使用裝置伺服器的 <filename>/tmp</filename> 目錄或 <filename>/srv/ftp/upload</filename> 目錄 (如果為 SCA 裝置伺服器設定了 FTP)。
       </para>
      </listitem>
     </itemizedlist>
    </sect4>
    <sect4 xml:id="sec-admsupport-sca-appliance-use-view">
     <title>檢視 SCA 報告</title>
     <para>
      可以在裝有瀏覽器並能存取 SCA 裝置之報告索引頁面的任何機器上檢視 SCA 報告。
     </para>
     <procedure>
      <step>
       <para>
        啟動網頁瀏覽器並確定 JavaScript 和 Cookie 已啟用。
       </para>
      </step>
      <step>
       <para>
        輸入 SCA 裝置的報告索引頁面做為 URL。
       </para>
<screen>https://sca-appliance.company.com/sca</screen>
       <para>
        如有疑問，請諮詢您的系統管理員。
       </para>
      </step>
      <step>
       <para>
        系統將提示您輸入用於登入的使用者名稱和密碼。
       </para>
       <figure xml:id="fig-sca-appl-html">
        <title>SCA 裝置產生的 HTML 報告</title>
        <mediaobject>
         <imageobject role="fo">
          <imagedata fileref="sca_appl_report_html.png" width="100%"/>
         </imageobject>
         <imageobject role="html">
          <imagedata fileref="sca_appl_report_html.png" width="100%"/>
         </imageobject>
        </mediaobject>
       </figure>
      </step>
      <step>
       <para>
        登入後，按一下您要閱讀之報告的日期。
       </para>
      </step>
      <step>
       <para>
        首先按一下<guimenu>基本狀態</guimenu>類別將其展開。
       </para>
      </step>
      <step>
       <para>
        在<guimenu>訊息</guimenu>欄中按一下個別項目。SUSE 知識庫中的相應文章即會開啟。閱讀建議的解決方案，並遵循所述的指示操作。
       </para>
      </step>
      <step>
       <para>
        如果 <guimenu>Supportconfig 分析報告</guimenu>的<guimenu>解決方案</guimenu>欄顯示了其他項目，請按一下這些項目。閱讀建議的解決方案，並遵循所述的指示操作。
       </para>
      </step>
      <step>
       <para>
        請查看 SUSE 知識庫 (<link xlink:href="https://www.suse.com/support/kb/"/>)，以瞭解與 SCA 發現的問題直接相關的結果。設法解決這些問題。
       </para>
      </step>
      <step>
       <para>
        檢查有無可前瞻性處理的結果，以免將來發生問題。
       </para>
      </step>
     </procedure>
    </sect4>
   </sect3>
   <sect3 xml:id="sec-admsupport-sca-appliance-config">
    <title>自訂 SCA 裝置</title>
    <para>
     以下幾節顯示了如何變更 Web 介面的密碼、變更 SCA 模式更新來源、啟用歸檔模式，以及設定電子郵件通知。
    </para>
    <sect4 xml:id="sec-admsupport-sca-appliance-config-passwd">
     <title>Web 介面的密碼</title>
     <para>
      SCA 裝置 Web 介面要求提供使用者名稱和密碼才能登入。預設的使用者名稱為 <literal>scdiag</literal>，預設的密碼為 <literal>linux</literal> (如果未做其他指定，請參閱<xref linkend="pro-sca-appl-install"/>)。請儘早將預設密碼變更為一個較為安全的密碼。您也可以修改使用者名稱。
     </para>
     <procedure xml:id="pro-sca-passwd-change">
      <title>變更 Web 介面的使用者名稱或密碼</title>
      <step>
       <para>
        在 SCA 裝置伺服器的系統控制台上以 <systemitem class="username">root</systemitem> 使用者身分登入。
       </para>
      </step>
      <step>
       <para>
        在編輯器中開啟 <filename>/srv/www/htdocs/sca/web-config.php</filename>。
       </para>
      </step>
      <step>
       <para>
        視需要變更 <literal>$username</literal> 和 <literal>$password</literal> 的值。
       </para>
      </step>
      <step>
       <para>
        儲存檔案並離開。
       </para>
      </step>
     </procedure>
    </sect4>
    <sect4 xml:id="sec-admsupport-sca-appliance-config-upd">
     <title>SCA 模式的更新</title>
     <para>
      依預設，將透過一個 <systemitem class="username">root</systemitem> cron 作業來定期更新所有 <systemitem class="resource">sca-patterns-*</systemitem> 套件，該作業將每晚執行 <filename>sdagent-patterns</filename> 程序檔，而該程序檔又會執行 <command>zypper update sca-patterns-*</command>。定期的系統更新將會更新所有 SCA 裝置套件和模式套件。若要手動更新 SCA 裝置和模式，請執行：
     </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper update sca-*</screen>
     <para>
      系統預設從 SUSE Linux Enterprise <phrase role="productnumber"><phrase os="sles;sled">15 SP4</phrase></phrase> 更新儲存庫安裝更新。如果需要，您可以將更新來源變更為某部 RMT 伺服器。當 <filename>sdagent-patterns</filename> 執行 <command>zypper update sca-patterns-*</command> 時，將從目前設定的更新通道中取得更新。如果該通道在 RMT 伺服器上，將從該伺服器提取套件。
     </para>
     <procedure>
      <title>停用 SCA 模式的自動更新</title>
      <step>
       <para>
        在 SCA 裝置伺服器的系統控制台上以 <systemitem class="username">root</systemitem> 使用者身分登入。
       </para>
      </step>
      <step>
       <para>

        在編輯器中開啟 <filename>/etc/sca/sdagent-patterns.conf</filename>。
       </para>
      </step>
      <step>
       <para>
        將項目
       </para>
<screen>UPDATE_FROM_PATTERN_REPO=1</screen>
       <para>
        針對
       </para>
<screen>UPDATE_FROM_PATTERN_REPO=0</screen>
      </step>
      <step>
       <para>
        儲存檔案並離開。機器無需重新啟動就能套用變更。
       </para>
      </step>
     </procedure>
    </sect4>
    <sect4 xml:id="sec-admsupport-sca-appliance-config-archive">
     <title>歸檔模式</title>
     <para>
      系統在分析了 Supportconfig 歸檔並將其結果儲存在 MariaDB 資料庫中後，會從 SCA 裝置中刪除所有這些歸檔。但是，如果要進行疑難排解，在機器中保留 Supportconfig 歸檔的副本可能會比較有用。依預設，歸檔模式處於停用狀態。
     </para>
     <procedure>
      <title>在 SCA 裝置中啟用歸檔模式</title>
      <step>
       <para>
        在 SCA 裝置伺服器的系統控制台上以 <systemitem class="username">root</systemitem> 使用者身分登入。
       </para>
      </step>
      <step>
       <para>
        在編輯器中開啟 <filename>/etc/sca/sdagent.conf</filename>。
       </para>
      </step>
      <step>
       <para>
        將項目
       </para>
<screen>ARCHIVE_MODE=0</screen>
       <para>
        針對
       </para>
<screen>ARCHIVE_MODE=1</screen>
      </step>
      <step>
       <para>
        儲存檔案並離開。機器無需重新啟動就能套用變更。
       </para>
      </step>
     </procedure>
     <para>
      啟用歸檔模式後，SCA 裝置會將 Supportconfig 檔案儲存至 <filename>/var/log/archives/saved</filename> 目錄，而不會將其刪除。
     </para>
    </sect4>
    <sect4 xml:id="sec-admsupport-sca-appliance-config-mail">
     <title>透過電子郵件傳送 SCA 報告</title>
     <para>
      SCA 裝置可透過電子郵件傳送所分析的每個 Supportconfig 的 HTML 報告檔案。預設此功能是停用的。如果啟用此功能，您便可以定義應將報告傳送到的電子郵件地址清單。定義觸發報告傳送的狀態訊息層級 (<literal>STATUS_NOTIFY_LEVEL</literal>)。
     </para>
     <variablelist xml:id="vl-sca-mails-notify-level">
      <title><literal>STATUS_NOTIFY_LEVEL</literal> 的可能值</title>
      <varlistentry>
       <term>$STATUS_OFF</term>
       <listitem>
        <para>
         停用傳送 HTML 報告功能。
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>$STATUS_CRITICAL</term>
       <listitem>
        <para>
         僅傳送包含「關鍵」狀態的 SCA 報告。
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>$STATUS_WARNING </term>
       <listitem>
        <para>
         僅傳送包含「警告」或「關鍵」狀態的 SCA 報告。
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>$STATUS_RECOMMEND</term>
       <listitem>
        <para>
         僅傳送包含「建議」、「警告」或「關鍵」狀態的 SCA 報告。
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>$STATUS_SUCCESS</term>
       <listitem>
        <para>
         傳送包含「成功」、「建議」、「警告」或「關鍵」狀態的 SCA 報告。
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
     <procedure>
      <title>為 SCA 報告設定電子郵件通知</title>
      <step>
       <para>
        在 SCA 裝置伺服器的系統控制台上以 <systemitem class="username">root</systemitem> 使用者身分登入。
       </para>
      </step>
      <step>
       <para>
        在編輯器中開啟 <filename>/etc/sca/sdagent.conf</filename>。
       </para>
      </step>
      <step>
       <para>
        搜尋 <systemitem>STATUS_NOTIFY_LEVEL</systemitem> 項目。該項目預設設定為 <literal>$STATUS_OFF</literal> (停用電子郵件通知)。
       </para>
      </step>
      <step>
       <para>
        若要啟用電子郵件通知，請將 <literal>$STATUS_OFF</literal> 變更為要針對其產生電子郵件報告的狀態訊息層級，例如：
       </para>
<screen>STATUS_NOTIFY_LEVEL=$STATUS_SUCCESS</screen>
       <para>
        如需詳細資料，請參閱<xref linkend="vl-sca-mails-notify-level"/>。
       </para>
      </step>
      <step>
       <para>
        若要定義要將報告傳送到的收件人清單：
       </para>
       <substeps performance="required">
        <step>
         <para>
          搜尋 <literal>EMAIL_REPORT=&apos;root&apos;</literal> 項目。
         </para>
        </step>
        <step>
         <para>
          請使用您要向其傳送 SCA 報告的電子郵件地址清單取代 <literal>root</literal>。各電子郵件地址必須以空格分隔。例如：
         </para>
<screen>EMAIL_REPORT='tux@my.company.com wilber@your.company.com'</screen>
        </step>
       </substeps>
      </step>
      <step>
       <para>
        儲存檔案並離開。機器無需重新啟動就能套用變更。以後產生的所有 SCA 報告都將透過電子郵件傳送到指定地址。
       </para>
      </step>
     </procedure>
    </sect4>
   </sect3>
   <sect3 xml:id="sec-admsupport-sca-appliance-backup">
    <title>備份和還原資料庫</title>
    <para>
     若要備份和還原儲存 SCA 報告的 MariaDB 資料庫，請依照如下所述使用 <command>scadb</command> 指令。<command>scadb</command> 由 <package>sca-appliance-broker</package> 套件提供。
    </para>
    <procedure>
     <title>備份資料庫</title>
     <step>
      <para>
       在執行 SCA 裝置之伺服器的系統控制台上，以 <systemitem class="username">root</systemitem> 使用者身分登入。
      </para>
     </step>
     <step>
      <para>
       執行以下指令以將裝置置於維護模式：
      </para>
<screen><prompt role="root"># </prompt>scadb maint</screen>
     </step>
     <step>
      <para>
       使用以下指令啟動備份程序：
      </para>
<screen><prompt role="root"># </prompt>scadb backup</screen>
      <para>
       資料將儲存到 TAR 歸檔 <filename>sca-backup-*sql.gz</filename> 中。
      </para>
     </step>
     <step>
      <para>
       如果您正在使用模式建立資料庫開發自己的模式 (參閱<xref linkend="sec-admsupport-sca-patterns"/>)，則還要備份以下資料：
      </para>
<screen><prompt role="root"># </prompt>sdpdb backup</screen>
      <para>
       資料將儲存到 TAR 歸檔 <filename>sdp-backup-*sql.gz</filename> 中。
      </para>
     </step>
     <step>
      <para>
       將以下資料複製到另一台機器或外部儲存媒體中：
      </para>
      <itemizedlist mark="bullet" spacing="normal">
       <listitem>
        <para>
         <filename>sca-backup-*sql.gz</filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>sdp-backup-*sql.gz</filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>/usr/lib/sca/patterns/local</filename> (僅當您已建立自訂模式時才需要複製該資料)
        </para>
       </listitem>
      </itemizedlist>
     </step>
     <step>
      <para>
       使用以下指令重新啟動 SCA 裝置：
      </para>
<screen><prompt role="root"># </prompt>scadb reset agents</screen>
     </step>
    </procedure>
    <procedure>
     <title>還原資料庫</title>
     <para>
      若要基於您的備份還原資料庫，請按如下所述執行操作：
     </para>
     <step>
      <para>
       在執行 SCA 裝置之伺服器的系統控制台上，以 <systemitem class="username">root</systemitem> 使用者身分登入。
      </para>
     </step>
     <step>
      <para>
       將最新的 <filename>sca-backup-*sql.gz</filename> 和 <filename>sdp-backup-*sql.gz</filename> TAR 歸檔複製到 SCA 裝置伺服器。
      </para>
     </step>
     <step>
      <para>
       若要解壓縮檔案，請執行：
      </para>
<screen><prompt role="root"># </prompt>gzip -d *-backup-*sql.gz</screen>
     </step>
     <step>
      <para>
       若要將資料輸入資料庫，請執行：
      </para>
<screen><prompt role="root"># </prompt>scadb import sca-backup-*sql</screen>
     </step>
     <step>
      <para>
       如果您正在使用模式建立資料庫建立自己的模式，則還要透過以下指令輸入以下資料：
      </para>
<screen><prompt role="root"># </prompt>sdpdb import sdp-backup-*sql</screen>
     </step>
     <step>
      <para>
       如果您正在使用自訂模式，則還要基於備份資料還原 <filename>/usr/lib/sca/patterns/local</filename>。
      </para>
     </step>
     <step>
      <para>
       使用以下指令重新啟動 SCA 裝置：
      </para>
<screen><prompt role="root"># </prompt>scadb reset agents</screen>
     </step>
     <step>
      <para>
       使用以下指令更新資料庫中的模式模組：
      </para>
<screen><prompt role="root"># </prompt>sdagent-patterns -u</screen>
     </step>
    </procedure>
   </sect3>
  </sect2>

  <sect2 xml:id="sec-admsupport-sca-patterns">
   <title>開發自訂分析模式</title>
   <para>
    SCA 裝置隨附了一個完整的模式開發環境 (SCA 模式資料庫)，可讓您開發自己的自訂模式。模式可用任何程式設計語言編寫。若要使這些模式可用於 Supportconfig 分析程序，需要將其儲存到 <filename>/usr/lib/sca/patterns/local</filename>，並使其可執行。然後，SCA 裝置和 SCA 工具將會針對做為分析報告一部分的新 Supportconfig 歸檔執行這些自訂模式。關於如何建立 (和測試) 自己模式的詳細指示，請參閱<link xlink:href="https://www.suse.com/c/blog/sca-pattern-development/"/>。
   </para>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-admsupport-install">
  <title>在安裝期間收集資訊</title>
  <para>
   安裝期間無法使用 <command>supportconfig</command>。不過，您可以使用 <command>save_y2logs</command> 從 YaST 收集記錄檔案。此指令將在 <filename>/tmp</filename> 目錄下建立 <filename>.tar.xz</filename> 歸檔。
  </para>
  
  <para>
   如果在安裝之初便出現問題，可以透過 <command>linuxrc</command> 建立的記錄檔案收集資訊。<command>linuxrc</command> 是在 YaST 啟動之前執行的小指令。此記錄檔案位於 <filename>/var/log/linuxrc.log</filename>。
  </para>
  <important>
   <title>在安裝的系統中無法使用安裝記錄檔案</title>
   <para>
    安裝期間可用的記錄檔案在安裝後的系統中已不再可用。您可以在安裝程式執行期間妥善儲存安裝記錄檔案。
   </para>
  </important>
 </sect1>

 <sect1 xml:id="sec-admsupport-kernel">
  <title>核心模組支援</title>

  <para>
   對於任何企業作業系統，一個重要的要求就是您獲得的環境方面的支援層級。核心模組是硬體 (<quote>控制器</quote>) 與作業系統之間最為相關的連接器。SUSE Linux Enterprise 中的每個核心模組都有一個 <literal>supported</literal> 旗標，該旗標可使用以下三個值：
  </para>

  <itemizedlist mark="bullet" spacing="normal">

   <listitem>
    <para>
     <quote>yes</quote>，相當於 <literal>supported</literal>
    </para>
   </listitem>
   <listitem>
    <para>
     <quote>external</quote>，相當於 <literal>supported</literal>
    </para>
   </listitem>
   <listitem>
    <para>
     <quote/>(空白，未設定)，相當於 <literal>unsupported</literal>
    </para>
   </listitem>
  </itemizedlist>

  <para>
   以下規則適用：
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     依預設，自我重新編譯的核心的所有模組都會標示為 unsupported。
    </para>
   </listitem>
   <listitem>
    <para>
     SUSE 合作夥伴支援的核心模組以及使用 <literal>SUSE SolidDriver 程式</literal>提供的核心模組會標示為 <quote>external</quote>。
    </para>
   </listitem>
   <listitem>
    <para>
     如果未設定 <literal>supported</literal> 旗標，載入此模組便會污染該核心。系統不支援污染的核心。不受支援的核心模組隨附於額外的 RPM 套件 (<systemitem>kernel-<replaceable>FLAVOR</replaceable>-extra</systemitem>) 中。該套件僅可在 SUSE Linux Enterprise Desktop 和 SUSE Linux Enterprise Workstation Extension 上使用。預設不會載入這些核心 (<replaceable>FLAVOR</replaceable>=<literal>default</literal>|<literal>xen</literal>|...)。此外，安裝程式中不會提供這些不受支援的模組，並且 <systemitem class="resource">kernel-<replaceable>FLAVOR</replaceable>-extra</systemitem> 套件也不會包含在 SUSE Linux Enterprise 媒體中。
    </para>
   </listitem>
   <listitem>
    <para>
     不是依據與 Linux 核心授權相容的授權提供的核心模組也會污染核心。如需詳細資訊，請參閱 <filename>/usr/src/linux/Documentation/sysctl/kernel.txt</filename> 及 <filename>/proc/sys/kernel/tainted</filename> 的狀態。
    </para>
   </listitem>
  </itemizedlist>

  <sect2 xml:id="sec-admsupport-kernel-background">
   <title>技術背景</title>
   <para/>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Linux 核心：在 SUSE Linux Enterprise <filename> 15 SP4</filename> 上，<literal>/proc/sys/kernel/unsupported</literal> 的值預設設為 <phrase role="productnumber"><phrase os="sles;sled">2</phrase></phrase> (<literal>載入不受支援的模組時，syslog 中不發出警告</literal>)。安裝程式以及已安裝的系統中均使用此預設值。如需詳細資訊，請參閱 <filename>/usr/src/linux/Documentation/sysctl/kernel.txt</filename>。
     </para>
    </listitem>
    <listitem>
     <para>
      <command>modprobe</command>：用於檢查模組相依性及載入模組的 <command>modprobe</command> 公用程式會相應地檢查 <literal>supported</literal> 旗標的值。如果該值為 <quote>yes</quote> 或 <quote>external</quote>，則會載入該模組，否則不會載入。關於如何覆寫此行為的資訊，請參閱<xref linkend="sec-admsupport-kernel-unsupported"/>。
     </para>
     <note>
      <title>支援</title>
      <para>
       SUSE 一般不支援透過 <command>modprobe -r</command> 移除儲存模組。
      </para>
     </note>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 xml:id="sec-admsupport-kernel-unsupported">
   <title>使用不受支援的模組</title>
   <para>
    雖然普遍的支援能力很重要，但在有些情況下可能需要載入不受支援的模組。例如，為了測試或除錯目的，或者如果您的硬體廠商提供了 HotFix。
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      若要覆寫預設行為，請將 <filename>/lib/modprobe.d/10-unsupported-modules.conf</filename> 複製到 <filename>/etc/modprobe.d/10-unsupported-modules.conf</filename>，並將變數 <varname>allow_unsupported_modules</varname> 的值從 <literal>0</literal> 變更為 <literal>1</literal>。請不要直接編輯 <filename>/lib/modprobe.d/10-unsupported-modules.conf</filename>；<package>suse-module-tools</package> 套件每次更新時都會覆寫所有變更。
     </para>
     <para>
      如果 initrd 中需要一個不受支援的模組，則請記得執行 <command>dracut</command> <option>-f</option> 以更新 initrd。
     </para>
     <para>
      如果只想嘗試載入模組一次，可將 <option>--allow-unsupported-modules</option> 選項與 <command>modprobe</command> 結合使用。如需詳細資訊，請參閱 <filename>/lib/modprobe.d/10-unsupported-modules.conf</filename> 中的備註以及 <command>modprobe</command> man 頁面。
     </para>
    </listitem>
    <listitem>
     <para>
      在安裝期間，可透過驅動程式更新磁碟新增不受支援的模組，這樣便會載入這些模組。若要在開機期間以及開機後強制載入不受支援的模組，請使用核心指令行選項 <option>oem-modules</option>。安裝和啟始化 <systemitem class="resource">suse-module-tools</systemitem> 套件時，系統將評估核心旗標 <literal>TAINT_NO_SUPPORT</literal> (<filename>/proc/sys/kernel/tainted</filename>)。如果核心已污染，將啟用 <literal>allow_unsupported_modules</literal>。這可以防止不受支援的模組在正在安裝的系統中載入失敗。如果安裝期間沒有任何不受支援的模組，並且未使用其他特殊的核心指令行選項 (<option>oem-modules=1</option>)，則預設行為仍是禁止不受支援的模組。
     </para>
    </listitem>
   </itemizedlist>
   <para>
    請記住，載入和執行不受支援的模組會導致 SUSE 不支援該核心和整個系統。
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-admsupport-moreinfo">
  <title>更多資訊</title>

  <para/>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     <command>man supportconfig</command> — <command>supportconfig</command> 的 man 頁面。
    </para>
   </listitem>
   <listitem>
    <para>
     <command>man supportconfig.conf</command> — Supportconfig 組態檔案的 man 頁面。
    </para>
   </listitem>
   <listitem>
    <para>
     <command>man scatool</command> — <command>scatool</command> 的 man 頁面。
    </para>
   </listitem>
   <listitem>
    <para>
     <command>man scadb</command> — <command>scadb</command> 的 man 頁面。
    </para>
   </listitem>
   <listitem>
    <para>
     <command>man setup-sca</command> — <command>setup-sca</command> 的 man 頁面。
    </para>
   </listitem>
   <listitem>
    <para>
     <link xlink:href="https://mariadb.com/kb/en/"/> — MariaDB 文件。
    </para>
   </listitem>
   <listitem os="sles">
    <para>
     <link xlink:href="http://httpd.apache.org/docs/"/> 和<xref linkend="cha-apache2"/> — 關於 Apache Web 伺服器的文件。
    </para>
   </listitem>
   <listitem os="sles">
    <para>
     <xref linkend="cha-ftp"/> — 關於如何設定 FTP 伺服器的文件。
    </para>
   </listitem>
   <listitem>
    <para>
     <link xlink:href="https://www.suse.com/c/blog/sca-pattern-development/"/> — 關於如何建立 (和測試) 自己的 SCA 模式的指示。
    </para>
   </listitem>
   <listitem>
    <para>
     <link xlink:href="https://www.suse.com/c/blog/basic-server-health-check-supportconfig/"/> — 使用 Supportconfig 進行的基本伺服器狀態檢查。
    </para>
   </listitem>
   <listitem>
    <para>
     <link xlink:href="https://community.microfocus.com/t5/GroupWise-Tips-Information/Create-Your-Own-Supportconfig-Plugin/ta-p/1783289"/> — 建立自己的 Supportconfig 外掛程式。
    </para>
   </listitem>
   <listitem>
    <para>
     <link xlink:href="https://www.suse.com/c/blog/creating-a-central-supportconfig-repository/"/> — 建立中心 Supportconfig 儲存庫。
    </para>
    <para>
     <remark>taroth 2014-04-25: jrecord, should we still refer to the three articles above? </remark>
    </para>
   </listitem>
  </itemizedlist>
 </sect1>
</chapter>
