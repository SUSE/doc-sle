<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_sw_repo.xml" version="5.0" xml:id="sec-yast-software-instsource">
 <title>Gerenciando repositórios de software e serviços</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>sim</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  Para instalar software de terceiros, adicione repositórios de software ao sistema. Por padrão, os repositórios de produto, como o DVD do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase>, e um repositório de atualização correspondente serão automaticamente configurados depois que você registrar seu sistema. <phrase os="sles;sled"> Para obter mais informações sobre registro, consulte a <xref linkend="sec-yast-install-scc-registration"/> ou a <xref linkend="sec-update-registersystem"/></phrase>. Dependendo do produto inicialmente selecionado, um outro repositório com traduções, dicionários, etc. também poderá ser configurado.
 </para>

 <para>
  Para gerenciar repositórios, inicie o YaST e selecione <menuchoice>
   <guimenu>Software</guimenu>  <guimenu>Repositórios de Software</guimenu>
  </menuchoice>. A caixa de diálogo <guimenu>Repositórios de Software Configurados</guimenu> é aberta. Nela, é possível também gerenciar inscrições aos chamados <guimenu>Serviços</guimenu>, mudando a opção <guimenu>Ver</guimenu> no canto direito da caixa de diálogo para <guimenu>Todos os Serviços</guimenu>. Nesse contexto, um Serviço é um RIS <guimenu>(Serviço de Índice de Repositório)</guimenu> que pode oferecer um ou mais repositórios de software. Ele pode ser mudado dinamicamente por seu administrador ou fornecedor.
 </para>

 <para>
  Cada repositório inclui arquivos que descrevem o conteúdo do repositório (nomes e versões de pacotes, etc). O download desses arquivos de descrição de repositório é feito em um cache local usado pelo YaST. Para assegurar a integridade, os repositórios de software podem ser assinados com a chave GPG do mantenedor do repositório. Sempre que você adicionar um novo repositório, o YaST oferecerá a opção de importar sua chave.
 </para>

 <warning>
  <title>Confiando em fontes de software externas</title>
  <para>
   Antes de adicionar repositórios de software externos à sua lista de repositórios, verifique se é possível confiar nesse repositório. A SUSE não se responsabiliza por nenhum problema resultante da instalação do software de repositórios de software de terceiros.
  </para>
 </warning>

 <sect2 xml:id="sec-yast-software-instsource-add">
  <title>Adicionando repositórios de software</title>
  <para>
   Você pode adicionar repositórios de DVD/CD, unidade flash USB, diretório local, imagem ISO ou fonte de rede.
  </para>
  <para>
   Para adicionar repositórios da caixa de diálogo <guimenu>Repositórios de Software Configurados</guimenu> no YaST, faça o seguinte:
  </para>
  <procedure>
   <step>
    <para>
     Clique em <guimenu>Adicionar</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Selecione uma das opções listadas na caixa de diálogo:
    </para>
    <figure xml:id="fig-y2-sw-repo-new">
     <title>Adicionando um repositório de software</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="yast2_addon_new.png" width="70%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="yast2_addon_new.png" width="65%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </figure>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       Para explorar a rede em busca de servidores de instalação que anunciam seus serviços por SLP, selecione <guimenu>Explorar usando SLP</guimenu> e clique em <guimenu>Avançar</guimenu>.
      </para>
     </listitem>
     <listitem>
      <para>
       Para adicionar um repositório de uma mídia removível, escolha a opção relevante e insira a mídia ou conecte o dispositivo USB na máquina, respectivamente. Clique em <guimenu>Next (Avançar)</guimenu> para iniciar a instalação.
      </para>
     </listitem>
     <listitem>
      <para>
       Na maioria dos repositórios, será solicitado para você especificar o caminho (ou URL) para a mídia após selecionar a respectiva opção e clicar em <guimenu>Avançar</guimenu>. A especificação do <guimenu>Nome do Repositório</guimenu> é opcional. Se nada for especificado, o YaST usará o nome do produto ou o URL como nome do repositório.
      </para>
     </listitem>
    </itemizedlist>
    <para>
     A opção <guimenu>Baixar os arquivos de descrição do repositório</guimenu> está ativada por padrão. Se você desativá-la, o YaST fará download dos arquivos automaticamente mais tarde, se necessário.
    </para>
   </step>
   <step>
    <para>
     Dependendo do repositório adicionado, talvez seja solicitado que você importe a chave GPG do repositório ou concorde com a licença.
    </para>
    <para>
     Após confirmar as mensagens, o YaST fará download e analisará os metadados. Ele adicionará o repositório à lista de <guimenu>Repositórios Configurados</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Se necessário, ajuste as <guimenu>Propriedades</guimenu> do repositório conforme descrito na <xref linkend="sec-yast-software-instsource-manage"/>.
    </para>
   </step>
   <step>
    <para>
     Clique em <guimenu>OK</guimenu> para confirmar as mudanças e fechar a caixa de diálogo de configuração.
    </para>
   </step>
   <step>
    <para>
     Depois que o repositório for adicionado com êxito, o gerenciador de software será iniciado e você poderá instalar pacotes desse repositório. Para obter informações detalhadas, consulte a <xref linkend="cha-yast-software"/>.
    </para>
   </step>
  </procedure>
 </sect2>

 <sect2 xml:id="sec-yast-software-instsource-manage">
  <title>Gerenciando as propriedades do repositório</title>
  <para>
   A visão geral <guimenu>Repositórios de Software Configurados</guimenu> de <guimenu>Repositórios de Software</guimenu> permite mudar as seguintes propriedades de repositório:
  </para>
  <variablelist>
   <varlistentry>
    <term>Status</term>
    <listitem>
     <para>
      O status do repositório pode ser <guimenu>Habilitado</guimenu> ou <guimenu>Desabilitado</guimenu>. É possível instalar apenas pacotes de repositórios habilitados. Para desativar um repositório temporariamente, selecione-o e desmarque <guimenu>Habilitar</guimenu>. É possível também clicar duas vezes no nome do repositório para alternar seu status. Para remover completamente um repositório, clique em <guimenu>Apagar</guimenu>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Atualizar</term>
    <listitem>
     <para>
      Quando o repositório é atualizado, o download da descrição do seu conteúdo (nomes de pacotes, versões, etc.) é feito para um cache local que é usado pelo YaST. É suficiente fazer isso uma vez para repositórios estáticos, como CDs ou DVDs. Já os repositórios que têm seu conteúdo modificado com frequência devem sempre ser atualizados. A maneira mais fácil de manter o cache de um repositório atualizado é usando a opção <guimenu>Atualizar Automaticamente</guimenu>. Para fazer a atualização manual, clique em <guimenu>Atualizar</guimenu> e selecione uma das opções.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Manter os Pacotes Baixados</guimenu>
    </term>
    <listitem>
     <para>
      Os pacotes de repositórios remotos são descarregados antes de serem instalados. Por padrão, eles são apagados após a instalação bem-sucedida. A ativação da opção <guimenu>Manter os Pacotes Baixados</guimenu> impede a exclusão dos pacotes descarregados. O local do download está configurado em <filename>/etc/zypp/zypp.conf</filename>; por padrão, é <filename>/var/cache/zypp/packages</filename>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Prioridade</guimenu>
    </term>
    <listitem>
     <para>
      A <guimenu>Prioridade</guimenu> de um repositório é um valor entre <literal>1</literal> e <literal>200</literal>, sendo <literal>1</literal> a prioridade mais alta e <literal>200</literal> a prioridade mais baixa. Qualquer repositório novo adicionado pelo YaST recebe a prioridade <literal>99</literal>, por padrão. Se não for importante o valor da prioridade de determinado repositório, você poderá também definir o valor como <literal>0</literal> para aplicar a prioridade padrão ao repositório (<literal>99</literal>). Se um pacote estiver disponível em mais de um repositório, o repositório com a prioridade mais alta terá preferência. Isso é útil para evitar o download desnecessário de pacotes da Internet, pois concede ao repositório local (por exemplo, um DVD) uma prioridade maior.
     </para>
     <important>
      <title>Prioridade em comparação com a versão</title>
      <para>
       O repositório com a prioridade mais alta tem preferência em qualquer situação. Portanto, verifique se o repositório de atualização sempre tem a prioridade mais alta; do contrário, você poderá instalar uma versão desatualizada que não será atualizada até a próxima atualização online.
      </para>
     </important>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Nome e URL</term>
    <listitem>
     <para>
      Para mudar o nome de um repositório ou seu URL, selecione-o na lista com um clique único e depois clique em <guimenu>Editar</guimenu>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect2>

 <sect2 xml:id="sec-yast-software-repo-gpg-keys">
  <title>Gerenciando chaves de repositório</title>
  <para>
   Para assegurar a integridade, os repositórios de software podem ser assinados com a chave GPG do mantenedor do repositório. Sempre que você adicionar um novo repositório, o YaST oferecerá para importar sua chave. Verifique isso da mesma forma que faz com qualquer outra chave GPG e confirme se ela não foi modificada. Se detectar uma mudança na chave, algo pode ter acontecido de errado no repositório. Desabilite o repositório como fonte de instalação até que você descubra a causa da modificação na chave.
  </para>
  <para>
   Para gerenciar todas as chaves importadas, clique em <guimenu>Chaves GPG</guimenu> na caixa de diálogo <guimenu>Repositórios de Software Configurados. </guimenu> Selecione uma entrada com o mouse para mostrar as propriedades da chave na parte inferior da janela. <guimenu>Adicione</guimenu>, <guimenu>Edite</guimenu> ou <guimenu>Apague</guimenu> as chaves com um clique nos respectivos botões.
  </para>
 </sect2>
</sect1>
