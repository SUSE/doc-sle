msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2018-08-18 22:29+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Put one translator per line, in the form NAME <EMAIL>, YEAR1, YEAR2
msgctxt "_"
msgid "translator-credits"
msgstr ""

#. (itstool) path: chapter/title
#: xml/net_samba.xml:19
msgid "Samba"
msgstr ""

#. (itstool) path: abstract/para
#: xml/net_samba.xml:22
msgid "Using Samba, a Unix machine can be configured as a file and print server for macOS, Windows, and OS/2 machines. Samba has developed into a fully-fledged and rather complex product. Configure Samba with YaST, or by editing the configuration file manually."
msgstr ""

#. (itstool) path: docmanager/translation
#: xml/net_samba.xml:31
msgid "yes"
msgstr ""

#. (itstool) path: chapter/indexterm
#. (itstool) id: net_samba.xml#idx.Samba
#: xml/net_samba.xml:33
msgid "<primary>Samba</primary>"
msgstr ""

#. (itstool) path: chapter/indexterm
#: xml/net_samba.xml:34
msgid "<primary>SMB</primary> <see>Samba</see>"
msgstr ""

#. (itstool) path: chapter/indexterm
#: xml/net_samba.xml:36
msgid "<primary>macOS</primary> <secondary>sharing files</secondary>"
msgstr ""

#. (itstool) path: chapter/indexterm
#: xml/net_samba.xml:38
msgid "<primary>Windows</primary> <secondary>sharing files</secondary>"
msgstr ""

#. (itstool) path: chapter/indexterm
#: xml/net_samba.xml:40
msgid "<primary>Linux</primary> <secondary>sharing files with another OS</secondary>"
msgstr ""

#. (itstool) path: sect1/title
#: xml/net_samba.xml:44
msgid "Terminology"
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:46
msgid "The following are some terms used in Samba documentation and in the YaST module."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:53
msgid "SMB protocol"
msgstr ""

#. (itstool) path: para/indexterm
#: xml/net_samba.xml:56
msgid "<primary>Samba</primary> <secondary>SMB</secondary>"
msgstr ""

#. (itstool) path: para/indexterm
#: xml/net_samba.xml:59
msgid "<primary>protocols</primary> <secondary>SMB</secondary>"
msgstr ""

#. (itstool) path: para/indexterm
#: xml/net_samba.xml:62
msgid "<primary>smbd</primary>"
msgstr ""

#. (itstool) path: para/indexterm
#: xml/net_samba.xml:69
msgid "<primary>Samba</primary> <secondary>TCP/IP and</secondary>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:55
msgid "<_:indexterm-1/> <_:indexterm-2/> <_:indexterm-3/> Samba uses the SMB (server message block) protocol that is based on the <phrase role=\"productname\">NetBIOS</phrase> services. Microsoft released the protocol so other software manufacturers could establish connections to a Microsoft domain network. With Samba, the SMB protocol works on top of the TCP/IP protocol, so the TCP/IP protocol must be installed on all clients. <_:indexterm-4/>"
msgstr ""

#. (itstool) path: tip/title
#: xml/net_samba.xml:75
msgid "IBM z Systems: NetBIOS Support"
msgstr ""

#. (itstool) path: tip/para
#: xml/net_samba.xml:76
msgid "IBM z Systems merely supports SMB over TCP/IP. NetBIOS support is not available on these systems."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:84
msgid "CIFS protocol"
msgstr ""

#. (itstool) path: para/indexterm
#: xml/net_samba.xml:87
msgid "<primary>Samba</primary> <secondary>CIFS</secondary>"
msgstr ""

#. (itstool) path: para/indexterm
#: xml/net_samba.xml:90
msgid "<primary>protocols</primary> <secondary>CIFS</secondary>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:86
msgid "<_:indexterm-1/> <_:indexterm-2/> CIFS (common Internet file system) protocol is another protocol supported by Samba. CIFS defines a standard remote file system access protocol for use over the network, enabling groups of users to work together and share documents across the network."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:101
msgid "NetBIOS"
msgstr ""

#. (itstool) path: para/indexterm
#: xml/net_samba.xml:104
msgid "<primary>NetBIOS</primary>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:103
msgid "<_:indexterm-1/> NetBIOS is a software interface (API) designed for communication between machines providing a name service. It enables machines connected to the network to reserve names for themselves. After reservation, these machines can be addressed by name. There is no central process that checks names. Any machine on the network can reserve as many names as it wants as long as the names are not already in use. The NetBIOS interface can be implemented for different network architectures. An implementation that works relatively closely with network hardware is called <phrase role=\"productname\">NetBEUI</phrase>, but this is often called <phrase role=\"productname\">NetBIOS</phrase>. Network protocols implemented with NetBIOS are IPX from Novell (NetBIOS via TCP/IP) and TCP/IP."
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:119
msgid "The NetBIOS names sent via TCP/IP have nothing in common with the names used in <filename>/etc/hosts</filename> or those defined by DNS. NetBIOS uses its own, completely independent naming convention. However, it is recommended to use names that correspond to DNS host names to make administration easier or use DNS natively. This is the default used by Samba."
msgstr ""

#. (itstool) path: listitem/indexterm
#: xml/net_samba.xml:126
msgid "<primary>Samba</primary> <secondary>names</secondary>"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:132
msgid "Samba server"
msgstr ""

#. (itstool) path: listitem/indexterm
#: xml/net_samba.xml:133
msgid "<primary>Samba</primary> <secondary>server</secondary>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:136
msgid "Samba server provides SMB/CIFS services and NetBIOS over IP naming services to clients. For Linux, there are three daemons for Samba server: smbd for SMB/CIFS services, nmbd for naming services, and winbind for authentication."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:145
msgid "Samba client"
msgstr ""

#. (itstool) path: listitem/indexterm
#. (itstool) path: sect1/indexterm
#. (itstool) path: sect2/indexterm
#. (itstool) id: net_samba.xml#idx.Samba_clients
#: xml/net_samba.xml:146
#: xml/net_samba.xml:842
#: xml/net_samba.xml:857
msgid "<primary>Samba</primary> <secondary>clients</secondary>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:149
msgid "The Samba client is a system that uses Samba services from a Samba server over the SMB protocol. Common operating systems, such as Windows and macOS support the SMB protocol. The TCP/IP protocol must be installed on all computers. Samba provides a client for the different Unix flavors. For Linux, there is a kernel module for SMB that allows the integration of SMB resources on the Linux system level. You do not need to run any daemon for the Samba client."
msgstr ""

#. (itstool) path: varlistentry/term
#. (itstool) path: sect4/title
#. (itstool) path: sect3/title
#: xml/net_samba.xml:161
#: xml/net_samba.xml:381
#: xml/net_samba.xml:609
msgid "Shares"
msgstr ""

#. (itstool) path: para/indexterm
#. (itstool) path: sect3/indexterm
#: xml/net_samba.xml:164
#: xml/net_samba.xml:609
msgid "<primary>Samba</primary> <secondary>shares</secondary>"
msgstr ""

#. (itstool) path: para/indexterm
#: xml/net_samba.xml:172
msgid "<primary>printing</primary> <secondary>Samba</secondary>"
msgstr ""

#. (itstool) path: para/indexterm
#: xml/net_samba.xml:175
msgid "<primary>Samba</primary> <secondary>printers</secondary>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:163
msgid "<_:indexterm-1/> SMB servers provide resources to the clients by means of shares. Shares are printers and directories with their subdirectories on the server. It is exported by means of a name and can be accessed by its name. The share name can be set to any name—it does not need to be the name of the export directory. A printer is also assigned a name. Clients can access the printer by its name. <_:indexterm-2/> <_:indexterm-3/> <_:indexterm-4/>"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:183
msgid "DC"
msgstr ""

#. (itstool) path: para/indexterm
#: xml/net_samba.xml:186
msgid "<primary>Samba</primary> <secondary>DC</secondary>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:185
msgid "<_:indexterm-1/> A domain controller (DC) is a server that handles accounts in a domain. For data replication, additional domain controllers are available in one domain."
msgstr ""

#. (itstool) path: sect1/title
#: xml/net_samba.xml:198
msgid "Installing a Samba Server"
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:200
msgid "To install a Samba server, start YaST and select <menuchoice><guimenu>Software</guimenu> <guimenu>Software Management</guimenu></menuchoice>. Choose <menuchoice><guimenu>View</guimenu> <guimenu>Patterns</guimenu></menuchoice> and select <guimenu>File Server</guimenu>. Confirm the installation of the required packages to finish the installation process."
msgstr ""

#. (itstool) path: sect1/title
#: xml/net_samba.xml:210
msgid "Starting and Stopping Samba"
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:212
msgid "You can start or stop the Samba server automatically (during boot) or manually. Starting and stopping policy is a part of the YaST Samba server configuration described in <xref linkend=\"sec.samba.yast2.conf\"/>."
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:218
msgid "From a command line, stop services required for Samba with <command>systemctl stop smb nmb</command> and start them with <command>systemctl start nmb smb</command>. The <literal>smb</literal> service cares about <literal>winbind</literal> if needed."
msgstr ""

#. (itstool) path: tip/title
#: xml/net_samba.xml:226
msgid "<systemitem>winbind</systemitem>"
msgstr ""

#. (itstool) path: tip/para
#: xml/net_samba.xml:227
msgid "<systemitem>winbind</systemitem> is an independent service, and as such is also offered as an individual <systemitem>samba-winbind</systemitem> package."
msgstr ""

#. (itstool) path: sect1/indexterm
#: xml/net_samba.xml:232
msgid "<primary>Samba</primary> <secondary>starting</secondary>"
msgstr ""

#. (itstool) path: sect1/indexterm
#: xml/net_samba.xml:236
msgid "<primary>Samba</primary> <secondary>stopping</secondary>"
msgstr ""

#. (itstool) path: sect1/title
#: xml/net_samba.xml:243
msgid "Configuring a Samba Server"
msgstr ""

#. (itstool) path: sect1/indexterm
#: xml/net_samba.xml:243
msgid "<primary>Samba</primary> <secondary>installing</secondary>"
msgstr ""

#. (itstool) path: sect1/indexterm
#: xml/net_samba.xml:247
msgid "<primary>Samba</primary> <secondary>servers</secondary>"
msgstr ""

#. (itstool) path: sect1/indexterm
#. (itstool) path: para/indexterm
#: xml/net_samba.xml:251
#: xml/net_samba.xml:481
msgid "<primary>Samba</primary> <secondary>configuring</secondary>"
msgstr ""

#. (itstool) path: sect1/indexterm
#. (itstool) path: para/indexterm
#: xml/net_samba.xml:255
#: xml/net_samba.xml:484
msgid "<primary>configuring</primary> <secondary>Samba</secondary>"
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:261
msgid "A Samba server in <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE® Leap</phrase><phrase os=\"sles\">SUSE® Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE® Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE® Linux Enterprise Real Time Extension</phrase></phrase> can be configured in two different ways: with YaST or manually. Manual configuration offers a higher level of detail, but lacks the convenience of the YaST GUI."
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:267
msgid "For configuring a Samba server, see the SUSE Linux Enterprise Server documentation."
msgstr ""

#. (itstool) path: sect2/title
#: xml/net_samba.xml:272
msgid "Configuring a Samba Server with YaST"
msgstr ""

#. (itstool) path: sect2/para
#: xml/net_samba.xml:273
msgid "To configure a Samba server, start YaST and select <menuchoice><guimenu>Network Services</guimenu><guimenu>Samba Server</guimenu></menuchoice>."
msgstr ""

#. (itstool) path: sect3/title
#: xml/net_samba.xml:279
msgid "Initial Samba Configuration"
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:280
msgid "When starting the module for the first time, the <guimenu>Samba Installation</guimenu> dialog starts, prompting you to make a few basic decisions concerning administration of the server. At the end of the configuration it prompts for the Samba administrator password (<guimenu>Samba Root Password</guimenu>). For later starts, the <guimenu>Samba Configuration</guimenu> dialog appears."
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:288
msgid "The <guimenu>Samba Installation</guimenu> dialog consists of two steps and optional detailed settings:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:294
msgid "Workgroup or Domain Name"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:296
msgid "Select an existing name from <guimenu>Workgroup or Domain Name</guimenu> or enter a new one and click <guimenu>Next</guimenu>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:316
msgid "Samba Server Type"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:318
msgid "In the next step, specify whether your server should act as a primary domain controller (PDC), backup domain controller (BDC), or not act as a domain controller. Continue with <guimenu>Next</guimenu>."
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:326
msgid "If you do not want to proceed with a detailed server configuration, confirm with <guimenu>OK</guimenu>. Then in the final pop-up box, set the <guimenu>Samba root Password</guimenu>."
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:331
msgid "You can change all settings later in the <guimenu>Samba Configuration</guimenu> dialog with the <guimenu>Start-Up</guimenu>, <guimenu>Shares</guimenu>, <guimenu>Identity</guimenu>, <guimenu>Trusted Domains</guimenu>, and <guimenu>LDAP Settings</guimenu> tabs."
msgstr ""

#. (itstool) path: sect3/title
#: xml/net_samba.xml:339
msgid "Advanced Samba Configuration"
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:340
msgid "During the first start of the Samba server module the <guimenu>Samba Configuration</guimenu> dialog appears directly after the two initial steps described in <xref linkend=\"sec.samba.yast2.conf.inst\"/>. Use it to adjust your Samba server configuration."
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:346
msgid "After editing your configuration, click <guimenu>OK</guimenu> to save your settings."
msgstr ""

#. (itstool) path: sect4/title
#: xml/net_samba.xml:351
msgid "Starting the Server"
msgstr ""

#. (itstool) path: sect4/para
#: xml/net_samba.xml:352
msgid "In the <guimenu>Start Up</guimenu> tab, configure the start of the Samba server. To start the service every time your system boots, select <guimenu>During Boot</guimenu>. To activate manual start, choose <guimenu>Manually</guimenu>. More information about starting a Samba server is provided in <xref linkend=\"sec.samba.serv.start\"/>."
msgstr ""

#. (itstool) path: sect4/para
#: xml/net_samba.xml:359
msgid "In this tab, you can also open ports in your firewall. To do so, select <guimenu>Open Port in Firewall</guimenu>. If you have multiple network interfaces, select the network interface for Samba services by clicking <guimenu>Firewall Details</guimenu>, selecting the interfaces, and clicking <guimenu>OK</guimenu>."
msgstr ""

#. (itstool) path: sect4/para
#: xml/net_samba.xml:382
msgid "In the <guimenu>Shares</guimenu> tab, determine the Samba shares to activate. There are some predefined shares, like homes and printers. Use <guimenu>Toggle Status</guimenu> to switch between <guimenu>Active</guimenu> and <guimenu>Inactive</guimenu>. Click <guimenu>Add</guimenu> to add new shares and <guimenu>Delete</guimenu> to delete the selected share."
msgstr ""

#. (itstool) path: sect4/para
#: xml/net_samba.xml:402
msgid "<guimenu>Allow Users to Share Their Directories</guimenu> enables members of the group in <guimenu>Permitted Group</guimenu> to share directories they own with other users. For example, <systemitem>users</systemitem> for a local scope or <systemitem>DOMAIN\\Users</systemitem> for a domain scope. The user also must make sure that the file system permissions allow access. With <guimenu>Maximum Number of Shares</guimenu>, limit the total amount of shares that may be created. To permit access to user shares without authentication, enable <guimenu>Allow Guest Access</guimenu>."
msgstr ""

#. (itstool) path: sect4/title
#: xml/net_samba.xml:416
msgid "Identity"
msgstr ""

#. (itstool) path: sect4/para
#: xml/net_samba.xml:417
msgid "In the <guimenu>Identity</guimenu> tab, you can determine the domain with which the host is associated (<guimenu>Base Settings</guimenu>) and whether to use an alternative host name in the network (<guimenu>NetBIOS Hostname</guimenu>). It is also possible to use Microsoft Windows Internet Name Service (WINS) for name resolution. In this case, activate <guimenu>Use WINS for Hostname Resolution</guimenu> and decide whether to <guimenu>Retrieve WINS server via DHCP</guimenu>. To set expert global settings or set a user authentication source, <phrase os=\"sles;osuse\">for example LDAP instead of TDB database, </phrase>click <guimenu>Advanced Settings</guimenu>."
msgstr ""

#. (itstool) path: sect4/title
#: xml/net_samba.xml:453
msgid "Trusted Domains"
msgstr ""

#. (itstool) path: sect4/para
#: xml/net_samba.xml:454
msgid "To enable users from other domains to access your domain, make the appropriate settings in the <guimenu>Trusted Domains</guimenu> tab. To add a new domain, click <guimenu>Add</guimenu>. To remove the selected domain, click <guimenu>Delete</guimenu>."
msgstr ""

#. (itstool) path: sect4/title
#: xml/net_samba.xml:462
msgid "LDAP Settings"
msgstr ""

#. (itstool) path: sect4/para
#: xml/net_samba.xml:463
msgid "In the tab <guimenu>LDAP Settings</guimenu>, you can determine the LDAP server to use for authentication. To test the connection to your LDAP server, click <guimenu>Test Connection</guimenu>. To set expert LDAP settings or use default values, click <guimenu>Advanced Settings</guimenu>."
msgstr ""

#. (itstool) path: sect4/para
#: xml/net_samba.xml:470
msgid "For more information about LDAP configuration, see <xref linkend=\"cha.security.ldap\"/>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/net_samba.xml:479
msgid "Configuring the Server Manually"
msgstr ""

#. (itstool) path: para/indexterm
#: xml/net_samba.xml:487
#: xml/net_samba.xml:1493
msgid "<primary>configuration files</primary> <secondary>smb.conf</secondary>"
msgstr ""

#. (itstool) path: sect2/para
#: xml/net_samba.xml:480
msgid "<_:indexterm-1/> <_:indexterm-2/> <_:indexterm-3/> If you intend to use Samba as a server, install <systemitem class=\"resource\">samba</systemitem>. The main configuration file for Samba is <filename>/etc/samba/smb.conf</filename>. This file can be divided into two logical parts. The <literal>[global]</literal> section contains the central and global settings. The following default sections contain the individual file and printer shares:"
msgstr ""

#. (itstool) path: listitem/para
#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:499
#: xml/net_samba.xml:689
msgid "[homes]"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:504
msgid "[profiles]"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:509
msgid "[users]"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:514
msgid "[groups]"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:519
msgid "[printers]"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:524
msgid "[print$]"
msgstr ""

#. (itstool) path: sect2/para
#: xml/net_samba.xml:529
msgid "Using this approach, options of the shares can be set differently or globally in the <literal>[global]</literal> section, which makes the configuration file easier to understand."
msgstr ""

#. (itstool) path: sect3/title
#: xml/net_samba.xml:535
msgid "The global Section"
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:536
msgid "The following parameters of the <literal>[global]</literal> section should be modified to match the requirements of your network setup, so other machines can access your Samba server via SMB in a Windows environment."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:544
msgid "<literal>workgroup = WORKGROUP</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:547
msgid "This line assigns the Samba server to a workgroup. Replace <literal>WORKGROUP</literal> with an appropriate workgroup of your networking environment. Your Samba server appears under its DNS name unless this name has been assigned to some other machine in the network. If the DNS name is not available, set the server name using <literal>netbiosname=<replaceable>MYNAME</replaceable></literal>. For more details about this parameter, see the <systemitem>smb.conf</systemitem> man page."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:560
msgid "<literal>os level = 20</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:563
msgid "This parameter triggers whether your Samba server tries to become LMB (local master browser) for its workgroup. Choose a very low value such as <literal>2</literal> to spare the existing Windows network from any interruptions caused by a misconfigured Samba server. More information about this topic can be found in the Network Browsing chapter of the Samba 3 Howto; for more information on the Samba 3 Howto, see <xref linkend=\"sec.samba.info\"/>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:572
msgid "If no other SMB server is in your network (such as a Windows 2000 server) and you want the Samba server to keep a list of all systems present in the local environment, set the <literal>os level</literal> to a higher value (for example, <literal>65</literal>). Your Samba server is then chosen as LMB for your local network."
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:579
msgid "When changing this setting, consider carefully how this could affect an existing Windows network environment. First test the changes in an isolated network or at a noncritical time of day."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:587
msgid "<literal>wins support</literal> and <literal>wins server</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:590
msgid "To integrate your Samba server into an existing Windows network with an active WINS server, enable the <option>wins server</option> option and set its value to the IP address of that WINS server."
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:595
msgid "If your Windows machines are connected to separate subnets and need to still be aware of each other, you have to set up a WINS server. To turn a Samba server into such a WINS server, set the option <literal>wins support = Yes</literal>. Make sure that only one Samba server of the network has this setting enabled. The options <literal>wins server</literal> and <literal>wins support</literal> must never be enabled at the same time in your <filename>smb.conf</filename> file."
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:612
msgid "The following examples illustrate how a CD-ROM drive and the user directories (<literal>homes</literal>) are made available to the SMB clients."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:619
msgid "[cdrom]"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:621
msgid "To avoid having the CD-ROM drive accidentally made available, these lines are deactivated with comment marks (semicolons in this case). Remove the semicolons in the first column to share the CD-ROM drive with Samba."
msgstr ""

#. (itstool) path: example/title
#: xml/net_samba.xml:628
msgid "A CD-ROM Share"
msgstr ""

#. (itstool) path: example/screen
#: xml/net_samba.xml:629
#, no-wrap
msgid ""
"[cdrom]\n"
"       comment = Linux CD-ROM\n"
"       path = /media/cdrom\n"
"       locking = No"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:636
msgid "<option>[cdrom]</option> and <option>comment</option>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:639
msgid "The <literal>[cdrom]</literal> section entry is the name of the share that can be seen by all SMB clients on the network. An additional <literal>comment</literal> can be added to further describe the share."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:648
msgid "<option>path = /media/cdrom</option>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:651
msgid "<option>path</option> exports the directory <filename>/media/cdrom</filename>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:658
msgid "By means of a very restrictive default configuration, this kind of share is only made available to the users present on this system. If this share should be made available to everybody, add a line <literal>guest ok = yes</literal> to the configuration. This setting gives read permissions to anyone on the network. It is recommended to handle this parameter with great care. This applies even more to the use of this parameter in the <literal>[global]</literal> section."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:670
msgid "<option>[homes]</option>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:673
msgid "The <option>[homes]</option> share is of special importance here. If the user has a valid account and password for the Linux file server and his own home directory, he can be connected to it."
msgstr ""

#. (itstool) path: example/title
#: xml/net_samba.xml:679
msgid "[homes] Share"
msgstr ""

#. (itstool) path: example/screen
#: xml/net_samba.xml:680
#, no-wrap
msgid ""
"[homes]\n"
"        comment = Home Directories\n"
"        valid users = %S\n"
"        browseable = No\n"
"        read only = No\n"
"        inherit acls = Yes"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:691
msgid "As long as there is no other share using the share name of the user connecting to the SMB server, a share is dynamically generated using the <literal>[homes]</literal> share directives. The resulting name of the share is the user name."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:700
msgid "<option>valid users = %S</option>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:703
msgid "<literal>%S</literal> is replaced with the concrete name of the share when a connection has been successfully established. For a <option>[homes]</option> share, this is always the user name. As a consequence, access rights to a user's share are restricted exclusively to that user."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:713
msgid "<option>browseable = No</option>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:716
msgid "This setting makes the share invisible in the network environment."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:722
msgid "<option>read only = No</option>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:725
msgid "By default, Samba prohibits write access to any exported share by means of the <literal>read only = Yes</literal> parameter. To make a share writable, set the value <literal>read only = No</literal>, which is synonymous with <literal>writable = Yes</literal>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:734
msgid "<option>create mask = 0640</option>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:737
msgid "Systems that are not based on MS Windows NT do not understand the concept of Unix permissions, so they cannot assign permissions when creating a file. The parameter <literal>create mask</literal> defines the access permissions assigned to newly created files. This only applies to writable shares. In effect, this setting means the owner has read and write permissions and the members of the owner's primary group have read permissions. <option>valid users = %S</option> prevents read access even if the group has read permissions. For the group to have read or write access, deactivate the line <option>valid users = %S</option>."
msgstr ""

#. (itstool) path: warning/title
#: xml/net_samba.xml:756
msgid "Do not share <literal>NFS</literal> mounts with Samba"
msgstr ""

#. (itstool) path: warning/para
#: xml/net_samba.xml:757
msgid "Sharing <literal>NFS</literal> mounts with samba may result in data loss and is not supported. Install Samba directly on the file server or consider using alternatives such as <literal>iSCSI</literal>."
msgstr ""

#. (itstool) path: sect3/title
#: xml/net_samba.xml:765
msgid "Security Levels"
msgstr ""

#. (itstool) path: sect3/indexterm
#. (itstool) id: net_samba.xml#idx.Samba_security
#: xml/net_samba.xml:765
msgid "<primary>Samba</primary> <secondary>security</secondary>"
msgstr ""

#. (itstool) path: sect3/indexterm
#: xml/net_samba.xml:767
msgid "<primary>security</primary> <secondary>Samba</secondary>"
msgstr ""

#. (itstool) path: sect3/indexterm
#: xml/net_samba.xml:769
msgid "<primary>Samba</primary> <secondary>permissions</secondary>"
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:772
msgid "To improve security, each share access can be protected with a password. SMB offers the following ways of checking permissions:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:778
msgid "User Level Security (<literal>security = user</literal>)"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:780
msgid "This variant introduces the concept of the user to SMB. Each user must register with the server with his or her own password. After registration, the server can grant access to individual exported shares dependent on user names."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:802
msgid "ADS Level Security (<literal>security = ADS</literal>)"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:804
msgid "In this mode, Samba will act as a domain member in an Active Directory environment. To operate in this mode, the machine running Samba needs Kerberos installed and configured. You must join the machine using Samba to the ADS realm. This can be done using the YaST <guimenu>Windows Domain Membership</guimenu> module."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/net_samba.xml:814
msgid "Domain Level Security (<literal>security = domain</literal>)"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:816
msgid "This mode will only work correctly if the machine has been joined into a Windows NT Domain. Samba will try to validate user name and password by passing it to a Windows NT Primary or Backup Domain Controller. The same way as a Windows NT Server would do. It expects the encrypted passwords parameter to be set to <literal>yes</literal>."
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:826
msgid "The selection of share, user, server, or domain level security applies to the entire server. It is not possible to offer individual shares of a server configuration with share level security and others with user level security. However, you can run a separate Samba server for each configured IP address on a system."
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:833
msgid "More information about this subject can be found in the Samba 3 HOWTO. For multiple servers on one system, pay attention to the options <option>interfaces</option> and <option>bind interfaces only</option>."
msgstr ""

#. (itstool) path: sect1/title
#: xml/net_samba.xml:842
msgid "Configuring Clients"
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:848
msgid "Clients can only access the Samba server via TCP/IP. NetBEUI and NetBIOS via IPX cannot be used with Samba."
msgstr ""

#. (itstool) path: sect2/title
#: xml/net_samba.xml:854
msgid "Configuring a Samba Client with YaST"
msgstr ""

#. (itstool) path: sect2/indexterm
#: xml/net_samba.xml:854
msgid "<primary>YaST</primary> <secondary>Samba</secondary> <tertiary>clients</tertiary>"
msgstr ""

#. (itstool) path: sect2/indexterm
#: xml/net_samba.xml:859
msgid "<primary>configuring</primary> <secondary>Samba</secondary> <tertiary>clients</tertiary>"
msgstr ""

#. (itstool) path: sect2/para
#: xml/net_samba.xml:863
msgid "Configure a Samba client to access resources (files or printers) on the Samba or Windows server. Enter the NT or Active Directory domain or workgroup in the dialog <menuchoice> <guimenu>Network Services</guimenu> <guimenu>Windows Domain Membership</guimenu></menuchoice>. If you activate <guimenu>Also Use SMB Information for Linux Authentication</guimenu>, the user authentication runs over the Samba, NT or Kerberos server."
msgstr ""

#. (itstool) path: sect2/para
#: xml/net_samba.xml:871
msgid "Click <guimenu>Expert Settings</guimenu> for advanced configuration options. For example, use the <guimenu>Mount Server Directories</guimenu> table to enable mounting server home directory automatically with authentication. This way users can access their home directories when hosted on CIFS. For details, see the <systemitem>pam_mount</systemitem> man page."
msgstr ""

#. (itstool) path: sect2/para
#: xml/net_samba.xml:879
msgid "After completing all settings, confirm the dialog to finish the configuration."
msgstr ""

#. (itstool) path: sect1/title
#: xml/net_samba.xml:886
msgid "Samba as Login Server"
msgstr ""

#. (itstool) path: sect1/indexterm
#: xml/net_samba.xml:886
msgid "<primary>Samba</primary> <secondary>login</secondary>"
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:892
msgid "In networks where predominantly Windows clients are found, it is often preferable that users may only register with a valid account and password. In a Windows-based network, this task is handled by a primary domain controller (PDC). You can use a Windows NT server configured as PDC, but this task can also be done with a Samba server. The entries that must be made in the <literal>[global]</literal> section of <filename>smb.conf</filename> are shown in <xref linkend=\"dat.samba.smb.conf.dom\"/>."
msgstr ""

#. (itstool) path: example/title
#: xml/net_samba.xml:904
msgid "Global Section in smb.conf"
msgstr ""

#. (itstool) path: example/screen
#: xml/net_samba.xml:905
#, no-wrap
msgid ""
"[global]\n"
"    workgroup = WORKGROUP\n"
"    domain logons = Yes\n"
"    domain master = Yes"
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:911
msgid "It is necessary to prepare user accounts and passwords in an encryption format that conforms with Windows. Do this with the command <command>smbpasswd</command> <option>-a name</option>. Create the domain account for the computers, required by the Windows domain concept, with the following commands:"
msgstr ""

#. (itstool) path: sect1/screen
#: xml/net_samba.xml:919
#, no-wrap
msgid ""
"useradd hostname\\$\n"
"smbpasswd -a -m hostname"
msgstr ""

#. (itstool) path: sect1/indexterm
#: xml/net_samba.xml:920
msgid "<primary>commands</primary> <secondary>smbpasswd</secondary>"
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:926
msgid "With the <command>useradd</command> command, a dollar sign is added. The command <command>smbpasswd</command> inserts this automatically when the parameter <option>-m</option> is used. The commented configuration example (<filename>/usr/share/doc/packages/samba/examples/smb.conf.SUSE</filename>) contains settings that automate this task."
msgstr ""

#. (itstool) path: sect1/screen
#: xml/net_samba.xml:934
#, no-wrap
msgid ""
"add machine script = /usr/sbin/useradd -g nogroup -c \"NT Machine Account\" \\\n"
"-s /bin/false %m\\$\n"
"     "
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:938
msgid "To make sure that Samba can execute this script correctly, choose a Samba user with the required administrator permissions and add it to the <systemitem class=\"groupname\">ntadmin</systemitem> group. Then all users belonging to this Linux group can be assigned <literal>Domain Admin</literal> status with the command:"
msgstr ""

#. (itstool) path: sect1/screen
#: xml/net_samba.xml:946
#, no-wrap
msgid ""
"net groupmap add ntgroup=\"Domain Admins\" unixgroup=ntadmin"
msgstr ""

#. (itstool) path: sect1/title
#: xml/net_samba.xml:949
msgid "Samba Server in the Network with Active Directory"
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:951
msgid "If you run Linux servers and Windows servers together, you can build two independent authentication systems and networks or connect servers to one network with one central authentication system. Because Samba can cooperate with an active directory domain, you can join your SUSE Linux Enterprise Server to Active Directory (AD)."
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:959
msgid "To join an AD domain proceed as follows:"
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:965
msgid "Log in as <systemitem class=\"username\">root</systemitem> and start YaST."
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:970
msgid "Start <menuchoice> <guimenu>Network Services</guimenu> <guimenu>Windows Domain Membership</guimenu> </menuchoice>."
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:976
msgid "Enter the domain to join at <guimenu>Domain or Workgroup</guimenu> in the <guimenu>Windows Domain Membership</guimenu> screen."
msgstr ""

#. (itstool) path: figure/title
#: xml/net_samba.xml:981
msgid "Determining Windows Domain Membership"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/net_samba.xml:984
#: xml/net_samba.xml:987
msgctxt "_"
msgid "external ref='ad_sambaclient.png' md5='__failed__'"
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:993
msgid "Check <guimenu>Also Use SMB Information for Linux Authentication</guimenu> to use the SMB source for Linux authentication on your server."
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:999
msgid "Click <guimenu>OK</guimenu> and confirm the domain join when prompted for it."
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1005
msgid "Provide the password for the Windows Administrator on the AD server and click <guimenu>OK</guimenu>."
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1009
msgid "Your server is now set up to pull in all authentication data from the Active Directory domain controller."
msgstr ""

#. (itstool) path: tip/title
#: xml/net_samba.xml:1017
msgid "Identity Mapping"
msgstr ""

#. (itstool) path: tip/para
#: xml/net_samba.xml:1018
msgid "In an environment with more than one Samba server, UIDs and GIDs will not be created consistently. The UIDs that get assigned to users will be dependent on the order in which they first log in, which results in UID conflicts across servers. To fix this, you need to use identity mapping. See <link xlink:href=\"https://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/idmapper.html\"/> for more details."
msgstr ""

#. (itstool) path: sect1/title
#: xml/net_samba.xml:1030
msgid "Advanced Topics"
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:1032
msgid "This section introduces more advanced techniques to manage both the client and server part of the Samba suite."
msgstr ""

#. (itstool) path: sect2/title
#: xml/net_samba.xml:1038
msgid "Transparent File Compression on Btrfs"
msgstr ""

#. (itstool) path: sect2/para
#: xml/net_samba.xml:1039
msgid "Samba allows clients to remotely manipulate file and directory compression flags for shares placed on the Btrfs file system. Windows Explorer provides the ability to flag files/directories for transparent compression via the <menuchoice><guimenu>File</guimenu><guimenu>Properties</guimenu><guimenu>Advanced</guimenu></menuchoice> dialog:"
msgstr ""

#. (itstool) path: figure/title
#: xml/net_samba.xml:1047
msgid "Windows Explorer <guimenu>Advanced Attributes</guimenu> Dialog"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/net_samba.xml:1050
#: xml/net_samba.xml:1053
msgctxt "_"
msgid "external ref='samba_win_expl_advattr.png' md5='__failed__'"
msgstr ""

#. (itstool) path: sect2/para
#: xml/net_samba.xml:1057
msgid "Files flagged for compression are transparently compressed and decompressed by the underlying file system when accessed or modified. This normally results in storage capacity savings at the expense of extra CPU overhead when accessing the file. New files and directories inherit the compression flag from the parent directory, unless created with the FILE_NO_COMPRESSION option."
msgstr ""

#. (itstool) path: sect2/para
#: xml/net_samba.xml:1065
msgid "Windows Explorer presents compressed files and directories visually differently to those that are not compressed:"
msgstr ""

#. (itstool) path: figure/title
#: xml/net_samba.xml:1070
msgid "Windows Explorer Directory Listing with Compressed Files"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/net_samba.xml:1073
#: xml/net_samba.xml:1076
msgctxt "_"
msgid "external ref='samba_win_expl_view_compressed.png' md5='__failed__'"
msgstr ""

#. (itstool) path: sect2/para
#: xml/net_samba.xml:1080
msgid "You can enable Samba share compression either manually by adding"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/net_samba.xml:1083
#, no-wrap
msgid ""
"vfs objects = btrfs"
msgstr ""

#. (itstool) path: sect2/para
#: xml/net_samba.xml:1084
msgid "to the share configuration in <filename>/etc/samba/smb.conf</filename>, or using YaST: <menuchoice><guimenu>Network Services</guimenu><guimenu>Samba Server</guimenu><guimenu>Add</guimenu></menuchoice>, and checking <guimenu>Utilize Btrfs Features</guimenu>."
msgstr ""

#. (itstool) path: sect2/para
#: xml/net_samba.xml:1090
msgid "A general overview of compression on Btrfs can be found in <xref linkend=\"sec.filesystems.major.btrfs.compress\"/>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/net_samba.xml:1097
msgid "Snapshots"
msgstr ""

#. (itstool) path: sect2/para
#: xml/net_samba.xml:1098
msgid "Snapshots, also called Shadow Copies, are copies of the state of a file system subvolume at a certain point of time. Snapper is the tool to manage these snapshots in Linux. Snapshots are supported on the Btrfs file system or thin-provisioned LVM volumes. The Samba suite supports managing of remote snapshots through the FSRVP protocol on both the server and client side."
msgstr ""

#. (itstool) path: sect3/title
#: xml/net_samba.xml:1107
msgid "Previous Versions"
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:1108
msgid "Snapshots on a Samba server can be exposed to remote Windows clients as file or directory previous versions."
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:1112
msgid "To enable snapshots on a Samba server, the following conditions must be fulfilled:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:1118
msgid "The SMB network share resides on a Btrfs subvolume."
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:1123
msgid "The SMB network share path has a related snapper configuration file. You can create the snapper file with"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/net_samba.xml:1127
#, no-wrap
msgid ""
"snapper -c &lt;cfg_name&gt; create-config <option>/path/to/share</option>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:1128
msgid "For more information on snapper, see <xref linkend=\"cha.snapper\"/>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/net_samba.xml:1133
msgid "The snapshot directory tree must allow access for relevant users. For more information, see the PERMISSIONS section of the vfs_snapper manual page (<command>man 8 vfs_snapper</command>)."
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:1140
msgid "To support remote snapshots, you need to modify the <filename>/etc/samba/smb.conf</filename> file. You can do it either with <menuchoice><guimenu>YaST</guimenu><guimenu>Network Services</guimenu><guimenu>Samba Server</guimenu></menuchoice>, or manually by enhancing the relevant share section with"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/net_samba.xml:1147
#, no-wrap
msgid ""
"vfs objects = snapper"
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:1148
msgid "Note that you need to restart the Samba service for manual <filename>smb.conf</filename> changes to take effect:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/net_samba.xml:1152
#, no-wrap
msgid ""
"systemctl restart nmb smb"
msgstr ""

#. (itstool) path: figure/title
#: xml/net_samba.xml:1154
msgid "Adding a New Samba Share with Snapshotting Enabled"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/net_samba.xml:1157
#: xml/net_samba.xml:1160
msgctxt "_"
msgid "external ref='yast2_samba_snapshot.png' md5='__failed__'"
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:1164
msgid "After being configured, snapshots created by snapper for the Samba share path can be accessed from Windows Explorer from a file or directory's <guimenu>Previous Versions</guimenu> tab."
msgstr ""

#. (itstool) path: figure/title
#: xml/net_samba.xml:1170
msgid "The <guimenu>Previous Versions</guimenu> tab in Windows Explorer"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/net_samba.xml:1173
#: xml/net_samba.xml:1176
msgctxt "_"
msgid "external ref='samba_winexpl_previous_versions.png' md5='__failed__'"
msgstr ""

#. (itstool) path: sect3/title
#: xml/net_samba.xml:1182
msgid "Remote Share Snapshots"
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:1183
msgid "By default, snapshots can only be created and deleted on the Samba server locally, via the snapper command line utility, or using snapper's time line feature."
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:1188
msgid "Samba can be configured to process share snapshot creation and deletion requests from remote hosts using the File Server Remote VSS Protocol (FSRVP)."
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:1193
msgid "In addition to the configuration and prerequisites documented in <xref linkend=\"samba.advanced.snapshots.client\"/>, the following global configuration is required in <filename>/etc/samba/smb.conf</filename>:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/net_samba.xml:1198
#, no-wrap
msgid ""
"[global]\n"
"rpc_daemon:fssd = fork\n"
"registry shares = yes\n"
"include = registry"
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:1202
msgid "FSRVP clients, including Samba's <command>rpcclient</command> and Windows Server 2012 <command>DiskShadow.exe</command>, can then instruct Samba to create or delete a snapshot for a given share, and expose the snapshot as a new share."
msgstr ""

#. (itstool) path: sect3/title
#: xml/net_samba.xml:1210
msgid "Managing Snapshots Remotely from Linux with <command>rpcclient</command>"
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:1211
msgid "The <systemitem>samba-client</systemitem> package contains an FSRVP client that can remotely request a Windows/Samba server to create and expose a snapshot of a given share. You can then use existing tools in <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase> to mount the exposed share and back up its files. Requests to the server are sent using the <command>rpcclient</command> binary."
msgstr ""

#. (itstool) path: example/title
#: xml/net_samba.xml:1219
msgid "Using <command>rpcclient</command> to Request a Windows Server 2012 Share Snapshot"
msgstr ""

#. (itstool) path: example/para
#: xml/net_samba.xml:1220
msgid "Connect to <literal>win-server.example.com</literal> server as an administrator in an <literal>EXAMPLE</literal> domain:"
msgstr ""

#. (itstool) path: example/screen
#: xml/net_samba.xml:1224
#, no-wrap
msgid ""
"# rpcclient -U '<replaceable>EXAMPLE</replaceable>\\Administrator' ncacn_np:<replaceable>win-server.example.com</replaceable>[ndr64,sign]\n"
"Enter EXAMPLE/Administrator's password:"
msgstr ""

#. (itstool) path: example/para
#: xml/net_samba.xml:1226
msgid "Check that the SMB share is visible for <command>rpcclient</command>:"
msgstr ""

#. (itstool) path: example/screen
#: xml/net_samba.xml:1229
#: xml/net_samba.xml:1274
#, no-wrap
msgid ""
"rpcclient $&gt; netshareenum\n"
"netname: windows_server_2012_share\n"
"remark:\n"
"path:   C:\\Shares\\windows_server_2012_share\n"
"password:       (null)"
msgstr ""

#. (itstool) path: example/para
#: xml/net_samba.xml:1234
msgid "Check that the SMB share supports snapshot creation:"
msgstr ""

#. (itstool) path: example/screen
#: xml/net_samba.xml:1237
#, no-wrap
msgid ""
"rpcclient $&gt; fss_is_path_sup windows_server_2012_share \\\n"
"UNC \\\\WIN-SERVER\\windows_server_2012_share\\ supports shadow copy requests"
msgstr ""

#. (itstool) path: example/para
#: xml/net_samba.xml:1239
msgid "Request the creation of a share snapshot:"
msgstr ""

#. (itstool) path: example/screen
#: xml/net_samba.xml:1242
#, no-wrap
msgid ""
"rpcclient $&gt; fss_create_expose backup ro windows_server_2012_share\n"
"13fe880e-e232-493d-87e9-402f21019fb6: shadow-copy set created\n"
"13fe880e-e232-493d-87e9-402f21019fb6(1c26544e-8251-445f-be89-d1e0a3938777): \\\n"
"\\\\WIN-SERVER\\windows_server_2012_share\\ shadow-copy added to set\n"
"13fe880e-e232-493d-87e9-402f21019fb6: prepare completed in 0 secs\n"
"13fe880e-e232-493d-87e9-402f21019fb6: commit completed in 1 secs\n"
"13fe880e-e232-493d-87e9-402f21019fb6(1c26544e-8251-445f-be89-d1e0a3938777): \\\n"
"share windows_server_2012_share@{1C26544E-8251-445F-BE89-D1E0A3938777} \\\n"
"exposed as a snapshot of \\\\WIN-SERVER\\windows_server_2012_share\\"
msgstr ""

#. (itstool) path: example/para
#: xml/net_samba.xml:1251
msgid "Confirm that the snapshot share is exposed by the server:"
msgstr ""

#. (itstool) path: example/screen
#: xml/net_samba.xml:1254
#, no-wrap
msgid ""
"rpcclient $&gt; netshareenum\n"
"netname: windows_server_2012_share\n"
"remark:\n"
"path:   C:\\Shares\\windows_server_2012_share\n"
"password:       (null)\n"
"\n"
"netname: windows_server_2012_share@{1C26544E-8251-445F-BE89-D1E0A3938777}\n"
"remark: (null)\n"
"path:   \\\\?\\GLOBALROOT\\Device\\HarddiskVolumeShadowCopy{F6E6507E-F537-11E3-9404-B8AC6F927453}\\Shares\\windows_server_2012_share\\\n"
"password:       (null)"
msgstr ""

#. (itstool) path: example/para
#: xml/net_samba.xml:1264
msgid "Attempt to delete the snapshot share:"
msgstr ""

#. (itstool) path: example/screen
#: xml/net_samba.xml:1267
#, no-wrap
msgid ""
"rpcclient $&gt; fss_delete windows_server_2012_share \\\n"
"13fe880e-e232-493d-87e9-402f21019fb6 1c26544e-8251-445f-be89-d1e0a3938777\n"
"13fe880e-e232-493d-87e9-402f21019fb6(1c26544e-8251-445f-be89-d1e0a3938777): \\\n"
"\\\\WIN-SERVER\\windows_server_2012_share\\ shadow-copy deleted"
msgstr ""

#. (itstool) path: example/para
#: xml/net_samba.xml:1271
msgid "Confirm that the snapshot share has been removed by the server:"
msgstr ""

#. (itstool) path: sect3/title
#: xml/net_samba.xml:1282
msgid "Managing Snapshots Remotely from Windows with <command>DiskShadow.exe</command>"
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:1283
msgid "You can manage snapshots of SMB shares on the Linux Samba server from the Windows environment acting as a client as well. Windows Server 2012 includes the <command>DiskShadow.exe</command> utility that can manage remote shares similar to the <command>rpcclient</command> described in <xref linkend=\"samba.advanced.snapshots.client.linux\"/>. Note that you need to carefully set up the Samba server first."
msgstr ""

#. (itstool) path: sect3/para
#: xml/net_samba.xml:1291
msgid "Following is an example procedure to set up the Samba server so that the Windows Server client can manage its share's snapshots. Note that <replaceable>EXAMPLE</replaceable> is the Active Directory domain used in the testing environment, <uri>fsrvp-server.example.com</uri> is the host name of the Samba server, and <filename>/srv/smb</filename> is the path to the SMB share."
msgstr ""

#. (itstool) path: procedure/title
#: xml/net_samba.xml:1299
msgid "Detailed Samba Server Configuration"
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1301
msgid "Join Active Directory domain via YaST.<phrase os=\"sles;osuse\"> For more information, <xref linkend=\"sec.samba.adnet\"/>.</phrase>"
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1307
msgid "Ensure that the Active Domain DNS entry was correct:"
msgstr ""

#. (itstool) path: step/screen
#: xml/net_samba.xml:1310
#, no-wrap
msgid ""
"fsrvp-server:~ # net -U 'Administrator' ads dns register \\\n"
"fsrvp-server.example.com &lt;IP address&gt;\n"
"Successfully registered hostname with DNS"
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1315
msgid "Create Btrfs subvolume at <filename>/srv/smb</filename>"
msgstr ""

#. (itstool) path: step/screen
#: xml/net_samba.xml:1318
#, no-wrap
msgid ""
"fsrvp-server:~ # btrfs subvolume create /srv/smb"
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1321
msgid "Create snapper configuration file for path <filename>/srv/smb</filename>"
msgstr ""

#. (itstool) path: step/screen
#: xml/net_samba.xml:1324
#, no-wrap
msgid ""
"fsrvp-server:~ # snapper -c &lt;snapper_config&gt; create-config /srv/smb"
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1327
msgid "Create new share with path <filename>/srv/smb</filename>, and YaST <guimenu>Expose Snapshots</guimenu> check box enabled. Make sure to add the following snippets to the global section of <filename>/etc/samba/smb.conf</filename> as mentioned in <xref linkend=\"samba.advanced.snapshots.server\"/>:"
msgstr ""

#. (itstool) path: step/screen
#: xml/net_samba.xml:1334
#, no-wrap
msgid ""
"[global]\n"
" rpc_daemon:fssd = fork\n"
" registry shares = yes\n"
" include = registry"
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1340
msgid "Restart Samba with <command>systemctl restart nmb smb</command>"
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1345
msgid "Configure snapper permissions:"
msgstr ""

#. (itstool) path: step/screen
#: xml/net_samba.xml:1348
#, no-wrap
msgid ""
"fsrvp-server:~ # snapper -c &lt;snapper_config&gt; set-config \\\n"
"ALLOW_USERS=\"EXAMPLE\\\\\\\\Administrator EXAMPLE\\\\\\\\win-client$\""
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1350
msgid "Ensure that any ALLOW_USERS are also permitted traversal of the <filename>.snapshots</filename> subdirectory."
msgstr ""

#. (itstool) path: step/screen
#: xml/net_samba.xml:1354
#, no-wrap
msgid ""
"fsrvp-server:~ # snapper -c &lt;snapper_config&gt; set-config SYNC_ACL=yes"
msgstr ""

#. (itstool) path: important/title
#: xml/net_samba.xml:1356
msgid "Path Escaping"
msgstr ""

#. (itstool) path: important/para
#: xml/net_samba.xml:1357
msgid "Be careful about the '\\' escapes! Escape twice to ensure that the value stored in <filename>/etc/snapper/configs/&lt;snapper_config&gt;</filename> is escaped once."
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1364
msgid "\"EXAMPLE\\win-client$\" corresponds to the Windows client computer account. Windows issues initial FSRVP requests while authenticated with this account."
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1371
msgid "Grant Windows client account necessary privileges:"
msgstr ""

#. (itstool) path: step/screen
#: xml/net_samba.xml:1374
#, no-wrap
msgid ""
"fsrvp-server:~ # net -U 'Administrator' rpc rights grant \\\n"
"\"EXAMPLE\\\\win-client$\" SeBackupPrivilege\n"
"Successfully granted rights."
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1377
msgid "The previous command is not needed for the \"EXAMPLE\\Administrator\" user, which has privileges already granted."
msgstr ""

#. (itstool) path: procedure/title
#: xml/net_samba.xml:1384
msgid "Windows Client Setup and <command>DiskShadow.exe</command> in Action"
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1386
msgid "Boot Windows Server 2012 (example host name WIN-CLIENT)."
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1391
msgid "Join the same Active Directory domain EXAMPLE as with the <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase>."
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1396
msgid "Reboot."
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1401
msgid "Open Powershell."
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1406
msgid "Start <command>DiskShadow.exe</command> and begin the backup procedure:"
msgstr ""

#. (itstool) path: step/screen
#: xml/net_samba.xml:1409
#, no-wrap
msgid ""
"PS C:\\Users\\Administrator.EXAMPLE&gt; diskshadow.exe\n"
"Microsoft DiskShadow version 1.0\n"
"Copyright (C) 2012 Microsoft Corporation\n"
"On computer:  WIN-CLIENT,  6/17/2014 3:53:54 PM\n"
"\n"
"DISKSHADOW&gt; begin backup"
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1417
msgid "Specify that shadow copy persists across program exit, reset or reboot:"
msgstr ""

#. (itstool) path: step/screen
#: xml/net_samba.xml:1420
#, no-wrap
msgid ""
"DISKSHADOW&gt; set context PERSISTENT"
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1423
msgid "Check whether the specified share supports snapshots, and create one:"
msgstr ""

#. (itstool) path: step/screen
#: xml/net_samba.xml:1426
#, no-wrap
msgid ""
"DISKSHADOW&gt; add volume \\\\fsrvp-server\\sles_snapper\n"
"\n"
"DISKSHADOW&gt; create\n"
"Alias VSS_SHADOW_1 for shadow ID {de4ddca4-4978-4805-8776-cdf82d190a4a} set as \\\n"
" environment variable.\n"
"Alias VSS_SHADOW_SET for shadow set ID {c58e1452-c554-400e-a266-d11d5c837cb1} \\\n"
" set as environment variable.\n"
"\n"
"Querying all shadow copies with the shadow copy set ID \\\n"
" {c58e1452-c554-400e-a266-d11d5c837cb1}\n"
"\n"
" * Shadow copy ID = {de4ddca4-4978-4805-8776-cdf82d190a4a}     %VSS_SHADOW_1%\n"
"    - Shadow copy set: {c58e1452-c554-400e-a266-d11d5c837cb1}  %VSS_SHADOW_SET%\n"
"    - Original count of shadow copies = 1\n"
"    - Original volume name: \\\\FSRVP-SERVER\\SLES_SNAPPER\\ \\\n"
"      [volume not on this machine]\n"
"    - Creation time: 6/17/2014 3:54:43 PM\n"
"    - Shadow copy device name:\n"
"      \\\\FSRVP-SERVER\\SLES_SNAPPER@{31afd84a-44a7-41be-b9b0-751898756faa}\n"
"    - Originating machine: FSRVP-SERVER\n"
"    - Service machine: win-client.example.com\n"
"    - Not exposed\n"
"    - Provider ID: {89300202-3cec-4981-9171-19f59559e0f2}\n"
"    - Attributes:  No_Auto_Release Persistent FileShare\n"
"\n"
"Number of shadow copies listed: 1"
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1454
msgid "Finish the backup procedure:"
msgstr ""

#. (itstool) path: step/screen
#: xml/net_samba.xml:1457
#, no-wrap
msgid ""
"DISKSHADOW&gt; end backup"
msgstr ""

#. (itstool) path: step/para
#: xml/net_samba.xml:1460
msgid "After the snapshot was created, try to delete it and verify the deletion:"
msgstr ""

#. (itstool) path: step/screen
#: xml/net_samba.xml:1464
#, no-wrap
msgid ""
"DISKSHADOW&gt; delete shadows volume \\\\FSRVP-SERVER\\SLES_SNAPPER\\\n"
"Deleting shadow copy {de4ddca4-4978-4805-8776-cdf82d190a4a} on volume \\\n"
" \\\\FSRVP-SERVER\\SLES_SNAPPER\\ from provider \\\n"
"{89300202-3cec-4981-9171-19f59559e0f2} [Attributes: 0x04000009]...\n"
"\n"
"Number of shadow copies deleted: 1\n"
"\n"
"DISKSHADOW&gt; list shadows all\n"
"\n"
"Querying all shadow copies on the computer ...\n"
"No shadow copies found in system."
msgstr ""

#. (itstool) path: sect1/title
#: xml/net_samba.xml:1481
msgid "For More Information"
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:1483
msgid "Documentation for Samba ships with the <systemitem>samba-doc</systemitem> package which is not installed by default. Install it with <command>zypper install samba-doc</command>. Enter <command>apropos</command> <option>samba</option> at the command line to display some manual pages or browse the <filename>/usr/share/doc/packages/samba</filename> directory for more online documentation and examples. Find a commented example configuration (<filename>smb.conf.SUSE</filename>) in the <filename>examples</filename> subdirectory. Another file to look for Samba related information is <filename>/usr/share/doc/packages/samba/README.SUSE</filename>. <_:indexterm-1/>"
msgstr ""

#. (itstool) path: sect1/para
#: xml/net_samba.xml:1499
msgid "The Samba HOWTO (see <link xlink:href=\"https://wiki.samba.org\"/>) provided by the Samba team includes a section about troubleshooting. In addition to that, Part V of the document provides a step-by-step guide to checking your configuration."
msgstr ""

