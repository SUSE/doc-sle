msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2018-08-18 22:27+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Put one translator per line, in the form NAME <EMAIL>, YEAR1, YEAR2
msgctxt "_"
msgid "translator-credits"
msgstr ""

#. (itstool) path: chapter/title
#: xml/qemu_guest_installation.xml:9
msgid "Guest Installation"
msgstr ""

#. (itstool) path: chapter/para
#: xml/qemu_guest_installation.xml:15
msgid "The <systemitem class=\"library\">libvirt</systemitem>-based tools such as <command>virt-manager</command> and <command>virt-install</command> offer convenient interfaces to set up and manage virtual machines. They act as a kind of wrapper for the <command>qemu-system-ARCH</command>command. However, it is also possible to use <command>qemu-system-ARCH</command> directly without using <systemitem class=\"library\">libvirt</systemitem>-based tools."
msgstr ""

#. (itstool) path: warning/title
#: xml/qemu_guest_installation.xml:25
msgid "<command>qemu-system-ARCH</command> and libvirt"
msgstr ""

#. (itstool) path: warning/para
#: xml/qemu_guest_installation.xml:26
msgid "<xref linkend=\"gloss.vt.vm\"/>s created with <command>qemu-system-ARCH</command> are not \"visible\" for the <systemitem class=\"library\">libvirt</systemitem>-based tools."
msgstr ""

#. (itstool) path: sect1/title
#: xml/qemu_guest_installation.xml:33
msgid "Basic Installation with <command>qemu-system-ARCH</command>"
msgstr ""

#. (itstool) path: sect1/para
#: xml/qemu_guest_installation.xml:35
msgid "In the following example, a virtual machine for a SUSE Linux Enterprise Server 11 installation is created. For detailed information on the commands, refer to the respective man pages."
msgstr ""

#. (itstool) path: sect1/para
#: xml/qemu_guest_installation.xml:41
msgid "If you do not already have an image of a system that you want to run in a virtualized environment, you need to create one from the installation media. In such case, you need to prepare a hard disk image, and obtain an image of the installation media or the media itself."
msgstr ""

#. (itstool) path: sect1/para
#: xml/qemu_guest_installation.xml:48
msgid "Create a hard disk with <command>qemu-img</command>."
msgstr ""

#. (itstool) path: sect1/screen
#: xml/qemu_guest_installation.xml:52
#, no-wrap
msgid ""
"qemu-img create<co xml:id=\"co.qemu-img.create\"/> -f raw<co xml:id=\"co.qemu-img.format\"/> /images/sles/hda<co xml:id=\"co.qemu-img.path\"/> 8G<co xml:id=\"co.qemu-img.size\"/>"
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:56
msgid "The subcommand <option>create</option> tells <command>qemu-img</command> to create a new image."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:62
msgid "Specify the disk's format with the <option>-f</option> parameter."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:67
msgid "The full path to the image file."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:72
msgid "The size of the imageâ€”8 GB in this case. The image is created as a <xref linkend=\"gloss.vt.storage.sparse\"/> file that grows when the disk is filled with data. The specified size defines the maximum size to which the image file can grow."
msgstr ""

#. (itstool) path: sect1/para
#: xml/qemu_guest_installation.xml:81
msgid "After at least one hard disk image is created, you can set up a virtual machine with <command>qemu-system-ARCH</command> that will boot into the installation system:"
msgstr ""

#. (itstool) path: sect1/screen
#: xml/qemu_guest_installation.xml:87
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt>qemu-system-x86_64 -name \"sles\"<co xml:id=\"co.qemu-kvn.name\"/>-machine accel=kvm -M pc<co xml:id=\"co.qemu-kvm.type\"/> -m 768<co xml:id=\"co.qemu-kvm.memory\"/> \\\n"
"-smp 2<co xml:id=\"co.qemu-kvm.cpu\"/> -boot d<co xml:id=\"co.qemu-kvm.boot\"/> \\\n"
"-drive file=/images/sles/hda,if=virtio,index=0,media=disk,format=raw<co xml:id=\"co.qemu-kvm.hdd\"/> \\\n"
"-drive file=/isos/SLES-11-SP3-DVD-x86_64-GM-DVD1.iso,index=1,media=cdrom<co xml:id=\"co.qemu-kvm.cdrom\"/> \\\n"
"-net nic,model=virtio,macaddr=52:54:00:05:11:11<co xml:id=\"co.qemu-kvm.nic\"/> -net user \\\n"
"-vga cirrus<co xml:id=\"co.qemu-kvm.gfx\"/> -balloon virtio<co xml:id=\"co.qemu-kvm.balloon\"/>"
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:96
msgid "Name of the virtual machine that will be displayed in the window caption and be used for the VNC server. This name must be unique."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:102
msgid "Specifies the machine type. Use <command>qemu-system-ARCH</command> <option>-M ?</option> to display a list of valid parameters. <literal>pc</literal> is the default <guimenu>Standard PC</guimenu>."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:109
msgid "Maximum amount of memory for the virtual machine."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:114
msgid "Defines an SMP system with two processors."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:119
msgid "Specifies the boot order. Valid values are <literal>a</literal>, <literal>b</literal> (floppy 1 and 2), <literal>c</literal> (first hard disk), d<literal/> (first CD-ROM), or <literal>n</literal> to <literal>p</literal> (Ether-boot from network adapter 1-3). Defaults to <literal>c</literal>."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:128
msgid "Defines the first (<literal>index=0</literal>) hard disk. It will be accessed as a paravirtualized (<literal>if=virtio</literal>) drive in <literal>raw</literal> format."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:135
msgid "The second (<literal>index=1</literal>) image drive will act as a CD-ROM."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:140
msgid "Defines a paravirtualized (<literal>model=virtio</literal>) network adapter with the MAC address <literal>52:54:00:05:11:11</literal>. Be sure to specify a unique MAC address, otherwise a network conflict may occur."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:147
msgid "Specifies the graphic card. If you specify <literal>none</literal>, the graphic card will be disabled."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:153
msgid "Defines the paravirtualized balloon device that allows to dynamically change the amount of memory (up to the maximum value specified with the parameter <option>-m</option>)."
msgstr ""

#. (itstool) path: sect1/para
#: xml/qemu_guest_installation.xml:161
msgid "After the installation of the guest operating system finishes, you can start the related virtual machine without the need to specify the CD-ROM device:"
msgstr ""

#. (itstool) path: sect1/screen
#: xml/qemu_guest_installation.xml:167
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt>qemu-system-x86_64 -name \"sles\" -machine type=pc,accel=kvm -m 768 \\\n"
"-smp 2 -boot c \\\n"
"-drive file=/images/sles/hda,if=virtio,index=0,media=disk,format=raw \\\n"
"-net nic,model=virtio,macaddr=52:54:00:05:11:11 \\\n"
"-vga cirrus -balloon virtio\n"
""
msgstr ""

#. (itstool) path: sect1/title
#: xml/qemu_guest_installation.xml:175
msgid "Managing Disk Images with <command>qemu-img</command>"
msgstr ""

#. (itstool) path: sect1/para
#: xml/qemu_guest_installation.xml:177
msgid "In the previous section (see <xref linkend=\"cha.qemu.guest_inst.qemu-kvm\"/>), we used the <command>qemu-img</command> command to create an image of a hard disk. You can, however, use <command>qemu-img</command> for general disk image manipulation. This section introduces <command>qemu-img</command> subcommands to help manage the disk images flexibly."
msgstr ""

#. (itstool) path: sect2/title
#: xml/qemu_guest_installation.xml:187
msgid "General Information on qemu-img Invocation"
msgstr ""

#. (itstool) path: sect2/para
#: xml/qemu_guest_installation.xml:188
msgid "<command>qemu-img</command> uses subcommands (like <command>zypper</command> does) to do specific tasks. Each subcommand understands a different set of options. Some options are general and used by more of these subcommands, while some are unique to the related subcommand. See the qemu-img manual page (<command>man 1 qemu-img</command>) for a list of all supported options. <command>qemu-img</command> uses the following general syntax:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/qemu_guest_installation.xml:197
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img subcommand [options]"
msgstr ""

#. (itstool) path: sect2/para
#: xml/qemu_guest_installation.xml:198
msgid "and supports the following subcommands:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/qemu_guest_installation.xml:203
msgid "<literal>create</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:206
msgid "Creates a new disk image on the file system."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/qemu_guest_installation.xml:212
msgid "<literal>check</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:215
msgid "Checks an existing disk image for errors."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/qemu_guest_installation.xml:221
msgid "<literal>compare</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:224
msgid "Check if two images have the same content."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/qemu_guest_installation.xml:230
msgid "<literal>map</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:233
msgid "Dumps the metadata of the image file name and its backing file chain."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/qemu_guest_installation.xml:239
msgid "<literal>amend</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:242
msgid "Amends the image format specific options for the image file name."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/qemu_guest_installation.xml:248
msgid "<literal>convert</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:251
msgid "Converts an existing disk image to a new one in a different format."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/qemu_guest_installation.xml:257
msgid "<literal>info</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:260
msgid "Displays information about the relevant disk image."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/qemu_guest_installation.xml:266
msgid "<literal>snapshot</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:269
msgid "Manages snapshots of existing disk images."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/qemu_guest_installation.xml:275
msgid "<literal>commit</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:278
msgid "Applies changes made to an existing disk image."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/qemu_guest_installation.xml:284
msgid "<literal>rebase</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:287
msgid "Creates a new base image based on an existing image."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/qemu_guest_installation.xml:293
msgid "<literal>resize</literal>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:296
msgid "Increases or decreases the size of an existing image."
msgstr ""

#. (itstool) path: sect2/title
#: xml/qemu_guest_installation.xml:305
msgid "Creating, Converting and Checking Disk Images"
msgstr ""

#. (itstool) path: sect2/para
#: xml/qemu_guest_installation.xml:306
msgid "This section describes how to create disk images, check their condition, convert a disk image from one format to another, and get detailed information about a particular disk image."
msgstr ""

#. (itstool) path: sect3/title
#: xml/qemu_guest_installation.xml:312
msgid "qemu-img create"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:313
msgid "Use <command>qemu-img create</command> to create a new disk image for your VM Guest operating system. The command uses the following syntax:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:317
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img create -f fmt<co xml:id=\"co.qemu_img.create.f\"/> -o options<co xml:id=\"co.qemu_img.create.o\"/> fname<co xml:id=\"co.qemu_img.create.filename\"/> size<co xml:id=\"co.qemu_img.create.size\"/>"
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:320
msgid "The format of the target image. Supported formats are <literal>qed</literal>, <literal>qcow2</literal>, and <literal>raw</literal>."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:327
msgid "Some image formats support additional options to be passed on the command line. You can specify them here with the <literal>-o</literal> option. The <literal>raw</literal> image format supports only the <literal>size</literal> option, so it is possible to insert <literal>-o size=8G</literal> instead of adding the size option at the end of the command."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:337
msgid "Path to the target disk image to be created."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:342
msgid "Size of the target disk image (if not already specified with the <literal>-o size=&lt;image_size&gt;</literal> option. Optional suffixes for the image size are <literal>K</literal> (kilobyte), <literal>M</literal> (megabyte), <literal>G</literal> (gigabyte), or <literal>T</literal> (terabyte)."
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:351
msgid "To create a new disk image <filename>sles.raw</filename> in the directory <filename>/images</filename> growing up to a maximum size of 4 GB, run the following command:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:356
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img create -f raw -o size=4G /images/sles.raw\n"
"Formatting '/images/sles.raw', fmt=raw size=4294967296\n"
"\n"
"<prompt>tux &gt; </prompt>ls -l /images/sles.raw\n"
"-rw-r--r-- 1 tux users 4294967296 Nov 15 15:56 /images/sles.raw\n"
"\n"
"<prompt>tux &gt; </prompt>qemu-img info /images/sles.raw\n"
"image: /images/sles11.raw\n"
"file format: raw\n"
"virtual size: 4.0G (4294967296 bytes)\n"
"disk size: 0\n"
""
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:368
msgid "As you can see, the <emphasis>virtual</emphasis> size of the newly created image is 4 GB, but the actual reported disk size is 0 as no data has been written to the image yet."
msgstr ""

#. (itstool) path: tip/title
#: xml/qemu_guest_installation.xml:374
msgid "VM Guest Images on the Btrfs File System"
msgstr ""

#. (itstool) path: tip/para
#: xml/qemu_guest_installation.xml:375
msgid "If you need to create a disk image on the Btrfs file system, you can use <option>nocow=on</option> to reduce the performance overhead created by the copy-on-write feature of Btrfs:"
msgstr ""

#. (itstool) path: tip/screen
#: xml/qemu_guest_installation.xml:380
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img create -o nocow=on test.img 8G"
msgstr ""

#. (itstool) path: tip/para
#: xml/qemu_guest_installation.xml:381
msgid "If you, however, want to use copy-on-write (for example for creating snapshots or sharing them across virtual machines), then leave the command line without the <option>nocow</option> option."
msgstr ""

#. (itstool) path: sect3/title
#: xml/qemu_guest_installation.xml:389
msgid "qemu-img convert"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:390
msgid "Use <command>qemu-img convert</command> to convert disk images to another format. To get a complete list of image formats supported by QEMU, run <command>qemu-img</command> <option>-h</option> and look at the last line of the output. The command uses the following syntax:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:396
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img convert -c<co xml:id=\"co.qemu_img.convert.c\"/> -f fmt<co xml:id=\"co.qemu_img.convert.fmt\"/> -O out_fmt<co xml:id=\"co.qemu_img.convert.ofmt\"/> -o options<co xml:id=\"co.qemu_img.convert.o\"/> fname<co xml:id=\"co.qemu_img.convert.fname\"/> out_fname<co xml:id=\"co.qemu_img.convert.ofname\"/>"
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:399
msgid "Applies compression on the target disk image. Only <literal>qcow</literal> and <literal>qcow2</literal> formats support compression."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:406
#: xml/qemu_guest_installation.xml:467
msgid "The format of the source disk image. It is usually autodetected and can therefore be omitted."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:412
msgid "The format of the target disk image."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:417
msgid "Specify additional options relevant for the target image format. Use <literal>-o ?</literal> to view the list of options supported by the target image format."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:424
msgid "Path to the source disk image to be converted."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:429
msgid "Path to the converted target disk image."
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:434
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img convert -O vmdk /images/sles.raw \\\n"
"/images/sles.vmdk\n"
"\n"
"<prompt>tux &gt; </prompt>ls -l /images/\n"
"-rw-r--r-- 1 tux users 4294967296 16.Â lis 10.50 sles.raw\n"
"-rw-r--r-- 1 tux users 2574450688 16.Â lis 14.18 sles.vmdk\n"
""
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:441
msgid "To see a list of options relevant for the selected target image format, run the following command (replace <literal>vmdk</literal> with your image format):"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:446
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img convert -O vmdk /images/sles.raw \\\n"
"/images/sles.vmdk -o ?\n"
"Supported options:\n"
"size             Virtual disk size\n"
"backing_file     File name of a base image\n"
"compat6          VMDK version 6 image\n"
"subformat        VMDK flat extent format, can be one of {monolithicSparse \\\n"
"    (default) | monolithicFlat | twoGbMaxExtentSparse | twoGbMaxExtentFlat}\n"
"scsi             SCSI image\n"
""
msgstr ""

#. (itstool) path: sect3/title
#: xml/qemu_guest_installation.xml:458
msgid "qemu-img check"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:459
msgid "Use <command>qemu-img check</command> to check the existing disk image for errors. Not all disk image formats support this feature. The command uses the following syntax:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:464
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img check -f fmt<co xml:id=\"co.qemu_img.check.fmt\"/> fname<co xml:id=\"co.qemu_img.check.fname\"/>"
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:473
msgid "Path to the source disk image to be checked."
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:478
msgid "If no error is found, the command returns no output. Otherwise, the type and number of errors found is shown."
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:482
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img check -f qcow2 /images/sles.qcow2\n"
"ERROR: invalid cluster offset=0x2af0000\n"
"[...]\n"
"ERROR: invalid cluster offset=0x34ab0000\n"
"378 errors were found on the image.\n"
""
msgstr ""

#. (itstool) path: sect3/title
#: xml/qemu_guest_installation.xml:490
msgid "Increasing the Size of an Existing Disk Image"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:491
msgid "When creating a new image, you must specify its maximum size before the image is created (see <xref linkend=\"cha.qemu.guest_inst.qemu-img.create.create\"/>). After you have installed the VM Guest and have been using it for some time, the initial size of the image may no longer be sufficient. In that case, add more space to it."
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:499
msgid "To increase the size of an existing disk image by 2Â gigabytes, use:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:502
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img resize /images/sles.raw +2GB"
msgstr ""

#. (itstool) path: note/para
#: xml/qemu_guest_installation.xml:504
msgid "You can resize the disk image using the formats <literal>raw</literal>, <literal>qcow2</literal> and <literal>qed</literal>. To resize an image in another format, convert it to a supported format with <command>qemu-img convert</command> first."
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:511
msgid "The image now contains an empty space of 2Â GB after the final partition. You can resize the existing partitions or add new ones."
msgstr ""

#. (itstool) path: figure/title
#: xml/qemu_guest_installation.xml:516
msgid "New 2Â GB Partition in Guest YaST Partitioner"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/qemu_guest_installation.xml:519
#: xml/qemu_guest_installation.xml:522
msgctxt "_"
msgid "external ref='qemu_guest_partman.png' md5='__failed__'"
msgstr ""

#. (itstool) path: sect3/title
#: xml/qemu_guest_installation.xml:528
msgid "Advanced Options for the qcow2 File Format"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:529
msgid "<emphasis>qcow2</emphasis> is the main disk image format used by QEMU. Its size grows on demand, and the disk space is only allocated when it is actually needed by the virtual machine."
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:534
msgid "A qcow2 formatted file is organized in units of constant size. These units are called <emphasis>clusters</emphasis>. Viewed from the guest side, the virtual disk is also divided into clusters of the same size. QEMU defaults to 64Â kB clusters, but you can specify a different value when creating a new image:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:541
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img create -f qcow2 -o cluster_size=128K virt_disk.qcow2 4G"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:542
msgid "A qcow2 image contains a set of tables organized in two levels that are called the L1 and L2 tables. There is just one L1 table per disk image, while there can be many L2 tables depending on how big the image is."
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:547
msgid "To read or write data to the virtual disk, QEMU needs to read its corresponding L2 table to find out the relevant data location. Because reading the table for each I/O operation consumes system resources, QEMU keeps a cache of L2 tables in memory to speed up disk access."
msgstr ""

#. (itstool) path: sect4/title
#: xml/qemu_guest_installation.xml:554
msgid "Choosing the Right Cache Size"
msgstr ""

#. (itstool) path: sect4/para
#: xml/qemu_guest_installation.xml:555
msgid "The cache size relates to the amount of allocated space. L2 cache can map the following amount of virtual disk:"
msgstr ""

#. (itstool) path: sect4/screen
#: xml/qemu_guest_installation.xml:559
#, no-wrap
msgid ""
"disk_size = l2_cache_size * cluster_size / 8"
msgstr ""

#. (itstool) path: sect4/para
#: xml/qemu_guest_installation.xml:560
msgid "With the default 64Â kB of cluster size, that is"
msgstr ""

#. (itstool) path: sect4/screen
#: xml/qemu_guest_installation.xml:563
#, no-wrap
msgid ""
"disk_size = l2_cache_size * 8192"
msgstr ""

#. (itstool) path: sect4/para
#: xml/qemu_guest_installation.xml:564
msgid "Therefore, to have a cache that maps <literal>n</literal> gigabytes of disk space with the default cluster size, you need"
msgstr ""

#. (itstool) path: sect4/screen
#: xml/qemu_guest_installation.xml:569
#, no-wrap
msgid ""
"l2_cache_size = disk_size_GB * 131072"
msgstr ""

#. (itstool) path: sect4/para
#: xml/qemu_guest_installation.xml:570
msgid "QEMU uses 1Â MB (1048576 bytes) of L2 cache by default. Following the above formulas, 1Â MB of L2 cache covers 8Â GB (1048576 / 131072) of virtual disk. This means that the performance is fine with the default L2 cache size if your virtual disk size is up to 8Â GB. For larger disks, you can speed up the disk access by increasing the L2 cache size."
msgstr ""

#. (itstool) path: sect4/title
#: xml/qemu_guest_installation.xml:580
msgid "Configuring the Cache Size"
msgstr ""

#. (itstool) path: sect4/para
#: xml/qemu_guest_installation.xml:581
msgid "You can use the <option>-drive</option> option on the QEMU command line to specify the cache sizes. Alternatively when communicating via QMP, use the <command>blockdev-add</command> command. For more information on QMP, see <xref linkend=\"qemu.monitor.qmp\"/>."
msgstr ""

#. (itstool) path: sect4/para
#: xml/qemu_guest_installation.xml:587
msgid "The following options configure the cache size for the virtual guest:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/qemu_guest_installation.xml:592
msgid "l2-cache-size"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:594
msgid "The maximum size of the L2 table cache."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/qemu_guest_installation.xml:600
msgid "refcount-cache-size"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:602
msgid "The maximum size of the <emphasis>refcount</emphasis> block cache. For more information on <emphasis>refcount</emphasis>, see <link xlink:href=\"https://github.com/qemu/qemu/blob/master/docs/specs/qcow2.txt\"/>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/qemu_guest_installation.xml:610
msgid "cache-size"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:612
msgid "The maximum size of both caches combined."
msgstr ""

#. (itstool) path: sect4/para
#: xml/qemu_guest_installation.xml:618
msgid "When specifying values for the options above, be aware of the following:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:623
msgid "The size of both the L2 and refcount block caches needs to be a multiple of the cluster size."
msgstr ""

#. (itstool) path: listitem/para
#: xml/qemu_guest_installation.xml:629
msgid "If you only set one of the options, QEMU will automatically adjust the other options so that the L2 cache is 4 times bigger than the refcount cache."
msgstr ""

#. (itstool) path: sect4/para
#: xml/qemu_guest_installation.xml:636
msgid "The refcount cache is used much less often than the L2 cache, therefore you can keep it relatively small:"
msgstr ""

#. (itstool) path: sect4/screen
#: xml/qemu_guest_installation.xml:640
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt>qemu-system-ARCH [...] \\\n"
" -drive file=disk_image.qcow2,l2-cache-size=4194304,refcount-cache-size=262144"
msgstr ""

#. (itstool) path: sect4/title
#: xml/qemu_guest_installation.xml:644
msgid "Reducing the Memory Usage"
msgstr ""

#. (itstool) path: sect4/para
#: xml/qemu_guest_installation.xml:645
msgid "The larger the cache, the more memory it consumes. There is a separate L2 cache for each qcow2 file. When using a lot of big disk images, you will probably need a considerably large amount of memory. Memory consumption is even worse if you add backing files (<xref linkend=\"cha.qemu.guest_inst.qemu-img.effect\"/>) and snapshots (see <xref linkend=\"cha.qemu.guest_inst.qemu-img.snapshots\"/>) to the guest's setup chain."
msgstr ""

#. (itstool) path: sect4/para
#: xml/qemu_guest_installation.xml:654
msgid "That is why QEMU introduced the <option>cache-clean-interval</option> setting. It defines an interval in seconds after which all cache entries that have not been accessed are removed from memory."
msgstr ""

#. (itstool) path: sect4/para
#: xml/qemu_guest_installation.xml:659
msgid "The following example removes all unused cache entries every 10 minutes:"
msgstr ""

#. (itstool) path: sect4/screen
#: xml/qemu_guest_installation.xml:662
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt>qemu-system-ARCH [...] -drive file=hd.qcow2,cache-clean-interval=600"
msgstr ""

#. (itstool) path: sect4/para
#: xml/qemu_guest_installation.xml:663
msgid "If this option is not set, the default value is 0 and it disables this feature."
msgstr ""

#. (itstool) path: sect2/title
#: xml/qemu_guest_installation.xml:672
msgid "Managing Snapshots of Virtual Machines with qemu-img"
msgstr ""

#. (itstool) path: sect2/para
#: xml/qemu_guest_installation.xml:673
msgid "<xref linkend=\"gloss.vt.vm\"/> snapshots are snapshots of the complete environment in which a VM Guest is running. The snapshot includes the state of the processor (CPU), memory (RAM), devices, and all writable disks."
msgstr ""

#. (itstool) path: sect2/para
#: xml/qemu_guest_installation.xml:679
msgid "Snapshots are helpful when you need to save your virtual machine in a particular state. For example, after you configured network services on a virtualized server and want to quickly start the virtual machine in the same state you last saved it. Or you can create a snapshot after the virtual machine has been powered off to create a backup state before you try something experimental and possibly make VM Guest unstable. This section introduces the latter case, while the former is described in <xref linkend=\"cha.qemu.monitor\"/>."
msgstr ""

#. (itstool) path: sect2/para
#: xml/qemu_guest_installation.xml:689
msgid "To use snapshots, your VM Guest must contain at least one writable hard disk image in <literal>qcow2</literal> format. This device is usually the first virtual hard disk."
msgstr ""

#. (itstool) path: sect2/para
#: xml/qemu_guest_installation.xml:694
msgid "<xref linkend=\"gloss.vt.vm\"/> snapshots are created with the <literal>savevm</literal> command in the interactive QEMU monitor. To make identifying a particular snapshot easier, you can assign it a <emphasis>tag</emphasis>. For more information on QEMU monitor, see <xref linkend=\"cha.qemu.monitor\"/>."
msgstr ""

#. (itstool) path: sect2/para
#: xml/qemu_guest_installation.xml:701
msgid "Once your <literal>qcow2</literal> disk image contains saved snapshots, you can inspect them with the <command>qemu-img snapshot</command> command."
msgstr ""

#. (itstool) path: warning/title
#: xml/qemu_guest_installation.xml:706
msgid "Shut Down the VM Guest"
msgstr ""

#. (itstool) path: warning/para
#: xml/qemu_guest_installation.xml:707
msgid "Do not create or delete virtual machine snapshots with the <command>qemu-img snapshot</command> command while the virtual machine is running. Otherwise, you may damage the disk image with the state of the virtual machine saved."
msgstr ""

#. (itstool) path: sect3/title
#: xml/qemu_guest_installation.xml:715
msgid "Listing Existing Snapshots"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:716
msgid "Use <command>qemu-img snapshot -l</command> <replaceable>DISK_IMAGE</replaceable> to view a list of all existing snapshots saved in the <literal>disk_image</literal> image. You can get the list even while the VM Guest is running."
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:722
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img snapshot -l /images/sles.qcow2\n"
"Snapshot list:\n"
"ID<co xml:id=\"co.qemu_img.snapshot.l.id\"/>       TAG<co xml:id=\"co.qemu_img.snapshot.l.tag\"/>               VM SIZE<co xml:id=\"co.qemu_img.snapshot.l.size\"/>        DATE<co xml:id=\"co.qemu_img.snapshot.l.date\"/>          VM CLOCK<co xml:id=\"co.qemu_img.snapshot.l.clock\"/>\n"
"1         booting                4.4M 2013-11-22 10:51:10   00:00:20.476\n"
"2         booted                 184M 2013-11-22 10:53:03   00:02:05.394\n"
"3         logged_in              273M 2013-11-22 11:00:25   00:04:34.843\n"
"4         ff_and_term_running    372M 2013-11-22 11:12:27   00:08:44.965"
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:731
msgid "Unique identification number of the snapshot. Usually auto-incremented."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:736
msgid "Unique description string of the snapshot. It is meant as a human-readable version of the ID."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:742
msgid "The disk space occupied by the snapshot. Note that the more memory is consumed by running applications, the bigger the snapshot is."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:748
msgid "Time and date the snapshot was created."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:753
msgid "The current state of the virtual machine's clock."
msgstr ""

#. (itstool) path: sect3/title
#: xml/qemu_guest_installation.xml:760
msgid "Creating Snapshots of a Powered-Off Virtual Machine"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:761
msgid "Use <command>qemu-img snapshot -c</command> <replaceable>SNAPSHOT_TITLE</replaceable> <replaceable>DISK_IMAGE</replaceable> to create a snapshot of the current state of a virtual machine that was previously powered off."
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:767
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img snapshot -c backup_snapshot /images/sles.qcow2"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:768
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img snapshot -l /images/sles.qcow2\n"
"Snapshot list:\n"
"ID        TAG                 VM SIZE                DATE       VM CLOCK\n"
"1         booting                4.4M 2013-11-22 10:51:10   00:00:20.476\n"
"2         booted                 184M 2013-11-22 10:53:03   00:02:05.394\n"
"3         logged_in              273M 2013-11-22 11:00:25   00:04:34.843\n"
"4         ff_and_term_running    372M 2013-11-22 11:12:27   00:08:44.965\n"
"5         backup_snapshot           0 2013-11-22 14:14:00   00:00:00.000"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:776
msgid "If something breaks in your VM Guest and you need to restore the state of the saved snapshot (ID 5 in our example), power off your VM Guest and execute the following command:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:781
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img snapshot -a 5 /images/sles.qcow2"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:782
msgid "The next time you run the virtual machine with <command>qemu-system-ARCH</command>, it will be in the state of snapshot number 5."
msgstr ""

#. (itstool) path: note/para
#: xml/qemu_guest_installation.xml:788
msgid "The <command>qemu-img snapshot -c</command> command is not related to the <literal>savevm</literal> command of QEMU monitor (see <xref linkend=\"cha.qemu.monitor\"/>). For example, you cannot apply a snapshot with <command>qemu-img snapshot -a</command> on a snapshot created with <literal>savevm</literal> in QEMU's monitor."
msgstr ""

#. (itstool) path: sect3/title
#: xml/qemu_guest_installation.xml:798
msgid "Deleting Snapshots"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:799
msgid "Use <command>qemu-img snapshot -d</command> <replaceable>SNAPSHOT_ID</replaceable> <replaceable>DISK_IMAGE</replaceable> to delete old or unneeded snapshots of a virtual machine. This saves some disk space inside the <literal>qcow2</literal> disk image as the space occupied by the snapshot data is restored:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:807
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img snapshot -d 2 /images/sles.qcow2"
msgstr ""

#. (itstool) path: sect2/title
#: xml/qemu_guest_installation.xml:812
msgid "Manipulate Disk Images Effectively"
msgstr ""

#. (itstool) path: sect2/para
#: xml/qemu_guest_installation.xml:813
msgid "Imagine the following real-life situation: you are a server administrator who runs and manages several virtualized operating systems. One group of these systems is based on one specific distribution, while another group (or groups) is based on different versions of the distribution or even on a different (and maybe non-Unix) platform. To make the case even more complex, individual virtual guest systems based on the same distribution usually differ according to the department and deployment. A file server typically uses a different setup and services than a Web server does, while both may still be based on <phrase os=\"sles;sled\">SUSEÂ® Linux Enterprise Server</phrase><phrase os=\"osuse\">openSUSE</phrase>."
msgstr ""

#. (itstool) path: sect2/para
#: xml/qemu_guest_installation.xml:825
msgid "With QEMU it is possible to create <quote>base</quote> disk images. You can use them as template virtual machines. These base images will save you plenty of time because you will never need to install the same operating system more than once."
msgstr ""

#. (itstool) path: sect3/title
#: xml/qemu_guest_installation.xml:832
msgid "Base and Derived Images"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:833
msgid "First, build a disk image as usual and install the target system on it. For more information, see <xref linkend=\"cha.qemu.guest_inst.qemu-kvm\"/> and <xref linkend=\"cha.qemu.guest_inst.qemu-img.create\"/>. Then build a new image while using the first one as a base image. The base image is also called a <emphasis>backing</emphasis> file. After your new <emphasis>derived</emphasis> image is built, never boot the base image again, but boot the derived image instead. Several derived images may depend on one base image at the same time. Therefore, changing the base image can damage the dependencies. While using your derived image, QEMU writes changes to it and uses the base image only for reading."
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:845
msgid "It is a good practice to create a base image from a freshly installed (and, if needed, registered) operating system with no patches applied and no additional applications installed or removed. Later on, you can create another base image with the latest patches applied and based on the original base image."
msgstr ""

#. (itstool) path: sect3/title
#: xml/qemu_guest_installation.xml:854
msgid "Creating Derived Images"
msgstr ""

#. (itstool) path: note/para
#: xml/qemu_guest_installation.xml:856
msgid "While you can use the <literal>raw</literal> format for base images, you cannot use it for derived images because the <literal>raw</literal> format does not support the <literal>backing_file</literal> option. Use for example the <literal>qcow2</literal> format for the derived images."
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:863
msgid "For example, <filename>/images/sles_base.raw</filename> is the base image holding a freshly installed system."
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:867
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img info /images/sles_base.raw\n"
"image: /images/sles_base.raw\n"
"file format: raw\n"
"virtual size: 4.0G (4294967296 bytes)\n"
"disk size: 2.4G"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:872
msgid "The image's reserved size is 4 GB, the actual size is 2.4 GB, and its format is <literal>raw</literal>. Create an image derived from the <filename>/images/sles_base.raw</filename> base image with:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:877
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img create -f qcow2 /images/sles_derived.qcow2 \\\n"
"-o backing_file=/images/sles_base.raw\n"
"Formatting '/images/sles_derived.qcow2', fmt=qcow2 size=4294967296 \\\n"
"backing_file='/images/sles_base.raw' encryption=off cluster_size=0\n"
""
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:882
msgid "Look at the derived image details:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:885
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img info /images/sles_derived.qcow2\n"
"image: /images/sles_derived.qcow2\n"
"file format: qcow2\n"
"virtual size: 4.0G (4294967296 bytes)\n"
"disk size: 140K\n"
"cluster_size: 65536\n"
"backing file: /images/sles_base.raw \\\n"
"(actual path: /images/sles_base.raw)"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:893
msgid "Although the reserved size of the derived image is the same as the size of the base image (4 GB), the actual size is 140 KB only. The reason is that only changes made to the system inside the derived image are saved. Run the derived virtual machine, register it, if needed, and apply the latest patches. Do any other changes in the system such as removing unneeded or installing new software packages. Then shut the VM Guest down and examine its details once more:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:902
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img info /images/sles_derived.qcow2\n"
"image: /images/sles_derived.qcow2\n"
"file format: qcow2\n"
"virtual size: 4.0G (4294967296 bytes)\n"
"disk size: 1.1G\n"
"cluster_size: 65536\n"
"backing file: /images/sles_base.raw \\\n"
"(actual path: /images/sles_base.raw)"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:910
msgid "The <literal>disk size</literal> value has grown to 1.1 GB, which is the disk space occupied by the changes on the file system compared to the base image."
msgstr ""

#. (itstool) path: sect3/title
#: xml/qemu_guest_installation.xml:917
msgid "Rebasing Derived Images"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:918
msgid "After you have modified the derived image (applied patches, installed specific applications, changed environment settings, etc.), it reaches the desired state. At that point, you can merge the original base image and the derived image to create a new base image."
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:924
msgid "Your original base image (<filename>/images/sles_base.raw</filename>) holds a freshly installed system. It can be a template for new modified base images, while the new one can contain the same system as the first one plus all security and update patches applied, for example. After you have created this new base image, you can use it as a template for more specialized derived images as well. The new base image becomes independent of the original one. The process of creating base images from derived ones is called <emphasis>rebasing</emphasis>:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:934
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img convert /images/sles_derived.qcow2 \\\n"
"-O raw /images/sles_base2.raw"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:936
msgid "This command created the new base image <filename>/images/sles_base2.raw</filename> using the <literal>raw</literal> format."
msgstr ""

#. (itstool) path: sect3/screen
#: xml/qemu_guest_installation.xml:941
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>qemu-img info /images/sles_base2.raw\n"
"image: /images/sles11_base2.raw\n"
"file format: raw\n"
"virtual size: 4.0G (4294967296 bytes)\n"
"disk size: 2.8G"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:946
msgid "The new image is 0.4 gigabytes bigger than the original base image. It uses no backing file, and you can easily create new derived images based upon it. This lets you create a sophisticated hierarchy of virtual disk images for your organization, saving a lot of time and work."
msgstr ""

#. (itstool) path: sect3/title
#: xml/qemu_guest_installation.xml:954
msgid "Mounting an Image on a VM Host Server"
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:955
msgid "It can be useful to mount a virtual disk image under the host system. It is strongly recommended to read <xref linkend=\"chap.guestfs\"/> and use dedicated tools to access a virtual machine image. However, if you need to do this manually, follow this guide."
msgstr ""

#. (itstool) path: sect3/para
#: xml/qemu_guest_installation.xml:961
msgid "Linux systems can mount an internal partition of a <literal>raw</literal> disk image using a loopback device. The first example procedure is more complex but more illustrative, while the second one is straightforward:"
msgstr ""

#. (itstool) path: procedure/title
#: xml/qemu_guest_installation.xml:967
msgid "Mounting Disk Image by Calculating Partition Offset"
msgstr ""

#. (itstool) path: step/para
#: xml/qemu_guest_installation.xml:969
msgid "Set a <emphasis>loop</emphasis> device on the disk image whose partition you want to mount."
msgstr ""

#. (itstool) path: step/screen
#: xml/qemu_guest_installation.xml:973
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>losetup /dev/loop0 /images/sles_base.raw"
msgstr ""

#. (itstool) path: step/para
#: xml/qemu_guest_installation.xml:976
msgid "Find the <emphasis>sector size</emphasis> and the starting <emphasis>sector number</emphasis> of the partition you want to mount."
msgstr ""

#. (itstool) path: step/screen
#: xml/qemu_guest_installation.xml:980
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>fdisk -lu /dev/loop0\n"
"\n"
"Disk /dev/loop0: 4294 MB, 4294967296 bytes\n"
"255 heads, 63 sectors/track, 522 cylinders, total 8388608 sectors\n"
"Units = sectors of 1 * 512 = 512<co xml:id=\"co.qemu_img.loopback.sector_size\"/> bytes\n"
"Disk identifier: 0x000ceca8\n"
"\n"
"       Device Boot      Start         End      Blocks   Id  System\n"
"/dev/loop0p1              63     1542239      771088+  82  Linux swap\n"
"/dev/loop0p2   *     1542240<co xml:id=\"co.qemu_img.loopback.sector_start\"/>    8385929     3421845   83  Linux"
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:992
msgid "The disk sector size."
msgstr ""

#. (itstool) path: callout/para
#: xml/qemu_guest_installation.xml:997
msgid "The starting sector of the partition."
msgstr ""

#. (itstool) path: step/para
#: xml/qemu_guest_installation.xml:1004
msgid "Calculate the partition start offset:"
msgstr ""

#. (itstool) path: step/para
#: xml/qemu_guest_installation.xml:1007
msgid "<literal>sector_size * sector_start = 512 * 1542240 = 789626880 </literal>"
msgstr ""

#. (itstool) path: step/para
#: xml/qemu_guest_installation.xml:1013
msgid "Delete the loop and mount the partition inside the disk image with the calculated offset on a prepared directory."
msgstr ""

#. (itstool) path: step/screen
#: xml/qemu_guest_installation.xml:1017
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>losetup -d /dev/loop0\n"
"<prompt>tux &gt; </prompt>mount -o loop,offset=789626880 \\\n"
"/images/sles_base.raw /mnt/sles/\n"
"<prompt>tux &gt; </prompt>ls -l /mnt/sles/\n"
"total 112\n"
"drwxr-xr-x   2 root root  4096 Nov 16 10:02 bin\n"
"drwxr-xr-x   3 root root  4096 Nov 16 10:27 boot\n"
"drwxr-xr-x   5 root root  4096 Nov 16 09:11 dev\n"
"[...]\n"
"drwxrwxrwt  14 root root  4096 Nov 24 09:50 tmp\n"
"drwxr-xr-x  12 root root  4096 Nov 16 09:16 usr\n"
"drwxr-xr-x  15 root root  4096 Nov 16 09:22 var\n"
""
msgstr ""

#. (itstool) path: step/para
#: xml/qemu_guest_installation.xml:1032
msgid "Copy one or more files onto the mounted partition and unmount it when finished."
msgstr ""

#. (itstool) path: step/screen
#: xml/qemu_guest_installation.xml:1036
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt>cp /etc/X11/xorg.conf /mnt/sles/root/tmp\n"
"<prompt>tux &gt; </prompt>ls -l /mnt/sles/root/tmp\n"
"<prompt>tux &gt; </prompt>umount /mnt/sles/"
msgstr ""

#. (itstool) path: warning/title
#: xml/qemu_guest_installation.xml:1042
msgid "Do not Write to Images Currently in Use"
msgstr ""

#. (itstool) path: warning/para
#: xml/qemu_guest_installation.xml:1043
msgid "Never mount a partition of an image of a running virtual machine in a <literal>read-write</literal> mode. This could corrupt the partition and break the whole VM Guest."
msgstr ""

