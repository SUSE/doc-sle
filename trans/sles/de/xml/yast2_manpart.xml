<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<sect1 xml:base="yast2_manpart.xml" id="sec.yast2.i_y2_part_expert">
 <title>Verwenden der YaST-Partitionierung</title><indexterm> <primary>YaST</primary> <secondary>Partitionierung</secondary> </indexterm> <indexterm> <primary>Partitionen</primary> <secondary>Erstellen</secondary> </indexterm>

 <para>
  Die in <xref linkend="fig.yast2.i_y2_disk_part"/> gezeigte Expertenpartitionierung ermöglicht die manuelle Änderung der Partitionierung einer oder mehrerer Festplatten. Sie können Partitionen hinzufügen, löschen, bearbeiten und deren Größe verändern sowie auf die Soft-RAID und LVM-Konfiguration zugreifen.
 </para>

 <warning>
  <title>Neupartitionierung des laufenden Systems</title>
  <para>
   Auch wenn es möglich ist, ein laufendes System neu zu partitionieren, ist das Risiko eines Fehlers mit daraus folgendem Datenverlust sehr hoch. Versuchen Sie daher eine Neupartitionierung des installierten Systems möglichst zu vermeiden. Sollte es sich wirklich nicht umgehen lassen, führen Sie zuvor unbedingt eine vollständige Datensicherung durch.
  </para>
 </warning>

 <figure id="fig.yast2.i_y2_disk_part">
  <title>Das YaST-Partitionierungsprogramm</title>
  <mediaobject>
   <imageobject role="fo">
    <imagedata fileref="i_y2_disk_part.png" width="75%" format="PNG"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="i_y2_disk_part.png" width="75%" format="PNG"/>
   </imageobject>
  </mediaobject>
 </figure>

 <tip arch="zseries" os="sles">
  <title>IBM System z: Gerätenamen</title>
  <para>
   IBMSystem z erkennt ausschließlich DASD- und SCSI-Festplatten. IDE-Festplatten werden nicht unterstützt. Aus diesem Grund werden die Geräte in der Partitionstabelle für das erste erkannte Gerät als <filename>dasda</filename> oder <filename>sda</filename> angezeigt.
  </para>
 </tip>

 <para>
  Alle bestehenden oder vorgeschlagenen Partitionen auf allen angeschlossenen Festplatten werden in der Liste <guimenu>Verfügbarer Speicher</guimenu> im YaST-Dialogfeld <guimenu>Festplatte vorbereiten: Expertenmodus</guimenu> angezeigt. Ganze Festplatten werden als Geräte ohne Nummern aufgeführt, beispielsweise als <filename>/dev/sda</filename><phrase arch="zseries" os="sles"> (oder <filename>/dev/dasda</filename>)</phrase>. Partitionen werden als Teile dieser Geräte aufgelistet, beispielsweise als <filename>/dev/sda1</filename><phrase arch="zseries" os="sles"> (oder <filename>/dev/dasda1</filename>)</phrase>. Größe, Typ, Verschlüsselungsstatus, Dateisystem und Einhängepunkt der Festplatten und ihrer Partitionen werden ebenfalls angezeigt. Der Einhängepunkt gibt an, wo sich die Partition im Linux-Dateisystembaum befindet.
 </para>

 <para>
  Mehrere funktionale Ansichten sind in der <guimenu>Systemansicht</guimenu> im linken Fensterbereich verfügbar. Verwenden Sie die Ansichten, um Informationen zu vorhandenen Speicherkonfigurationen zu erhalten oder um Funktionen wie <literal>RAID</literal>, <literal>Volume-Verwaltung</literal>, <literal>Dateien verschlüsseln</literal> zu konfigurieren oder Dateisysteme mit zusätzlichen Funktionen wie <literal>BTRFS</literal>, <literal>NFS</literal> oder <literal>TMPFS</literal> anzuzeigen.
 </para>

 <para>
  Wenn Sie das Experten-Dialogfeld während der Installation ausführen, wird auch sämtlicher freier Speicherplatz aufgeführt und automatisch ausgewählt. Um weiteren Speicherplatz für <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> zur Verfügung zu stellen, müssen Sie den benötigten Speicherplatz in der Liste von unten nach oben freigeben. (Sie beginnen also mit der letzten Partition der Festplatte und arbeiten sich bis zur ersten vor.)
 </para>

 <sect2 id="sec.IB.part.typen">
  <title>Partitionstypen</title><indexterm> <primary>Partitionen</primary> <secondary>Typen</secondary> </indexterm>
  <tip arch="zseries" os="sles">
   <title>IBM System z: Festplatten</title>
   <para>
    Auf den IBM System z-Plattformen unterstützt SUSE Linux Enterprise Server sowohl SCSI-Festplatten als auch DASD-Partitionen (Direct Access Storage Devices). Während sich SCSI-Datenträger wie unten beschrieben partitionieren lassen, sind für DASDs maximal drei Partitionseinträge in den entsprechenden Partitionstabellen möglich.
   </para>
  </tip>
  <para>
   Jede Festplatte verfügt über eine Partitionierungstabelle mit Platz für vier Einträge. Jeder Eintrag in der Partitionstabelle steht für eine primäre oder für eine erweiterte Partition. Es ist jedoch nur ein Eintrag für eine erweiterte Partition zulässig.
  </para>
  <para>
   Eine primäre Partition besteht aus einem kontinuierlichen Bereich von Zylindern (physikalischen Festplattenbereichen), die einem bestimmten Betriebssystem zugewiesen sind. Mit primären Partitionen wären Sie auf vier Partitionen pro Festplatte beschränkt, da die Partitionstabelle nicht mehr Platz bietet. Aus diesem Grund werden erweiterte Partitionen verwendet. Erweiterte Partitionen sind ebenfalls kontinuierliche Bereiche von Festplattenzylindern, können jedoch in mehrere <emphasis>logische Partitionen</emphasis> unterteilt werden. Für logische Partitionen sind keine Einträge in der Partitionstabelle erforderlich. Eine erweiterte Partition kann auch als Container für logische Partitionen bezeichnet werden.
  </para>
  <para>
   Wenn Sie mehr als vier Partitionen benötigen, erstellen Sie als vierte Partition (oder früher) eine erweiterte Partition. Diese erweiterte Partition sollte den gesamten verbleibenden freien Zylinderbereich umfassen. Erstellen Sie dann mehrere logische Partitionen innerhalb der erweiterten Partition. Die maximale Anzahl der logischen Partitionen beläuft sich auf 63, unabhängig vom Festplattentyp. Dabei spielt es keine Rolle, welche Arten von Partitionen für Linux verwendet werden. Sowohl primäre als auch logische Partitionen funktionieren normal.
  </para>
  <tip os="sles">
   <title>GPT-Partitionstabelle</title>
   <para>
    Wenn Sie mehr als 4 primäre Partitionen auf einer Festplatte erstellen müssen, müssen Sie den Partitionstyp GPT verwenden. Dieser Typ hebt die Einschränkung für die Anzahl der primären Partitionen auf und unterstützt auch Partitionen, die über 2 TB groß sind.
   </para>
   <para>
    Führen Sie zur Verwendung von GPT den YaST-Partitioner aus, klicken Sie in der <guimenu>Systemansicht</guimenu> auf den Namen der entsprechenden Festplatte, und wählen Sie <menuchoice><guimenu>Erweitert</guimenu> <guimenu>Erstellen einer neuen Partitionstabelle</guimenu> <guimenu>GPT</guimenu></menuchoice>.
   </para>
  </tip>
 </sect2>



 <sect2 id="sec.yast2.i_y2_part_expert.newpart">
  <title>Erstellen von Partitionen</title><indexterm> <primary>Partitionen</primary> <secondary>Erstellen</secondary> </indexterm>
  <para>
   Zum Erstellen einer ganz neuen Partition wählen Sie <guimenu>Festplatten</guimenu> und dann eine Festplatte mit freiem Speicherplatz aus. Die tatsächliche Modifikation kann im Karteireiter <guimenu>Partitionen</guimenu> erfolgen:
  </para>
  <procedure>
   <step performance="required">
    <para>
     Wählen Sie <guimenu>Hinzufügen</guimenu> aus und geben Sie den Partitionstyp (primär oder erweitert) an. Sie können bis zu vier primäre Partitionen oder bis zu drei primäre Partitionen und eine erweiterte Partition erstellen. Innerhalb der erweiterten Partition können Sie mehrere logische Partitionen erstellen (siehe <xref linkend="sec.IB.part.typen"/>).
    </para>
   </step>
   <step performance="required">
    <para>
     Geben Sie die Größe der neuen Partition an. Sie können auswählen, dass der gesamte freie Speicherplatz belegt werden soll oder eine Größe eingeben.
    </para>
   </step>
   <step performance="required">
    <para>
     Wählen Sie das zu verwendende Dateisystem und einen Einhängepunkt aus. YaST schlägt für jede erstellte Partition einen Einhängepunkt vor. Für eine andere Einhängemethode, z. B. Einhängen nach Label, wählen Sie <guimenu>Fstab-Optionen</guimenu>. Weitere Informationen zu den unterstützen Dateisystemen finden Sie unter <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step performance="required">
    <para>
     Geben Sie, falls erforderlich, zusätzliche Dateisystemoptionen an. Dies ist zum Beispiel für persistente Dateinamen erforderlich. Weitere Informationen zu den verfügbaren Optionen finden Sie in <xref linkend="sec.yast2.i_y2_part_expert.options"/>.
    </para>
   </step>
   <step performance="required">
    <para>
     Klicken Sie auf <guimenu>Fertig stellen</guimenu>, um die Partitionierungseinrichtung zu übernehmen und das Partitionierungsmodul zu verlassen.
    </para>
    <para>
     Wenn Sie die Partition bei der Installation angelegt haben, wird wieder das Fenster mit der Installationsübersicht angezeigt.
    </para>
   </step>
  </procedure>
  <sect3 id="yast2.btrfs">
   <title>Btrfs-Partitionierung</title>
   <para>
    Das Standard-Dateisystem für die Root-Partition ist Btrfs (weitere Informationen zu Btrfs siehe <xref linkend="cha.snapper"/><phrase os="sles"> und <xref linkend="filesystems"/></phrase>). Das Root-Dateisystem ist das Standard-Subvolume und wird nicht in der Liste der erstellten Subvolumes aufgeführt. Als Btrfs-Standard-Subvolume kann es als normales Dateisystem eingehängt werden.
   </para>
   <para>
    Sie können Snapshots von Btrfs-Subvolumes erstellen, wahlweise manuell oder auch automatisch bei bestimmten Systemereignissen. Wenn beispielsweise Änderungen am Dateisystem vorgenommen werden, ruft <command>zypper</command> das Kommando <command>snapper</command> auf, mit dem Snapshots vor und nach der Änderung angefertigt werden. Dies ist von Nutzen, wenn Sie mit den Änderungen von <command>zypper</command> nicht zufrieden sind und den vorherigen Zustand wiederherstellen möchten. Beim Aufrufen durch <command>zypper</command> fertigt <command>snapper</command> standardmäßig einen Snapshot des <emphasis>root</emphasis>-Dateisystems an. Bestimmte Verzeichnisse sollten daher von diesen Snapshots ausgenommen werden, abhängig von der Art der Daten in diesen Verzeichnissen. Aus diesem Grund schlägt YaST die Erstellung der nachfolgenden separaten Subvolumes vor.
   </para>
   <variablelist>
    <title>Vorgeschlagene Btrfs-Subvolumes</title>
    <varlistentry>
     <term><filename>/tmp /var/tmp /var/run</filename>
     </term>
     <listitem>
      <para>
       Verzeichnisse mit häufig wechselnden Inhalten.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><filename>/var/spool</filename>
     </term>
     <listitem>
      <para>
       Enthält Benutzerdaten, beispielsweise E-Mails.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><filename>/var/log</filename>
     </term>
     <listitem>
      <para>
       Enthält System- und Anwendungsprotokolldateien, für die unter keinen Umständen ein Rollback durchgeführt werden darf.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><filename>/var/crash</filename>
     </term>
     <listitem>
      <para>
       Enthält Speicherauszüge von abgestürzten Kernels.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><filename>/srv</filename>
     </term>
     <listitem>
      <para>
       Enthält Datendateien, die zu FTP- und HTTP-Servern gehören.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><filename>/opt</filename>
     </term>
     <listitem>
      <para>
       Enthält Software von Drittanbietern.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <tip>
    <title>Größe der Btrfs-Partition</title>
    <para>
     Die gespeicherten Snapshots belegen mehr Speicherplatz. Es wird daher empfohlen, eine größere Speichermenge für die Btrfs-Partition zu reservieren als für eine Partition, auf der keine Snapshots angefertigt werden können (z. B. Ext3). Für eine Btrfs-Root-Partition mit den vorgeschlagenen Subvolumes wird 20 GB Speicherplatz empfohlen.
    </para>
   </tip>
   <sect4 id="yast2.btrfs.yast">
    <title>Verwalten von Btrfs-Subvolumes mit YaST</title>
    <para>
     Die Subvolumes einer Btrfs-Partition können nunmehr mit dem YaST-Modul <guimenu>Expertenmodus</guimenu> verwaltet werden. Sie können neue Subvolumes hinzufügen und bestehende Subvolumes entfernen.
    </para>
    <procedure>
     <title>Btrfs-Subvolumes mit YaST</title>
     <step performance="required">
      <para>
       Starten Sie den YaST-<guimenu>Expertenmodus</guimenu> mit<menuchoice><guimenu>System</guimenu><guimenu>Partitionieren</guimenu></menuchoice>.
      </para>
     </step>
     <step performance="required">
      <para>
       Wählen Sie <guimenu>Btrfs</guimenu> im linken Bereich der <guimenu>Systemansicht</guimenu>.
      </para>
     </step>
     <step performance="required">
      <para>
       Wählen Sie die Btrfs-Partition aus, deren Subvolumes verwaltet werden sollen, und klicken Sie auf <guimenu>Bearbeiten</guimenu>.
      </para>
     </step>
     <step performance="required">
      <para>
       Klicken Sie auf <guimenu>Behandlung des Subvolume</guimenu>. Eine Liste aller vorhandenen Subvolumes auf der ausgewählten Btrfs-Partition wird angezeigt. Sie sehen eine Reihe von Einträgen mit <literal>@/.snapshots/xyz/snapshot</literal> – diese Subvolumes gehören jeweils zu einem vorhandenen Snapshot.
      </para>
     </step>
     <step performance="required">
      <para>
       Je nachdem, ob Subvolumes hinzugefügt oder entfernt werden sollen, gehen Sie wie folgt vor:
      </para>
      <substeps performance="required">
       <step performance="required">
        <para>
         Zum Entfernen eines Subvolumes wählen Sie das gewünschte Subvolume in der Liste <guimenu>Vorhandene Subvolumes</guimenu> aus, und klicken Sie auf <guimenu>Entfernen</guimenu>.
        </para>
       </step>
       <step performance="required">
        <para>
         Zum Hinzufügen eines neuen Subvolumes geben Sie den Namen in das Textfeld <guimenu>Neues Subvolume</guimenu> ein, und klicken Sie auf <guimenu>Neu hinzufügen</guimenu>.
        </para>
        <figure id="fig.yast2.btrfs.subvolumes">
         <title>Btrfs-Subvolumes bei der YaST-Partitionierung</title>
         <mediaobject>
          <imageobject role="fo">
           <imagedata fileref="yats2_btrfs_subvolumes.png" width="75%" format="PNG"/>
          </imageobject>
          <imageobject role="html">
           <imagedata fileref="yats2_btrfs_subvolumes.png" width="75%" format="PNG"/>
          </imageobject>
         </mediaobject>
        </figure>
       </step>
      </substeps>
     </step>
     <step performance="required">
      <para>
       Bestätigen Sie mit <guimenu>OK</guimenu> und <guimenu>Beenden</guimenu>.
      </para>
     </step>
     <step performance="required">
      <para>
       Schließen Sie die Partitionierung mit <guimenu>Beenden</guimenu>.
      </para>
     </step>
    </procedure>
   </sect4>
  </sect3>
 </sect2>

 <sect2 id="sec.yast2.i_y2_part_expert.options">
  <title>Bearbeiten einer Partition</title><indexterm> <primary>Partitionen</primary> <secondary>Parameter</secondary> </indexterm>
  <para>
   Wenn Sie eine neue Partition erstellen oder eine bestehende Partition bearbeiten, können verschiedene Parameter festgelegt werden. Bei neuen Partitionen reichen die von YaST festgelegten Standardparameter normalerweise aus und müssen nicht geändert werden. Gehen Sie wie folgt vor, um Ihre Partitionseinstellungen manuell zu bearbeiten:
  </para>
  <procedure>
   <step performance="required">
    <para>
     Wählen Sie die Partition aus.
    </para>
   </step>
   <step performance="required">
    <para>
     Klicken Sie auf <guimenu>Bearbeiten</guimenu>, um die Partition zu bearbeiten und die Parameter festzulegen:
    </para>
    <variablelist>
     <varlistentry>
      <term>Dateisystem-ID</term>
      <listitem>
       <para>
        <indexterm> <primary>Partitionen</primary> <secondary>LVM</secondary> </indexterm> <phrase os="sles"> </phrase><indexterm><primary>Partitionen</primary> <secondary>RAID</secondary> </indexterm> Auch wenn Sie die Partitionen zu diesem Zeitpunkt nicht formatieren möchten, weisen Sie eine Dateisystem-ID zu, um sicherzustellen, dass sie richtig registriert wird. Übliche Werte sind <guimenu>Linux </guimenu>, <guimenu>Linux Swap </guimenu>, <guimenu>Linux LVM </guimenu> und <guimenu>Linux RAID</guimenu>.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       Dateisystem
      </term>
      <listitem>
       <para>
        <indexterm> <primary>Dateisysteme</primary> <secondary>Ändern</secondary> </indexterm> <indexterm> <primary>Partitionen</primary> <secondary>Neu formatieren</secondary> </indexterm> Klicken Sie zum Ändern des Partitionsdateisystems auf <guimenu>Partition formatieren</guimenu> und wählen Sie den Dateisystemtyp in der Liste <guimenu>Dateisystem</guimenu> aus.
       </para>
       <para>
        <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> unterstützt mehrere Typen von Dateisystemen. Btrfs ist aufgrund seiner erweiterten Funktionen das bevorzugte Linux-Dateisystem für die Root-Partition. Es unterstützt das Copy-on-Write-Verfahren, das Erstellen vob Snapshots, Multi-Device-Spanning, Subvolumes und weitere nützliche Techniken. XFS, Ext3 und JFS sind Journaling-Dateisysteme. Mit diesen Dateisystemen kann das System nach einem Systemabsturz schnell wiederhergestellt werden, da die Schreibvorgänge während des Betriebs protokolliert werden. Ext2 ist kein Journaling-Dateisystem, eignet sich aber für kleinere Partitionen, da für die Verwaltung nicht viel Speicherplatz benötigt wird.
       </para>
       <para>
        Das Standard-Dateisystem für die Root-Partition ist Btrfs. Das Standard-Dateisystem für weitere Partitionen ist XFS.
       </para>
       <para>
        Swap ist ein Sonderformat, das die Verwendung der Partition als virtuellen Arbeitspeicher ermöglicht. Bei einer manuellen Partitionierung müssen Sie eine Swap-Partition mit mindestens 256 MB erstellen. Sollte der Swap-Speicher nicht ausreichen, empfiehlt es sich statt einer Erhöhung des Swap-Speichers, dem System mehr Arbeitsspeicher hinzuzufügen.
       </para>
       <warning>
        <title>Ändern des Dateisystems</title>
        <para>
         Wenn Sie das Dateisystem ändern und Partitionen neu formatieren, werden alle Daten der Partition unwiederbringlich gelöscht.
        </para>
       </warning>
       <para>
        Weitere Informationen zu den verschiedenen Dateisystemen finden Sie im <emphasis>Storage Administration Guide</emphasis> (Speicherverwaltungshandbuch).
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       Verschlüsseln von Geräten 
      </term>
      <listitem>
       <para>
        Wenn Sie die Verschlüsselung aktivieren, werden alle Daten in verschlüsselter Form geschrieben. Dies erhöht zwar die Sicherheit sensibler Daten, die Systemgeschwindigkeit wird jedoch reduziert, da die Verschlüsselung einige Zeit in Anspruch nimmt. Weitere Informationen zur Verschlüsselung der Dateisysteme finden Sie in <xref linkend="cha.security.cryptofs"/>.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       Einhängepunkt
      </term>
      <listitem>
       <para>
        Geben Sie das Verzeichnis an, in dem die Partition im Dateisystembaum eingehängt werden soll. Treffen Sie eine Auswahl aus den YaST-Vorschlägen, oder geben Sie einen beliebigen anderen Namen ein.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       Fstab-Optionen
      </term>
      <listitem>
       <para>
        Legen verschiedene Parameter in der globalen Systemverwaltungsdatei (<filename>/etc/fstab</filename>) fest. In der Regel reichen die Standardeinstellungen für die meisten Konfigurationen aus. Sie können beispielsweise die Dateisystemkennung von einem Gerätenamen in eine Volume-Bezeichnung ändern. In Volume-Bezeichnungen können Sie alle Zeichen mit Ausnahme von <literal>/</literal> und dem Leerzeichen verwenden.
       </para>
       <para>
        Für persistente Gerätenamen verwenden Sie die Einhängeoption <guimenu>Geräte-ID</guimenu>, <guimenu>UUID</guimenu> oder <guimenu>LABEL</guimenu>. In <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> sind persistente Gerätenamen standardmäßig aktiviert.
       </para>
       <note os="sles" arch="zseries">
        <title>IBM System z: Einhängen nach Pfad</title>
        <para>
         Da das Einhängen nach ID auf IBM System z Probleme verursacht, wenn Platte-zu-Platte-Kopien zum Klonen benutzt werden, werden Geräte standardmäßig nach Pfad in <filename>/etc/fstab</filename> auf IBM System z eingehängt.
        </para>
       </note>
       <para>
        Wenn Sie die Partition lieber über ihre Bezeichnung einhängen möchten, müssen Sie diese als Texteintrag in der <guimenu>Volume-Bezeichnung</guimenu> angeben. Sie könnten beispielsweise das Partitions-Label <literal>HOME</literal> für eine Partition verwenden, die in <filename>/home</filename> eingehängt werden soll.
       </para>
       <para>
        Wenn Sie für das Dateisystem Quotas verwenden möchten, verwenden Sie die Einhängeoption <guimenu>Quota-Unterstützung aktivieren</guimenu>. Diese Konfiguration ist erforderlich, bevor Sie in der <guimenu>Benutzerverwaltung</guimenu> von YaST Quotas für Benutzer festlegen. Weitere Informationen zur Konfiguration von Benutzerquotas finden Sie unter <xref linkend="sec.y2.userman.adv.quota"/>.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </step>
   <step performance="required">
    <para>
     Wählen Sie <guimenu>Beenden</guimenu>, um die Änderungen zu speichern.
    </para>
   </step>
  </procedure>
  <note>
   <title>Ändern der Größe von Dateisystemen</title>
   <para>
    Die Größe eines bestehenden Dateisystems können Sie ändern, indem Sie die Partition auswählen und <guimenu>Größe ändern</guimenu> verwenden. Beachten Sie, dass die Größe von eingehängten Partitionen nicht verändert werden kann. Um die Größe von Partitionen zu ändern, hängen Sie die entsprechende Partition aus, bevor Sie den Partitionierer ausführen.
   </para>
  </note>
 </sect2>

 <sect2 id="sec.yast2.i_y2_part_expert.options2">
  <title>Optionen für Experten</title>
  <para>
   Nach Auswahl eines Festplattengeräts (wie <guimenu>sda</guimenu>) im Bereich <guimenu>Systemansicht</guimenu> können Sie im unteren rechten Bereich im Fenster <guimenu>Festplatte vorbereiten: Expertenmodus</guimenu> auf das Menü <guimenu>Experte</guimenu> zugreifen. Im Menü stehen folgende Kommandos zur Verfügung:
  </para>
  <variablelist>
   <varlistentry>
    <term>Erstellen einer neuen Partitionstabelle</term>
    <listitem>
     <para>
      Mithilfe dieser Option können Sie eine neue Partitionstabelle am ausgewählten Gerät erstellen.
     </para>
     <warning>
      <title>Erstellen einer neuen Partitionstabelle</title>
      <para>
       Durch Erstellen einer neuen Partitionstabelle auf einem Gerät werden alle Partitionen und deren Daten unwiederbringlich von diesem Gerät entfernt.
      </para>
     </warning>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Diesen Datenträger klonen</term>
    <listitem>
     <para>
      Mit dieser Option können Sie das Layout einer Gerätepartition ohne den Inhalt auf andere verfügbare Datenträger klonen.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect2>

 <sect2 id="sec.yast2.i_y2_part_expert.configure_options">
  <title>Erweiterte Optionen</title>
  <para>
   Nach Auswahl des Hostnamens des Rechners (obere Ebene des Baums in der <guimenu>Systemansicht</guimenu>) können Sie unten rechts im Fenster <guimenu>Festplatte vorbereiten: Expertenmodus</guimenu> auf das Menü <guimenu>Konfigurieren</guimenu> zugreifen. Im Menü stehen folgende Kommandos zur Verfügung:
  </para>
  <variablelist>
   <varlistentry>
    <term>Konfigurieren von iSCSI</term>
    <listitem>
     <para>
      Für den Zugriff auf SCSI über IP-Block-Geräte müssen Sie zunächst iSCSI konfigurieren. Dadurch erhalten Sie weitere verfügbare Geräte in der Hauptpartitionsliste.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Konfigurieren von Multipath</term>
    <listitem>
     <para>
      Durch Auswahl dieser Option können Sie die Multipath-Optimierung an den unterstützten Massenspeichergeräten konfigurieren.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect2>

 <sect2 id="sec.yast2.i_y2_part_expert.info">
  <title>Weitere Partitionierungstipps</title>
  <para>
   Im folgenden Abschnitt finden Sie einige Hinweise und Tipps für die Partitionierung, die Ihnen bei der Einrichtung Ihres Systems helfen, die richtigen Entscheidungen zu treffen.
  </para>
  <tip>
   <title>Anzahl der Zylinder</title>
   <para>
    Einige Partitionierungstools beginnen bei der Nummerierung der Zylinder mit <literal>0</literal> andere mit <literal>1</literal>. Die Zylinderzahl berechnet sich immer aus der Differenz zwischen der letzten und der ersten Zylindernummer plus eins.
   </para>
  </tip>
  <sect3 id="sec.yast2.i_y2_part_expert.info.swap">
   <title>Verwenden von <literal>Swap</literal></title>
   <para>
    Mittels Swap wird der verfügbare physikalische Arbeitsspeicher erweitert. Ihnen steht dadurch über das physische RAM hinaus mehr Arbeitsspeicher zur Verfügung. Die Arbeitsspeicherverwaltungssysteme der Kernels vor Version 2.4.10 benötigten Swap als Sicherheitszugabe. Wenn Ihr Swap zu dieser Zeit nicht zweimal so groß war wie Ihr RAM, kam es zu erheblichen Leistungseinbußen. Diese Einschränkungen gibt es nicht mehr.
   </para>
   <para>
    Linux verwendet eine Seite namens <quote>Kürzlich verwendet</quote> (LRU) zur Auswahl von Seiten, die eventuell vom Arbeitsspeicher auf die Festplatte verschoben werden. Den aktiven Anwendungen steht dadurch mehr Arbeitsspeicher zur Verfügung und das Zwischenspeichern läuft reibungsloser ab.
   </para>
   <para>
    Wenn eine Anwendung versucht, den maximal zulässigen Arbeitsspeicher zu belegen, können Probleme mit Swap auftreten. Wir sollten uns hierzu drei der wichtigsten Szenarien näher ansehen:
   </para>
   <variablelist>
    <varlistentry>
     <term>System ohne Swap</term>
     <listitem>
      <para>
       Die Anwendung kann den maximal zulässigen Arbeitsspeicher auslasten. Der gesamte Cache-Speicher wird freigegeben, wodurch sich alle anderen Anwendungen verlangsamen. Nach einigen Minuten wird der „Out-of-Memory-Killer“ des Kernels aktiviert und der Vorgang wird beendet.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>System mit mittelgroßem Swap (128 MB – 512 MB)</term>
     <listitem>
      <para>
       Zunächst verlangsamt sich das Systems wie ein System ohne Swap. Sobald das gesamte physikalische RAM aufgebraucht ist, wird auch auf den Swap-Speicher zurückgegriffen. An diesem Punkt wird das System sehr langsam; die Fernausführung von Kommandos wird unmöglich. Je nach Geschwindigkeit der Festplatten, die den Swap-Speicher stellen, verbleibt das System etwa 10 bis 15 Minuten in diesem Zustand, bevor das Problem vom „Out of Memory-Killer“ des Kernels endgültig behoben wird. Beachten Sie, dass Sie eine bestimmte Swap-Größe benötigen, wenn der Computer einen <quote>Suspend to Disk</quote> ausführen soll. In diesem Fall sollte der Swap-Speicher groß genug sein, um die benötigten Daten vom Arbeitsspeicher (512 MB – 1 GB) aufnehmen zu können.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>System mit großem Swap (mehrere GB)</term>
     <listitem>
      <para>
       In einem solchen Fall sollte besser keine Anwendung ausgeführt werden, die völlig außer Rand und Band gerät und den Swap-Speicher grenzenlos nutzt. Wenn Sie eine derartige Anwendung ausführen, nimmt die Wiederherstellung des Systems mehrere Stunden in Anspruch. Sehr wahrscheinlich treten in diesem Fall bei anderen Prozessen Zeitüberschreitungen und Fehler auf, wodurch das System in einem undefinierten Zustand zurückbleibt, selbst wenn der fehlerhafte Prozess beendet wird. Starten Sie in diesem Fall den Computers von Anfang an neu und versuchen Sie, das System wieder zum Laufen zu bringen. Sehr viel Swap-Speicher ist nur dann sinnvoll, wenn Sie eine Anwendung verwenden, die diese Menge an Swap tatsächlich benötigt. Solche Anwendungen (wie Datenbanken oder Bildbearbeitungsprogramme) verfügen häufig über eine Option, mit der sie den benötigten Festplattenspeicher direkt abrufen können. Die Verwendung dieser Option ist auf jeden Fall einem übergroßen Swap-Speicher vorzuziehen.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    Falls Ihre Anwendungen nicht außer Kontrolle geraten, aber dennoch nach einiger Zeit mehr Swap erforderlich ist, können Sie den Swap-Speicher auch online erweitern. Wenn Sie eine Partition als Swap-Speicher vorbereitet haben, fügen Sie diese Partition mithilfe von YaST hinzu. Falls Sie auf keine Swap-Partition zurückgreifen können, können Sie den Swap-Speicher auch durch eine Swap-Datei erweitern. Swap-Dateien sind im Allgemeinen langsamer als Partitionen, aber verglichen mit physischem RAM sind beide extrem langsam, sodass der eigentliche Unterschied unerheblich ist.
   </para>
   <procedure>
    <title>Manuelles Hinzufügen einer Swap-Datei</title>
    <para>
     So fügen Sie dem laufenden System eine Swap-Datei hinzu:
    </para>
    <step performance="required">
     <para>
      Erstellen Sie auf Ihrem System eine leere Datei. Um beispielsweise eine Swap-Datei für 128 MB Swap-Speicher unter <filename>/var/lib/swap/swapfile</filename> hinzuzufügen, geben Sie folgende Kommandos ein:
     </para>
<screen>mkdir -p /var/lib/swap
dd if=/dev/zero of=/var/lib/swap/swapfile bs=1M count=128</screen>
    </step>
    <step performance="required">
     <para>
      Initialisieren Sie die Swap-Datei mit folgendem Kommando:
     </para>
<screen>mkswap /var/lib/swap/swapfile</screen>
    </step>
    <step performance="required">
     <para>
      Aktivieren Sie den Swap-Speicher mit folgendem Kommando:
     </para>
<screen>swapon /var/lib/swap/swapfile</screen>
     <para>
      Zum Deaktivieren der Swap-Datei verwenden Sie folgendes Kommando:
     </para>
<screen>swapoff /var/lib/swap/swapfile</screen>
    </step>
    <step performance="required">
     <para>
      Zum Überprüfen des aktuell verfügbaren Swap-Speichers verwenden Sie folgendes Kommando:
     </para>
<screen>cat /proc/swaps</screen>
     <para>
      Bislang handelt es sich hier lediglich um einen temporären Swap-Speicher. Nach dem nächsten Reboot wird er nicht mehr verwendet.
     </para>
    </step>
    <step performance="required">
     <para>
      Wenn Sie die Swap-Datei permanent aktivieren möchten, fügen Sie <filename>/etc/fstab</filename> folgende Zeile hinzu:
     </para>
     
     
<screen>/var/lib/swap/swapfile swap swap defaults 0 0</screen>
    </step>
   </procedure>
  </sect3>
 </sect2>

 <sect2 id="sec.yast2.i_y2_part_expert.lvm">
  <title>Partitionierung und LVM</title>
  <para>
   Greifen Sie über das Menü <guimenu>Festplatte vorbereiten: Expertenmodus</guimenu> auf die LVM-Konfiguration zu, indem Sie im Fenster <guimenu>Systemansicht</guimenu> auf das Element <guimenu>Volume-Verwaltung</guimenu> klicken. Wenn auf Ihrem System jedoch bereits eine aktive LVM-Konfiguration vorhanden ist, wird sie automatisch bei der Eingabe der ersten LVM-Konfiguration einer Sitzung aktiviert. In diesem Fall kann keine der Festplatten, die eine Partition enthalten (die zu einer aktivierten Volume-Gruppe gehört) neu partitioniert werden. Der Linux-Kernel kann die geänderte Partitionstabelle einer Festplatte nicht erneut lesen, wenn eine der Partitionen auf dieser Festplatte verwendet wird. Wenn bereits eine funktionierende LVM-Konfiguration auf Ihrem System vorhanden ist, sollte eine physische Neupartitionierung nicht erforderlich sein. Ändern Sie stattdessen die Konfiguration des logischen Volumes.
  </para>
  <para>
   Am Anfang der physischen Volumes (PVs) werden Informationen zum Volume auf die Partition geschrieben. Um eine solche Partition für andere Zwecke, die nichts mit LVM zu tun haben, wiederzuverwenden, sollten Sie den Anfang dieses Volumes löschen. Bei der VG <literal>system</literal> und dem PV <filename>/dev/sda2</filename> beispielsweise ist dies über den Befehl <command>dd</command><option>if=/dev/zero of=/dev/sda2 bs=512 count=1</option> möglich.
  </para>
  <warning>
   <title>Dateisystem zum Booten</title>
   <para>
    Das zum Booten verwendete Dateisystem (das Root-Dateisystem oder <filename>/boot</filename>) darf nicht auf einem logischen LVM-Volume gespeichert werden. Speichern Sie es stattdessen auf einer normalen physischen Partition.
   </para>
  </warning>
  <para os="sles">
   Weitere Details zu LVM finden Sie unter <xref linkend="stor_admin"/>.
  </para>
 </sect2>
</sect1>
