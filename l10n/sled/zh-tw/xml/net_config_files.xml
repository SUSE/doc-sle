<?xml version="1.0" encoding="UTF-8"?>
<sect2 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="net_config_files.xml" version="5.0" xml:id="sec-network-manconf-files">
 <title>組態檔案</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  本節提供網路組態檔的綜覽，並說明其用途和使用的格式。
 </para>
 <sect3 xml:id="wicked-configuration-common-xml">
  <title><filename>/etc/wicked/common.xml</filename></title>
  <para>
   <filename>/etc/wicked/common.xml</filename> 檔案包含所有應用程式都應使用的通用定義。它源自或包含在位於同一目錄下的其他組態檔案中。儘管您可以使用此檔案允許在所有 <literal>wicked</literal> 元件間除錯，但建議使用 <filename>/etc/wicked/local.xml</filename> 檔案來實現此目的。執行維護更新後，<filename>/etc/wicked/common.xml</filename> 可能會被覆寫，因此所做的變更可能會遺失。<filename>/etc/wicked/common.xml</filename> 檔案包含預設安裝中的 <filename>/etc/wicked/local.xml</filename>，因此通常不需要修改 <filename>/etc/wicked/common.xml</filename>。
  </para>
  <para>
   若要透過將 <literal>&lt;use-nanny&gt;</literal> 設定為 <literal>false</literal> 來停用 <literal>nanny</literal>，可重新啟動 <literal>wickedd.service</literal>，然後執行以下指令來套用所有組態與規則：
  </para>
<screen><prompt>&gt; </prompt><command>sudo</command> wicked ifup all</screen>
  <note>
   <title>組態檔案</title>
   <para>
    如果 <literal>wickedd</literal>、<literal>wicked</literal> 或 <literal>nanny</literal> 程式自己的組態檔案不存在，則會嘗試讀取 <filename>/etc/wicked/common.xml</filename>。
   </para>
  </note>
 </sect3>
 <sect3 xml:id="wicked-configuration-server-xml">
  <title><filename>/etc/wicked/server.xml</filename></title>
  <para>
   <literal>wickedd</literal> 伺服器程序會在啟動時讀取 <filename>/etc/wicked/server.xml</filename> 檔案。該檔案將延伸儲存於 <filename>/etc/wicked/common.xml</filename>。除此之外，此檔案還會設定解析器的處理方式以及從 <literal>addrconf</literal> 要求者 (例如 DHCP) 接收資訊的方式。
  </para>
  <para>
   建議將對此檔案所需的變更新增至一個由 <filename>/etc/wicked/server.xml</filename> 納入的單獨檔案 <filename>/etc/wicked/server-local.xml</filename>。使用單獨的檔案可以避免所做的變更在更新維護期間遭到覆寫。
  </para>
 </sect3>
 <sect3 xml:id="wicked-configuration-client-xml">
  <title><filename>/etc/wicked/client.xml</filename></title>
  <para>
   <filename>/etc/wicked/client.xml</filename> 用於 <command>wicked</command> 指令。該檔案指定探查由 ibft 管理的裝置時所用程序檔的位置，並可設定網路介面組態的位置。
  </para>
  <para>
   建議將對此檔案所需的變更新增至一個由 <filename>/etc/wicked/server.xml</filename> 納入的單獨檔案 <filename>/etc/wicked/client-local.xml</filename>。使用單獨的檔案可以避免所做的變更在更新維護期間遭到覆寫。
  </para>
 </sect3>
 <sect3 xml:id="wicked-configuration-nanny-xml">
  <title><filename>/etc/wicked/nanny.xml</filename></title>
  <para>
   <filename>/etc/wicked/nanny.xml</filename> 設定連結層的類型。建議將特定的組態新增至一個單獨的檔案 <filename>/etc/wicked/nanny-local.xml</filename>，以免在維護更新期間遺失所做的變更。
  </para>
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-ifcfg">
  <title><filename>/etc/sysconfig/network/ifcfg-*</filename></title>
  <para>
   這些檔案包含網路介面的傳統組態。
  </para>
  <note>
   <title><command>wicked</command> 和 <filename>ifcfg-*</filename> 檔案</title>
   <para>
    如果您指定 <literal>compat:</literal> 字首，<command>wicked</command> 會讀取這些檔案。根據 <filename>/etc/wicked/client.xml</filename> 中 <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> 的預設組態，<command>wicked</command> 將嘗試先讀取這些檔案，然後再讀取 <filename>/etc/wicked/ifconfig</filename> 中的 XML 組態檔案。
   </para>
   <para>
    提供的 <option>--ifconfig</option> 參數主要用於測試。如果指定該參數，則不會套用 <filename>/etc/wicked/ifconfig</filename> 中定義的預設組態來源。
   </para>
  </note>
  <para>
   <filename>ifcfg-*</filename> 檔案包含啟動模式和 IP 位址等資訊。可以使用的參數請參閱 <systemitem>ifup</systemitem> 的手冊頁。此外，如果一個一般設定只能用於一個介面，則檔案 <filename>dhcp</filename> 和 <filename>wireless</filename> 中的大多數變數在 <filename>ifcfg-*</filename> 檔案中都可以使用。但是，<filename>/etc/sysconfig/network/config</filename> 中的大多數變數是全域變數，在 <literal>ifcfg</literal> 中無法覆寫它們。例如，<systemitem>NETCONFIG_*</systemitem> 變數就是全域變數。
  </para>
  <para>

   若要設定 <systemitem>macvlan</systemitem> 和 <systemitem>macvtab</systemitem> 介面，請參閱 <systemitem>ifcfg-macvlan</systemitem> 和 <systemitem>ifcfg-macvtap</systemitem> man 頁面。例如，對於 macvlan 介面，請提供使用以下設定的 <filename>ifcfg-macvlan0</filename>：
  </para>
<screen>STARTMODE='auto'
MACVLAN_DEVICE='eth0'
#MACVLAN_MODE='vepa'
#LLADDR=02:03:04:05:06:aa</screen>
  <para>
   如需 <filename>ifcfg.template</filename> 的相關資訊，請參閱<xref linkend="sec-network-manconf-files-config-etc"/>。
  </para>
  
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-config-etc">
  <title><filename>/etc/sysconfig/network/config</filename>、<filename>/etc/sysconfig/network/dhcp</filename> 和 <filename>/etc/sysconfig/network/wireless</filename></title>
  <para>
   檔案 <filename>config</filename> 包含 <command>ifup</command>、<command>ifdown</command> 和 <command>ifstatus</command> 行為的一般設定。<filename>dhcp</filename> 包含 DHCP 設定，<filename>wireless</filename> 包含無線 LAN 卡的設定。所有三個組態檔中的變數都已被註解。<filename>/etc/sysconfig/network/config</filename> 中的某些變數也可以在 <filename>ifcfg-*</filename> 檔案中使用，而且在這些檔案中它們的優先程度更高。<filename>/etc/sysconfig/network/ifcfg.template</filename> 檔案列出了可在永久介面中指定的變數。但是，大多數 <filename>/etc/sysconfig/network/config</filename> 變數都是全域變數，在 ifcfg 檔案中不能將它們覆寫。例如，<systemitem>NETWORKMANAGER</systemitem> 或 <systemitem>NETCONFIG_*</systemitem> 變數就是全域變數。
  </para>
  <note>

   <title>使用 DHCPv6</title>
   <para>
    <phrase os="sles;sled">在 SUSE Linux Enterprise 11 中，即使是在未正確設定 IPv6 路由器廣播 (RA) 的網路中，DHCPv6 一向也能正常運作。從 SUSE Linux Enterprise 12</phrase> 開始，DHCPv6 要求網路中至少有一個路由器發出 RA，用於指示由 DHCPv6 管理此網路。
   </para>
   <para>
    對於無法在其中正確設定路由器的網路，使用者可透過在 <literal>ifcfg</literal> 檔案中指定 <literal>DHCLIENT6_MODE=&apos;managed&apos;</literal>，使用 <literal>ifcfg</literal> 選項來覆寫此行為。您也可以在安裝系統中使用開機參數來實現這種解決方案：
   </para>
<screen>ifcfg=eth0=dhcp6,DHCLIENT6_MODE=managed</screen>
  </note>
 </sect3>

 <sect3 xml:id="sec-network-manconf-files-routes">
  <title><filename>/etc/sysconfig/network/routes</filename> 和 <filename>/etc/sysconfig/network/ifroute-*</filename></title>
  <para>
   TCP/IP 封包的靜態路由是由 <filename>/etc/sysconfig/network/routes</filename> 和 <filename>/etc/sysconfig/network/ifroute-*</filename> 檔案確定的。您可在 <filename>/etc/sysconfig/network/routes</filename> 中指定各種系統任務所需的全部靜態路由，包括前往主機的路由、透過閘道前往主機的路由，以及前往網路的路由。對於需要個別路由的介面，請定義額外的組態檔案：<filename>/etc/sysconfig/network/ifroute-*</filename>。以介面的名稱取代萬用字元 (<literal>*</literal>)。在路由組態檔中的項目看起來就像這樣：
  </para>
<screen># Destination     Gateway           Netmask            Interface  Options</screen>

  <para>
   路由的目的地是在第一欄。此欄可能包含網路或主機的 IP 位址，這是指<emphasis>可到達的</emphasis>名稱伺服器、完整合格的網路或主機名稱。應該以 CIDR 表示法 (地址加上關聯的路由字首長度) 寫入網路，例如 10.10.0.0/16 (對於 IPv4 路由) 或 fc00::/7 （對於 IPv6 路由)。關鍵字 <literal>default</literal> 表示該路由是與閘道位於相同位址系列中的預設閘道。對於沒有閘道的裝置，請使用明確的 0.0.0.0/0 或 ::/0 目的地。
  </para>
  <para>
   第二欄包含預設的閘道或是可以存取主機或網路的閘道。
  </para>
  <para>
   第三欄已廢棄；該欄用於包含目的地的 IPv4 網路遮罩。對於 IPv6 路由、預設路由，或者如果在第一欄中使用了字首長度 (CIDR 表示法)，請在此處輸入破折號 (<literal>-</literal>)。
  </para>

  <para>
   第四欄包含介面名稱。如果使用破折號 (<literal>-</literal>) 將它保留空白，可能會導致 <filename>/etc/sysconfig/network/routes</filename> 出現非預期的行為。如需詳細資訊，請參閱 <systemitem>routes</systemitem> 的 man 頁面。
  </para>
  <para>
   第五欄 (選擇性) 可用於指定特殊選項。如需詳細資訊，請參閱 <systemitem>routes</systemitem> 的 man 頁面。
  </para>
  <example>
   <title>通用網路介面和一些靜態路由</title>
<screen># --- IPv4 routes in CIDR prefix notation:
# Destination     [Gateway]         -                  Interface
127.0.0.0/8       -                 -                  lo
204.127.235.0/24  -                 -                  eth0
default           204.127.235.41    -                  eth0
207.68.156.51/32  207.68.145.45     -                  eth1
192.168.0.0/16    207.68.156.51     -                  eth1

# --- IPv4 routes in deprecated netmask notation"
# Destination     [Dummy/Gateway]   Netmask            Interface
#
127.0.0.0         0.0.0.0           255.255.255.0      lo
204.127.235.0     0.0.0.0           255.255.255.0      eth0
default           204.127.235.41    0.0.0.0            eth0
207.68.156.51     207.68.145.45     255.255.255.255    eth1
192.168.0.0       207.68.156.51     255.255.0.0        eth1

# --- IPv6 routes are always using CIDR notation:
# Destination     [Gateway]                -           Interface
2001:DB8:100::/64 -                        -           eth0
2001:DB8:100::/32 fe80::216:3eff:fe6d:c042 -           eth0</screen>
  </example>
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-resolv">
  <title><filename>/var/run/netconfig/resolv.conf</filename></title>
  <para>
   主機所屬的網域在 <filename>/var/run/netconfig/resolv.conf</filename> 中指定 (關鍵字為 <systemitem>search</systemitem>)。使用 <systemitem>search</systemitem> 選項最多可以指定六個網域，總共 256 個字元。解析不完整的名稱時，會嘗試附加個別 <systemitem>search</systemitem> 項目產生一個名稱。使用 <systemitem>nameserver</systemitem> 選項最多可以指定三個名稱伺服器，一行指定一個。註解以井號或分號 (<literal>#</literal> 或 <literal>;</literal>) 開頭。如需取得範例說明，請參閱<xref linkend="dat-net-etc-resolv-conf"/>。
  </para>
  <para>
   不過，您不可手動編輯 <filename>/etc/resolv.conf</filename>。此檔案由 <command>netconfig</command> 程序檔產生，它是 <filename>/run/netconfig/resolv.conf</filename> 的符號連結。若要定義靜態 DNS 組態而不使用 YaST，請在 <filename>/etc/sysconfig/network/config</filename> 檔案中手動編輯適當的變數：
  </para>
  <variablelist>
   <varlistentry>
    <term><systemitem>NETCONFIG_DNS_STATIC_SEARCHLIST</systemitem>
    </term>
    <listitem>
     <para>
      用於主機名稱查詢的 DNS 網域名稱清單
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem>NETCONFIG_DNS_STATIC_SERVERS</systemitem>
    </term>
    <listitem>
     <para>
      用於主機名稱查詢的名稱伺服器 IP 位址清單
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem>NETCONFIG_DNS_FORWARDER</systemitem>
    </term>
    <listitem>
     <para>
      需要設定的 DNS 轉遞者名稱，例如 <literal>bind</literal> 或 <literal>resolver</literal>
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><systemitem>NETCONFIG_DNS_RESOLVER_OPTIONS</systemitem>
    </term>
    <listitem>
     <para>
      將寫入 <filename>/var/run/netconfig/resolv.conf</filename> 的任意選項，例如：
     </para>
<screen>debug attempts:1 timeout:10</screen>
     <para>
      如需詳細資訊，請參閱 <literal>resolv.conf</literal> 的 man 頁面。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem>NETCONFIG_DNS_RESOLVER_SORTLIST</systemitem>
    </term>
    <listitem>
     <para>
      最多 10 個項目的清單，例如：
     </para>
<screen>130.155.160.0/255.255.240.0 130.155.0.0</screen>
     <para>
      如需詳細資訊，請參閱 <systemitem>resolv.conf</systemitem> 的 man 頁面。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   若要使用 netconfig 停用 DNS 組態，請設定 <literal>NETCONFIG_DNS_POLICY=&apos;&apos;</literal>。如需 <command>netconfig</command> 的詳細資訊，請參閱 <systemitem>netconfig(8)</systemitem> man 頁面 (<command>man 8 netconfig</command>)。
  </para>
  <example xml:id="dat-net-etc-resolv-conf">
   <title><filename>/var/run/netconfig/resolv.conf</filename></title>
<screen># Our domain
search example.com
#
# We use dns.example.com (192.168.1.116) as nameserver
nameserver 192.168.1.116</screen>
  </example>
 </sect3>

 <sect3 xml:id="sec-network-manconf-netconfig">
  <title><filename>/sbin/netconfig</filename></title>
  <para>
   <command>netconfig</command> 是一個模組化工具，用於管理其他網路組態設定。它根據預先定義的規則，將靜態定義的設定與自動組態機制 (如 DHCP 或 PPP) 提供的設定進行合併。透過呼叫負責修改組態檔案和重新啟動服務或類似動作的 netconfig 模組，將必要的變更套用至系統。
  </para>
  <para>
   <command>netconfig</command> 可以辨識三個主要動作。DHCP 或 PPP 等精靈使用 <command>netconfig modify</command> 與 <command>netconfig remove</command> 指令提供或移除 netconfig 的設定。使用者僅可使用 <command>netconfig update</command> 指令：
  </para>
  <variablelist>
   <varlistentry>
    <term><command>modify</command>
    </term>
    <listitem>
     <para>
      <command>netconfig modify</command> 指令會修改目前的介面和服務特定的動態設定，並更新網路組態。Netconfig 會從標準輸入或從使用 <option>--lease-file <replaceable>FILENAME</replaceable></option> 選項指定的檔案中讀取設定，並將其儲存於內部，直到系統重新開機 (或者執行下一個修改或移除動作) 為止。系統會覆寫同一個介面與服務組合的現有設定。該介面由 <option>-i <replaceable>INTERFACE_NAME</replaceable></option> 參數指定。該服務由 <option>-s <replaceable>SERVICE_NAME</replaceable></option> 參數指定。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>remove</command>
    </term>
    <listitem>
     <para>
      <command>netconfig remove</command> 指令為指定介面和服務組合移除由編輯動作提供的動態設定，並更新網路組態。該介面由 <option>-i <replaceable>INTERFACE_NAME</replaceable></option> 參數指定。該服務由 <option>-s <replaceable>SERVICE_NAME</replaceable></option> 參數指定。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>update</command>
    </term>
    <listitem>
     <para>

      <command>netconfig update</command> 指令會使用目前的設定更新網路組態。當規則或靜態組態變更時可以使用此指令。如果只想更新指定的服務 (<systemitem>dns</systemitem>、<systemitem>nis</systemitem> 或 <systemitem>ntp</systemitem>)，請使用 <option>-m <replaceable>MODULE_TYPE</replaceable></option> 參數。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   netconfig 規則和靜態組態設定可透過手動方式定義，或使用 YaST 在 <filename>/etc/sysconfig/network/config</filename> 檔案中定義。自動組態工具 (如 DHCP 或 PPP) 提供的動態組態設定經由這些工具，透過 <command>netconfig modify</command> 和 <command>netconfig remove</command> 動作直接傳送。NetworkManager 啟用時，netconfig (在 <literal>auto</literal> 規則模式中) 只會使用 NetworkManager 設定，而忽略使用傳統 ifup 方法設定的任何其他介面的設定。如果 NetworkManager 未提供任何設定，則使用靜態設定做為備用設定。系統不支援同時使用 NetworkManager 與 <command>wicked</command> 方法。
  </para>
  <para>
   如需 <command>netconfig</command> 的詳細資訊，請參閱 <command>man 8 netconfig</command>。
  </para>
 </sect3>

 <sect3 xml:id="sec-network-manconf-hosts">
  <title><filename>/etc/hosts</filename></title>
  <para>
   在此檔案中 (請參閱<xref linkend="dat-net-etc-hosts"/>)，將為主機名稱指定 IP 位址。如果沒有執行任何名稱伺服器，將使用此 IP 連接設定的所有主機將列示於此。對於每個主機，請在檔案中輸入一行資訊，其中包含 IP 位址、完全合格的主機名稱及主機名稱。IP 位址必須在行的開頭，然後以空格和定位點分隔這些項目。註解的前面永遠是 <literal>#</literal> 符號。
  </para>
  <example xml:id="dat-net-etc-hosts">
   <title><filename>/etc/hosts</filename></title>
<screen>127.0.0.1 localhost
192.168.2.100 jupiter.example.com jupiter
192.168.2.101 venus.example.com venus</screen>
  </example>
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-networks">
  <title><filename>/etc/networks</filename></title>
  <para>
   在此檔中，網路名稱會轉換為網路位址。格式與 <filename>hosts</filename> 檔案格式相似，但是網路名稱在位址前面。請參閱<xref linkend="dat-net-networks"/>。
  </para>
  <example xml:id="dat-net-networks">
   <title><filename>/etc/networks</filename></title>
<screen>loopback     127.0.0.0
localnet     192.168.0.0</screen>
  </example>
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-host">
  <title><filename>/etc/host.conf</filename></title>
  <para>
   名稱解析--透過<emphasis>解析器</emphasis>庫分析主機和網路的名稱--由此檔案收集。該檔案僅用於與 libc4 或 libc5 連結的程式。對於目前的 glibc 程式，請參閱 <filename>/etc/nsswitch.conf</filename> 中的設定。每個參數都必須單獨佔用一行。註解的前面是 <literal>#</literal> 符號。<xref linkend="tab-net-param-hostconf"/> 顯示了可用的參數。<filename>/etc/host.conf</filename> 範例是顯示在 <xref linkend="dat-net-etc-hostconf"/>。
  </para>
  <table xml:id="tab-net-param-hostconf">
   <title>/etc/host.conf 的參數</title>
   <tgroup cols="2" align="left">
    <tbody>
     <row>
      <entry>
       <para>
        order <emphasis>hosts</emphasis>, <emphasis>bind</emphasis>
       </para>
      </entry>
      <entry>
       <para>
        指定針對名稱解析存取服務的順序。可用的引數有 (以空格或逗號分隔)：
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para/>
      </entry>
      <entry>
       <para>
        <emphasis>hosts</emphasis>：搜尋 <filename>/etc/hosts</filename> 檔案
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para/>
      </entry>
      <entry>
       <para>
        <emphasis>bind</emphasis>：存取名稱伺服器
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para/>
      </entry>
      <entry>
       <para>
        <emphasis>nis</emphasis>：使用 NIS
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        multi <emphasis>on</emphasis>/<emphasis>off</emphasis>
       </para>
      </entry>
      <entry>
       <para>
        定義在 <filename>/etc/hosts</filename> 中所輸入的主機是否可以有多個 IP 位址。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        nospoof <emphasis>on</emphasis> spoofalert <emphasis>on</emphasis>/<emphasis>off</emphasis>
       </para>
      </entry>
      <entry>
       <para>
        這些參數會影響名稱伺服器 <emphasis>spoofing</emphasis>，但並不會對網路組態產生任何影響。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        trim <emphasis>domainname</emphasis>
       </para>
      </entry>
      <entry>
       <para>
        在主機名稱解析後，指定的網域名稱會與主機名稱分隔開來 (前提是主機名稱包括網域名稱)。只有在本地網域分隔出來的名稱位於 <filename>/etc/hosts</filename> 檔案，但仍然使用附加的網域名稱進行辨識時，這個選項才有用。
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
  <example xml:id="dat-net-etc-hostconf">
   <title><filename>/etc/host.conf</filename></title>
<screen># We have named running
order hosts bind
# Allow multiple address
multi on</screen>
  </example>
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-nsswitch">
  <title><filename>/etc/nsswitch.conf</filename></title>
  <para>
   GNU C Library 2.0 的介紹隨附於<emphasis>名稱服務切換</emphasis> (NSS，Name Service Switch) 的介紹。如需詳細資料，請參閱 <systemitem>nsswitch.conf(5)</systemitem> man 頁面和《<emphasis>GNU C 庫參考手冊</emphasis>》。
  </para>
  <para>
   查詢的順序定義於檔案 <filename>/etc/nsswitch.conf</filename>。<filename>nsswitch.conf</filename> 範例是顯示在 <xref linkend="dat-net-nsswitchconf"/>。備註前面標有 <literal>#</literal> 符號。在此範例中，<filename>hosts</filename> 資料庫下的項目表示要求是透過 DNS 傳送到 <filename>/etc/hosts</filename> (<option>files</option>)。
  </para>
  <example xml:id="dat-net-nsswitchconf">
   <title><filename>/etc/nsswitch.conf</filename></title>
<screen>passwd:     compat
group:      compat

hosts:      files dns
networks:   files dns

services:   db files
protocols:  db files
rpc:        files
ethers:     files
netmasks:   files
netgroup:   files nis
publickey:  files

bootparams: files
automount:  files nis
aliases:    files nis
shadow:     compat
</screen>
  </example>
  <para>
   NSS 上可用的「<quote>資料庫</quote>」列示於 <xref linkend="tab-net-nnswitch-db"/>。<xref linkend="tab-net-nnswitch-conf"/>中列出了 NSS 資料庫的組態選項。
  </para>
  <table xml:id="tab-net-nnswitch-db">
   <title>透過 /etc/nsswitch.conf 可用的資料庫</title>
   <tgroup cols="2" align="left">
    <tbody>
     <row>
      <entry>
       <para>
        <option>aliases</option>
       </para>
      </entry>
      <entry>
       <para>
        <filename>sendmail</filename> 所執行的郵件別名；請參閱 <command>man</command> <option>5 aliases</option>。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>ethers</option>
       </para>
      </entry>
      <entry>
       <para>
        乙太網路位址。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>netmasks</option>
       </para>
      </entry>
      <entry>
       <para>
        網路及其子網路遮罩的清單。當您使用子網路時才需要。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>group</option>
       </para>
      </entry>
      <entry>
       <para>
        <filename>getgrent</filename> 所使用的使用者群組。請參閱 <command>group</command> 的 man 頁面。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>hosts</option>
       </para>
      </entry>
      <entry>
       <para>
        <filename>gethostbyname</filename> 及類似函數所使用的主機名稱與 IP 位址。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>netgroup</option>
       </para>
      </entry>
      <entry>
       <para>
        在網路中用於控制存取權限的有效主機和使用者清單，請參閱 <systemitem>netgroup(5)</systemitem> man 頁面。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>networks</option>
       </para>
      </entry>
      <entry>
       <para>
        <filename>getnetent</filename> 所使用的網路名稱與位址。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>publickey</option>
       </para>
      </entry>
      <entry>
       <para>
        NFS 及 NIS+ 使用之 Secure_RPC 的公開金鑰和私密金鑰。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>passwd</option>
       </para>
      </entry>
      <entry>
       <para>
        <filename>getpwent</filename> 使用的使用者密碼；請參閱 <systemitem>passwd(5)</systemitem> man 頁面。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>protocols</option>
       </para>
      </entry>
      <entry>
       <para>
        <filename>getprotoent</filename> 使用的網路通訊協定；請參閱 <systemitem>protocols(5)</systemitem> man 頁面。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>rpc</option>
       </para>
      </entry>
      <entry>
       <para>
        <filename>getrpcbyname</filename> 及類似功能所使用的遠端程序呼叫名稱與位址。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>services</option>
       </para>
      </entry>
      <entry>
       <para>
        <filename>getservent</filename> 使用的網路服務。
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>shadow</option>
       </para>
      </entry>
      <entry>
       <para>
        <filename>getspnam</filename> 所使用的使用者遮蔽密碼；請參閱 <option>shadow(5)</option> man 頁面。
       </para>
      </entry>
     </row>

    </tbody>
   </tgroup>
  </table>
  <table xml:id="tab-net-nnswitch-conf">
   <title>NSS<quote>資料庫</quote>的組態選項</title>
   <tgroup cols="2" align="left">
    <tbody>
     <row>
      <entry>
       <para>
        <option>files</option>
       </para>
      </entry>
      <entry>
       <para>
        直接存取檔案，例如 <filename>/etc/aliases</filename>
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>db</option>
       </para>
      </entry>
      <entry>
       <para>
        透過資料庫存取
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>nis</option>、<option>nisplus</option>
       </para>
      </entry>
      <entry>
       <para>
        NIS，請參閱<xref linkend="cha-nis"/>
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>dns</option>
       </para>
      </entry>
      <entry>
       <para>
        只能做為 <option>hosts</option> 與 <option>networks</option> 的延伸
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>compat</option>
       </para>
      </entry>
      <entry>
       <para>
        只能做為 <option>passwd</option>、<option>shadow</option> 與 <option>group</option> 的延伸
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-nscd">
  <title><filename>/etc/nscd.conf</filename></title>
  <para>
   此檔案用來設定 nscd (名稱服務快取精靈)。請參閱 <systemitem>nscd(8)</systemitem> 和 <systemitem>nscd.conf(5)</systemitem> man 頁面。依預設，<option>passwd</option>、<option>groups</option> 與 <option>hosts</option> 的系統項目會由 nscd 快取。這對 NIS 與 LDAP 等目錄服務的效能而言十分重要，因為存取名稱、群組或主機都不再需要網路連接。
   
  </para>
  <para>
   如果啟用 <option>passwd</option> 的快取，通常需要 15 秒，才能辨識新增的本地使用者。使用以下指令重新啟動 nscd，縮短這段等待時間：
  </para>
<screen><prompt>&gt; </prompt><command>sudo</command> systemctl restart nscd</screen>
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-hostname">
  <title><filename>/etc/HOSTNAME </filename></title>
  <para>
   <filename>/etc/HOSTNAME</filename> 包含完全合格的主機名稱 (FQHN)。完全合格的主機名稱是附加網域名稱的主機名稱。此檔案只能包含一行，其中設定了主機名稱。機器開機時會讀取此檔案。
  </para>
 </sect3>
</sect2>
