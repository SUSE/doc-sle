<?xml version="1.0"?>
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="apps_ekiga.xml" id="cha.ekiga">
 <title>Ekiga: usando Voz por IP</title><indexterm id="idx.voip" class="startofrange"> <primary>VoIP</primary> </indexterm> <indexterm> <primary>aplicativos</primary> <secondary>rede</secondary> <tertiary>Ekiga</tertiary> </indexterm> <indexterm id="idx.ekiga" class="startofrange"> <primary>Ekiga</primary> </indexterm>
 <abstract>
  <para>
   A telecomunicação moderna envolve muito mais do que apenas ligações. Inclui também mensagens de texto e, em alguns casos, até videoconferência. O recurso Roaming permite que você esteja acessível em um número de telefone em qualquer parte do mundo. O Ekiga inclui esses recursos em sua área de trabalho Linux, para que você possa se comunicar pela Internet de banda larga.
  </para>
 </abstract>
 <para>
  Antes de iniciar, verifique se os requisitos a seguir foram atendidos:
 </para>
 <itemizedlist mark="bullet" spacing="normal">
  <listitem>
   <para>
    Sua placa de som deve estar configurada de forma adequada.
   </para>
  </listitem>
  <listitem>
   <para>
    Fones de ouvido ou microfone e alto-falantes estão conectados ao computador.
   </para>
  </listitem>
  <listitem>
   <para>
    Para discar para redes telefônicas habituais, é necessária uma conta SIP. O SIP (<emphasis>Signaling protocol for Internet Telephony</emphasis>) é o protocolo usado para estabelecer sessões de audioconferência e videoconferência ou encaminhamento de chamadas. Há vários provedores de VoIP em todo o mundo. Para uma rápida introdução, conheça o serviço que o projeto Ekiga oferece em <ulink url="http://www.ekiga.net"/>.
   </para>
  </listitem>
  <listitem>
   <para>
    Para videoconferência, uma webcam está conectada ao computador.
   </para>
  </listitem>
 </itemizedlist>
 <sect1 id="sec.ekiga.configure">
  <title>Configurando o Ekiga</title>

  <tip>
   <para>
    Se o Ekiga não estiver instalado no sistema, instale-o com o módulo de Gerenciamento de Software do YaST ou digitando <command>zypper install ekiga</command> como <systemitem class="username">root</systemitem> na linha de comando. Após o término da instalação, você poderá executar o Ekiga clicando em <menuchoice><guimenu>Aplicativos</guimenu> <guimenu>Internet</guimenu> <guimenu>Ekiga Softphone</guimenu></menuchoice>.
   </para>
  </tip>

  <para>
   Ao ser iniciado pela primeira vez, o Ekiga abre um Assistente de Configuração que solicita todos os dados necessários para configurá-lo. Proceda da seguinte maneira:
  </para>

  <procedure>
   <step performance="required">
    <para>
     Digite seu nome completo (nome e sobrenome).
    </para>
   </step>
   <step performance="required">
    <para>
     Digite os dados da sua conta no <literal>ekiga.net</literal> ou escolha não se registrar em <ulink url="http://www.ekiga.net"/>.
    </para>
    <para>
     Para adicionar outras contas posteriormente, configure-as usando <menuchoice> <guimenu>Edit (Editar)</guimenu> <guimenu>Accounts (Contas)</guimenu></menuchoice>.
    </para>
   </step>
   <step performance="required">
    <para>
     Digite os dados da sua <literal>Conta para Chamada do Ekiga</literal> ou escolha não se registrar em <ulink url="http://www.ekiga.net"/>.
    </para>
   </step>
   <step performance="required">
    <para>
     Determine seu tipo de conexão.
    </para>
   </step>

   <step performance="required">
    <para>
     Escolha o driver de dispositivo de toque, entrada e saída de áudio. <guimenu>ALSA</guimenu> é uma opção padrão segura que garante a melhor qualidade de som. Outros sistemas de som, como o OSS, também estão disponíveis no <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>.
    </para>
    <para>
     Por padrão, não há um conjunto de dispositivos de chamada telefônica. Se quiser um tom de toque, mude para um dos dispositivos de áudio disponíveis.
    </para>
   </step>
   <step performance="required">
    <para>
     Escolha o dispositivo de entrada de vídeo, se disponível.
    </para>
   </step>
   <step performance="required">
    <para>
     Verifique o resumo de suas configurações e aplique-as.
    </para>
   </step>
   <step performance="required">
    <para>
     Se houver falha no registro após fazer mudanças na configuração, reinicie o Ekiga.
    </para>
   </step>
  </procedure>

  <para>
   O Ekiga permite que você mantenha várias contas. Para configurar uma conta adicional, faça o seguinte:
  </para>

  <procedure>
   <step performance="required">
    <para>
     Abra <menuchoice> <guimenu>Editar</guimenu> <guimenu>Contas</guimenu></menuchoice>.
    </para>
   </step>
   <step performance="required">
    <para>
     Escolha <menuchoice><guimenu>Contas</guimenu> <guimenu>Adicionar &lt;tipo de conta&gt;</guimenu></menuchoice>. Se não tiver certeza, selecione <guimenu>Adicionar uma Conta SIP</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Digite o <guimenu>Registrador</guimenu> no qual deseja se registrar. Normalmente, ele é um endereço IP ou um nome de host que será fornecido a você pelo Provedor de Serviços de Telefonia para Internet. Digite o <guimenu>Usuário</guimenu> e a <guimenu>Senha</guimenu> de acordo com os dados fornecidos pelo seu provedor.
    </para>
   </step>
   <step performance="required">
    <para>
     Deixe a caixa de diálogo de configuração com <guimenu>OK</guimenu> e ative a conta. O status da sua conta exibida na janela principal do Ekiga muda para <guimenu>Registered</guimenu> (Registrado).
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 id="sec.ekiga.ui">
  <title>A interface do usuário do Ekiga</title>

  <para>
   A interface de usuário do Ekiga tem várias guias disponíveis. A primeira guia é <guimenu>Contatos</guimenu>, a segunda é <guimenu>Teclado</guimenu> e a última é <guimenu>Histórico de chamadas</guimenu>. Além disso, há a guia <guimenu>Painel de Chamadas</guimenu> disponível, que mostra imagens e vídeos de webcams locais e remotas.
  </para>

  <figure id="fig.ekiga.main">
   <title>Interface do usuário do Ekiga</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="ekiga_main.png" width="55%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="ekiga_main.png" width="55%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   A interface do usuário tem modos diferentes. Para alternar entre as telas, use a linha de guias. Por padrão, o Ekiga abre a guia <guimenu>Contatos</guimenu>. Nela, o bloco de endereços local permite abrir rapidamente conexões com os números mais usados. Para ter uma visão completa com suporte a webcam e controles de áudio, ative o <guimenu>Painel de Chamadas</guimenu> em <menuchoice><guimenu>Ver</guimenu> <guimenu>Mostrar o painel de chamadas</guimenu></menuchoice>.
  </para>

  <para>
   Na parte inferior do <guimenu>Painel de Chamadas</guimenu>, há ícones para vários controles, como <guimenu>Configurações de Áudio</guimenu>, <guimenu>Configurações de Vídeo</guimenu>, <guimenu>Exibição de Vídeo</guimenu> e <guimenu>Por Chamada em Espera</guimenu>. Todos os ícones apresentam uma dica de ferramenta que é ativada ao passar o ponteiro do mouse sobre eles. Algumas configurações, como as de <guimenu>Áudio</guimenu> somente podem ser mudadas durante uma chamada telefônica.
  </para>

  <para>
   Várias funções do Ekiga estão disponíveis por meio de combinações de teclas. A <xref linkend="tab.ekiga.shortcut"/> resume as mais importantes.
  </para>

  <table id="tab.ekiga.shortcut">
   <title>Combinações de teclas do Ekiga</title>
   <tgroup cols="2">
    <thead>
     <row>
      <entry>
       <para>
        Combinação de Teclas
       </para>
      </entry>
      <entry>
       <para>
        Descrição
       </para>
      </entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>O</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Iniciar uma chamada com o número atual.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap function="escape"/>
       </para>
      </entry>
      <entry>
       <para>
        Desligar.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>N</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Adicionar um contato ao seu bloco de endereços.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>B</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Abrir a caixa de diálogo <guimenu>Bloco de Endereços</guimenu>.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>C</keycap>
       </para>
      </entry>
      <entry>
       <para>
        Colocar a chamada atual em espera.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>T</keycap>
       </para>
      </entry>
      <entry>
       <para>
        Transferir a chamada atual para a outra parte.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>M</keycap>
       </para>
      </entry>
      <entry>
       <para>
        Suspender o fluxo de áudio da chamada atual.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>P</keycap>
       </para>
      </entry>
      <entry>
       <para>
        Suspender o fluxo de vídeo da chamada atual.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>W</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Fechar a interface do usuário do Ekiga.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>Q</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Encerrar o Ekiga.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>E</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Iniciar o gerenciador de contas.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>J</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Ativar o <guimenu>Painel de Chamadas</guimenu> na interface do usuário principal.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>+</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Ampliar a imagem da webcam.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>-</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Reduzir a imagem da webcam.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>0</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Retornar ao tamanho normal de exibição da webcam.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>F11</keycap>
       </para>
      </entry>
      <entry>
       <para>
        Usar a tela inteira para a webcam.
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
 </sect1>
 <sect1 id="sec.ekiga.firstcall">
  <title>Realização de chamada</title><indexterm> <primary>Ekiga</primary> <secondary>chamada</secondary> </indexterm>

  <para>
   Após a configuração apropriada do Ekiga, fica fácil fazer uma chamada.
  </para>

  <procedure>
   <step performance="required">
    <para>
     Inicie o Ekiga usando o menu ou uma linha de comando.
    </para>
   </step>
   <step performance="required">
    <para>
     Digite o endereço SIP da parte a ser chamada no prompt <guimenu>Endereço SIP</guimenu>. O endereço deve ser semelhante a este:
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       para chamadas locais diretas: <literal>sip:nome_do_usuário@nome_do_domínio</literal> ou <literal>nome_do_usuário@nome_do_host</literal>
      </para>
     </listitem>
     <listitem>
      <para>
       <literal>sip:nome_do_usuário@nome_do_domínio</literal> ou <literal>id_do_usuário@servidor_sip</literal>
      </para>
     </listitem>
    </itemizedlist>

   </step>
   <step performance="required">
    <para>
     Clique em <guimenu>Chamar</guimenu> ou pressione <keycombo><keycap function="control"/><keycap>O</keycap></keycombo> e aguarde até a outra pessoa atender a chamada.
    </para>
   </step>
   <step performance="required">
    <para>
     Para encerrar a chamada, clique em <guimenu>Desligar</guimenu> ou pressione <keycap function="escape"/>.
    </para>
   </step>
  </procedure>

  <para>
   Se precisar ajustar os parâmetros de som durante a chamada, clique no ícone <guimenu>Configurações de Áudio</guimenu> no <guimenu>Painel de Chamadas</guimenu>. Aparece uma janela com as opções de <guimenu>Áudio</guimenu> para <guimenu>Volume do autofalante</guimenu> e <guimenu>Volume do microfone</guimenu>. Use os controles deslizantes para ajustar os níveis de acordo com a sua necessidade.
  </para>
 </sect1>
 <sect1 id="sec.ekiga.answer">
  <title>Para atender uma chamada</title>

  <para>
   O Ekiga pode receber chamadas de duas maneiras diferentes. Primeiro, é possível chamar o usuário diretamente com <literal>sip:usuário@host</literal> ou pelo provedor SIP. A maioria dos provedores SIP permite receber chamadas de uma linha fixa normal para a sua conta VoIP. Dependendo do modo de execução do Ekiga, há várias maneiras de alertá-lo quando receber uma chamada:
  </para>

  <variablelist>
   <varlistentry>
    <term>Aplicativo normal</term>
    <listitem>
     <para>
      As chamadas só poderão ser recebidas e atendidas se o Ekiga já estiver sendo executado. É possível ouvir um toque em seus fones ou alto-falantes. Se o Ekiga não estiver sendo executado, a chamada não poderá ser recebida.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Applet do painel</term>
    <listitem>
     <para>
      Normalmente, o applet do painel do Ekiga seria executado silenciosamente, sem dar nenhum sinal de sua existência. Isso muda assim que uma chamada é recebida. A janela principal do Ekiga é aberta e você ouve um toque em seus fones ou alto-falantes.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   Quando você receber uma chamada, clique em <guimenu>Aceitar</guimenu> para atendê-la e iniciar a conversa. Se não quiser aceitar a chamada, clique em <guimenu>Rejeitar</guimenu>. Também é possível transferir a chamada para outro endereço SIP.
  </para>
 </sect1>
 <sect1 id="sec.ekiga.calladd">
  <title>Utilizando o Bloco de Endereços</title>

  <para>
   O Ekiga é capaz de gerenciar os contatos do SIP. Todos os contatos são exibidos na guia <guimenu>Contatos</guimenu>, que aparece na janela principal após a inicialização. Para adicionar um contato ou um novo grupo de contatos, execute <menuchoice><guimenu>Bate-papo</guimenu><guimenu>Adicionar contato</guimenu></menuchoice>.
  </para>

  <para>
   Para adicionar um novo grupo, digite o nome do grupo na caixa de texto inferior e clique em <guimenu>Adicionar</guimenu>. O novo grupo é então adicionado à lista de grupos e é pré-selecionado.
  </para>

  <para>
   As entradas a seguir são necessárias para um contato válido:
  </para>

  <variablelist>
   <varlistentry>
    <term>Nome</term>
    <listitem>
     <para>
      Digite o nome do contato. Pode ser o nome completo ou um apelido.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Endereço</term>
    <listitem>
     <para>
      Digite um endereço SIP válido para o contato.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Grupos</term>
    <listitem>
     <para>
      Se tiver vários contatos diferentes, adicione seus próprios grupos.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   Para chamar um contato do bloco de endereços, clique duas vezes no contato. A chamada será iniciada imediatamente.
  </para>
 </sect1>
 <sect1 id="sec.ekiga.moreinfo">
  <title>Para obter mais informações</title>

  <para>
   A home page oficial do Ekiga é <ulink url="http://www.ekiga.org/"/>. O site oferece respostas às perguntas frequentes, além de uma documentação mais detalhada.
  </para>

  <para>
   Para obter informações sobre o suporte do protocolo de teleconferência <literal>H323</literal> no Linux, consulte <ulink url="http://www.voip-info.org/wiki/view/H.323"/>. Esse também é um bom ponto de partida quando você precisar procurar projetos que suportem VoIP.
  </para>

  <para>
   Para configurar uma rede telefônica privada, você talvez se interesse pelo software Asterisk <literal>PBX</literal> <ulink url="http://www.asterisk.org/"/>. Encontre informações sobre o assunto no site <ulink url="http://www.voip-info.org/wiki-Asterisk"/>. <indexterm startref="idx.ekiga" class="endofrange"/> <indexterm startref="idx.voip" class="endofrange"/>
  </para>
 </sect1>
</chapter>
