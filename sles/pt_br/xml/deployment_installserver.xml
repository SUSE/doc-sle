<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_installserver.xml" version="5.0" role="General" xml:id="cha.deployment.instserver">
 <title>Configurando o servidor que mantém as fontes de instalação</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes (sim)</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  O <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> pode ser instalado de várias maneiras. Além da instalação comum de mídia descrita no <xref linkend="cha.inst"/>, você pode escolher uma das várias abordagens baseadas em rede ou até optar por uma abordagem totalmente sem intervenção para a instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>.
 </para>
 <para>
  Cada método é apresentado em duas listas de verificação resumidas: uma que relaciona os pré-requisitos do método e outra que ilustra o procedimento básico. São fornecidos mais detalhes para todas as técnicas usadas nos cenários de instalação.
 </para>
 <note>
  <title>Terminologia</title>
  <para>
   Nas seções a seguir, o sistema que armazenará a instalação do novo <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> é chamado de <emphasis>sistema de destino</emphasis> ou <emphasis>destino de instalação</emphasis>. O termo <emphasis>repositório</emphasis> (antes chamado de <quote>fonte de instalação</quote>) é usado para todas as fontes de dados de instalação. Isso inclui mídia física, como CD e DVD e servidores de rede que distribuem os dados de instalação na sua rede.
  </para>
 </note>
 <para>
  Dependendo do sistema operacional executado na máquina que vai ser usada como a fonte de instalação de rede para o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, haverá várias opções para configuração do servidor. A maneira mais fácil de configurar um servidor de instalação é usar o YaST no SUSE Linux Enterprise Server 11/openSUSE 11.1 ou superior.
 </para>
 <tip>
  <title>Sistema operacional do servidor de instalação</title>
  <para>
   É possível até usar uma máquina Microsoft Windows como o servidor de instalação para implantação do Linux. Consulte a <xref linkend="sec.deployment.instserver.smb"/> para obter os detalhes. 
  </para>
 </tip>
 <sect1 xml:id="sec.deployment.instserver.sles9">
  <title>Configurando um servidor de instalação usando YaST</title>

  <para>
   O YaST oferece uma ferramenta gráfica para criação de repositórios de rede. Ele possui suporte a servidores de instalação em rede HTTP, FTP e NFS.
  </para>

  <procedure xml:id="proc.deployment.instserver.sles9">
   <step>
    <para>
     Efetue login como <systemitem class="username">root</systemitem> na máquina que deverá ser usada como servidor de instalação.
    </para>
   </step>
   <step>
    <para>
     Inicie <menuchoice><guimenu>YaST</guimenu><guimenu>Diversos</guimenu><guimenu>Servidor de Instalação</guimenu></menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Selecione o tipo de repositório (HTTP, FTP ou NFS). O serviço selecionado é iniciado automaticamente sempre que o sistema é iniciado. Se um serviço do tipo selecionado já estiver em execução no seu sistema e você quiser configurá-lo manualmente para o servidor, desative a configuração automática do serviço de servidor com <guimenu>Não configure serviços de rede</guimenu>. Em ambos os casos, defina o diretório em que os dados da instalação devem estar disponíveis no servidor.
    </para>
   </step>
   <step>
    <para>
     Configure o tipo de repositório necessário. Esta etapa refere-se à configuração automática dos serviços de servidor. Ela é ignorada quando a configuração automática está desativada.
    </para>
    <para>

     Defina um álias para o diretório raiz do servidor FTP ou HTTP no qual os dados de instalação devem ser encontrados. O repositório será armazenado em <literal>ftp://<replaceable>IP-Servidor</replaceable>/<replaceable>Álias</replaceable>/<replaceable>Nome</replaceable></literal> (FTP) ou em <literal>http://<replaceable>IP-Servidor</replaceable>/<replaceable>Álias</replaceable>/<replaceable>Nome</replaceable></literal> (HTTP). <replaceable>Nome</replaceable> é o nome do repositório, definido na etapa a seguir. Se você tiver selecionado NFS na etapa anterior, defina caracteres curingas e opções de exportação. O servidor NFS estará disponível em <literal>nfs://<replaceable>IP do servidor</replaceable>/<replaceable>Nome</replaceable></literal>. Detalhes sobre NFS e exportações são encontrados no <xref linkend="cha.nfs"/>.
    </para>
    <tip>
     <title>Configurações de Firewall</title>
     <para>
      Verifique se as configurações de firewall de seu sistema de servidor permitem tráfego nas portas para HTTP, NFS e FTP. Se não for permitido, habilite <guimenu>Abrir Porta no Firewall</guimenu> ou marque primeiro <guimenu>Detalhes do Firewall</guimenu>.
     </para>
    </tip>
   </step>
   <step>
    <para>
     Configure o repositório. Antes de copiar as mídias de instalação para o destino, defina o nome do repositório (o ideal é uma abreviação do produto e da versão fácil de se lembrar). O YaST permite gerar imagens ISO das mídias, em vez de cópias dos DVDs de instalação. Se desejar, ative a caixa de seleção relevante e especifique o caminho de diretório no qual os arquivos ISO podem ser encontrados localmente. Dependendo do produto que será distribuído usando este servidor de instalação, talvez seja necessário adicionar outras mídias, como DVDs de service pack, como repositórios extras. Para anunciar o servidor de instalação na rede por OpenSLP, ative a opção adequada.
    </para>
    <tip>
     <title>Anunciando o repositório</title>
     <para>
      Considere anunciar seu repositório por OpenSLP, se a sua configuração de rede suportar essa opção. Isto o livra de digitar o caminho de instalação da rede em todas as máquinas de destino. Os sistemas de destino são inicializados usando a opção de boot SLP e encontram o repositório de rede sem nenhuma outra configuração. Para obter os detalhes sobre esta opção, consulte a <xref linkend="sec.deployment.remoteinst.bootinst"/>.
     </para>
    </tip>
   </step>
   <step>
    <para>
     Configurando repositórios extras. O YaST segue uma convenção de nomeação específica para configurar repositórios de CDs complementares ou de pacotes de serviço. A configuração apenas será aceita se o nome do repositório dos CDs complementares for precedido pelo nome do repositório da mídia de instalação. Em outras palavras, se você escolheu <literal>SLES12SP1</literal> como o nome do repositório para o DVD1, deve escolher <literal>SLES12SP1addon</literal> para o DVD2. O mesmo é válido para os CDs de SDK.
    </para>
   </step>
   <step>
    <para>
     Faça o upload dos dados de instalação. A etapa mais extensa da configuração do servidor de instalação é a cópia das mídias de instalação reais. Insira a mídia na sequência solicitada pelo YaST e aguarde o término do procedimento de cópia. Quando as fontes forem totalmente copiadas, retorne à visão geral dos repositórios existentes e feche a configuração selecionando <guimenu>Concluir</guimenu>.
    </para>
    <para>
     O seu servidor de instalação agora está totalmente configurado e pronto para serviço. Ele é inicializado automaticamente toda vez que o sistema é iniciado. Nenhuma outra intervenção é necessária. Você precisa apenas configurar e inicializar este serviço de forma correta e manualmente se tiver desativado a configuração automática do serviço de rede selecionado com YaST como etapa inicial.
    </para>
   </step>
  </procedure>

  <para>
   Para desativar um repositório, selecione o repositório que deseja remover e selecione <guimenu>Apagar</guimenu>. Os dados de instalação são removidos do sistema. Para desativar o serviço de rede, use o respectivo módulo do YaST.
  </para>

  <para>
   Se o servidor de instalação precisar fornecer os dados de instalação para mais de um produto da versão do produto, inicie o módulo do servidor de instalação do YaST e selecione <guimenu>Adicionar</guimenu> na visão geral dos repositórios existentes para configurar o novo repositório.
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.instserver.nfs">
  <title>Configurando um repositório NFS manualmente</title>

  

  <para>
   A configuração de uma fonte NFS para instalação é feita em duas etapas principais. Na primeira etapa, crie a estrutura de diretório que manterá os dados de instalação e copie a mídia de instalação nessa estrutura. Em seguida, exporte o diretório que manterá os dados de instalação para a rede.
  </para>

  <procedure xml:id="proc.deployment.instserver.nfs.cdir">
   <para>
    Para criar um diretório para manter os dados de instalação, faça o seguinte:
   </para>
   <step>
    <para>
     Efetue login como <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Crie um diretório que depois mantenha todos os dados de instalação e mude para esse diretório. Por exemplo:
    </para>
<screen><prompt role="root">root # </prompt>mkdir /srv/install/<replaceable>product</replaceable>/<replaceable>productversion</replaceable>
<prompt role="root">root # </prompt>cd /srv/install/<replaceable>product</replaceable>/<replaceable>productversion</replaceable></screen>
    <para>
     Substitua <replaceable>produto</replaceable> por uma abreviação do nome do produto e <replaceable>versão_do_produto</replaceable> por uma string que contenha o nome e a versão do produto.
    </para>
   </step>
   <step>
    <para>
     Para cada DVD incluído no kit de mídias, execute os seguintes comandos:
    </para>
    <substeps performance="required">
     <step>
      <para>
       Copie todo o conteúdo do DVD de instalação para o diretório do servidor de instalação:
      </para>
<screen><prompt role="root">root # </prompt>cp -a /media/<replaceable>path_to_your_DVD_drive .</replaceable></screen>
      <para>
       Substitua <replaceable>caminho_para_sua_unidade_de_DVD</replaceable> pelo caminho real onde está a unidade de DVD. Dependendo do tipo de unidade usado no seu sistema, as opções são <filename>cdrom</filename>, <filename>cdrecorder</filename>, <filename>dvd</filename> ou <filename>dvdrecorder</filename>.
      </para>
     </step>
     <step>
      <para>
       Renomeie o diretório com o número do DVD:
      </para>
<screen><prompt role="root">root # </prompt>mv <replaceable>path_to_your_DVD_drive</replaceable> DVD<replaceable>x</replaceable></screen>
      <para>
       Substitua <replaceable>x</replaceable> pelo número real do seu DVD.
      </para>
     </step>
    </substeps>
   </step>
  </procedure>

  <procedure xml:id="proc.deployment.instserver.nfs.export">
   <para>
    No <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, você pode exportar o repositório com NFS usando o YaST. Proceda da seguinte maneira:
   </para>
   <step>
    <para>
     Efetue login como <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Inicie <menuchoice><guimenu>YaST</guimenu><guimenu>Serviços de Rede</guimenu><guimenu>Servidor NFS</guimenu></menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Selecione <guimenu>Iniciar</guimenu> e <guimenu>Abrir Porta no Firewall</guimenu> e clique em <guimenu>Avançar</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Selecione <guimenu>Adicionar Diretório</guimenu> e procure o diretório contendo as fontes de instalação. Neste caso, o diretório é <filename><replaceable>versão_do_produto</replaceable></filename>.
    </para>
   </step>
   <step>
    <para>
     Selecione <guimenu>Adicionar Host</guimenu> e digite os nomes de host das máquinas para as quais exportar os dados de instalação. Em vez de especificar os nomes de host aqui, você também pode usar curingas, faixas de endereços de rede ou o nome de domínio da sua rede. Digite as opções de exportação adequadas ou mantenha o padrão, que funciona bem na maioria das configurações. Para obter mais informações sobre a sintaxe usada na exportação de compartilhamentos NFS, leia a página de manual sobre <systemitem>exports</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Clique em <guimenu>Concluir</guimenu>. O servidor NFS que armazena o repositório do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> é iniciado automaticamente e integrado ao processo de boot.
    </para>
   </step>
  </procedure>

  <procedure xml:id="proc.deployment.instserver.nfs.exportman">
   <para>
    Para exportar o repositório manualmente por meio do NFS, em vez de usar o módulo de Servidor NFS do YaST, faça o seguinte:
   </para>
   <step>
    <para>
     Efetue login como <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Abra o arquivo <filename>/etc/exports</filename> e digite a seguinte linha:
    </para>
<screen>/<replaceable>productversion</replaceable> *(ro,root_squash,sync)</screen>
    <para>
     Isso exportará o diretório <filename>/<replaceable>versão_do_produto</replaceable></filename> para qualquer host que faça parte desta rede ou para qualquer host que possa se conectar a este servidor. Para limitar o acesso a este servidor, use máscaras de rede ou nomes de domínio em vez do curinga geral <literal>*</literal>. Consulte a página de manual de <systemitem>export</systemitem> para obter os detalhes. Grave e saia deste arquivo de configuração.
    </para>
   </step>
   <step>
    <para>
     Para adicionar o serviço NFS à lista de servidores iniciados durante a inicialização do sistema, execute os seguintes comandos:
    </para>
<screen><prompt role="root">root # </prompt>systemctl enable nfsserver</screen>
   </step>
   <step>
    <para>
     Inicie o servidor NFS com <command>systemctl start nfsserver</command>. Se você precisa mudar a configuração do servidor NFS posteriormente, modifique o arquivo de configuração e reinicie o daemon NFS com <command>systemctl restart nfsserver</command>.
    </para>
   </step>
  </procedure>

  <procedure xml:id="proc.deployment.instserver.nfs.slpann">
   <para>
    Anunciar o servidor NFS por OpenSLP faz o seu endereço ser conhecido por todos os clientes da sua rede.
   </para>
   <step>
    <para>
     Efetue login como <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Crie o arquivo de configuração <filename>/etc/slp.reg.d/install.suse.nfs.reg</filename> com as seguintes linhas:
    </para>
<screen><?dbsuse-fo font-size="7pt"?>

# Register the NFS Installation Server
service:install.suse:nfs://$HOSTNAME/<replaceable>path_to_repository</replaceable>/DVD1,en,65535 
description=NFS Repository</screen>
    <para>
     Substitua <replaceable>caminho_para_repositório</replaceable> pelo caminho real da fonte de instalação no servidor.
    </para>
   </step>
   <step>
    <para>
     Inicie o daemon OpenSLP com <command>systemctl start slpd</command>.
    </para>
   </step>
  </procedure>

  <para os="sles">
   Para obter mais informações sobre OpenSLP, consulte a documentação do pacote localizada em <filename>/usr/share/doc/packages/openslp/</filename> ou consulte o <xref linkend="cha.slp"/>. Mais informações sobre NFS no <xref linkend="cha.nfs"/>.
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.instserver.ftp">
  <title>Configurando um repositório FTP manualmente</title>

  <para>
   A criação do repositório FTP é bem parecida com a do repositório NFS. O repositório FTP também pode ser anunciado pela rede usando OpenSLP.
  </para>

  <procedure xml:id="proc.deployment.instserver.ftp">
   <step>
    <para>
     Crie um diretório que mantenha as fontes de instalação como descrito na <xref linkend="sec.deployment.instserver.nfs"/>.
    </para>
   </step>
   <step>
    <para>
     Configure o servidor FTP para distribuir o conteúdo do seu diretório de instalação:
    </para>
    <substeps performance="required">
     <step>
      <para>
       Efetue login como <systemitem class="username">root</systemitem> e instale o pacote <systemitem>vsftpd</systemitem> usando o gerenciamento de software do YaST.
      </para>
     </step>
     <step>
      <para>
       Digite o diretório raiz do servidor FTP:
      </para>
<screen><prompt role="root">root # </prompt>cd <option>/srv/ftp</option></screen>
     </step>
     <step>
      <para>
       Crie um subdiretório que mantenha as fontes de instalação no diretório raiz do FTP:
      </para>
<screen><prompt role="root">root # </prompt>mkdir <replaceable>repository</replaceable></screen>
      <para>
       Substitua <replaceable>repositório</replaceable> pelo nome do produto.
      </para>
     </step>
     <step>
      <para>
       Monte o conteúdo do repositório de instalação no ambiente raiz de mudanças do servidor FTP:
      </para>
<screen><prompt role="root">root # </prompt>mount --bind <replaceable>path_to_repository</replaceable> /srv/ftp/<replaceable>repository</replaceable></screen>
      <para>
       Substitua <replaceable>caminho_para_repositório</replaceable> e <replaceable>repositório</replaceable> pelos valores correspondentes à sua configuração. Se precisar tornar os valores permanentes, adicione-os a <filename>/etc/fstab</filename>.
      </para>
     </step>
     <step>
      <para>
       Inicie vsftpd com <command>vsftpd</command>.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     Anuncie o repositório por OpenSLP, se for suportado pela sua configuração de rede:
    </para>
    <substeps performance="required">
     <step>
      <para>
       Crie o arquivo de configuração <filename>/etc/slp.reg.d/install.suse.ftp.reg</filename> com as seguintes linhas:
      </para>
<screen><?dbsuse-fo font-size="7pt"?>

# Register the FTP Installation Server
service:install.suse:ftp://$HOSTNAME/<replaceable>repository</replaceable>/DVD1,en,65535 
description=FTP Repository</screen>
      <para>
       Substitua <replaceable>repositório</replaceable> pelo nome real do diretório do repositório em seu servidor. A linha <literal>service:</literal> deve ser digitada como uma linha contínua.
      </para>
     </step>
     <step>
      <para>
       Inicie o daemon OpenSLP com <command>systemctl start slpd</command>.
      </para>
     </step>
    </substeps>
   </step>
  </procedure>

  <tip os="sles">
   <title>Configurando um servidor FTP com o YaST</title>
   <para>
    Para usar o YaST configurando manualmente o servidor FTP de instalação, consulte o <xref linkend="cha.ftp"/> para obter mais informações sobre como usar o módulo do servidor FTP do YaST.
   </para>
  </tip>
 </sect1>
 <sect1 xml:id="sec.deployment.instserver.http">
  <title>Configurando um repositório HTTP manualmente</title>

  <para>
   A criação do repositório HTTP é bem parecida com a do repositório NFS. O repositório HTTP também pode ser anunciado pela rede usando OpenSLP.
  </para>

  <procedure xml:id="proc.deployment.instserver.http">
   <step>
    <para>
     Crie um diretório que mantenha as fontes de instalação como descrito na <xref linkend="sec.deployment.instserver.nfs"/>.
    </para>
   </step>
   <step>
    <para>
     Configure o servidor HTTP para distribuir o conteúdo do seu diretório de instalação:
    </para>
    <substeps performance="required">
     <step>
      <para>
       <phrase os="sles">Instale o servidor Web Apache como descrito na <xref linkend="sec.apache2.quickstart.installation"/></phrase>.
      </para>
     </step>
     <step>
      <para>
       Insira o diretório root do servidor HTTP (<filename>/srv/www/htdocs</filename>) e crie o subdiretório que armazenará as fontes de instalação:
      </para>
<screen><prompt role="root">root # </prompt>mkdir <replaceable>repository</replaceable></screen>
      <para>
       Substitua <replaceable>repositório</replaceable> pelo nome do produto.
      </para>
     </step>
     <step>
      <para>
       Crie um link simbólico do local das fontes de instalação para o diretório raiz do servidor Web (<filename>/srv/www/htdocs</filename>):
      </para>
<screen><prompt role="root">root # </prompt>ln -s <replaceable>/path_to_repository </replaceable>/srv/www/htdocs/<replaceable>repository</replaceable></screen>
     </step>
     <step>
      <para>
       Modifique o arquivo de configuração do servidor HTTP (<filename>/etc/apache2/default-server.conf</filename>) para fazê-lo seguir links simbólicos. Substitua a seguinte linha:
      </para>
<screen>Options None</screen>
      <para>
       with
      </para>
<screen>Options Indexes FollowSymLinks</screen>
     </step>
     <step>
      <para>
       Recarregue a configuração do servidor HTTP usando <command>systemctl reload apache2</command>.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     Anuncie o repositório por OpenSLP, se for suportado pela sua configuração de rede:
    </para>
    <substeps performance="required">
     <step>
      <para>
       Crie o arquivo de configuração <filename>/etc/slp.reg.d/install.suse.http.reg</filename> com as seguintes linhas:
      </para>
<screen><?dbsuse-fo font-size="6.5pt"?>

# Register the HTTP Installation Server
service:install.suse:http://$HOSTNAME/<replaceable>repository</replaceable>/DVD1/,en,65535 
description=HTTP Repository</screen>
      <para>
       Substitua <replaceable>repositório</replaceable> pelo caminho real do repositório no servidor. A linha <literal>service:</literal> deve ser digitada como uma linha contínua.
      </para>
     </step>
     <step>
      <para>
       Inicie o daemon OpenSLP usando <command>systemctl start slpd</command>.
      </para>
     </step>
    </substeps>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.deployment.instserver.smb">
  <title>Gerenciando um repositório SMB</title>

  <para>
   Com o SMB, é possível importar as fontes de instalação de um servidor Microsoft Windows e iniciar a implantação do Linux mesmo sem nenhuma máquina Linux.
  </para>

  <procedure xml:id="proc.deployment.instserver.smb.export">
   <para>
    Para configurar um Compartilhamento do Windows exportado para armazenar o repositório do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, faça o seguinte:
   </para>
   <step>
    <para>
     Efetue login na sua máquina Windows.
    </para>
   </step>
   <step>
    <para>
     Crie um novo diretório para armazenar toda a árvore de instalação chamado <filename>INSTALL</filename>, por exemplo.
    </para>
   </step>
   <step>
    <para>
     Exporte este compartilhamento de acordo com o procedimento descrito na sua documentação do Windows.
    </para>
   </step>
   <step>
    <para>
     Entre nesse compartilhamento e crie um subdiretório chamado <filename><replaceable>produto</replaceable></filename>. Substitua <replaceable>produto</replaceable> pelo nome real do produto.
    </para>
   </step>
   <step>
    <para>
     Entre no diretório <filename>INSTALL/<replaceable>produto</replaceable></filename> e copie cada DVD em um diretório separado, como <literal>DVD1</literal> e <literal>DVD2</literal>.
    </para>
   </step>
  </procedure>

  <para>
   Para usar um compartilhamento SMB montado como repositório, faça o seguinte:
  </para>

  <procedure xml:id="proc.deployment.instserver.smb.use">
   <step>
    <para>
     Inicialize o destino de instalação.
    </para>
   </step>
   <step>
    <para>
     Selecione <guimenu>Instalação</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Pressione <keycap>F4</keycap> para a seleção do repositório.
    </para>
   </step>
   <step>
    <para>
     Escolha SMB e digite o nome ou endereço IP da máquina Windows, o nome do compartilhamento (<filename>INSTALL/<replaceable>produto</replaceable>/DVD1</filename>, neste exemplo), o nome de usuário e a senha. A sintaxe é parecida com esta:
    </para>
<screen>smb://workdomain;user:password@server/INSTALL/DVD1</screen>
    <para>
     Depois que você pressionar <keycap function="enter"/>, o YaST será iniciado, e você poderá executar a instalação.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.deployment.remoteinst.iso">
  <title>Usando imagens ISO da mídia de instalação no servidor</title>

  <para>
   Em vez de copiar as mídias físicas no diretório de servidor manualmente, você pode também montar as imagens ISO das mídias de instalação em seu servidor de instalação e usá-las como repositório. Para configurar um servidor HTTP, NFS ou FTP que usa imagens ISO em vez de cópias de mídia, faça o seguinte:
  </para>

  <procedure>
   <step>
    <para>
     Faça download das imagens ISO e grave-as na máquina a ser usada como servidor de instalação.
    </para>
   </step>
   <step>
    <para>
     Efetue login como <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Escolha e crie um local apropriado para os dados de instalação, conforme descrito na <xref linkend="sec.deployment.instserver.nfs"/>, na <xref linkend="sec.deployment.instserver.ftp"/> ou na <xref linkend="sec.deployment.instserver.http"/>.
    </para>
   </step>
   <step>
    <para>
     Crie subdiretórios para cada DVD.
    </para>
   </step>
   <step>
    <para>
     Para montar e descompactar cada imagem ISO no local final, emita o seguinte comando:
    </para>
<screen><prompt role="root">root # </prompt>mount -o loop <replaceable>path_to_iso</replaceable> <replaceable>path_to_repository</replaceable>/<replaceable>product</replaceable>/<replaceable>mediumx</replaceable></screen>
    <para>
     Substitua <replaceable>caminho_para_iso</replaceable> pelo caminho da sua cópia local da imagem ISO, <replaceable>caminho_para_repositório</replaceable> pelo diretório de origem do servidor, <replaceable>produto</replaceable> pelo nome do produto e <replaceable>mídiax</replaceable> pelo tipo (CD ou DVD) e número de mídias que está usando.
    </para>
   </step>
   <step>
    <para>
     Repita a etapa anterior para montar todas as imagens ISO necessárias ao seu produto.
    </para>
   </step>
   <step>
    <para>
     Inicie seu servidor de instalação normalmente, conforme descrito na <xref linkend="sec.deployment.instserver.nfs"/>, na <xref linkend="sec.deployment.instserver.ftp"/> ou na <xref linkend="sec.deployment.instserver.http"/>.
    </para>
   </step>
  </procedure>

  <para>
   Para montar as imagens ISO automaticamente no momento do boot, adicione as respectivas entradas de montagem a <filename>/etc/fstab</filename>. Uma entrada de acordo com o exemplo anterior seria semelhante a esta:
  </para>

<screen><replaceable>path_to_iso</replaceable> <replaceable>path_to_repository</replaceable>/<replaceable>product</replaceable><replaceable>medium</replaceable> auto loop</screen>
 </sect1>
</chapter>
