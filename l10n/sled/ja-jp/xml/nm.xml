<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="nm.xml" version="5.0" xml:id="cha-nm">
 <title>NetworkManagerの使用</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  NetworkManagerは、ラップトップなどの携帯用コンピュータのための理想的なソリューションです。NetworkManagerは、802.1x保護ネットワークへの接続など、ネットワーク接続のための最新の暗号化タイプおよび標準をサポートしています。802.1Xは、<quote>IEEE Standard for Local and Metropolitan Area Networks—Port-Based Network Access Control</quote>(ポートごとにネットワークアクセスの制御を行う、ローカル/メトロポリタンエリアネットワーク向け IEEE 標準)です。NetworkManagerを使用すると、ネットワークインタフェースの設定および移動時の有線/ワイヤレスネットワーク間の切り替えについて心配する必要がなくなります。NetworkManagerでは、既知のワイヤレスネットワークに自動的に接続するか、または複数のネットワーク接続を並行して管理できます。後者の場合、最も高速な接続がデフォルトとして使用されます。さらに、利用可能なネットワーク間を手動で切り換えたり、システムトレイのアプレットを使用してネットワーク接続を管理できます。

 </para>
 <para>
  単一の接続をアクティブにする代わりに、複数の接続を一度にアクティブにできます。これにより、Ethernetからラップトップの接続プラグを抜いても、無線接続により接続が維持されます。
 </para>

<important>
 <title/>
 <para>
 NetworkManagerは、SLEDまたはWorkstation Extensionを備えたデスクトップワークロードに対してのみSUSEでサポートされます。すべてのサーバ証明書はネットワーク設定ツールとして<command>wicked</command>を使用して実行され、NetworkManagerを使用すると無効になる可能性があります。NetworkManagerは、サーバワークロードに関してSUSEでサポートされていません。
 </para>
 </important>

 <sect1 xml:id="sec-nm-usecase">
  <title>NetworkManagerの使用事例</title>

  <para>
   NetworkManagerは、高度で直感的なユーザインタフェースを提供します。このインタフェースを使用すると、ネットワーク環境を簡単に切り換えることができます。ただし、NetworkManagerは、次の場合には適しません。
  </para>

  <itemizedlist>
   <listitem>
    <para>
     コンピュータが、DHCPまたはDNSサーバなど、ネットワーク内で他のコンピュータにネットワークサービスを提供している場合。
    </para>
   </listitem>
   <listitem>
    <para>
     コンピュータがXenサーバの場合、またはシステムがXen内の仮想システムの場合。
    </para>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 xml:id="sec-nm-activate">
  <title>NetworkManagerの有効化/無効化</title>

  <para>
   デスクトップおよびラップトップコンピュータでは、NetworkManagerがデフォルトで有効です。YaSTのネットワーク設定モジュールを使用して、いつでも無効にしたり有効にしたりできます。
  </para>

  <procedure>
   <step>
    <para>
     YaSTを実行し、<menuchoice> <guimenu>システム</guimenu>
     <guimenu>ネットワーク設定</guimenu> </menuchoice>の順に選択します。
    </para>
   </step>
   <step>
    <para>
     <guimenu>Network Settings</guimenu>ダイアログが開きます。<guimenu>グローバルオプション</guimenu>タブを開きます。
    </para>
   </step>
   <step>
    <para>
     NetworkManagerを使用してネットワーク接続を設定および管理する
    </para>
    <substeps performance="required">
     <step>
      <para>
       <guimenu>ネットワークのセットアップ方法</guimenu>フィールドで、<guimenu>NetworkManagerを使ってユーザが制御</guimenu>を選択します。
      </para>
     </step>
     <step>
      <para>
       <guimenu>OK</guimenu>をクリックしてYaSTを閉じます。
      </para>
     </step>
     <step>
      <para>
       <xref linkend="sec-nm-configure"/>に従って、NetworkManagerを使用してネットワーク接続を設定します。
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     NetworkManagerを無効にし、ネットワークをユーザ自身の設定で制御する:
    </para>
    <substeps performance="required">
     <step>
      <para>
       <guimenu>ネットワークのセットアップ方法</guimenu>フィールドで、<guimenu>Controlled by wicked (wickedによる制御)</guimenu>を選択します。
      </para>
     </step>
     <step>
      <para>
       <guimenu>OK</guimenu>をクリックします。
      </para>
     </step>
     <step>
      <para>
       DHCP経由の自動環境設定または静的IPアドレスによる手動設定で、YaSTでネットワークカードを設定します。
      </para>
      <para>
       YaSTを使用したネットワーク設定の詳細については、<xref linkend="sec-network-yast"/>を参照してください。
      </para>
     </step>
    </substeps>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec-nm-configure">
  <title>ネットワーク接続の設定</title>

  <para>
   YaSTでNetworkManagerを有効にした後、GNOMEで使用可能なNetworkManagerフロントエンドでネットワーク接続を設定します。有線、無線、モバイルブロードバンド、DSL、VPN接続など、あらゆるタイプのネットワーク接続に対応するタブが表示されます。
  </para>

  <tip>
   <title>NetworkManager接続エディタ</title>
   <para>
    以前の<phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>リリースでは、ネットワーク接続は「NetworkManager接続エディタ」と呼ばれるアプリケーションを使用して設定されていました。<emphasis></emphasis><emphasis></emphasis>「GNOMEコントロールセンター」がその設定機能を完全に置き代えたため、これはデフォルトではインストールされなくなりました。
   </para>
   <para>
    NetworkManager接続エディタを使用してネットワーク接続を設定する必要がまだある場合は、<package>NetworkManager-connection-editor</package>パッケージを手動でインストールしてください。
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> zypper install NetworkManager-connection-editor</screen>
  </tip>

  <para>
   GNOMEで［Network Configuration (ネットワーク設定)］ダイアログを開くには、［Status (状態)］メニューから［設定］メニューを開き、<guimenu>ネットワーク</guimenu>エントリをクリックします。
  </para>

  <note>
   <title>オプションの利用可否</title>
   <para>
    システムセットアップによっては、接続を設定できない場合があります。保護された環境では、一部のオプションがロックされているか、または<systemitem class="username">root</systemitem>パーミッションを必要とする場合があります。詳細は、システム管理者にお問い合わせください。
   </para>
  </note>

  <figure>
   <title>GNOMEネットワーク接続のダイアログ</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="nm_gnome_tabs.png" width="70%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="nm_gnome_tabs.png" width="50%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <procedure xml:id="pro-nm-configure-add">
   <title>接続の追加と編集</title>
   <step>
    <para>
     NetworkManagerの設定ダイアログを開きます。
    </para>
   </step>
   <step>
    <para>
     接続を追加する
    </para>
    <substeps performance="required">
     <step>
      <para>
       左下隅の<guimenu>+</guimenu>アイコンをクリックします。
      </para>
     </step>
     <step>
      <para>
       目的の接続タイプを選択して、画面の指示に従います。
      </para>
     </step>
     <step>
      <para>
       終了したら、<guimenu>追加</guimenu>をクリックします。
      </para>
     </step>
     <step>
      <para>
       変更を確認した後で、新しく設定されたネットワーク接続が、［ステータス］メニューの使用可能なネットワークのリストに表示されます。
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     接続を編集する
    </para>
    <substeps performance="required">
     <step>
      <para>
       編集するエントリを選択します。
      </para>
     </step>
     <step>
      <para>
       歯車アイコンをクリックして<guimenu>接続の設定</guimenu>ダイアログを開きます。
      </para>
     </step>
     <step>
      <para>
       変更を行ったら、<guimenu>適用</guimenu>をクリックして変更を保存します。
      </para>
     </step>
     <step>
      <para>
       使用している接続をシステム接続として利用できるようにするには、<guimenu>識別情報</guimenu>タブを開き、<guimenu>Make available to other users (他のユーザが利用できるようにする)</guimenu>チェックボックスをオンにします。ユーザ接続とシステム接続の詳細については、<xref linkend="sec-nm-sec-types"/>を参照してください。
      </para>
     </step>
    </substeps>
   </step>
  </procedure>

  <sect2 xml:id="sec-nm-gome-applet-wired">
   <title>有線ネットワーク接続の管理</title>
   <para>
    コンピュータが有線ネットワークに接続している場合、NetworkManagerアプレットを使用して接続を管理します。
   </para>
   <procedure>
    <step>
     <para>
      接続の詳細を変更したり、接続をオフにしたりするには、［状態］メニューを開き、<guimenu>Wired (有線)</guimenu>をクリックします。
     </para>
    </step>
    <step>
     <para>
      設定を変更するには、<guimenu>Wired Settings (有線の設定)</guimenu>をクリックし、歯車アイコンをクリックします。
     </para>
    </step>
    <step>
     <para>
      すべてのネットワーク接続をオフにするには、<guimenu>Airplane Mode (機内モード)</guimenu>設定を有効にします。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-nm-gnome-applet-wireless">
   <title>ワイヤレスネットワーク接続の管理</title>
   <para>
    可視のワイヤレスネットワークは、<guimenu>Wireless Networks (ワイヤレスネットワーク)</guimenu>の下のGNOME NetworkManagerアプレットメニューに一覧にされます。各ネットワークの信号強度もメニューに表示されます。暗号化された無線ネットワークには、シールドアイコンが付きます。
   </para>
   <procedure>
    <title>可視のワイヤレスネットワークへの接続</title>
    <step>
     <para>
      可視のワイヤレスネットワークに接続するには、［Status (状態)］メニューを開いて<guimenu>Wi-Fi</guimenu>をクリックします。
     </para>
    </step>
    <step>
     <para>
      <guimenu>Turn On (オンにする)</guimenu>をクリックして、ネットワークを有効にします。
     </para>
    </step>
    <step>
     <para>
      <guimenu>Select Network (ネットワークの選択)</guimenu>をクリックしてWi-Fiネットワークを選択し、<guimenu>接続</guimenu>をクリックします。
     </para>
    </step>
    <step>
     <para>
      ネットワークが暗号化されている場合は、環境設定ダイアログが開きます。このダイアログには、ネットワークで使用されている暗号化のタイプと、ログインアカウント情報を入力するためのテキストボックスが表示されます。
     </para>
    </step>
   </procedure>
   <procedure>
    <title>不可視のワイヤレスネットワークへの接続</title>
    <step>
     <para>
      サービスセット識別子(SSIDまたはESSID)をブロードキャストせず、自動的に検出されないネットワークに接続するには、［状態］メニューを開き、<guimenu>Wi-Fi (Wi-Fi)</guimenu>をクリックします。
     </para>
    </step>
    <step>
     <para>
      <guimenu>Wi-Fi Settings (Wi-Fi設定)</guimenu>をクリックして［Detailed Settings (詳細設定)］メニューを開きます。
     </para>
    </step>
    <step>
     <para>
      使用するWi-Fiが有効になっていることを確認し、<guimenu>Connect to Hidden Network (非公開のネットワークに接続)</guimenu>をクリックします。
     </para>
    </step>
    <step>
     <para>
      表示されるダイアログの<guimenu>ネットワーク名</guimenu>に、SSIDまたはESSIDを入力し、必要に応じて暗号化パラメータを設定します。
     </para>
    </step>
   </procedure>
   <para>
    明示的に選択された無線ネットワークは、可能な限り接続が維持されます。その時点でネットワークケーブルが接続されていれば、無線接続の稼働中に、<guimenu>Stay connected when possible</guimenu>に設定したすべての接続が確立されます。
   </para>
  </sect2>

  <sect2 xml:id="sec-nm-gnome-applet-captive-portal-detection" os="sled">
   <title>無線でのキャプティブポータル検出の有効化</title>
   <para>
    初回接続時には、公共の無線ホットスポットの多くでランディングページ (キャプティブポータル<emphasis></emphasis>) へのアクセスが必要になります。ユーザがログインする前に、またはライセンス条項に同意する前に、すべてのHTTPリクエストはプロバイダのキャプティブポータルにリダイレクトされます。
   </para>
   <para>
    キャプティブポータルから無線ネットワークに接続する場合、NetworkManagerおよびGNOMEでは、接続プロセスの一部としてログインページが自動的に表示されます。これにより、ユーザはいつ接続したかを常に把握できます。また、ブラウザを使用してログインせずに、できるだけ早く設定することができます。
   </para>
   <para>
    この機能を有効にするには、パッケージ<package>NetworkManager-branding-SLE</package>をインストールし、次のコマンドでNetworkManagerを再起動します。
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> systemctl restart network</screen>
   <para>
    キャプティブポータルからネットワークに接続すると、NetworkManager (またはGNOME) によってキャプティブポータル用のログインページが表示されます。ユーザの資格情報を使用してログインすると、インターネットにアクセスできるようになります。
   </para>
  </sect2>

  <sect2 xml:id="sec-nm-gnome-applet-accesspoint">
   <title>Wi-Fi/Bluetoothカードのアクセスポイントとしての設定</title>
   <para>
    お使いのWi-Fi/Bluetoothカードでアクセスポイントモードがサポートされている場合、NetworkManagerを使用して設定できます。
   </para>
   <procedure>
    <step>
     <para>
      ［Status (状態)］メニューを開き、<guimenu>Wi-Fi</guimenu>をクリックします。
     </para>
    </step>
    <step>
     <para>
      <guimenu>Wi-Fi Settings (Wi-Fi設定)</guimenu>をクリックして［Detailed Settings (詳細設定)］メニューを開きます。
     </para>
    </step>
    <step>
     <para>
      <guimenu>Use as Hotspot (ホットスポットとして使用)</guimenu>をクリックして、画面の指示に従います。
     </para>
    </step>
    <step>
     <para>
      結果のダイアログに表示される資格情報を使用して、リモートマシンからホットスポットに接続します。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-nm-vpn">
   <title>NetworkManagerとVPN</title>
   <para>
    NetworkManagerは、数種類のVPN (仮想私設網)技術をサポートしています.。各技術について、<phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>には、NetworkManagerに対する一般的なサポートを提供する基本パッケージが付属しています。加えて、アプレットに対応するデスクトップ固有のパッケージをインストールすることも必要です。
   </para>
   <variablelist>
    <varlistentry>
     <term>OpenVPN</term>
     <listitem>
      <para>
       このVPN技術を使用するには、次のパッケージをインストールします:。
      </para>
      <itemizedlist mark="bullet" spacing="normal">
       <listitem>
        <para>
         <systemitem class="resource">NetworkManager-openvpn</systemitem>
        </para>
       </listitem>
       <listitem>
        <para>
         <systemitem class="resource">NetworkManager-openvpn-gnome</systemitem>
        </para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>OpenConnect</term>
     <listitem>
      <para>
       このVPN技術を使用するには、次のパッケージをインストールします:。
      </para>
      <itemizedlist mark="bullet" spacing="normal">
       <listitem>
        <para>
         <systemitem class="resource">NetworkManager-openconnect</systemitem>
        </para>
       </listitem>
       <listitem>
        <para>
         <systemitem class="resource">NetworkManager-openconnect-gnome</systemitem>
        </para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>PPTP (ポイントツーポイントトンネリングプロトコル)</term>
     <listitem>
      <para>
       このVPN技術を使用するには、次のパッケージをインストールします:。
      </para>
      <itemizedlist mark="bullet" spacing="normal">
       <listitem>
        <para>
         <systemitem class="resource">NetworkManager-pptp</systemitem>
        </para>
       </listitem>
       <listitem>
        <para>
         <systemitem class="resource">NetworkManager-pptp-gnome</systemitem>
        </para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
   </variablelist>

   <para>
    次の手順は、NetworkManagerを使用してコンピュータをOpenVPNクライアントとして設定する方法を示しています。他のタイプのVPNも同様の手順で設定します。
   </para>
   <para>
    最初に、パッケージ<systemitem class="resource">NetworkManager-openvpn-gnome</systemitem>がインストールされ、すべての依存関係が解決されていることを確認します。
   </para>

   <procedure>
    <title>NetworkManagerによるOpenVPNの設定</title>
    <step>
     <para>
      パネル右端のステータスアイコンをクリックして<guimenu>wrench and screwdriver (レンチとスクリュードライバ)</guimenu>アイコンをクリックし、アプリケーションの<guimenu>設定</guimenu>を開きます。<guimenu>All Settings (すべての設定)</guimenu>ウィンドウで、<guimenu>ネットワーク</guimenu>を選択します。
     </para>
    </step>
    <step>
     <para>
      <guimenu>+</guimenu>アイコンをクリックします。
     </para>
    </step>
    <step>
     <para>
      <guimenu>VPN</guimenu>、<guimenu>OpenVPN</guimenu>の順に選択します。
     </para>
    </step>
    <step>
     <para>
      <guimenu>認証</guimenu>タイプを選択します。OpenVPNサーバのセットアップに応じて、<guimenu>Certificates (TLS) (証明書(TLS))</guimenu>または<guimenu>Password with Certificates (TLS) (パスワードと証明書(TLS))</guimenu>を選択します。
     </para>
    </step>
    <step>
     <para>
      各テキストボックスに必要な値を入力します。設定例では、次のようになります。
     </para>
     <informaltable>
      <tgroup cols="2">
       <colspec colnum="1" colname="field" colwidth="30*"/>
       <colspec colnum="2" colname="desc" colwidth="70*"/>
       <tbody>
        <row>
         <entry>
          <para>
           <guimenu>ゲートウェイ</guimenu>
          </para>
         </entry>
         <entry>
          <para>
           VPNサーバのリモートエンドポイント
          </para>
         </entry>
        </row>
 
        <row>
         <entry>
          <para>
           <guimenu>User name (ユーザ名)</guimenu>
          </para>
         </entry>
         <entry>
          <para>
           ユーザ(<guimenu>Password with Certificates (TLS) (パスワードと証明書(TLS))</guimenu>が選択されている場合のみ)
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <guimenu>パスワード</guimenu>
          </para>
         </entry>
         <entry>
          <para>
           ユーザのパスワード(<guimenu>Password with Certificates (TLS) (パスワードと証明書(TLS))</guimenu>が選択されている場合のみ)
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <guimenu>User Certificate (ユーザ証明書)</guimenu>
          </para>
         </entry>
         <entry>
          <para>
           <filename>/etc/openvpn/client1.crt</filename>
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <guimenu>CA Certificate (CA証明書)</guimenu>
          </para>
         </entry>
         <entry>
          <para>
           <filename>/etc/openvpn/ca.crt</filename>
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <guimenu>Private Key （秘密鍵)</guimenu>
          </para>
         </entry>
         <entry>
          <para>
           <filename>/etc/openvpn/client1.key</filename>
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </informaltable>
    </step>
    <step>
     <para>
      <guimenu>追加</guimenu>をクリックして、設定を完了します。
     </para>
    </step>
    <step>
     <para>
      接続を有効にするには、<guimenu>設定</guimenu>アプリケーションの<guimenu>ネットワーク</guimenu>パネルでスイッチボタンをクリックします。または、パネル右端のステータスアイコンをクリックし、使用するVPNの名前をクリックして<guimenu>接続</guimenu>をクリックします。
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-nm-security">
  <title>NetworkManagerとセキュリティ</title>

  <para>
   NetworkManagerは、ワイヤレス接続を「信頼された」と「信頼なし」という2種類で区別します。「信頼された」接続とは、過去に明示的に選択したネットワークです。その他は「信頼なし」です。信頼された接続は、アクセスポイントのMACアドレスと名前で識別されます。MACアドレスを使用して、信頼された接続が同じ名前でも、異なるアクセスポイントを使用できないようにすることができます。
  </para>

  <para>
   NetworkManagerにより、定期的に、使用可能なネットワークがスキャンされます。信頼されたネットワークが複数検出された場合、最近使用されたものが自動的に選択されます。すべてのネットワークが信頼されないネットワークの場合は、NetworkManagerはユーザがネットワークを選択するまで待機します。
  </para>

  <para>
   暗号化設定が変更されても、名前とMACアドレスが同じままの場合は、NetworkManagerは接続を試みますが、まず、新しい暗号化設定の確認とアップデート(新しいキーなど)の提供を求めるプロンプトが表示されます。
  </para>

  <para>
   無線接続を使用している状態からオフラインモードに切り替えると、NetworkManagerでSSIDまたはESSIDが空白になります。これにより、カードの接続解除が確保されます。
  </para>

  <sect2 xml:id="sec-nm-sec-types">
   <title>ユーザおよびシステムの接続</title>
   <para>
    NetworkManagerは、<literal>ユーザ</literal>および<literal>システム</literal>という2種類の接続を認識します。
</para>
<para>
    ユーザ接続では、すべてのユーザがNetworkManagerで認証を受ける必要があります。NetworkManagerは、ユーザの資格情報をローカルGNOMEキーリングに保存するため、接続するたびに再入力する必要はありません。
</para>
<para>
    システム接続はすべてのユーザが自動的に利用できます。接続を作成する最初のユーザが必要な資格情報を入力すると、その後、他のすべてのユーザは資格情報を知らなくてもアクセスできます。ユーザとシステムの接続設定の違いは、単一のチェックボックス<guimenu>Make available to other users (他のユーザが利用できるようにする)</guimenu>です。NetworkManagerでユーザ接続またはシステム接続を設定する方法については、<xref linkend="sec-nm-configure"/>を参照してください。
   </para>
  </sect2>

  <sect2 xml:id="sec-nm-sec-store">
   <title>パスワードと資格情報の保存</title>
   <para>
    暗号化ネットワークに接続するたびに資格情報を再入力しないようにするには、GNOMEキーリングマネージャを使用して資格情報を暗号化し、マスタパスワードを使用して安全にディスク上に保存できます。
   </para>


 
  </sect2>
  <sect2 xml:id="sec-nm-sec-firewall" os="sles;sled">
   <title>ファイアウォールゾーン</title>
   <figure>
    <title>NetworkManagerの<systemitem class="daemon">firewalld</systemitem>ゾーン</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="nm_firewalld_zones.png" width="70%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="nm_firewalld_zones.png" width="50%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    ファイアウォールゾーンは、許可されるネットワーク接続に関する一般的なルールを設定します。有線接続の<emphasis>firewalld</emphasis>のゾーンを設定するには、接続設定の<emphasis>個人情報</emphasis>タブに移動します。Wi-Fi接続の<emphasis>firewalld</emphasis>のゾーンを設定するには、接続設定の<emphasis>セキュリティ</emphasis>タブに移動します。
   </para>
   <para>
    ホームネットワークの場合は、ゾーン<literal>home</literal>を使用します。公衆無線ネットワークの場合は、<literal>public</literal>に切り替えます。セキュアな環境で、すべての接続を許可したい場合は、ゾーン<literal>trusted</literal>を使用します。
   </para>
   <para>
    firewalldの詳細については、<xref linkend="sec-security-firewall-firewalld"/>を参照してください。
   </para>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-nm-faq">
  <title>ホットスポットに関する一般的な質問とその回答 (FAQ)</title>

  <para>
   NetworkManagerによる特別なネットワークオプションの設定に関するFAQ (よくある質問と答え)は、次のとおりです。
  </para>

  <qandaset>
   <qandaentry>
    <question>
     <para>
      特定のデバイスには、どのようにして接続しますか?
     </para>
    </question>
    <answer>
     <para>
      デフォルトでは、NetworkManager内の接続は、デバイスタイプ固有の接続であり、同じタイプのすべての物理デバイスに適用されます。1つの接続タイプについて複数の物理デバイスが使用可能である場合(たとえば、マシンに2枚のEthernetカードが取り付けられている場合)、特定のデバイスに接続を関連付けることができます。

     </para>
     <para>
      GNOMEでこれを行うには、まずデバイスのMACアドレスを調べます。このために、アプレットから利用できる<guimenu>接続情報</guimenu>か、またはコマンドラインツール(<command>nm-tool</command>や<command>wicked show all</command>など)の出力を使用します。次に、ネットワーク接続を設定するためのダイアログを起動し、変更する接続を選択します。<guimenu>有線</guimenu>タブまたは<guimenu>無線</guimenu>タブで、デバイスの<guimenu>MACアドレス</guimenu>を入力し、変更を確定します。
     </para>
    </answer>
   </qandaentry>
   <qandaentry>
    <question>
     <para>
      同じESSIDを持つ複数のアクセスポイントが検出された場合、どのようにして特定のアクセスポイントを指定しますか？
     </para>
    </question>
    <answer>
     <para>
      異なる無線帯域(a/b/g/n)を持つ複数のアクセスポイントが利用可能な場合、デフォルトでは、最も強い信号を持つアクセスポイントが自動的に選択されます。このデフォルトを無効にするには、ワイヤレス接続の設定時に<guimenu>BSSID</guimenu>フィールドを使用します。
     </para>
     <para>
      BBSID (Basic Service Set Identifier)は、各Basic Service Setを固有に識別します。インフラストラクチャBasic Service Setでは、BSSIDは、ワイヤレスアクセスポイントのMACアドレスです。独立型(アドホック)Basic Service Setでは、BSSIDは、46ビットの乱数から生成されローカルに管理されるMACアドレスです。
     </para>
     <para>
      <xref linkend="sec-nm-configure"/>に説明されているように、ネットワーク接続を設定するダイアログを開始します。変更したいワイヤレス接続を選択し、<guimenu>編集</guimenu>をクリックします。<guimenu>ワイヤレス</guimenu>タブで、BSSIDを入力します。
     </para>
    </answer>
   </qandaentry>
   <qandaentry>
    <question>
     <para>
      どのようにして、ネットワーク接続を他のコンピュータと共用しますか?
     </para>
    </question>
    <answer>
     <para>
      プライマリデバイス(インターネットに接続するデバイス)には、特別な設定は必要ありません。ただし、ローカルハブまたはローカルコンピュータに接続するデバイスは、次の手順で設定する必要があります。
     </para>
     <orderedlist spacing="normal">
      <listitem>
       <para>
        <xref linkend="sec-nm-configure"/>に説明されているように、ネットワーク接続を設定するダイアログを開始します。変更したい接続を選択し、<guimenu>編集</guimenu>をクリックします。<guimenu>IPv4 Settings (IPv4設定)</guimenu>タブに切り替えて、<guimenu>Method (方法)</guimenu>ドロップダウンボックスから<guimenu>Shared to other computers (他のコンピュータと共有)</guimenu>を有効にします。これで、IPトラフィックの転送が有効になり、デバイス上でDHCPサーバが実行されます。NetworkManagerで変更内容を確認します。
       </para>
      </listitem>
      <listitem>
       <para>
        DCHPサーバは、ポート<literal>67</literal>を使用するので、そのポートがファイアウォールによってブロックされていないことを確認してください。そのためには、接続を共有するマシンで、YaSTを起動して、<menuchoice> <guimenu>セキュリティとユーザ</guimenu> <guimenu>ファイアウォール</guimenu> </menuchoice>の順に選択します。<guimenu>許可されるサービス</guimenu>カテゴリに切り替えます。<guimenu>DCHP Server</guimenu>が<guimenu>許可されるサービス</guimenu>として表示されていない場合は、<guimenu>Services to Allow</guimenu>から<guimenu>DCHP Server</guimenu>を選択し、<guimenu>追加</guimenu>をクリックします。YaSTで変更内容を確認します。
       </para>
      </listitem>
     </orderedlist>
    </answer>
   </qandaentry>
   <qandaentry>
    <question>
     <para>
      静的DNSアドレスに、どのようにして自動(DHCP, PPP, VPN)アドレスを提供しますか?
     </para>
    </question>
    <answer>
     <para>
      DHCPサーバが無効なDNS情報(および/またはルート)を提供する場合は、次の手順でそれを無効にできます。<xref linkend="sec-nm-configure"/>に説明されているように、ネットワーク接続を設定するダイアログを開始します。変更したい接続を選択し、<guimenu>編集</guimenu>をクリックします。<guimenu>IPv4設定</guimenu>タブに切り替えて、<guimenu>方法</guimenu>ドロップダウンボックスから<guimenu>自動(DHCP)アドレスのみ</guimenu>を有効にします。<guimenu>DNS Servers (DNSサーバ)</guimenu>および<guimenu>Search Domains (検索ドメイン)</guimenu>フィールドにDNS情報を入力します。自動的に取得されたルートを無視するには、<guimenu>自動的に取得されたルートを無視する</guimenu>で<guimenu>ルート</guimenu>をクリックし、各チェックボックスをオンにします。変更内容を確認します。
     </para>
    </answer>
   </qandaentry>
   <qandaentry>
    <question>
     <para>
      どのようにしたら、ユーザがログインする前に、パスワード保護されたネットワークにNetworkManagerを接続できますか?
     </para>
    </question>
    <answer>
     <para>
      そのような目的に使用できる<literal>system connection</literal>を定義します。詳細については、<xref linkend="sec-nm-sec-types"/>を参照してください。
     </para>
    </answer>
   </qandaentry>
  </qandaset>
 </sect1>
 <sect1 xml:id="sec-nm-trouble">
  <title>トラブルシューティング</title>

  <para>
   場合によっては、接続に関する問題が発生することがあります。NetworkManagerに関してよく発生する問題としては、アプレットが起動しない、VPNオプションがないなどがあります。これらの問題の解決、防止方法は、使用ツールによって異なります。
  </para>

  <variablelist>
   <varlistentry>
    <term>NetworkManagerデスクトップアプレットが起動しない</term>
    <listitem>
     <para>
      ネットワークがNetworkManager制御に設定されている場合、アプレットは自動的に起動します。アプレットが起動しない場合は、<xref linkend="sec-nm-activate"/>の説明に従ってYaST内でNetworkManagerが有効になっているかどうかを確認します。その後、NetworkManager-gnomeパッケージもインストールされていることを確認します。
     </para>
     <para>
      デスクトップアプレットがインストールされているのに何らかの理由で実行されていないときは、コマンド<command>nm-applet</command>で手動で起動します。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>NetworkManagerアプレットにVPNオプションが表示されない</term>
    <listitem>
     <para>
      NetworkManager、アプレット、およびNetworkManager用VPNのサポートは、個別のパッケージで配布されます。NetworkManagerアプレットにVPNオプションが表示されない場合は、使用しているVPNテクノロジのNetworkManagerサポートが含まれたパッケージがインストールされているかどうかを確認します。詳細については、<xref linkend="sec-nm-vpn"/>を参照してください。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>ネットワーク接続を使用できない</term>
    <listitem>
     <para>
      ネットワーク接続が正しく設定され、ネットワーク接続の他のすべてのコンポーネントも(ルータなど)、正常に機能している場合は、コンピュータ上でネットワークインタフェースを再起動すると、問題が解決する場合があります。そのためには、コマンドラインに<systemitem class="username">root</systemitem>としてログインし、<command>systemctl restart wickeds</command>コマンドを実行します。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec-nm-more">
  <title>詳細情報</title>

  <para>
   NetworkManagerの詳細については、次のWebサイトおよびディレクトリから入手可能です。
  </para>

  <variablelist>
   <varlistentry>
    <term>NetworkManagerプロジェクトページ</term>
    <listitem>
     <para>
      <link xlink:href="https://gitlab.freedesktop.org/NetworkManager/NetworkManager"/>
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>パッケージのマニュアル</term>
    <listitem>
     <para>
      NetworkManagerおよびGNOMEアプレットの最新情報については、次のディレクトリにある情報も参照してください。
     </para>
     <itemizedlist mark="bullet" spacing="normal">
      <listitem>
       <para>
        <filename>/usr/share/doc/packages/NetworkManager/</filename>
       </para>
      </listitem>
      <listitem>
       <para>
        <filename>/usr/share/doc/packages/NetworkManager-gnome/</filename>
       </para>
      </listitem>
     </itemizedlist>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
</chapter>
