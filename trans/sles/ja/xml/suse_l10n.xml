<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<sect1 xml:base="suse_l10n.xml" id="sec.suse.l10n">
 <title>言語および国固有の設定</title><indexterm> <primary>システム</primary> <secondary>ローカライズ</secondary> </indexterm> <indexterm> <primary>I18N</primary> </indexterm> <indexterm> <primary>L10N</primary> </indexterm> <indexterm> <primary>国際化</primary> </indexterm> <indexterm> <primary>ローカライズ</primary> </indexterm>

 <para>
  本システムは、非常に広い範囲で国際化されており、現地の状況に合わせて柔軟に変更できます。言い換えれば、国際化( <emphasis>I18N </emphasis>)が特定のローカライズ( <emphasis>L10N </emphasis>)を可能にします。I18NとL10Nという略語は、語の最初と最後の文字の間に、省略されている文字数を挟み込んだ表記です。
 </para>

 <para>
  設定は、ファイル<systemitem>/etc/sysconfig/language</systemitem>の変数<filename>LC_</filename>で定義します。これは、単なる<emphasis>現地語サポート</emphasis>だけでなく、<emphasis>Messages</emphasis>(メッセージ) (言語)、<emphasis>Character Set</emphasis>(文字セット)、<emphasis>Sort Order</emphasis>(ソート順)、<emphasis>Time and Date</emphasis>(時刻と日付)、<emphasis>Numbers</emphasis>(数字)および<emphasis>Money</emphasis>(通貨)の各カテゴリも指します。これらのカテゴリはそれぞれ、独自の変数を使用して直接定義することも、ファイル<filename>language</filename>にあるマスタ変数を使用して間接的に定義することも可能です(<command>man locale</command>コマンドでmanページを参照)。<indexterm><primary>環境設定ファイル</primary><secondary>言語</secondary> </indexterm>
 </para>

 <variablelist>
  <varlistentry>
   <term><systemitem>RC_LC_MESSAGES</systemitem>, <systemitem>RC_LC_CTYPE</systemitem>, <systemitem>RC_LC_COLLATE</systemitem>, <systemitem>RC_LC_TIME</systemitem>, <systemitem>RC_LC_NUMERIC</systemitem>, <systemitem>RC_LC_MONETARY</systemitem><indexterm> <primary>変数</primary> <secondary>環境</secondary> </indexterm>
   </term>
   <listitem>
    <para>
     これらの変数は、プレフィクス<systemitem>RC_</systemitem>を付けずにシェルに渡され、前述のカテゴリを表します。関連するシェルプロファイルについては後で説明します。現在の設定は、コマンド<command>locale</command>を使用して表示できます。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><systemitem>RC_LC_ALL</systemitem>
   </term>
   <listitem>
    <para>
     この変数は、すでに参照された変数の値を上書きします。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><systemitem>RC_LANG</systemitem>
   </term>
   <listitem>
    <para>
     前述の変数がまったく設定されていない場合、これがフォールバックとなります。デフォルトでは、<systemitem>RC_LANG</systemitem>だけが設定されます。これにより、ユーザが独自の変数を入力しやすくなります。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><systemitem>ROOT_USES_LANG</systemitem>
   </term>
   <listitem>
    <para>
     yes<literal>または</literal>no<literal>変数。</literal><literal>no</literal>に設定すると<systemitem class="username">root</systemitem>が常にPOSIX環境で動作します。
    </para>
   </listitem>
  </varlistentry>
 </variablelist>

 <para>
  変数は、YaSTのsysconfigエディタで設定できます。このような変数の値には、言語コード、国コード、エンコーディング、および修飾子が入っています。個々のコンポーネントは特殊文字で接続されます。
 </para>

<screen>
  LANG=&lt;language&gt;[[_&lt;COUNTRY&gt;].&lt;Encoding&gt;[@&lt;Modifier&gt;]]
</screen>

 <sect2 id="sec.suse.l10n.examples">
  <title>例</title>
  <para>
   言語コードと国コードは必ず一緒に設定する必要があります。言語の設定は、<ulink url="http://www.evertype.com/standards/iso639/iso639-en.html"/>および<ulink url="http://www.loc.gov/standards/iso639-2/"/>で入手できる、ISO 639規格に従います。国コードはISO 3166に一覧にされています(<ulink url="http://en.wikipedia.org/wiki/ISO_3166"/>を参照)。


  </para>
  <para>
   使用可能な説明ファイルが<filename>/usr/lib/locale</filename>に存在する場合のみ、値を設定する意味があります。追加の記述ファイルは、<filename>/usr/share/i18n</filename> のファイルを使用し、コマンド <command>localedef</command> を実行して作成できます。記述ファイルは、<systemitem>glibc-i18ndata</systemitem>パッケージに含まれています。en_US.UTF-8<literal>の説明ファイル(英語および米国)は以下のように作成します。</literal>
  </para>

  
<screen>
localedef -i en_US -f UTF-8 en_US.UTF-8
</screen>
  <variablelist>
   <varlistentry>
    <term>
<systemitem>LANG=en_US.UTF-8</systemitem>
    </term>
    <listitem>
     <para>
      インストール時にAmerican Englishを選択すると、これがデフォルトの設定になります。他の言語を選択した場合、その言語が有効になりますが、文字コードはUTF-8が使用されます。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
<systemitem>LANG=en_US.ISO-8859-1</systemitem><indexterm> <primary>エンコード</primary> <secondary>ISO-8859-1</secondary> </indexterm>
    </term>
    <listitem>
     <para>
      これにより、言語が英語、国が米国、文字セットが<literal>ISO-8859-1</literal>に設定されます。この文字セットは、ユーロ記号をサポートしませんが、<literal>UTF-8</literal>がサポートされていない、更新前のプログラムを使用する方が便利なこともあります。文字セット(この状況では<literal>ISO-8859-1</literal>)を定義する文字列は、Emacsのようなプログラムによって評価されます。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><systemitem>LANG=en_IE@euro</systemitem>
    </term>
    <listitem>
     <para>
      上記の例では、ユーロ記号が言語設定に明示的に組み込まれています。この設定は今では廃止され、UTF-8もユーロ記号を表現します。アプリケーションがISO-8859-15をサポートし、UTF-8をサポートしない場合にのみ役に立ちます。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   <filename>/etc/sysconfig/language</filename>への変更は、次のプロセスチェーンで有効になります。
  </para>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     Bashの場合は、 <filename>/etc/profile</filename>によって読み込まれた<filename>/etc/profile.d/lang.sh</filename>が、<filename>/etc/sysconfig/language</filename>を解析します。
    </para>
   </listitem>
   <listitem>
    <para>
     tcshの場合は、ログイン時に<filename>/etc/csh.login</filename>によって読み込まれた<filename>/etc/profile.d/lang.csh</filename>が、<filename>/etc/sysconfig/language</filename>を解析します。
    </para>
   </listitem>
  </itemizedlist>
  <para>
   これによって、<filename>/etc/sysconfig/language</filename>に加えられたすべての変更が、これらを手動で有効にしなくても、各シェルへの次回ログイン時に使用可能になります。<indexterm> <primary>設定ファイル</primary> <secondary>言語</secondary> </indexterm><indexterm> <primary>設定ファイル</primary> <secondary>プロファイル</secondary> </indexterm> <indexterm> <primary>設定ファイル</primary> <secondary>/etc/profile.d/lang.sh</secondary> </indexterm>
  </para>
  <para>
   ユーザは、同様に<filename>~/.bashrc</filename>ファイルを編集して、システムのデフォルトを上書きすることができます。たとえば、システム設定の<literal>en_US</literal>をプログラムメッセージに使用しない場合は、<systemitem>LC_MESSAGES=es_ES</systemitem>を指定してメッセージが英語の代わりにスペイン語で表示されるようにします。
  </para>
 </sect2>

 <sect2 id="sec.suse.l10n.dot.i18n">
  <title>~/.i18n<filename>でのロケール設定</filename></title>
  <para>
   ロケールシステムのデフォルトが不十分な場合、Bashスクリプトの構文に従って<filename>~/.i18n</filename>の設定を変更してください。~/.i18n<filename>内のエントリは、</filename>/etc/sysconfig/language<filename>のシステムデフォルトを上書きします。</filename>同じ変数名を使用しますが、<literal>RC_</literal>ネームスペースプレフィックスは付けません。たとえば、<literal>RC_LANG</literal>ではなく、<literal>LANG</literal>を使用します。
  </para>
<screen>LANG=cs_CZ.UTF-8
LC_COLLATE=C
</screen>
 </sect2>

 <sect2 id="sec.suse.l10n.fallback">
  <title>言語サポートの設定</title>
  <para>
   カテゴリ<emphasis>Messages</emphasis>のファイルは、フォールバックを確保するため、対応する言語ディレクトリ(たとえば、<filename>en</filename>)にのみ格納されることになっています。たとえば<systemitem>LANG</systemitem>を<literal>en_US</literal>に設定したが、messageファイルが<filename>/usr/share/locale/en_US/LC_MESSAGES</filename>に存在しない場合は、<filename>/usr/share/locale/en/LC_MESSAGES</filename>にフォールバックされます。
  </para>
  <para>
   フォールバックチェーンも定義できます。たとえば、ブルターニュ語、次いでフランス語、またはガリシア語、次いでスペイン語、次いでポルトガル語の順にフォールバックするには、次のように設定します。
  </para>
  <para>
   <systemitem>LANGUAGE="br_FR:fr_FR"</systemitem>
  </para>
  <para>
   <systemitem>LANGUAGE="gl_ES:es_ES:pt_PT"</systemitem>
  </para>
  <para>
   必要に応じて、次のようにノルウェー語の方言であるニーノシクやブークモールをノルウェー語の代わりに使用できます(<literal>no</literal>へのフォールバックを追加します)。
  </para>
  <para>
   <systemitem>LANG="nn_NO"</systemitem>
  </para>
  <para>
   <systemitem>LANGUAGE="nn_NO:nb_NO:no"</systemitem>
  </para>
  <para>
   または
  </para>
  <para>
   <systemitem>LANG="nb_NO"</systemitem>
  </para>
  <para>
   <systemitem>LANGUAGE="nb_NO:nn_NO:no"</systemitem>
  </para>
  <para>
   ノルウェー語では、<systemitem>LC_TIME</systemitem>の扱いも違うので注意してください。
  </para>
  

  <para>
   生じる可能性のある1つの問題は、数字の桁を区切るための文字が正しく認識されないことです。このことは、<systemitem>LANG</systemitem>が<literal>de</literal>のような2文字の言語コードにのみ設定されているのに、glibcが使用している定義ファイル<filename>/usr/share/lib/de_DE/LC_NUMERIC</filename>に存在している場合に生じます。それで、区切り文字の定義がシステムに認識されるようにするには、<systemitem>LC_NUMERIC</systemitem>を<literal>de_DE</literal>に設定する必要があります。
  </para>
 </sect2>

 <sect2 id="sec.suse.l10n.info">
  <title>詳細情報</title>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     <emphasis>『The GNU C Library Reference Manual』</emphasis>の<quote>Locales and Internationalization</quote>の章。glibc-info<systemitem>パッケージに格納されています。</systemitem>パッケージは、SUSE Linux Enterprise SDKから入手できます。このSDKは、SUSE Linux Enterprise向けのアドオン製品であり、<ulink url="http://download.suse.com/"/>からダウンロードできます。「<literal>SUSE Linux Enterpriseソフトウェア開発キット</literal>」で検索してください。
    </para>
   </listitem>
   <listitem>
    <para>
     『<emphasis>UTF-8 and Unicode FAQ for Unix/Linux</emphasis>』、Markus Kuhn著。Webページ<ulink url="http://www.cl.cam.ac.uk/~mgk25/unicode.html"/> (現在のアドレス)を参照してください。
    </para>
   </listitem>
   <listitem>
    <para>
     『<emphasis>Unicode-Howto</emphasis>』、Bruno Haible著(<ulink url="http://tldp.org/HOWTO/Unicode-HOWTO-1.html"/>)
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>
