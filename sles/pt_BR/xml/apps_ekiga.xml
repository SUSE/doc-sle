<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="apps_ekiga.xml" version="5.0" xml:id="cha.ekiga">
 <title>Ekiga: usando Voz por IP</title>
 <info>
  <abstract>
   <para>
    A telecomunicação moderna envolve muito mais do que apenas ligações. Inclui também mensagens de texto e, em alguns casos, até videoconferência. O recurso Roaming permite que você esteja acessível em um número de telefone em qualquer parte do mundo. O Ekiga inclui esses recursos em sua área de trabalho Linux, para que você possa se comunicar pela Internet de banda larga.
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker>
   </dm:bugtracker>
   <dm:translation>yes (sim)</dm:translation>
  </dm:docmanager>
 </info>
 <indexterm xml:id="idx.voip" class="startofrange"> <primary>VoIP</primary> </indexterm> <indexterm> <primary>aplicativos</primary> <secondary>rede</secondary> <tertiary>Ekiga</tertiary> </indexterm> <indexterm xml:id="idx.ekiga" class="startofrange"> <primary>Ekiga</primary> </indexterm>

 <note>
  <title>O Ekiga pode não estar instalado</title>
  <para>
   Antes de continuar, verifique se o pacote <package>ekiga</package> está instalado.
  </para>
 </note>

 <para>
  Antes de iniciar, verifique se os requisitos a seguir foram atendidos:
 </para>
 <itemizedlist mark="bullet" spacing="normal">
  <listitem>
   <para>
    Sua placa de som deve estar configurada de forma adequada.
   </para>
  </listitem>
  <listitem>
   <para>
    Fones de ouvido ou microfone e alto-falantes estão conectados ao computador.
   </para>
  </listitem>
  <listitem>
   <para>
    Para discar para redes telefônicas habituais, é necessária uma conta SIP. O SIP (<emphasis>Signaling protocol for Internet Telephony</emphasis>) é o protocolo usado para estabelecer sessões de audioconferência e videoconferência ou encaminhamento de chamadas. 
   </para>
   <para>
    Há vários provedores de VoIP em todo o mundo. Um provedor é o próprio projeto Ekiga. Visite <link xlink:href="http://www.ekiga.net"/> para saber mais.
   </para>
  </listitem>
  <listitem>
   <para>
    Para videoconferência, é necessário conectar uma webcam ao computador.
   </para>
  </listitem>
 </itemizedlist>

 <sect1 xml:id="sec.ekiga.start">
  <title>Iniciando o Ekiga</title>

  <para>
   Inicie o Ekiga clicando em <menuchoice><guimenu>Aplicativos</guimenu> <guimenu>Internet</guimenu> <guimenu>Ekiga Softphone</guimenu></menuchoice>.
  </para>
 </sect1>

 <sect1 xml:id="sec.ekiga.configure">
  <title>Configurando o Ekiga</title>

  <para>
   Ao ser iniciado pela primeira vez, o Ekiga abre um Assistente de Configuração que solicita todos os dados necessários para configurá-lo. Proceda da seguinte maneira:
  </para>

  <procedure>
   <step>
    <para>
     Clique em <guimenu>Encaminhar</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Digite seu nome completo (nome e sobrenome). Clique em <guimenu>Encaminhar</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Digite os dados da sua conta no <literal>ekiga.net</literal> ou escolha não se registrar em <link xlink:href="http://www.ekiga.net"/>. Clique em <guimenu>Encaminhar</guimenu>.
    </para>
    <para>
     Para adicionar outras contas posteriormente, configure-as usando <menuchoice> <guimenu>Edit (Editar)</guimenu> <guimenu>Accounts (Contas)</guimenu></menuchoice>. Clique em <guimenu>Encaminhar</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Digite os dados da sua Conta para Chamada do Ekiga ou escolha não se registrar em <link xlink:href="http://www.ekiga.net"/>. Clique em <guimenu>Encaminhar</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Defina o tipo e a velocidade de conexão. Clique em <guimenu>Encaminhar</guimenu>.
    </para>
   </step>

   <step>
    <para>
     Escolha o driver de dispositivo de toque, entrada e saída de áudio. Em geral, você pode manter a configuração <guimenu>Padrão</guimenu>. Clique em <guimenu>Encaminhar</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Escolha um dispositivo de entrada de vídeo, se disponível. Clique em <guimenu>Encaminhar</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Verifique o resumo de suas configurações e aplique-as.
    </para>
   </step>
   <step>
    <para>
     Se houver falha no registro após fazer mudanças na configuração, reinicie o Ekiga.
    </para>
   </step>
  </procedure>

  <para>
   O Ekiga permite que você mantenha várias contas. Para configurar uma conta adicional, faça o seguinte:
  </para>

  <procedure>
   <step>
    <para>
     Abra <menuchoice> <guimenu>Editar</guimenu> <guimenu>Contas</guimenu></menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Escolha <menuchoice><guimenu>Contas</guimenu> <guimenu>Adicionar &lt;tipo de conta&gt;</guimenu></menuchoice>. Se não tiver certeza, selecione <guimenu>Adicionar uma Conta SIP</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Informe o <guimenu>Servidor de registro</guimenu> no qual você registrou. Normalmente, ele é um endereço IP ou um nome de host que será fornecido a você pelo Provedor de Serviços de Telefonia para Internet. Digite o <guimenu>Usuário</guimenu> e a <guimenu>Senha</guimenu> de acordo com os dados fornecidos pelo seu provedor.
    </para>
   </step>
   <step>
    <para>
     Deixe a caixa de diálogo de configuração com <guimenu>OK</guimenu> e ative a conta. O status da sua conta exibida na janela principal do Ekiga muda para <guimenu>Registered</guimenu> (Registrado).
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.ekiga.ui">
  <title>A interface do usuário do Ekiga</title>

  <para>
   A interface do usuário tem modos diferentes. Para alternar entre as telas, use a barra de ferramentas. O primeiro modo é <guimenu>Contatos</guimenu>, o segundo é <guimenu>Teclado</guimenu>, e o último é <guimenu>Histórico de Chamadas</guimenu>. Além disso, o <guimenu>Painel de Chamadas</guimenu> exibe imagens e vídeos de webcams locais ou remotas.
  </para>

  <figure xml:id="fig.ekiga.main">
   <title>Interface do usuário do Ekiga</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="ekiga_main.png" width="55%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="ekiga_main.png" width="55%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Por padrão, o Ekiga é aberto no modo <guimenu>Contatos</guimenu>. Essa tela mostra um bloco de endereços local, que permite abrir rapidamente as conexões dos números mais usados.
  </para>

  <para>
   Várias funções do Ekiga estão disponíveis por meio de combinações de teclas. A <xref linkend="tab.ekiga.shortcut"/> resume as mais importantes.
  </para>

  <table xml:id="tab.ekiga.shortcut">
   <title>Combinações de teclas do Ekiga</title>
   <tgroup cols="2">
    <thead>
     <row>
      <entry>
       <para>
        Combinação de Teclas
       </para>
      </entry>
      <entry>
       <para>
        Descrição
       </para>
      </entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>O</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Iniciar uma chamada com o número atual.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap function="escape"/>
       </para>
      </entry>
      <entry>
       <para>
        Desligar.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>N</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Adicionar um contato ao seu bloco de endereços.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>B</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Abrir a caixa de diálogo <guimenu>Bloco de Endereços</guimenu>.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>C</keycap>
       </para>
      </entry>
      <entry>
       <para>
        Colocar a chamada atual em espera.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>T</keycap>
       </para>
      </entry>
      <entry>
       <para>
        Transferir a chamada atual para a outra parte.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>M</keycap>
       </para>
      </entry>
      <entry>
       <para>
        Suspender o fluxo de áudio da chamada atual.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>P</keycap>
       </para>
      </entry>
      <entry>
       <para>
        Suspender o fluxo de vídeo da chamada atual.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>W</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Fechar a interface do usuário do Ekiga.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>Q</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Encerrar o Ekiga.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>E</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Iniciar o gerenciador de contas.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>J</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Ativar o <guimenu>Painel de Chamadas</guimenu> na interface do usuário principal.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>+</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Ampliar a imagem da webcam.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>-</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Reduzir a imagem da webcam.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycombo><keycap function="control"/><keycap>0</keycap></keycombo>
       </para>
      </entry>
      <entry>
       <para>
        Retornar ao tamanho normal de exibição da webcam.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <keycap>F11</keycap>
       </para>
      </entry>
      <entry>
       <para>
        Usar a tela inteira para a webcam.
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
 </sect1>
 <sect1 xml:id="sec.ekiga.firstcall">
  <title>Realização de chamada</title><indexterm> <primary>Ekiga</primary> <secondary>chamada</secondary> </indexterm>

  <para>
   Após a configuração apropriada do Ekiga, fica fácil fazer uma chamada.
  </para>

  <procedure>
   <step>
    <para>
     Alterne para o modo <guimenu>Teclado</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Digite o endereço SIP de quem você deseja chamar na parte inferior da janela. O endereço deve ser semelhante a este:
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       para chamadas locais diretas: <literal>sip:nome_do_usuário@nome_do_domínio</literal> ou <literal>nome_do_usuário@nome_do_host</literal>
      </para>
     </listitem>
     <listitem>
      <para>
       <literal>sip:nome_do_usuário@nome_do_domínio</literal> ou <literal>id_do_usuário@servidor_sip</literal>
      </para>
     </listitem>
    </itemizedlist>

   </step>
   <step>
    <para>
     Clique em <guimenu>Chamar</guimenu> ou pressione <keycombo><keycap function="control"/><keycap>O</keycap></keycombo> e aguarde até a outra pessoa atender a chamada.
    </para>
   </step>
   <step>
    <para>
     Para encerrar a chamada, clique em <guimenu>Desligar</guimenu> ou pressione <keycap function="escape"/>.
    </para>
   </step>
  </procedure>

  <para>
   Se precisar ajustar os parâmetros de som, clique em <menuchoice><guimenu>Editar</guimenu><guimenu>Preferências</guimenu> </menuchoice>.
  </para>
 </sect1>
 <sect1 xml:id="sec.ekiga.answer">
  <title>Para atender uma chamada</title>

  <para>
   O Ekiga pode receber chamadas de duas maneiras diferentes. Primeiro, é possível chamar o usuário diretamente com <literal>sip:user@host</literal> ou pelo provedor SIP. A maioria dos provedores SIP permite receber chamadas de uma linha fixa normal para a sua conta VoIP. Dependendo do modo no qual você usa o Ekiga, haverá várias maneiras de você ser alertado quando receber uma chamada:
  </para>

  <variablelist>
   <varlistentry>
    <term>Aplicativo normal</term>
    <listitem>
     <para>
      As chamadas só poderão ser recebidas e atendidas se o Ekiga já tiver sido iniciado. É possível ouvir um toque em seus fones ou alto-falantes. Se o Ekiga não tiver sido iniciado, a chamada não poderá ser recebida.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Applet do painel</term>
    <listitem>
     <para>
      Em geral, o applet do painel do Ekiga é executado silenciosamente, sem dar nenhum sinal de sua existência. Isso muda quando uma chamada é recebida. A janela principal do Ekiga é aberta e você ouve um toque em seus fones ou alto-falantes.
     </para>
     <remark>Is this really still true? I see absolutely no trace of a panel
      icon in GNOME Shell. (Haven't tried receiving a call, though.)
      However, when closing the window, Ekiga still seems to be running.
      - sknorr, 2015-09-23
     </remark>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   Quando você receber uma chamada, clique em <guimenu>Aceitar</guimenu> para atendê-la e iniciar a conversa. Se não quiser aceitar a chamada, clique em <guimenu>Reject</guimenu> (Rejeitar). Também é possível transferir a chamada para outro endereço SIP.
  </para>
 </sect1>
 <sect1 xml:id="sec.ekiga.calladd">
  <title>Utilizando o Bloco de Endereços</title>

  <para>
   O Ekiga pode gerenciar seus contatos SIP. Todos os contatos são exibidos na guia <guimenu>Contatos</guimenu>, que aparece na janela principal após a inicialização. Para adicionar um contato ou um novo grupo de contatos, execute <menuchoice><guimenu>Bate-papo</guimenu><guimenu>Adicionar contato</guimenu></menuchoice>.
  </para>

  <para>
   Para adicionar um novo grupo, digite o nome do grupo na caixa de texto inferior e clique em <guimenu>Adicionar</guimenu>. O novo grupo é então adicionado à lista de grupos e é pré-selecionado.
  </para>

  <para>
   As entradas a seguir são necessárias para um contato válido:
  </para>

  <variablelist>
   <varlistentry>
    <term>Nome</term>
    <listitem>
     <para>
      Digite o nome do contato. Pode ser o nome completo ou um apelido.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Endereço</term>
    <listitem>
     <para>
      Digite um endereço SIP válido para o contato.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Grupos</term>
    <listitem>
     <para>
      Se tiver vários contatos diferentes, adicione seus próprios grupos.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   Para chamar um contato do bloco de endereços, clique duas vezes no contato. A chamada será iniciada imediatamente.
  </para>
 </sect1>
 <sect1 xml:id="sec.ekiga.moreinfo">
  <title>Para obter mais informações</title>

  <para>
   A home page oficial do Ekiga é <link xlink:href="http://www.ekiga.org/"/>. O site oferece respostas às perguntas frequentes, além de uma documentação mais detalhada.
  </para>

  <para>
   Para obter informações sobre o suporte do protocolo de teleconferência <literal>H323</literal> no Linux, consulte <link xlink:href="http://www.voip-info.org/wiki/view/H.323"/>. Esse também é um bom ponto de partida quando você precisar procurar projetos que suportem VoIP.
  </para>

  <para>
   Para configurar uma rede telefônica privada, você talvez se interesse pelo software Asterisk <literal>PBX</literal> <link xlink:href="http://www.asterisk.org/"/>. Encontre informações sobre o assunto no site <link xlink:href="http://www.voip-info.org/wiki-Asterisk"/>. <indexterm startref="idx.ekiga" class="endofrange"/> <indexterm startref="idx.voip" class="endofrange"/>
  </para>
 </sect1>
</chapter>
