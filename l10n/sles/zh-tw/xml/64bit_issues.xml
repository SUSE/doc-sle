<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="64bit_issues.xml" version="5.0" xml:id="cha-64bit">
 <title>64 位元系統環境的 32 位元和 64 位元應用程式</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> 可用於<phrase os="sles">多種</phrase> 64 位元平台。但這並不表示所有包含的應用程式都已移植到 64 位元平台。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 支援在 64 位元系統環境中使用 32 位元應用程式。本章簡略說明這項支援在 64 位元 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 平台上的執行方式。
 </para>
 <para>
  適用於 64 位元平台 IBM POWER、IBM Z 和 AMD64/Intel 64 的 <phrase os="sles"><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></phrase> 可讓現有的 32 位元應用程式<quote>無需額外設定</quote> <phrase os="sles">即可在 64 位元環境中執行。對應的 32 位元平台為︰用於 POWER 的 ppc 和用於 AMD64/Intel 64 的 x86。</phrase>。這項支援意謂您可以繼續使用偏好的 32 位元應用程式，無需等到對應的 64 位元連接埠上市。<phrase os="sles">目前的 POWER 系統以 32 位元模式執行大部分應用程式，不過您可以執行 64 位元應用程式。</phrase>
 </para>


 <note>
  <title>不支援建構 32 位元應用程式</title>
  <para>
   <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 不支援編譯 32 位元應用程式，僅提供 32 位元二進位檔案的執行時期支援。
  </para>
 </note>


 <sect1 xml:id="sec-64bit-runt">
  <title>執行期間支援</title>

  <important>
   <title>不同應用程式版本之間的衝突</title>
   <para>
    如果應用程式有 32 位元和 64 位元兩種版本，同時安裝二種版本，一定會發生問題。在這種狀況下，可在兩種版本中選定一種來安裝並使用。
   </para>
   <para>
    此規則的一個例外是 PAM (可插入驗證模組)。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 在驗證程序中使用 PAM 做為使用者與應用程式之間的溝通層。在另外還可執行 32 位元應用程式的 64 位元作業系統上，一律要安裝兩個版本的 PAM 模組。
   </para>
  </important>

  <para>
   要正確執行，每一個應用程式都需要一些程式庫。不幸的是，這些程式庫的 32 位元和 64 位元版本，名稱都一樣。它們必須透過其他方法來區分彼此。
  </para>

  <para>
   要保留與 32 位元版本的相容性，程式庫儲存在系統中的位置，與在 32 位元環境中的位置相同。在 32 位元和 64 位元環境中，<filename>libc.so.6</filename> 的 32 位元版本都位於 <filename>/lib/libc.so.6</filename>。
  </para>

  <para>
   所有 64 位元程式庫和物件檔案都位於名為 <filename>lib64</filename> 的目錄。以往儲存在 <filename>/lib</filename> 和 <filename>/usr/lib</filename> 下的 64 位元物件檔案，現在放在 <filename>/lib64</filename> 和 <filename>/usr/lib64</filename> 目錄下。這表示在 <filename>/lib</filename> 和 <filename>/usr/lib</filename> 之下，有預留空間給 32 位元程式庫使用，因而兩種版本的檔案名稱能夠保持不變。
  </para>

  <para>
   32 位元 <filename>/lib</filename> 目錄的子目錄，如果包含不取決於字數的資料內容，則不會移動。此配置與 LSB (Linux Standards Base) 以及 FHS (File System Hierarchy Standard) 相容。
  </para>
 </sect1>
 <sect1 xml:id="sec-64bit-kernel">
  <title>核心規格</title>

  <para>
   適用於 AMD64/Intel 64<phrase os="sles">、IBM POWER 和 IBM Z</phrase> 的 64 位元核心提供 64 位元和 32 位元兩種核心 ABI (應用程式二進位介面)。後者與相對應 32 位元核心的 ABI 是相同的。這表示 32 位元應用程式可以用與 32 位元核心溝通相同的方式，來與 64 位元核心溝通。
  </para>

  <para>
   32 位元系統模擬的 64 位元核心呼叫，不支援系統程式使用的所有 API。這要視平台而定。因此，有少數應用程式 (例如 <command>lspci</command>) 必須<phrase os="sles">在非 POWER 平台上以 64 位元程式的形式編譯，才能正常運作。在 IBM Z 上，並非所有 ioctl 都可用於 32 位元核心 ABI 中</phrase>。
  </para>

  <para>
   64 位元核心只可以載入為此核心特別編譯的 64 位元核心模組。它無法使用 32 位元核心模組。
  </para>

  <tip>
   <title>核心可載入模組</title>
   <para>
    部份應用程式需要個別的核心可載入式模組。如果您想在 64 位元系統環境使用這種 32 位元應用程式，請洽詢此應用程式的提供者以及 SUSE，確定是否可以取得此模組的核心可載入式模組的 64 位元版本以及核心 API 的 32 位元編譯版本。
   </para>
  </tip>
 </sect1>
</chapter>
