<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_userman.xml" version="5.0" xml:id="cha.y2.userman">
 <title>Gerenciando usuários com o YaST</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes (sim)</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  Durante a instalação, você pode ter criado um usuário local para o sistema. Com o módulo <guimenu>Gerenciamento de Usuários e Grupos</guimenu> do YaST, é possível adicionar mais usuários ou editar usuários existentes. Ele também permite configurar o sistema para autenticar usuários em um servidor de rede.
 </para>
 <sect1 xml:id="sec.y2.userman.main">
  <title>Caixa de diálogo Administração de Usuário e Grupo</title>

  <para>
   Para administrar usuários ou grupos, inicie o YaST e clique em <menuchoice> <guimenu>Segurança e Usuários</guimenu> <guimenu>Gerenciamento de Usuários e Grupos</guimenu> </menuchoice>. Se preferir, inicie a caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu> diretamente, executando <command>sudo yast2 users &amp;</command> de uma linha de comando.
  </para>

  <figure xml:id="fig.y2.userman.main">
   <title>Administração de Usuário e Grupo do YaST</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_users_main_gtk.png" width="90%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_users_main_gtk.png" width="70%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Cada usuário recebe um ID de usuário de todo o sistema (UID). Além dos usuários que podem efetuar login em sua máquina, há também vários <emphasis>usuários do sistema</emphasis> somente para uso interno. Cada usuário é atribuído a um ou mais grupos. Parecido com os <emphasis>usuários do sistema</emphasis>, há também os <emphasis>grupos de sistema</emphasis> para uso interno.
  </para>

  <para>
   Dependendo do conjunto de usuários que optar por ver e modificar e da caixa de diálogo (usuários locais, usuários de rede, usuários de sistema), a janela principal mostrará diversas guias. Elas permitem que você execute as seguintes tarefas:
  </para>

  <variablelist>
   <varlistentry>
    <term>Gerenciando contas de usuário</term>
    <listitem>
     <para>
      Na guia <guimenu>Usuários</guimenu>, crie, modifique, apague ou desabilite temporariamente as contas do usuário conforme descrito na <xref linkend="sec.y2.userman.users"/>. Conheça as opções avançadas, como uso obrigatório de políticas de senha, uso de diretórios pessoais criptografados ou gerenciamento de cotas de disco na <xref linkend="sec.y2.userman.adv"/>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Mudando as configurações padrão</term>
    <listitem>
     <para>
      As contas de usuários locais são criadas de acordo com as configurações definidas na guia <guimenu>Padrões para Novos Usuários</guimenu>. Aprenda a mudar a atribuição de grupo padrão ou as permissões de acesso e o caminho padrão de diretórios pessoais na <xref linkend="sec.y2.userman.defaults"/>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Atribuindo usuários a grupos</term>
    <listitem>
     <para>
      Aprenda a mudar a atribuição de grupo para usuários individuais na <xref linkend="sec.y2.userman.assign"/>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Gerenciando grupos</term>
    <listitem>
     <para>
      Na guia <guimenu>Grupos</guimenu>, você poderá adicionar, modificar ou apagar grupos existentes. Consulte a <xref linkend="sec.y2.userman.groups"/> para obter informações sobre isso.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Mudando o método de autenticação do usuário</term>
    <listitem>
     <para>
      Quando a sua máquina está conectada a uma rede que oferece métodos de autenticação de usuário como NIS ou LDAP, você pode escolher dentre diversos métodos de autenticação na guia <guimenu>Configurações de Autenticação</guimenu>. Para obter mais informações, consulte o <xref linkend="cha.y2.userman.authent"/>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   Para o gerenciamento de usuários e grupos, a caixa de diálogo fornece uma funcionalidade semelhante. Para alternar facilmente entre a tela de administração de usuários e grupos, escolha a guia apropriada na parte superior da caixa de diálogo.
  </para>

  <para>
   As opções de filtro permitem definir o conjunto de usuários ou grupos a serem modificados: Na guia <guimenu>Usuários</guimenu> ou <guimenu>Grupo</guimenu>, clique em <guimenu>Configurar Filtro</guimenu> para ver e editar usuários ou grupos de acordo com determinadas categorias, como <guimenu>Usuários Locais</guimenu> ou <guimenu>Usuários LDAP</guimenu>, por exemplo (se você fizer parte de uma rede que usa LDAP). Com <menuchoice> <guimenu>Configurar Filtro</guimenu> <guimenu>Personalizar Filtro</guimenu> </menuchoice>, você também poderá configurar e usar um filtro personalizado.
  </para>

  <para>
   Dependendo do filtro escolhido, nem todas as opções e funções a seguir estarão disponíveis na caixa de diálogo.
  </para>
 </sect1>
 <sect1 xml:id="sec.y2.userman.users">
  <title>Gerenciando contas de usuário</title>

  <para>
   <indexterm> <primary>usuários</primary> <secondary>criando contas</secondary> </indexterm> <indexterm> <primary>usuários</primary> <secondary>modificando contas</secondary> </indexterm> O YaST oferece para criar, modificar, apagar ou desabilitar temporariamente as contas dos usuários. Não modifique as contas do usuário, a menos que você seja um usuário experiente ou administrador.
  </para>

  <note>
   <title>Mudando IDs de usuários existentes</title>
   <para>
    A propriedade do arquivo está vinculada ao ID de usuário, e não ao nome de usuário. Após uma mudança de ID de usuário, os arquivos no diretório pessoal do usuário serão automaticamente ajustados para refletir essa mudança. Entretanto, após uma mudança de ID, o usuário não tem mais posse dos arquivos que ele criou em algum local do sistema de arquivos, a menos que a propriedade desses arquivos seja manualmente modificada.
   </para>
  </note>

  <para>
   Saiba a seguir como configurar contas de usuários padrão. Para obter algumas outras opções, como login automático, login sem senha, configuração de diretórios pessoais criptografados ou gerenciamento de cotas para usuários e grupos, consulte a <xref linkend="sec.y2.userman.adv"/>.
  </para>

  <procedure>
   <title>Adicionando ou modificando contas de usuários</title>
   <step>
    <para>
     Abra a caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu> do YaST e clique na guia <guimenu>Usuários</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Com <guimenu>Configurar Filtro</guimenu>, defina o conjunto de usuários que deseja gerenciar. A caixa de diálogo mostra uma lista de usuários no sistema e os grupos aos quais eles pertencem.
    </para>
   </step>
   <step>
    <para>
     Para modificar as opções de um usuário existente, selecione uma entrada e clique em <guimenu>Editar</guimenu>.
    </para>
    <para>
     Para criar uma nova conta de usuário, clique em <guimenu>Adicionar</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Digite os dados de usuário apropriados na primeira guia, como <guimenu>Nome do usuário </guimenu> (usado para login) e <guimenu>Senha</guimenu>. Esses dados são suficientes para criar um novo usuário. Se você clicar em <guimenu>OK</guimenu> agora, o sistema atribuirá um ID de usuário automaticamente e definirá todos os outros valores de acordo com o padrão.
    </para>
   </step>

   <step>
    <para>
     Ative <guimenu>Receber Correio do Sistema</guimenu> para que algum tipo de notificação do sistema seja enviado à caixa de correio do usuário. Isso cria um álias de e-mail para o <systemitem class="username">root</systemitem>, e o usuário pode ler e-mails do sistema sem ter que primeiro efetuar login como <systemitem class="username">root</systemitem>.
    </para>
    <para>
     Os e-mails enviadas pelos serviços do sistema são armazenados em uma caixa de correio local <filename>/var/spool/mail/</filename><replaceable>nome_de_usuário</replaceable>, onde <replaceable>nome_de_usuário</replaceable> é o nome de login do usuário selecionado. Para ler e-mails, você pode usar o comando <command>mail</command>.
    </para>
   </step>
   <step>
    <para>
     Se desejar ajustar mais detalhes, como o ID do usuário ou o caminho do diretório pessoal do usuário, faça isso na guia <guimenu>Detalhes</guimenu>.
    </para>
    <para>
     Se precisar realocar o diretório pessoal de um usuário existente, digite o caminho do novo diretório pessoal e mova o conteúdo do diretório pessoal atual usando <guimenu>Mover para Nova Localização</guimenu>. Do contrário, um novo diretório pessoal será criado sem nenhum dado existente.
    </para>
   </step>
   <step>
    <para>
     Para forçar os usuários a mudar regularmente a senha ou definir outras opções de senha, alterne para <guimenu>Configurações de Senha</guimenu> e ajuste as opções. Para obter mais detalhes, consulte a <xref linkend="sec.y2.userman.adv.passw"/>.
    </para>
   </step>
   <step>
    <para>
     Clique em <guimenu>OK</guimenu> se todas as opções estiverem definidas conforme desejado.
    </para>
   </step>
   <step>
    <para>
     Clique em <guimenu>OK</guimenu> para fechar a caixa de diálogo de administração e gravar as mudanças. Um usuário recém-adicionado agora poderá efetuar login no sistema usando o nome de login e a senha criada.
    </para>
    <para>
     Se preferir gravar todas as mudanças sem sair da caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu>, clique em <menuchoice> <guimenu>Opções de Especialista</guimenu> <guimenu>Gravar Mudanças Agora</guimenu> </menuchoice>.
    </para>
   </step>
  </procedure>

  <tip>
   <title>Fazendo a correspondência de IDs de usuário</title>
   <para>
    Para um novo usuário (local) no laptop que também tenha que se integrar a um ambiente de rede onde esse usuário já tenha um ID, é útil corresponder o ID do usuário (local) ao ID da rede. Isso assegura a mesma propriedade dos arquivos que o usuário cria <quote>offline</quote> daqueles criados diretamente na rede.
   </para>
  </tip>

  <procedure>
   <title>Desabilitando ou apagando contas de usuários</title><indexterm> <primary>usuários</primary> <secondary>desabilitando contas</secondary> </indexterm> <indexterm> <primary>usuários</primary> <secondary>apagando contas</secondary> </indexterm>
   <step>
    <para>
     Abra a caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu> do YaST e clique na guia <guimenu>Usuários</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Para desabilitar uma conta de usuário temporariamente sem apagá-la, selecione o usuário na lista e clique em <guimenu>Editar</guimenu>. Ative <guimenu>Desabilitar Login de Usuário</guimenu>. O usuário não poderá efetuar login em sua máquina até que você habilite a conta novamente.
    </para>
   </step>
   <step>
    <para>
     Para apagar uma conta de usuário, selecione o usuário na lista e clique em <guimenu>Apagar</guimenu>. Escolha se também deseja apagar o diretório pessoal do usuário ou manter os dados.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.y2.userman.adv">
  <title>Opções adicionais para contas de usuários</title>

  <para>
   Além das configurações da conta do usuário padrão, o <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> oferece mais opções, como assegurar o uso obrigatório das políticas de senha, usar diretórios pessoais criptografados ou definir cotas de disco para usuários e grupos.
  </para>

  <sect2 xml:id="cha.y2.userman.adv.login">
   <title>Login automático e login sem senha</title>
   <para>
    Se você usar o ambiente de área de trabalho do GNOME, poderá configurar o <emphasis>Auto Login</emphasis> para determinado usuário e também o <emphasis>Login sem Senha</emphasis> para todos os usuários. O login automático faz com que o usuário seja conectado automaticamente ao ambiente de desktop na inicialização. Essa funcionalidade somente poderá ser ativada para um usuário de cada vez. O login sem senha permite que todos os usuários efetuem login no sistema após digitarem seus nomes de usuário no gerenciador de login.
   </para>
   <warning>
    <title>Risco de segurança</title>
    <para>
     Habilitar a opção <emphasis>Auto Login</emphasis> ou <emphasis>Login sem Senha</emphasis> em uma máquina que pode ser acessada por mais de um pessoa representa um risco de segurança. Qualquer usuário poderá obter acesso ao seu sistema e aos seus dados sem precisar de autenticação. Se o seu sistema contiver dados confidenciais, não use essa funcionalidade.
    </para>
   </warning>
   <para>
    Para ativar o auto login ou o login sem senha, acesse essas funções em <guimenu>Administração de Usuário e Grupo</guimenu> no YaST com <menuchoice> <guimenu>Opções de Especialista</guimenu> <guimenu>Configurações de Login</guimenu> </menuchoice>.
   </para>
  </sect2>

  <sect2 xml:id="sec.y2.userman.adv.passw">
   <title>Assegurando o uso obrigatório de políticas de senha</title>
   <para>
    Em qualquer sistema com vários usuários, convém assegurar o uso obrigatório de, no mínimo, as políticas básicas de segurança de senha. Os usuários devem mudar as senhas regularmente e usar senhas fortes que não possam ser exploradas facilmente. Para usuários locais, proceda da seguinte forma:

   </para>
   <procedure>
    <title>Definindo configurações de senha</title><indexterm> <primary>usuários</primary> <secondary>configurações de senha</secondary> </indexterm>
    <step>
     <para>
      Abra a caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu> do YaST e selecione a guia <guimenu>Usuários</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Selecione o usuário para o qual mudará as opções de senha e clique em <guimenu>Editar</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Alterne para a guia <guimenu>Configurações de Senha</guimenu>. A última mudança de senha do usuário é exibida na guia.
     </para>
    </step>
    <step>
     <para>
      Para que o usuário mude a senha no próximo login, ative <guimenu>Forçar Mudança de Senha</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Para assegurar o uso obrigatório de um rodízio de senhas, defina um <guimenu>Número Máximo de Dias para a Mesma Senha</guimenu> e um <guimenu>Número Mínimo de Dias para a Mesma Senha</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Para lembrar o usuário de mudar a senha antes de sua expiração, defina um número para o <guimenu>Dias Antes do Aviso de Vencimento de Senha</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Para restringir o período de login do usuário depois que sua senha expirar, mude o valor em <guimenu>Dias Depois do Vencimento da Senha que o Login é Válido</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Você também pode indicar uma data de vencimento específica para a conta completa. Digite a <guimenu>Data de Vencimento</guimenu> no formato <replaceable>AAAA-MM-DD</replaceable>. Essa configuração não está relacionada à senha, mas sim à conta propriamente dita.
     </para>
    </step>
    <step>
     <para>
      Para obter mais informações sobre as opções e os valores padrão, clique em <guimenu>Ajuda</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Aplique suas mudanças com <guimenu>OK</guimenu>.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec.y2.userman.adv.crypto">
   <title>Gerenciando diretórios pessoais criptografados</title><indexterm> <primary>diretórios pessoais</primary> <secondary>criptografando</secondary> </indexterm> <indexterm> <primary>users</primary> <secondary>diretórios pessoais criptografados</secondary> </indexterm>
   <para>
    Para proteger os dados dos diretórios pessoais contra roubo e remoção de disco rígido, você pode criar diretórios pessoais criptografados para os usuários. Eles são criptografados com LUKS (Linux Unified Key Setup), que resulta em uma imagem e uma chave de imagem gerada para o usuário. A chave de imagem é protegida com a senha de login do usuário. Quando o usuário efetua login no sistema, o diretório pessoal criptografado é montado e o conteúdo é disponibilizado ao usuário.
   </para>
   <para>
    Com o YaST, você pode criar diretórios pessoais criptografados para usuários novos ou existentes. Para criptografar ou modificar diretórios pessoais criptografados de usuários já existentes, você precisará saber a senha de login atual do usuário. Por padrão, todos os dados de usuário existentes são copiados para o novo diretório pessoal criptografado, mas não são apagados do diretório não criptografado.
   </para>
   <warning>
    <title>Restrições de segurança</title>
    <para>
     A criptografia do diretório pessoal de um usuário não fornece uma alta segurança contra outros usuários. Se for necessária uma alta segurança, o sistema não deverá ser fisicamente compartilhado.
    </para>
   </warning>
   <para>
    Para obter informações gerais sobre diretórios pessoais criptografados e quais ações devem ser executadas para garantir maior segurança, consulte o <xref linkend="sec.security.cryptofs.y2.homes"/>.
   </para>
   <procedure>
    <title>Criando diretórios pessoais criptografados</title>
    <step>
     <para>
      Abra a caixa de diálogo <guimenu>Gerenciamento de Usuários e Grupos</guimenu> do YaST e clique na guia <guimenu>Usuários</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Para criptografar o diretório pessoal de um usuário existente, selecione o usuário e clique em <guimenu>Editar</guimenu>.
     </para>
     <para>
      Do contrário, clique em <guimenu>Adicionar</guimenu> para criar uma nova conta de usuário e digite os dados de usuário apropriados na primeira guia.
     </para>
    </step>
    <step>
     <para>
      Na guia <guimenu>Detalhes</guimenu>, ative a opção <guimenu>Usar Diretório Pessoal Criptografado</guimenu>. Em <guimenu>Tamanho do Diretório em MB</guimenu>, especifique o tamanho do arquivo de imagem criptografado a ser criado para este usuário.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="yast2_users_crypto_gtk.png" width="90%" format="PNG"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="yast2_users_crypto_gtk.png" width="70%" format="PNG"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Aplique suas configurações com <guimenu>OK</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Digite a senha de login atual do usuário para continuar, se ela for solicitada pelo YaST.
     </para>
    </step>
    <step>
     <para>
      Clique em <guimenu>OK</guimenu> para fechar a caixa de diálogo de administração e gravar as mudanças.
     </para>
     <para>
      Se preferir gravar todas as mudanças sem sair da caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu>, clique em <menuchoice> <guimenu>Opções de Especialista</guimenu> <guimenu>Gravar Mudanças Agora</guimenu> </menuchoice>.
     </para>
    </step>
   </procedure>
   <procedure>
    <title>Modificando ou desabilitando diretórios pessoais criptografados</title>
    <para>
     Você também pode certamente desabilitar a criptografia de um diretório pessoal ou mudar o tamanho do arquivo de imagem a qualquer momento.
    </para>
    <step>
     <para>
      Abra a caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu> do YaST na tela <guimenu>Usuários</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Selecione um usuário na lista e clique em <guimenu>Editar</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Se desejar desabilitar a criptografia, alterne para a guia <guimenu>Detalhes</guimenu> e desabilite <guimenu>Usar Diretório Pessoal Criptografado</guimenu>.
     </para>
     <para>
      Se precisar ampliar ou reduzir o tamanho do arquivo de imagem criptografado para esse usuário, mude o <guimenu>Tamanho do Diretório em MB</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Aplique suas configurações com <guimenu>OK</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Digite a senha de login atual do usuário para continuar, se ela for solicitada pelo YaST.
     </para>
    </step>
    <step>
     <para>
      Clique em <guimenu>OK</guimenu> para fechar a caixa de diálogo de administração e gravar as mudanças.
     </para>
     <para>
      Se preferir gravar todas as mudanças sem sair da caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu>, clique em <menuchoice> <guimenu>Opções de Especialista</guimenu> <guimenu>Gravar Mudanças Agora</guimenu> </menuchoice>.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec.y2.userman.adv.quota">
   <title>Gerenciando cotas</title><indexterm> <primary>usuários</primary> <secondary>cotas</secondary> </indexterm> <indexterm> <primary>cotas</primary> <secondary>usuários, grupos</secondary> </indexterm>
   <para>
    Para evitar o esgotamento dos recursos do sistema sem qualquer notificação, os administradores de sistema podem configurar cotas para usuários ou grupos. É possível definir quotas para um ou mais sistemas de arquivos, e restringir a quantidade de espaço em disco que pode ser usada e o número de inodes (nós do índice) que podem ser criados lá. Os inodes são estruturas de dados em um sistema de arquivos que armazenam informações básicas sobre um arquivo, um diretório ou outro objeto de sistema de arquivos comum. Eles armazenam todos os atributos de um objeto de sistema de arquivos (como propriedade do usuário e do grupo, permissões de leitura, gravação ou execução), exceto nome de arquivo e conteúdo.
   </para>
   <para>
    O <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> permite o uso de cotas de <literal>software</literal> e de <literal>hardware</literal>. Além disso, é possível definir intervalos extras que permitem que usuários ou grupos violem temporariamente determinadas quantidades de suas cotas.
   </para>
   <variablelist>
    <varlistentry>
     <term>Cota flexível</term>
     <listitem>
      <para>
       Define um nível de aviso em que os usuários são informados de que estão atingindo seu limite. Os administradores alertam os usuários para limparem e reduzirem seus dados na partição. O limite de cota flexível normalmente é menor do que o limite de cota fixa.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Cota fixa</term>
     <listitem>
      <para>
       Define o limite em que as solicitações de gravação são negadas. Quando uma cota fixa é atingida, não é possível armazenar mais dados, e os aplicativos podem falhar.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Período extra</term>
     <listitem>
      <para>
       Define o período entre o overflow da cota flexível e a emissão do aviso. Normalmente, ele é definido como um valor bastante baixo entre uma ou várias horas.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <procedure>
    <title>Habilitando o suporte a cotas para uma partição</title>
    <para>
     Para configurar cotas para determinados usuários e grupos, habilite primeiro o suporte a cotas para a respectiva partição no Particionador Técnico do YaST.
    </para>
    <note os="sles">
     <title>Cotas em partições Btrfs</title>
     <para>

      As cotas das partições Btrfs são tratadas de forma diferente. Para obter mais informações, consulte o <xref linkend="sec.filesystems.major.btrfs.quota"/>. <remark>taroth 2014-06-04: todo - after btrfs quotas have been covered in
       the manuals (Storage Guide?), add link - taroth 2014-12-29: done</remark>
     </para>
    </note>
    <step>
     <para>
      No YaST, selecione <menuchoice> <guimenu>Sistema</guimenu> <guimenu>Particionador</guimenu> </menuchoice> e clique em <guimenu>Sim</guimenu> para continuar.
     </para>
    </step>
    <step>
     <para>
      No <guimenu>Particionador Técnico</guimenu>, selecione a partição para a qual habilitará cotas e clique em <guimenu>Editar</guimenu>.
     </para>
    </step>
    <step>
     <para>

      Clique em <guimenu>Opções do Fstab</guimenu> e ative <guimenu>Habilitar Suporte a Cotas</guimenu>. Se o pacote de <systemitem>quota</systemitem> ainda não estiver instalado, ele será assim que você confirmar a respectiva mensagem clicando em <guimenu>Sim</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Confirme suas mudanças e saia do <guimenu>Particionador Técnico</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Verifique se o serviço <systemitem class="service">quotaon</systemitem> está em execução digitando o seguinte comando:
     </para>
<screen>systemctl status quotaon</screen>
     <para>
      Ele deve estar marcado como <literal>active</literal> (ativo). Do contrário, inicie-o com o comando <command>systemctl start quotaon</command>.
     </para>
    </step>
   </procedure>
   <procedure>
    <title>Configurando cotas para usuários ou grupos</title>
    <para>
     Agora, você poderá definir cotas flexíveis ou fixas para usuários ou grupos específicos e especificar os períodos como intervalos extras.
    </para>
    <step>
     <para>
      Em <guimenu>Administração de Usuário e Grupo</guimenu> do YaST, selecione o usuário ou grupo para o qual deseja definir as cotas e clique em <guimenu>Editar</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Na guia <guimenu>Plug-ins</guimenu>, selecione a entrada <guimenu>Gerenciar Cotas de Usuário</guimenu> e clique em <guimenu>Iniciar</guimenu> para abrir a caixa de diálogo <guimenu>Configuração de Cota</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Em <guimenu>Sistema de Arquivos</guimenu>, selecione a partição à qual a cota deverá ser aplicada.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="yast2_users_quota_gtk.png" width="80%" format="PNG"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="yast2_users_quota_gtk.png" width="70%" format="PNG"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Embaixo de <guimenu>Limites de Tamanho</guimenu>, restrinja a quantidade do espaço em disco. Digite o número de blocos de 1 KB que o usuário ou o grupo possa ter nessa partição. Especifique um valor para <guimenu>Limite Flexível</guimenu> e outro para <guimenu>Limite Físico</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Você também pode restringir o número de inodes que o usuário ou o grupo pode ter na partição. Embaixo de <guimenu>Limites de I-node</guimenu>, digite um <guimenu>Limite Flexível</guimenu> e um <guimenu>Limite Físico</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Você só poderá definir intervalos extras se o usuário ou o grupo já tiver excedido o limite flexível especificado para tamanho ou inodes. Do contrário, as caixas de texto relacionadas a tempo não estarão ativadas. Especifique o período para o qual o usuário ou o grupo tem permissão para exceder os limites definidos acima.
     </para>
    </step>
    <step>
     <para>
      Confirme as configurações com <guimenu>OK</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Clique em <guimenu>OK</guimenu> para fechar a caixa de diálogo de administração e gravar as mudanças.
     </para>
     <para>
      Se preferir gravar todas as mudanças sem sair da caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu>, clique em <menuchoice> <guimenu>Opções de Especialista</guimenu> <guimenu>Gravar Mudanças Agora</guimenu> </menuchoice>.
     </para>
    </step>
   </procedure>
   <para>
    O <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> também inclui ferramentas de linha de comando, como <literal>repquota</literal> ou <literal>warnquota</literal>, pelas quais os administradores do sistema conseguem controlar o uso do disco ou enviar notificações por e-mail aos usuários que excederem a cota. Com <command>quota_nld</command>, os administradores também podem encaminhar mensagens de kernel sobre as cotas excedidas para D-BUS. Para obter mais informações, consulte as páginas de manual de <systemitem>repquota</systemitem>, <systemitem>warnquota</systemitem> e <command>quota_nld</command>.

   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.y2.userman.defaults">
  <title>Mudando as configurações padrão para usuários locais</title><indexterm> <primary>usuários</primary> <secondary>configurações padrão</secondary> </indexterm>

  <para>
   Ao criar novos usuários locais, várias configurações padrão são usadas pelo YaST. Elas incluem, por exemplo, o grupo principal e os grupos secundários aos quais o usuário pertence, ou as permissões de acesso do diretório pessoal do usuário. Você poderá mudar essas configurações padrão de acordo com os seus requisitos:
  </para>

  <procedure>
   <step>
    <para>
     Abra a caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu> do YaST e selecione a guia <guimenu>Padrões para Novos Usuários</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Para mudar o grupo principal ao qual os novos usuários deverão pertencer automaticamente, selecione outro grupo em <guimenu>Grupo Padrão</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Para modificar os grupos secundários para os novos usuários, adicione ou mude os grupos em <guimenu>Grupos Secundários</guimenu>. Os nomes de grupo devem ser separados por vírgulas.
    </para>
   </step>
   <step>
    <para>
     Se não quiser usar <filename>/home/<replaceable>nome_do_usuário</replaceable></filename> como caminho padrão dos diretórios pessoais dos novos usuários, modifique o <guimenu>Prefixo de Caminho para Diretório Home</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Para mudar os modos de permissão padrão dos diretórios pessoais recém-criados, ajuste o valor de umask em <guimenu>Umask para o Diretório Pessoal</guimenu>. Para obter mais informações sobre umask, consulte o <xref linkend="cha.security.acls"/> e a página de manual <command>umask</command>.
    </para>
   </step>
   <step>
    <para>
     Para obter informações sobre as opções individuais, clique em <guimenu>Ajuda</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Aplique suas mudanças com <guimenu>OK</guimenu>.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.y2.userman.assign">
  <title>Atribuindo usuários a grupos</title>

  <para>
   <indexterm> <primary>usuário</primary> <secondary>atribuição de grupo</secondary> </indexterm> Os usuários locais são atribuídos a vários grupos de acordo com as configurações padrão que podem ser acessadas na caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu>, na guia <guimenu>Padrões para Novos Usuários</guimenu>. Aprenda a seguir como modificar a atribuição de grupo de um usuário individual. Se precisar mudar as atribuições de grupo padrão para os novos usuários, consulte a <xref linkend="sec.y2.userman.defaults"/>.
  </para>

  <procedure>
   <title>Mudando a atribuição de grupo de um usuário</title>
   <step>
    <para>
     Abra a caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu> do YaST e clique na guia <guimenu>Usuários</guimenu>. Ela lista os usuários e os grupos aos quais os usuários pertencem.
    </para>
   </step>
   <step>
    <para>
     Clique em <guimenu>Editar</guimenu> e alterne para a guia <guimenu>Detalhes</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Para mudar o grupo principal ao qual pertence o usuário, clique em <guimenu>Grupo Padrão</guimenu> e selecione o grupo na lista.
    </para>
   </step>
   <step>
    <para>
     Para atribuir grupos secundários adicionais de usuários, ative as caixas de seleção correspondentes na lista <guimenu>Grupos Adicionais</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Clique em <guimenu>OK</guimenu> para aplicar as mudanças.
    </para>
   </step>
   <step>
    <para>
     Clique em <guimenu>OK</guimenu> para fechar a caixa de diálogo de administração e gravar as mudanças.
    </para>
    <para>
     Se preferir gravar todas as mudanças sem sair da caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu>, clique em <menuchoice> <guimenu>Opções de Especialista</guimenu> <guimenu>Gravar Mudanças Agora</guimenu> </menuchoice>.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.y2.userman.groups">
  <title>Gerenciando grupos</title><indexterm> <primary>grupos</primary> <secondary>gerenciando</secondary> </indexterm> <indexterm> <primary>YaST</primary> <secondary>gerenciamento de grupo</secondary> </indexterm> <indexterm> <primary>configurando</primary> <secondary>grupos</secondary> </indexterm>

  <para>
   Com o YaST, você também pode adicionar, modificar ou apagar grupos facilmente.
  </para>

  <procedure>
   <title>Criando e modificando grupos</title>
   <step>
    <para>
     Abra a caixa de diálogo <guimenu>Gerenciamento de Usuários e Grupos</guimenu> do YaST e clique na guia <guimenu>Grupos</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Com <guimenu>Configurar Filtro</guimenu>, defina o conjunto de grupos a serem gerenciados. A caixa de diálogo lista os grupos no sistema.
    </para>
   </step>
   <step>
    <para>
     Para criar um novo grupo, clique em <guimenu>Adicionar</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Para modificar um grupo existente, selecione o grupo e clique em <guimenu>Editar</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Na caixa de diálogo seguinte, digite ou mude os dados. A lista à direita mostra uma visão geral de todos os usuários e usuários de sistema disponíveis que podem ser membros do grupo.
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="yast2_groups_edit_gtk.png" width="80%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="yast2_groups_edit_gtk.png" width="75%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step>
    <para>
     Para adicionar usuários existentes a um novo grupo, selecione-os na lista de <guimenu>Membros de Grupo</guimenu> possíveis, marcando a caixa correspondente. Para removê-los do grupo, desmarque a caixa.
    </para>
   </step>
   <step>
    <para>
     Clique em <guimenu>OK</guimenu> para aplicar as mudanças.
    </para>
   </step>
   <step>
    <para>
     Clique em <guimenu>OK</guimenu> para fechar a caixa de diálogo de administração e gravar as mudanças.
    </para>
    <para>
     Se preferir gravar todas as mudanças sem sair da caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu>, clique em <menuchoice> <guimenu>Opções de Especialista</guimenu> <guimenu>Gravar Mudanças Agora</guimenu> </menuchoice>.
    </para>
   </step>
  </procedure>

  <para>
   Para apagar um grupo, ele não deve ter nenhum membro. Para apagar um grupo, selecione-o na lista e clique em <guimenu>Apagar</guimenu>. Clique em <guimenu>OK</guimenu> para fechar a caixa de diálogo de administração e gravar as mudanças. Se preferir gravar todas as mudanças sem sair da caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu>, clique em <menuchoice> <guimenu>Opções de Especialista</guimenu> <guimenu>Gravar Mudanças Agora</guimenu> </menuchoice>.
  </para>
 </sect1>
 <sect1 xml:id="cha.y2.userman.authent">
  <title>Mudando o método de autenticação do usuário</title><indexterm> <primary>usuários</primary> <secondary>autenticação</secondary> </indexterm>

  <para>
   Com a máquina conectada à rede, você pode mudar o método de autenticação. As seguintes opções estão disponíveis:
  </para>

  <variablelist>
   <varlistentry>
    <term>NIS</term>
    <listitem>
     <para>
      Os usuários são administrados centralmente em um servidor NIS em todos os sistemas da rede. Para obter os detalhes, consulte o <xref linkend="cha.nis"/>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>LDAP</term>
    <listitem>
     <para>
      Os usuários são administrados centralmente em um servidor LDAP em todos os sistemas da rede. Para obter mais informações sobre LDAP, consulte o <xref linkend="cha.security.ldap"/>.
     </para>
     <para>
      Você pode gerenciar os usuários LDAP com o módulo de usuário do YaST. Todas as outras configurações do LDAP, incluindo as configurações padrão para usuários LDAP, devem ser definidas com o módulo de cliente LDAP do YaST, conforme descrito na <phrase os="sles;osuse"><xref linkend="sec.security.auth.yast.client"/></phrase>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Kerberos</term>
    <listitem>
     <para>
      Com o Kerberos, o usuário registra-se uma vez e depois torna-se confiável em toda a rede pelo restante da sessão.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Samba</term>
    <listitem>
     <para>
      A autenticação SMB é geralmente usada em redes com Linux e Windows. Para obter detalhes, consulte o <xref linkend="cha.samba"/>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   Para mudar o método de autenticação, faça o seguinte:
  </para>

  <procedure>
   <step>
    <para>
     Abra a caixa de diálogo <guimenu>Administração de Usuário e Grupo</guimenu> no YaST.
    </para>
   </step>
   <step>
    <para>
     Clique na guia <guimenu>Configurações de Autenticação</guimenu> para mostrar uma visão geral dos métodos de autenticação disponíveis e das configurações atuais.
    </para>
   </step>
   <step>
    <para>
     Para mudar o método de autenticação, clique em <guimenu>Configurar</guimenu> e selecione o método de autenticação que deseja modificar. Isso o levará diretamente para os módulos de configuração de cliente no YaST. Para obter informações sobre a configuração do cliente apropriado, consulte as seguintes seções:
    </para>
    <formalpara>
     <title>NIS:</title>
     <para>
      <xref linkend="sec.nis.client"/>
     </para>
    </formalpara>
    <formalpara>
     <title>LDAP:</title>
     <para>
      <phrase os="sles;osuse"><xref linkend="sec.security.auth.yast.client"/></phrase>
     </para>
    </formalpara>

    <formalpara>
     <title>Samba:</title>
     <para>
      <xref linkend="sec.samba.client.inst.yast"/>
     </para>
    </formalpara>

   </step>
   <step>
    <para>
     Após aceitar a configuração, retorne à visão geral de <guimenu>Administração de Usuário e Grupo</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Clique em <guimenu>OK</guimenu> para fechar a caixa de diálogo de administração.
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
