<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_ncurses.xml" version="5.0" xml:id="cha-yast-text">

 <title>文本模式下的 YaST</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  基于 ncurses 的伪图形 YaST 界面主要用于帮助系统管理员管理不带 X 服务器的系统。与传统的 GUI 相比，该界面具备多项优势。您可以使用键盘在 ncurses 界面中导航，并且几乎所有界面元素都有对应的键盘快捷键。ncurses 界面的资源占用较小，即使是在最低配置的硬件上也能快速运行。您可以通过 SSH 连接运行基于 ncurses 的 YaST 版本，以便管理远程系统。请注意，用于运行 YaST 的终端仿真器支持的最小大小为 80x25 个字符。
 </para>
 <figure xml:id="fig-yast2-ncurses">
  <title>文本模式下的 YaST 主窗口</title>
  <mediaobject>
   <imageobject role="fo">
    <imagedata fileref="yast2_ncurses_main.png" width="70%"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="yast2_ncurses_main.png" width="75%"/>
   </imageobject>
  </mediaobject>
 </figure>
 <para>
  要启动基于 ncurses 的 YaST 版本，请打开终端并运行 <command>sudo yast2</command> 命令。使用 <keycap function="tab"/> 键或箭头键在菜单项、字段和按钮等界面元素之间导航。您可以使用相应的功能键或键盘快捷键访问 YaST 中的所有菜单项和按钮。例如，您可以按 <keycap>F9</keycap> 键来取消当前操作，使用 <keycap>F10</keycap> 键可接受更改。在基于 ncurses 的 YaST 界面中，每个菜单项和按钮的标签中都有一个高亮显示的字母。此字母是指派给界面元素的键盘快捷键的一部分。例如，<guimenu>退出</guimenu>按钮中高亮显示了字母 <literal>Q</literal>。这表示您可以按 <keycombo><keycap function="alt"/><keycap>Alt+Q</keycap></keycombo> 来激活该按钮。
 </para>

 <tip>
  <title>刷新 YaST 对话框</title>
  <para>
   如果 YaST 对话框损坏或变形（例如在调整窗口大小时），请按 <keycombo><keycap function="control"/><keycap>L</keycap></keycombo> 来刷新并恢复其内容。
  </para>
 </tip>
 
  <sect1 xml:id="sec-yast-cli-navigate">
  <title>在模块中导航</title>
  <para>
   下面在介绍 YaST 模块中的控制元素时，均假定所有功能键和 <keycap function="alt"/> 组合键都可用并且没有被指派不同的全局功能。有关可能出现的异常的信息，请参见<xref linkend="sec-yast-cli-restricted-keys"/>。
  </para>
  <variablelist>
   <varlistentry>
    <term>在按钮和选择列表之间移动</term>
    <listitem>
     <para>
      使用 <keycap function="tab"/> 键可在按钮和包含选择列表的框架之间移动。要以相反方向导航，请使用 <keycombo> <keycap function="alt"/>
      <keycap function="tab"/> </keycombo> 或 <keycombo>
      <keycap function="shift"/> <keycap function="tab"/> </keycombo> 组合键。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>在选择列表中导航</term>
    <listitem>
     <para>
      使用箭头键（<keycap function="up"/> 和 <keycap function="down"/>）可在包含选择列表的活动框架中的各个元素之间移动。如果单个项目超出了框架宽度，可使用 <keycombo><keycap function="shift"/> <keycap function="right"/></keycombo> 或 <keycombo> <keycap function="shift"/>
      <keycap function="left"/></keycombo> 键水平滚动。如果使用箭头键会导致选择移到另一框架，请改用 <keycombo> <keycap function="control"/>
      <keycap>E</keycap>
      </keycombo> 或 <keycombo> <keycap function="control"/>
      <keycap>A</keycap> </keycombo> 键。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>使用按钮、单选按钮和复选框</term>
    <listitem>
     <para>
      要选择带空方括号（复选框）或空圆括号（单选按钮）的项目，请按 <keycap function="space"/> 或 <keycap function="enter"/> 键。或者，可以使用 <keycombo>
      <keycap function="alt"/> <keycap>highlighted_letter</keycap></keycombo> 直接选择单选按钮和复选框。在这种情况下，无需使用 <keycap function="enter"/> 键进行确认。如果使用 <keycap function="tab"/> 键导航到某个项目，请按 <keycap function="enter"/> 键执行所选操作或激活相应的菜单项。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>功能键</term>
    <listitem>
     <para>
      使用功能键（从 <keycap>F1</keycap> 到 <keycap>F12</keycap>）可快速访问特定按钮。YaST 屏幕底部的行中显示了可用的功能键组合 (<literal>F<replaceable>X</replaceable></literal>)。哪个功能键实际对应哪个按钮取决于活动 YaST 模块，因为不同的模块提供的按钮不同（<guimenu>细节</guimenu>、<guimenu>信息</guimenu>、<guimenu>添加</guimenu>、<guimenu>删除</guimenu>等）。可以将 <keycap>F10</keycap> 用作<guimenu>接受</guimenu>、<guimenu>确定</guimenu>、<guimenu>下一步</guimenu>和<guimenu>完成</guimenu>。按 <keycap>F1</keycap> 可访问 YaST 帮助。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>使用导航树</term>
    <listitem>
     <para>
      某些 YaST 模块使用窗口左侧的导航树选择配置对话框。使用方向键（<keycap function="up"/> 和 <keycap function="down"/>）可在树中导航。使用 <keycap function="space"/> 可打开或关闭树中的项。在 ncurses 模式下，在导航树中进行选择之后必须按 <keycap function="enter"/> 才能显示所选对话框。这是一种有意行为，目的是在浏览导航树时避免耗时的重绘。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>在软件安装模块中选择软件</term>
    <listitem>
     <para>
      使用左侧的过滤器可以列出与指定的字符串匹配的软件包。已安装的软件包标有字母 <literal>i</literal>。要更改软件包的状态，请按 <keycap function="space"/> 或 <keycap function="enter"/>。或者，也可以使用<guimenu>操作</guimenu>菜单选择所需的状态更改 (安装、删除、更新、禁止或锁定)。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <figure xml:id="fig-yast2-ncurses-inst">
   <title>软件安装模块</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_ncurses_inst.png" width="70%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_ncurses_inst.png" width="75%"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>

 <sect1 xml:id="sec-yast-cli-key-combination">
  <title>高级组合键</title>

  <para>
   基于 ncurses 的 YaST 版本提供有数个高级组合键。
  </para>

  <variablelist>
   <varlistentry>
    <term><keycombo><keycap function="shift"/><keycap>F1</keycap></keycombo>
    </term>
    <listitem>
     <para>
      列出高级热键。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><keycombo><keycap function="shift"/><keycap>F4</keycap></keycombo>
    </term>
    <listitem>
     <para>
      更改颜色方案。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><keycombo><keycap function="control"/><keycap></keycap></keycombo>
    </term>
    <listitem>
     <para>
      退出应用程序。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><keycombo><keycap function="control"/><keycap>L</keycap></keycombo>
    </term>
    <listitem>
     <para>
      刷新屏幕。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><keycombo><keycap function="control"/><keycap>D</keycap></keycombo><keycap>F1</keycap>
    </term>
    <listitem>
     <para>
      列出高级热键。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><keycombo><keycap function="control"/><keycap>D</keycap></keycombo><keycombo><keycap function="shift"/><keycap> D</keycap></keycombo>
    </term>
    <listitem>
     <para>
      以屏幕截图的形式将对话框转储到日志文件。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><keycombo><keycap function="control"/><keycap>D</keycap></keycombo><keycombo><keycap function="shift"/><keycap>Y</keycap></keycombo>
    </term>
    <listitem>
     <para>
      打开 YDialogSpy 以查看控件层次结构。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec-yast-cli-restricted-keys">
  <title>组合键的限制</title>

  <para>
   如果您的窗口管理器使用全局 <keycap function="alt"/> 组合键，则 YaST 中的 <keycap function="alt"/> 组合键可能无效。像 <keycap function="alt"/> 或 <keycap function="shift"/> 这样的键也可能会被终端设置占用。
  </para>

  <variablelist>
   <varlistentry>
    <term>使用 <keycap function="alt"/> 而不是 <keycap function="escape"/>
    </term>
    <listitem>
     <para>
       可以代替 <keycap function="alt"/> 而使用 <keycap function="escape"/><keycap function="alt"/> 快捷键。例如，<keycombo>
      <keycap function="escape"/><keycap>H</keycap></keycombo> 可代替 <keycombo>
      <keycap function="alt"/><keycap>H</keycap></keycombo>。（先按 <keycap function="escape"/>，<emphasis>然后</emphasis>按 <keycap>H</keycap> 键。）
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term> 使用 <keycombo><keycap function="control"/><keycap>F</keycap></keycombo> 和 <keycombo><keycap function="control"/><keycap>B </keycap></keycombo> 执行向后和向前导航
    </term>
    <listitem>
     <para>
      如果 <keycap function="alt"/> 和 <keycap function="shift"/> 组合键被窗口管理器或终端占用，可改用组合键 <keycombo> <keycap function="control"/>
      <keycap>F</keycap></keycombo>（向前）和 <keycombo>
      <keycap function="control"/><keycap>B</keycap></keycombo>（向后）。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>功能键的限制</term>
    <listitem>
     <para>
      功能键 (<keycap>F1</keycap> ... <keycap>F12</keycap>) 也用于执行多种功能。某些功能键可能已被终端占用，不能用于 YaST。但 <keycap function="alt"/> 组合键和功能键应该始终在纯文本控制台上完全可用。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec-yast-cli-options">
  <title>YaST 命令行选项</title>

  <para>
   除了文本模式界面以外，YaST 还提供了一个命令行界面。要获取 YaST 命令行选项列表，请使用以下命令：
  </para>

<screen><prompt>&gt; </prompt><command>sudo</command> yast -h</screen>

  <sect2 xml:id="sec-yast-cli-options-install">
   <title>从命令行安装软件包</title>
   <para>
    如果您知道软件包名称，且该软件包是由某个活动安装储存库提供的，您便可以使用命令行选项 <option>-i</option> 安装该软件包：
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> yast <replaceable>-i package_name</replaceable></screen>
   <para>
    或
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> yast --install <replaceable>-i package_name</replaceable></screen>
   <para>
    <replaceable>package_name</replaceable> 可以是通过依赖项检查安装的单个软件包简称（例如 <package>gvim</package>），也可以是并非通过依赖项检查安装的 RPM 软件包的完整路径。
   </para>
   <para>
    虽然 YaST 提供了通过命令行管理软件的基本功能，但对于更高级的软件包管理任务，请考虑使用 Zypper。在<xref linkend="sec-zypper"/>中查找有关使用 Zypper 的详细信息。
   </para>
  </sect2>

  <sect2 xml:id="sec-yast-cli-options-modules">
   <title>使用单个模块</title>
   <para>
    为了节省时间，您可以使用以下命令启动单个 YaST 模块：
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> yast <replaceable>module_name</replaceable></screen>
   <para>
    使用 <command>yast
    -l</command> 或 <command>yast --list</command> 可查看系统上所有可用模块的列表。
   </para>
  </sect2>

  <sect2 xml:id="sec-yast-cli-options-module-params">
   <title>YaST 模块的命令行参数</title>
   <para>
    为了在脚本中使用 YaST 功能，YaST 提供了对单个模块的命令行支持。但并非所有模块都具有命令行支持。要显示模块的可用选项，请使用以下命令：
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> yast <replaceable>module_name</replaceable> help</screen>
   <para>
    如果某个模块未提供命令行支持，则会以文本模式启动该模块，并显示以下消息：
   </para>
<screen>This YaST module does not support the command line interface.</screen>
   <para>
    下列各节介绍具有命令行支持的所有 YaST 模块，并简要说明了其所有命令和可用选项。
   </para>
   <sect3>
    <title>常用 YaST 模块命令</title>
    <para>
     所有 YaST 模块都支持以下命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>help</term>
      <listitem>
       <para>
        列出所有模块的支持命令及其说明：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast lan help
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>longhelp</term>
      <listitem>
       <para>
        与 <command>help</command> 作用相同，但添加了所有命令选项及其说明的详细列表：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast lan longhelp
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>xmlhelp</term>
      <listitem>
       <para>
        与 <command>longhelp</command> 作用相同，但输出采用 XML 文本结构并重定向至某个文件：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast lan xmlhelp xmlfile=/tmp/yast_lan.xml
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>interactive</term>
      <listitem>
       <para>
	进入<emphasis>交互</emphasis>模式。这样，您就可以直接运行该模块的命令，而无需在命令前加上 <command>sudo
	yast</command> 前缀。使用 <literal>exit</literal> 可以退出交互模式。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast add-on</title>
    <para>
     从指定的路径添加新附加产品：
    </para>
<screen>
 <prompt>&gt; </prompt><command>sudo</command> yast add-on http://server.name/directory/Lang-AddOn-CD1/
</screen>
    <para>
     您可以使用以下协议来指定来源路径：http:// ftp:// nfs:// disk:// cd:// 或 dvd://。
    </para>
   </sect3>
   <sect3>
    <title>yast audit-laf</title>
    <para>
     显示和配置 Linux Audit Framework。有关更多细节，请参见<xref linkend="part-audit"/>。<command>yast audit-laf</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>set</term>
      <listitem>
       <para>
        设置选项：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast audit-laf set log_file=/tmp/audit.log
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast audit-laf set help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>show</term>
      <listitem>
       <para>
        显示选项的设置：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast audit-laf show diskspace
space_left: 75
space_left_action: SYSLOG
admin_space_left: 50
admin_space_left_action: SUSPEND
action_mail_acct: root
disk_full_action: SUSPEND
disk_error_action: SUSPEND
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast audit-laf show
        help</command>。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast dhcp-server</title>
    <para>
     管理 DHCP 服务器以及配置其设置。<command>yast
     dhcp-server</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>disable</term>
      <listitem>
       <para>
        禁用 DHCP 服务器服务。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>enable</term>
      <listitem>
       <para>
        启用 DHCP 服务器服务。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>host</term>
      <listitem>
       <para>
        配置单个主机的设置。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>interface</term>
      <listitem>
       <para>
        指定要侦听的网络接口：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast dhcp-server interface current
Selected Interfaces: eth0
Other Interfaces: bond0, pbu, eth1
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast dhcp-server interface
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>options</term>
      <listitem>
       <para>
        管理全局 DHCP 选项。要显示完整的选项列表，请运行 <command>yast dhcp-server options help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>status</term>
      <listitem>
       <para>
        打印 DHCP 服务的状态。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>subnet</term>
      <listitem>
       <para>
        管理 DHCP 子网选项。要显示完整的选项列表，请运行 <command>yast dhcp-server subnet help</command>。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast dns-server</title>
    <para>
     管理 DNS 服务器配置。<command>yast dns-server</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>acls</term>
      <listitem>
       <para>
        显示访问控制列表设置：
       </para>
<screen>
 <prompt>&gt; </prompt><command>sudo</command> yast dns-server acls show
 ACLs:
 -----
  Name       Type        Value
  ----------------------------
  any        Predefined
  localips   Predefined
  localnets  Predefined
  none       Predefined
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>dnsrecord</term>
      <listitem>
       <para>
        配置区域资源记录：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast dnsrecord add zone=example.org query=office.example.org type=NS value=ns3
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast dns-server dnsrecord
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>forwarders</term>
      <listitem>
       <para>
        配置 DNS 转发器：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast dns-server forwarders add ip=10.0.0.100
<prompt>&gt; </prompt><command>sudo</command> yast dns-server forwarders show
[...]
Forwarder IP
------------
10.0.0.100
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast dns-server forwarders
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>host</term>
      <listitem>
       <para>
        立即处理“A”及其相关的“PTR”记录：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast dns-server host show zone=example.org
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast dns-server host
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>logging</term>
      <listitem>
       <para>
        配置日志记录设置：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast dns-server logging set updates=no transfers=yes
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast dns-server logging
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>mailserver</term>
      <listitem>
       <para>
        配置区域邮件服务器：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast dns-server mailserver add zone=example.org mx=mx1 priority=100
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast dns-server mailserver
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>nameserver</term>
      <listitem>
       <para>
        配置区域名称服务器：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast dns-server nameserver add zone=example.com ns=ns1
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast dns-server nameserver
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>soa</term>
      <listitem>
       <para>
        配置授权起始 (SOA) 记录：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast dns-server soa set zone=example.org serial=2006081623 ttl=2D3H20S
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast dns-server soa help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>startup</term>
      <listitem>
       <para>
        管理 DNS 服务器服务：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast dns-server startup atboot
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast dns-server startup help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>transport</term>
      <listitem>
       <para>
        配置区域传输规则。要显示完整的选项列表，请运行 <command>yast dns-server transport help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>zones</term>
      <listitem>
       <para>
        管理 DNS 区域：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast dns-server zones add name=example.org zonetype=master
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast dns-server zones help</command>。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast disk</title>
    <para>
     打印所有磁盘或分区的相关信息。唯一支持的命令是 <command>list</command>，后跟以下任一选项：
    </para>
    <variablelist>
     <varlistentry>
      <term>disks</term>
      <listitem>
       <para>
        列出系统中配置的所有磁盘：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast disk list disks
Device   | Size       | FS Type | Mount Point | Label | Model
---------+------------+---------+-------------+-------+-------------
/dev/sda | 119.24 GiB |         |             |       | SSD 840
/dev/sdb |  60.84 GiB |         |             |       | WD1003FBYX-0
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>partitions</term>
      <listitem>
       <para>
        列出系统中的所有分区：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast disk list partitions
Device         | Size       | FS Type | Mount Point | Label | Model
---------------+------------+---------+-------------+-------+------
/dev/sda1      |   1.00 GiB | Ext2    | /boot       |       |
/dev/sdb1      |   1.00 GiB | Swap    | swap        |       |
/dev/sdc1      | 698.64 GiB | XFS     | /mnt/extra  |       |
/dev/vg00/home | 580.50 GiB | Ext3    | /home       |       |
/dev/vg00/root | 100.00 GiB | Ext3    | /           |       |
[...]
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>

   <sect3 xml:id="sec-yast-ftp-server">
    <title>yast ftp-server</title>
    <para>
     配置 FTP 服务器设置。<command>yast ftp-server</command> 接受下列选项：
    </para>
    <variablelist>
     <varlistentry>
      <term>SSL、TLS</term>
      <listitem>
       <para>
        通过 SSL 和 TLS 控制安全连接。SSL 选项仅对 <systemitem>vsftpd</systemitem> 有效。
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server SSL enable
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server TLS disable
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>access</term>
      <listitem>
       <para>
        配置访问权限：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server access authen_only
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast ftp-server access
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>anon_access</term>
      <listitem>
       <para>
        配置匿名用户的访问权限：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server anon_access can_upload
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast ftp-server
        anon_access help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>anon_dir</term>
      <listitem>
       <para>
        指定匿名用户的目录。服务器上必须已存在该目录：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server anon_dir set_anon_dir=/srv/ftp
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast ftp-server anon_dir
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>chroot</term>
      <listitem>
       <para>
        控制 <emphasis>change root</emphasis> 环境 (chroot)：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server chroot enable
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server chroot disable
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>idle-time</term>
      <listitem>
       <para>
        设置最大闲置时间（分钟），经过该时间后 FTP 服务器会终止当前的连接：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server idle-time set_idle_time=15
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>logging</term>
      <listitem>
       <para>
        确定是否将日志消息保存到日志文件中：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server logging enable
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server logging disable
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>max_clients</term>
      <listitem>
       <para>
        指定并行连接的客户端的最大数目：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server max_clients set_max_clients=1500
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>max_clients_ip</term>
      <listitem>
       <para>
        指定通过 IP 并行连接的客户端的最大数目：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server max_clients_ip set_max_clients=20
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>max_rate_anon</term>
      <listitem>
       <para>
        指定匿名客户端允许使用的最大数据传输速度 (KB/s)：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server max_rate_anon set_max_rate=10000
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>max_rate_authen</term>
      <listitem>
       <para>
        指定通过本地身份验证的用户允许使用的最大数据传输速度 (KB/s)：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server max_rate_authen set_max_rate=10000
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>port_range</term>
      <listitem>
       <para>
        指定被动连接答复的端口范围：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server port_range set_min_port=20000 set_max_port=30000
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast ftp-server port_range help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>show</term>
      <listitem>
       <para>
        显示 FTP 服务器设置。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>startup</term>
      <listitem>
       <para>
        控制 FTP 启动方法：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server startup atboot
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast ftp-server startup
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>umask</term>
      <listitem>
       <para>
        指定 <literal>authenticated:anonymous</literal> 用户的文件权限掩码：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server umask set_umask=177:077
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>welcome_message</term>
      <listitem>
       <para>
        指定当用户连接到 FTP 服务器时显示的文本：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast ftp-server welcome_message set_message="hello everybody"
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast http-server</title>
    <para>
     配置 HTTP 服务器 (Apache2)。<command>yast http-server</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>configure</term>
      <listitem>
       <para>
        配置 HTTP 服务器主机设置：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast http-server configure host=main servername=www.example.com \
 serveradmin=admin@example.com
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast http-server configure
        help</command>。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
    <variablelist>
     <varlistentry>
      <term>hosts</term>
      <listitem>
       <para>
        配置虚拟主机：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast http-server hosts create servername=www.example.com \
 serveradmin=admin@example.com documentroot=/var/www
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast http-server hosts
        help</command>。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
    <variablelist>
     <varlistentry>
      <term>listen</term>
      <listitem>
       <para>
        指定 HTTP 服务器应该侦听的端口和网络地址：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast http-server listen add=81
<prompt>&gt; </prompt><command>sudo</command> yast http-server listen list
Listen Statements:
==================
:80
:81
<prompt>&gt; </prompt><command>sudo</command> yast http-server delete=80
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast http-server listen
        help</command>。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
    <variablelist>
     <varlistentry>
      <term>mode</term>
      <listitem>
       <para>
        启用或禁用向导模式：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast http-server mode wizard=on
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
    <variablelist>
     <varlistentry>
      <term>modules</term>
      <listitem>
       <para>
        控制 Apache2 服务器模块：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast http-server modules enable=php5,rewrite
<prompt>&gt; </prompt><command>sudo</command> yast http-server modules disable=ssl
<prompt>&gt; </prompt><command>sudo</command> http-server modules list
[...]
Enabled rewrite
Disabled ssl
Enabled php5
[...]
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast kdump</title>
    <para>
     配置 <systemitem>kdump</systemitem> 设置。有关 <systemitem>kdump</systemitem> 的详细信息，请参见<xref linkend="cha-tuning-kdump-basic"/>。<command>yast kdump</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>copykernel</term>
      <listitem>
       <para>
        将内核复制到转储目录。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>customkernel</term>
      <listitem>
       <para>
        指定自定义内核名称的 <replaceable>kernel_string</replaceable> 部分。命名模式为 <filename>/boot/vmlinu[zx]-<replaceable>kernel_string</replaceable>[.gz]</filename>。
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast kdump customkernel kernel=kdump
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast kdump customkernel
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>dumpformat</term>
      <listitem>
       <para>
        指定转储内核映像的（压缩）格式。可用格式有<quote>none</quote>、<quote>ELF</quote>、<quote>compressed</quote>或<quote>lzo</quote>：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast kdump dumpformat dump_format=ELF
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>dumplevel</term>
      <listitem>
       <para>
        指定转储级别，范围从 0 到 31：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast kdump dumplevel dump_level=24
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>dumptarget</term>
      <listitem>
       <para>
        指定用于保存转储映像的目标：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> kdump dumptarget target=ssh server=name_server port=22 \
 dir=/var/log/dump user=user_name
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast kdump dumptarget
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>immediatereboot</term>
      <listitem>
       <para>
        控制系统是否应在将核心保存到 Kdump 内核中后立即重引导：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast kdump immediatereboot enable
<prompt>&gt; </prompt><command>sudo</command> yast kdump immediatereboot disable
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>keepolddumps</term>
      <listitem>
       <para>
        指定保留旧转储映像的数量。可指定保留零个到全部保留：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast kdump keepolddumps no=5
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>kernelcommandline</term>
      <listitem>
       <para>
        指定需要传递到 kdump 内核的命令行：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast kdump kernelcommandline command="ro root=LABEL=/"
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>kernelcommandlineappend</term>
      <listitem>
       <para>
        指定需要<emphasis>追加</emphasis>到默认命令行字符串的命令行：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast kdump kernelcommandlineappend command="ro root=LABEL=/"
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>notificationcc</term>
      <listitem>
       <para>
        指定用于抄送通知邮件的电子邮件地址：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast kdump notificationcc email="user1@example.com user2@example.com"
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>notificationto</term>
      <listitem>
       <para>
        指定用于发送通知邮件的电子邮件地址：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast kdump notificationto email="user1@example.com user2@example.com"
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>show</term>
      <listitem>
       <para>
        显示 <systemitem>kdump</systemitem> 设置：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast kdump show
Kdump is disabled
Dump Level: 31
Dump Format: compressed
Dump Target Settings
target: file
file directory: /var/crash
Kdump immediate reboots: Enabled
Numbers of old dumps: 5
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>smtppass</term>
      <listitem>
       <para>
        指定含有用于发送通知邮件的纯文本 SMTP 口令的文件：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast kdump smtppass pass=/path/to/file
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>smtpserver</term>
      <listitem>
       <para>
        指定用于发送通知邮件的 SMTP 服务器主机名：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast kdump smtpserver server=smtp.server.com
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>smtpuser</term>
      <listitem>
       <para>
        指定用于发送通知邮件的 SMTP 用户名：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast kdump smtpuser user=smtp_user
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>startup</term>
      <listitem>
       <para>
        启用或禁用启动选项：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast kdump startup enable alloc_mem=128,256
<prompt>&gt; </prompt><command>sudo</command> yast kdump startup disable
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast keyboard</title>
    <para>
     配置虚拟控制台的系统键盘。它不会影响图形桌面环境（例如 GNOME 或 KDE）中的键盘设置。<command>yast keyboard</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>list</term>
      <listitem>
       <para>
        列出所有可用的键盘布局。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>set</term>
      <listitem>
       <para>
        激活新的键盘布局设置：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast keyboard set layout=czech
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>summary</term>
      <listitem>
       <para>
        显示当前的键盘配置。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast lan</title>
    <para>
     配置网卡。<command>yast lan</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>add</term>
      <listitem>
       <para>
        配置新网卡：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast lan add name=vlan50 ethdevice=eth0 bootproto=dhcp
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast lan add
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>delete</term>
      <listitem>
       <para>
        删除某个现有网卡：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast lan delete id=0
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>edit</term>
      <listitem>
       <para>
        更改某个现有网卡的配置：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast lan edit id=0 bootproto=dhcp
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>list</term>
      <listitem>
       <para>
        显示网卡配置摘要：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast lan list
id name,           bootproto
0 Ethernet Card 0, NONE
1 Network Bridge,  DHCP
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast language</title>
    <para>
     配置系统语言。<command>yast language</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>list</term>
      <listitem>
       <para>
        列出所有可用的语言。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>set</term>
      <listitem>
       <para>
        指定系统的主要语言和次要语言：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast language set lang=cs_CZ languages=en_US,es_ES no_packages
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast mail</title>
    <para>
     显示邮件系统的配置：
    </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast mail summary
</screen>
   </sect3>
   <sect3>
    <title>yast nfs</title>
    <para>
     控制 NFS 客户端。<command>yast nfs</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>add</term>
      <listitem>
       <para>
        添加新 NFS 载具：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nfs add spec=remote_host:/path/to/nfs/share file=/local/mount/point
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast nfs add help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>delete</term>
      <listitem>
       <para>
        删除现有的 NFS 载具：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nfs delete spec=remote_host:/path/to/nfs/share file=/local/mount/point
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast nfs delete help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>edit</term>
      <listitem>
       <para>
        更改现有的 NFS 载具：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nfs edit spec=remote_host:/path/to/nfs/share \
 file=/local/mount/point type=nfs4
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast nfs edit help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>list</term>
      <listitem>
       <para>
        列出现有的 NFS 载具：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nfs list
Server            Remote File System    Mount Point    Options
----------------------------------------------------------------
nfs.example.com   /mnt                  /nfs/mnt       nfs
nfs.example.com   /home/tux/nfs_share   /nfs/tux       nfs
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast nfs-server</title>
    <para>
     配置 NFS 服务器。<command>yast nfs-server</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>add</term>
      <listitem>
       <para>
        将目录添加到导出中：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nfs-server add mountpoint=/nfs/export hosts=*.allowed_hosts.com
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast nfs-server add help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>delete</term>
      <listitem>
       <para>
        从 NFS 导出中删除目录：
       </para>
<screen>
 <prompt>&gt; </prompt><command>sudo</command> yast nfs-server delete mountpoint=/nfs/export
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>set</term>
      <listitem>
       <para>
        指定 NFS 服务器的其他参数：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nfs-server set enablev4=yes security=yes
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast nfs-server set help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>start</term>
      <listitem>
       <para>
        启动 NFS 服务器服务：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nfs-server start
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>stop</term>
      <listitem>
       <para>
        停止 NFS 服务器服务：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nfs-server stop
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>summary</term>
      <listitem>
       <para>
        显示 NFS 服务器配置摘要：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nfs-server summary
NFS server is enabled
NFS Exports
* /mnt
* /home

NFSv4 support is enabled.
The NFSv4 domain for idmapping is localdomain.
NFS Security using GSS is enabled.
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast nis</title>
    <para>
     配置 NIS 客户端。<command>yast nis</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>configure</term>
      <listitem>
       <para>
        更改 NIS 客户端的全局设置：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nis configure server=nis.example.com broadcast=yes
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast nis configure
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>disable</term>
      <listitem>
       <para>
        禁用 NIS 客户端：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nis disable
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>enable</term>
      <listitem>
       <para>
        允许您的计算机作为 NIS 客户端：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nis enable server=nis.example.com broadcast=yes automounter=yes
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast nis enable help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>find</term>
      <listitem>
       <para>
        显示给定域的可用 NIS 服务器：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nis find domain=nisdomain.com
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>summary</term>
      <listitem>
       <para>
        显示 NIS 客户端的配置摘要。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast nis-server</title>
    <para>
     配置 NIS 服务器。<command>yast nis-server</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>master</term>
      <listitem>
       <para>
        配置 NIS 主服务器：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nis-server master domain=nisdomain.com yppasswd=yes
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast nis-server master help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>slave</term>
      <listitem>
       <para>
        配置 NIS 工作器服务器：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nis-server slave domain=nisdomain.com master_ip=10.100.51.65
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast nis-server slave help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>stop</term>
      <listitem>
       <para>
        停止 NIS 服务器：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nis-server stop
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>summary</term>
      <listitem>
       <para>
        显示 NIS 服务器配置摘要：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast nis-server summary
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast proxy</title>
    <para>
     配置代理设置。<command>yast proxy</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>authentication</term>
      <listitem>
       <para>
        指定代理的身份验证选项：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast proxy authentication username=tux password=secret
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast proxy authentication
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>enable、disable</term>
      <listitem>
       <para>
        启用或禁用代理设置。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>set</term>
      <listitem>
       <para>
        更改当前代理设置：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast proxy set https=proxy.example.com
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast proxy set help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>summary</term>
      <listitem>
       <para>
        显示代理设置。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast rdp</title>
    <para>
     控制远程桌面设置。<command>yast rdp</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>allow</term>
      <listitem>
       <para>
        允许远程访问服务器的桌面：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast rdp allow set=yes
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>list</term>
      <listitem>
       <para>
        显示远程桌面配置摘要。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>

   <sect3>
    <title>yast samba-client</title>
    <para>
     配置 Samba 客户端设置。<command>yast samba-client</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>configure</term>
      <listitem>
       <para>
        更改 Samba 的全局设置：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast samba-client configure workgroup=FAMILY
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>isdomainmember</term>
      <listitem>
       <para>
        检查计算机是否为域成员：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast samba-client isdomainmember domain=SMB_DOMAIN
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>joindomain</term>
      <listitem>
       <para>
        让计算机成为域成员：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast samba-client joindomain domain=SMB_DOMAIN user=username password=pwd
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>winbind</term>
      <listitem>
       <para>
        启用或禁用 Winbind 服务（<systemitem>winbindd</systemitem> 守护程序）：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast samba-client winbind enable
<prompt>&gt; </prompt><command>sudo</command> yast samba-client winbind disable
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast samba-server</title>
    <para>
     配置 Samba 服务器设置。<command>yast samba-server</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>backend</term>
      <listitem>
       <para>
        指定存储用户信息的后端：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast samba-server backend smbpasswd
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast samba-server backend help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>configure</term>
      <listitem>
       <para>
        配置 Samba 服务器的全局设置：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast samba-server configure workgroup=FAMILY description='Home server'
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast samba-server configure help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>list</term>
      <listitem>
       <para>
        显示可用共享列表：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast samba-server list
Status     Type Name
==============================
Disabled   Disk profiles
Enabled    Disk print$
Enabled    Disk homes
Disabled   Disk groups
Enabled    Disk movies
Enabled    Printer printers
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>role</term>
      <listitem>
       <para>
        指定 Samba 服务器的角色：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast samba-server role standalone
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast samba-server role help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>service</term>
      <listitem>
       <para>
        启用或禁用 Samba 服务（<systemitem>smb</systemitem> 和 <systemitem>nmb</systemitem>）：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast samba-server service enable
<prompt>&gt; </prompt><command>sudo</command> yast samba-server service disable
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>share</term>
      <listitem>
       <para>
        操作单个 Samba 共享：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast samba-server share name=movies browseable=yes guest_ok=yes
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast samba-server share help</command>。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast security</title>
    <para>
     控制主机的安全级别。<command>yast security</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>level</term>
      <listitem>
       <para>
        指定主机的安全级别：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast security level server
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast security level help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>set</term>
      <listitem>
       <para>
        设置特定选项的值：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast security set passwd=sha512 crack=yes
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast security set help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>summary</term>
      <listitem>
       <para>
        显示当前安全配置的摘要：
       </para>
<screen>
<command>sudo</command>yast security summary
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast sound</title>
    <para>
     配置声卡设置。<command>yast sound</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>add</term>
      <listitem>
       <para>
        配置新声卡。不使用任何参数时，该命令会添加检测到的第一个声卡。
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast sound add card=0 volume=75
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast sound add
        help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>channels</term>
      <listitem>
       <para>
        列出声卡的可用音量声道：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast sound channels card=0
Master 75
PCM 100
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>modules</term>
      <listitem>
       <para>
        列出所有可用的声音内核模块：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast sound modules
snd-atiixp ATI IXP AC97 controller (snd-atiixp)
snd-atiixp-modem ATI IXP MC97 controller (snd-atiixp-modem)
snd-virtuoso Asus Virtuoso driver (snd-virtuoso)
[...]
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>playtest</term>
      <listitem>
       <para>
        在声卡上播放测试声音：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast sound playtest card=0
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>remove</term>
      <listitem>
       <para>
        去除配置的声卡：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast sound remove card=0
<prompt>&gt; </prompt><command>sudo</command> yast sound remove all
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>set</term>
      <listitem>
       <para>
        为声卡指定新值：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast sound set card=0 volume=80
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>show</term>
      <listitem>
       <para>
        显示有关声卡的详细信息：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast sound show card=0
Parameters of card 'ThinkPad X240' (using module snd-hda-intel):

align_buffer_size
 Force buffer and period sizes to be multiple of 128 bytes.
bdl_pos_adj
 BDL position adjustment offset.
beep_mode
 Select HDA Beep registration mode (0=off, 1=on) (default=1).
 Default Value: 0
enable_msi
 Enable Message Signaled Interrupt (MSI)
[...]
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>summary</term>
      <listitem>
       <para>
        打印系统上所有声卡的配置摘要：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast sound summary
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>volume</term>
      <listitem>
       <para>
        指定声卡的音量级别：
       </para>
<screen>
<command>sudo</command>yast sound volume card=0 play
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast sysconfig</title>
    <para>
     控制 <filename>/etc/sysconfig</filename> 下的文件中的变量。<command>yast sysconfig</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>clear</term>
      <listitem>
       <para>
        为变量设置空值：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast sysconfig clear=POSTFIX_LISTEN
</screen>
       <tip>
        <title>多个文件中的变量</title>
        <para>
         如果变量可在多个文件中使用，请使用 <replaceable>VARIABLE_NAME</replaceable>$<replaceable>FILE_NAME</replaceable> 语法：
        </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast sysconfig clear=CONFIG_TYPE$/etc/sysconfig/mail
</screen>
       </tip>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>details</term>
      <listitem>
       <para>
        显示有关变量的详细信息：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast sysconfig details variable=POSTFIX_LISTEN
Description:
Value:
File: /etc/sysconfig/postfix
Possible Values: Any value
Default Value:
Configuration Script: postfix
Description:
 Comma separated list of IP's
 NOTE: If not set, LISTEN on all interfaces
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>list</term>
      <listitem>
       <para>
        显示已修改变量的摘要。使用 <command>all</command> 可列出所有变量及相应的值：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast sysconfig list all
AOU_AUTO_AGREE_WITH_LICENSES="false"
AOU_ENABLE_CRONJOB="true"
AOU_INCLUDE_RECOMMENDS="false"
[...]
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>set</term>
      <listitem>
       <para>
        为变量设置值：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast sysconfig set DISPLAYMANAGER=gdm
</screen>
       <tip>
        <title>多个文件中的变量</title>
        <para>
         如果变量可在多个文件中使用，请使用 <replaceable>VARIABLE_NAME</replaceable>$<replaceable>FILE_NAME</replaceable> 语法：
        </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast sysconfig set CONFIG_TYPE$/etc/sysconfig/mail=advanced
</screen>
       </tip>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast tftp-server</title>
    <para>
     配置 TFTP 服务器。<command>yast tftp-server</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>directory</term>
      <listitem>
       <para>
        指定 TFTP 服务器的目录：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast tftp-server directory path=/srv/tftp
<prompt>&gt; </prompt><command>sudo</command> yast tftp-server directory list
Directory Path: /srv/tftp
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>status</term>
      <listitem>
       <para>
        控制 TFTP 服务器服务的状态：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast tftp-server status disable
<prompt>&gt; </prompt><command>sudo</command> yast tftp-server status show
Service Status: false
<prompt>&gt; </prompt><command>sudo</command> yast tftp-server status enable
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast timezone</title>
    <para>
     配置时区。<command>yast timezone</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>list</term>
      <listitem>
       <para>
        按地区分组列出所有可用的时区：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast timezone list
Region: Africa
Africa/Abidjan (Abidjan)
Africa/Accra (Accra)
Africa/Addis_Ababa (Addis Ababa)
[...]
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>set</term>
      <listitem>
       <para>
        为时区配置指定新值：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast timezone set timezone=Europe/Prague hwclock=local
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>summary</term>
      <listitem>
       <para>
        显示时区配置摘要：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast timezone summary
Current Time Zone: Europe/Prague
Hardware Clock Set To: Local time
Current Time and Date: Mon 12. March 2018, 11:36:21 CET
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>yast users</title>
    <para>
     管理用户帐户。<command>yast users</command> 接受下列命令：
    </para>
    <variablelist>
     <varlistentry>
      <term>add</term>
      <listitem>
       <para>
        添加新用户：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast users add username=user1 password=secret home=/home/user1
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast users add help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>delete</term>
      <listitem>
       <para>
        删除现有用户帐户：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast users delete username=user1 delete_home
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast users delete help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>edit</term>
      <listitem>
       <para>
        更改现有用户帐户：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast users edit username=user1 password=new_secret
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast users edit help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>list</term>
      <listitem>
       <para>
        列出按用户类型过滤的现有用户：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast users list system
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast users list help</command>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>show</term>
      <listitem>
       <para>
        显示有关某个用户的细节：
       </para>
<screen>
<prompt>&gt; </prompt><command>sudo</command> yast users show username=wwwrun
Full Name: WWW daemon apache
List of Groups: www
Default Group: wwwrun
Home Directory: /var/lib/wwwrun
Login Shell: /sbin/nologin
Login Name: wwwrun
UID: 456
</screen>
       <para>
        要显示完整的选项列表，请运行 <command>yast users show help</command>。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
  </sect2>
 </sect1>
</chapter>
