<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_prep_power_preparing.xml" version="5.0" xml:id="cha.power.prep">
 <title>準備</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  本節說明實際安裝 SUSE Linux Enterprise Server 之前必須執行的準備步驟。安裝程序視所使用的系統而異。支援以下方法︰
 </para>

 <itemizedlist>
  <listitem>
   <para>
    <xref linkend="sec.prep.powerlinux.powerkvm.kimchi" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
  <listitem>
   <para>
    <xref linkend="sec.prep.powerlinux.powerkvm.virt-install" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
  <listitem>
   <para>
    <xref linkend="sec.prep.powerlinux.powerkvm.ivm" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
  <listitem>
   <para>
    <xref linkend="sec.prep.powerlinux.powerkvm.bare_metal" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
 </itemizedlist>

 <para>
  如果需要將 SUSE® Linux Enterprise Server 安裝於多個系統或分割區中，建議您建立網路安裝來源。相同來源亦可讓多個系統或分割區同時進行安裝。網路安裝來源組態的詳細資訊，請參閱 <xref linkend="sec.deployment.instserver.sles9"/>。
 </para>

 <sect2 version="5.0" xml:id="sec.prep.powerlinux.powerkvm.kimchi">
  <title>使用 Kimchi 在執行 IBM PowerKVM 的 伺服器上進行安裝</title>
  <para>
   本節介紹在執行 PowerKVM 的 IBM PowerLinux 系統上進行安裝之前的準備步驟。文中介紹了如何使用 Kimchi Web 介面從 ISO 影像進行安裝。Kimchi 是用於管理 IBM PowerKVM 的工具。
  </para>
  <para>
   本節假設您的 IBM PowerLinux 伺服器上正在執行 PowerKVM。如果未預先安裝 PowerKVM，請參閱 <link xlink:href="http://www.ibm.com/support/knowledgecenter/linuxonibm/liabp/liabpkickoff.htm"/> 上的<quote>Configuring IBM PowerKVM on Power Systems</quote>(在 Power Systems 上設定 IBM PowerKVM)，以瞭解如何安裝及設定 PowerKVM。
  </para>
  <sect3 xml:id="sec.prep.powerlinux.powerkvm.template">
   <title>使用 Kimchi 建立 SUSE Linux Enterprise Server 樣板</title>
   <para>
    樣板是 PowerKVM 客體的安裝來源。您可以建立樣板、編輯現有樣板或者複製樣板。若要從現有客體複製樣板，則必須停用該客體。
   </para>
   <procedure>
    <title>使用 Kimchi 建立樣板</title>
    <step>
     <para>
      在網頁瀏覽器中，輸入執行 PowerKVM 的 PowerLinux 伺服器的 URL，例如 <literal>https://<replaceable>POWERLINUX_IP</replaceable>:8001</literal> (將 <replaceable>POWERLINUX_IP</replaceable> 取代為您系統的 IP 位址)。
     </para>
    </step>
    <step>
     <para>
      按一下<guimenu>樣板</guimenu>索引標籤以啟動<guimenu>樣板</guimenu>頁面。
     </para>
    </step>
    <step>
     <para>
      按一下綠色加號 (<guimenu>+</guimenu>) 以建立 SUSE Linux Enterprise Server 樣板。
     </para>
    </step>
    <step>
     <para>
      在<guimenu>新增樣板</guimenu>對話方塊中，從以下選項中進行選取︰
     </para>
     <variablelist>
      <varlistentry>
       <term><guimenu>本地 ISO 影像</guimenu>
       </term>
       <listitem>
        <para>
         選取此項可掃描儲存池，檢查系統上是否提供安裝 ISO 影像。
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term><guimenu>本地影像檔</guimenu>
       </term>
       <listitem>
        <para>
         選取此項可指定本地影像檔的路徑。
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term><guimenu>遠端 ISO 檔案</guimenu>
       </term>
       <listitem>
        <para>
         選取此項可指定安裝 ISO 影像的遠端位置。
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
    </step>
    <step>
     <para>
      選取您要用於建立客體的 ISO 檔案，然後按一下<guimenu>從所選 ISO 建立樣板</guimenu>。
     </para>
    </step>
    <step>
     <para>
      若要設定新建的樣板，請按一下<menuchoice><guimenu>動作</guimenu>
      <guimenu>編輯</guimenu></menuchoice>，然後根據工作負載的需要變更預設值。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="kimchi_create_template.png" width="50%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="kimchi_create_template.png" width="50%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
   </procedure>
   <para>
    如需詳細資訊，請參閱 <link xlink:href="http://www.ibm.com/support/knowledgecenter/linuxonibm/liabp/liabpkimchitemplate.htm"/> 上的<quote>Setting up a template using Kimchi</quote>(使用 Kimchi 設定樣板)。
   </para>
  </sect3>
  <sect3 xml:id="sec.prep.powerlinux.powerkvm.install">
   <title>使用 Kimchi 安裝 SUSE Linux Enterprise Server 做為客體</title>
   <para/>
   <procedure>
    <step>
     <para>
      在網頁瀏覽器中，輸入執行 PowerKVM 的 PowerLinux 伺服器的 URL，例如 <literal>https://<replaceable>POWERLINUX_IP</replaceable>:8001</literal> (將 <replaceable>POWERLINUX_IP</replaceable> 取代為您系統的 IP 位址)。
     </para>
    </step>
    <step>
     <para>
      按一下<guimenu>客體</guimenu>索引標籤以啟動<guimenu>客體</guimenu>頁面。
     </para>
    </step>
    <step>
     <para>
      按一下綠色加號 (<guimenu>+</guimenu>) 以建立 SUSE Linux Enterprise Server 客體。
     </para>
    </step>
    <step>
     <para>
      輸入 SUSE Linux Enterprise Server 客體的<guimenu>虛擬機器名稱</guimenu>。
     </para>
     <para>
      選擇您在<xref linkend="sec.prep.powerlinux.powerkvm.template"/>中建立的 SUSE Linux Enterprise Server 樣板，然後按一下<guimenu>建立</guimenu>。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="kimchi_create_guest.png" width="70%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="kimchi_create_guest.png" width="70%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      客體建立以後，便可以將其啟動。按一下紅色電源按鈕啟動 SUSE Linux Enterprise Server 客體。您也可以選取<menuchoice><guimenu>動作</guimenu>
      <guimenu> 啟動</guimenu></menuchoice>。
     </para>
    </step>
    <step>
     <para>
      按一下<menuchoice><guimenu>動作</guimenu>
      <guimenu>連接</guimenu></menuchoice>，然後依<xref linkend="sec.deployment.remoteinst.monitor.vnc.connect"/>中所述，將 VNC 檢視器連接到安裝程序。
     </para>
    </step>
   </procedure>
   <tip>
    <title>建立多個客體</title>
    <para>
     要建立多個類似的客體，請從現有客體的<guimenu>動作</guimenu>功能表中選取<guimenu>複製</guimenu>。
    </para>
   </tip>
   <para>
    現在，您便可以透過 VNC 繼續執行預設安裝，如<xref linkend="sec.i.yast2.steps"/>中所述。
   </para>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.prep.powerlinux.powerkvm.virt-install">
  <title>
   使用 <command>virt-install</command> 在執行 IBM PowerKVM 的 伺服器上進行安裝
  </title>
  <para>
   您也可以使用 Kimchi 進行安裝，請使用 <command>virt-install</command> 指令行工具在執行 IBM PowerKVM 的伺服器上安裝。當您需要在 IBM PowerLinux Server 系統上安裝多台虛擬機器時，此方法特別有用。<command>virt-install</command> 支援多種安裝案例；下面概述了透過 VNC 和 PXE 開機進行的遠端安裝案例。如需有關 <command>virt-install</command> 的詳細資訊，請參閱<xref linkend="sec.libvirt.inst.virt-install"/>。
  </para>
  <para>
   依<xref linkend="sec.deployment.remoteinst.scenario.vncpxe"/>中所述，準備一個包含安裝來源的儲存庫，以及啟用了 PXE 開機的目標系統。
  </para>
  <para>
   在指令行中，輸入如下指令 (根據您的需要和硬體情況調整選項)︰
  </para>

<screen>virt-install --name server_sle12 --memory 4096 --vcpus=2 --pxe \
--graphics vnc --os-variant sles11 \
--disk pool=default,size=3000,format=qcow2,allocation=1G,bus=virtio \
-w mac=<replaceable>mac_address</replaceable>,model=spapr-vlan</screen>
  <para>
   它將使用 VNC 圖形，並自動啟動圖形用戶端。依照<xref linkend="sec.i.yast2.steps"/>中所述的步驟完成安裝。
  </para>
 </sect2>

 <sect2 xml:id="sec.prep.powerlinux.powerkvm.ivm">
  <title>
   使用 IVM 在分割區中安裝
  </title>
  <para>
   本指南可協助您使用整合式虛擬化管理員 (Integrated Virtualization Manager, IVM) Web 介面在 Power Systems 伺服器分割區上安裝 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。開始安裝前，請確定已滿足以下要求︰
  </para>
  <itemizedlist>
   <listitem>
    <para>
     Power 系統上的 Linux 已啟動
    </para>
   </listitem>
   <listitem>
    <para>
     虛擬 I/O 伺服器已安裝
    </para>
   </listitem>
   <listitem>
    <para>
     已在最初設定 IVM
    </para>
   </listitem>
  </itemizedlist>
  <procedure>
   <title>登入 IVM Web 介面。</title>
   <step>
    <para>
     開啟網頁瀏覽器視窗，然後使用 HTTP 或 HTTPS 通訊協定連接至在安裝過程中指定給 IVM 的 IP 位址 (例如 https://<replaceable>IP 位址</replaceable>)，即會顯示歡迎視窗。
    </para>
   </step>
   <step>
    <para>
     以使用者 <systemitem class="username">padmin</systemitem> 的身分登入，提供您在安裝過程中定義的密碼，即會顯示 IVM 介面。
    </para>
   </step>
   <step>
    <para>
     選取<guimenu>檢視/修改虛擬乙太網路</guimenu>。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>啟始化虛擬乙太網路</guimenu>，在各分割區之間提供乙太網路連接性。
    </para>
   </step>
   <step>
    <para>
     啟始化虛擬乙太網路後，按一下「套用」。
    </para>
   </step>
   <step>
    <para>
     如果您的安裝需要外部網路，請建立虛擬乙太網路橋接
    </para>
    <substeps>
     <step>
      <para>
       選取<guimenu>虛擬乙太網路橋接</guimenu>索引標籤。
      </para>
     </step>
     <step>
      <para>
       選取要建立橋接的實體介面卡，然後執行<guimenu>套用</guimenu>以繼續。
      </para>
     </step>
    </substeps>
   </step>
  </procedure>
  <para>接著，按以下步驟建立分割區︰</para>
  <procedure>
   <title>建立分割區</title>
   <step>
    <para>
     在 IVM Web 介面中，按一下<menuchoice><guimenu>檢視/修改分割區</guimenu> <guimenu> 建立分割區</guimenu></menuchoice>。
    </para>
   </step>
   <step>
    <para>
     輸入分割區的名稱。要前進至下一步，請在此步驟以及後續步驟中按一下<guimenu>下一步</guimenu>。
    </para>
   </step>
   <step>
    <para>
     指定分割區的記憶體。若您已建立共享的記憶體儲存池，則您的分割區可以共享記憶體。否則，請選取<guimenu>專用</guimenu>。
    </para>
   </step>
   <step>
    <para>
     指定處理器的數量以及分割區的處理模式。
    </para>
   </step>
   <step>
    <para>
     為分割區指定虛擬乙太網路。若您不想設定介面卡，請為虛擬乙太網路選取<guimenu>無</guimenu>。
    </para>
   </step>
   <step>
    <para>
     建立新的虛擬磁碟，或者指定目前未指定給分割區的現有虛擬磁碟與實體磁碟區。
    </para>
   </step>
   <step>
    <para>
     驗證您的磁碟的<guimenu>虛擬磁碟名稱</guimenu>與<guimenu>儲存池名稱</guimenu>，並指定<guimenu>虛擬磁碟大小</guimenu>。
    </para>
   </step>
   <step>
    <para>
     展開<guimenu>實體光學裝置</guimenu>與<guimenu>虛擬光學裝置</guimenu>並選取要指定給分割區的裝置，為您的分割區設定光學裝置。
    </para>
   </step>
   <step>
    <para>
     驗證您的分割區組態設定，然後按一下<guimenu>完成</guimenu>。這樣即會建立分割區，並且可從<guimenu>檢視/修改分割區</guimenu>清單中使用。
    </para>
   </step>
  </procedure>
  <para>現在啟用您已建立的分割區︰</para>
  <procedure>
   <title>啟用分割區</title>
   <step>
    <para>
     在 IVM Web 介面中，按一下<guimenu>檢視/修改分割區</guimenu>，然後選中您要啟用的分割區旁的方塊。
    </para>
   </step>
   <step>
    <para>
     選取<guimenu>更多任務</guimenu>。
    </para>
   </step>
   <step>
    <para>
     選取<guimenu>開啟終端機視窗</guimenu>。
    </para>
   </step>
   <step>
    <para>
     按一下分割區旁的<guimenu>啟用</guimenu>。
    </para>
   </step>
   <step>
    <para>
     在終端機視窗中，輸入 <keycap>1</keycap> 以啟動系統管理服務 (SMS)。
    </para>
   </step>
  </procedure>
  <para>
   機器現已設定完畢，您可以啟動安裝︰
  </para>
  <procedure>
   <title>啟動 Linux 安裝</title>
   <step>
    <para>
     在<guimenu>開機選項</guimenu>視窗中，輸入 <keycap>1</keycap> 以選取 <guimenu>SMS 功能表</guimenu>。在韌體啟動螢幕完全顯示之前輸入 <keycap>1</keycap>，因為完成之後該螢幕會消失。如果錯過該螢幕，請重新啟動系統。
    </para>
   </step>
   <step>
    <para>
     此時，您可以將虛擬 I/O 伺服器 (VIOS) 媒體磁碟插入到磁碟機中。
    </para>
   </step>
   <step>
    <para>
     輸入 <keycap>2</keycap>，繼續在<guimenu>語言選項</guimenu>功能表上輸入密碼。輸入管理員 ID 的密碼。
    </para>
   </step>
   <step>
    <para>
     在主 SMS 功能表上，輸入 <keycap>5</keycap> 以選擇<guimenu>選取開機選項</guimenu>。
    </para>
   </step>
   <step>
    <para>
     輸入 <keycap>1</keycap> 可選取<guimenu>安裝/啟動裝置</guimenu>。
    </para>
   </step>
   <step>
    <para>
     輸入 <keycap>7</keycap> 可檢視所有可用的開機裝置。
    </para>
   </step>
   <step>
    <para>
     輸入與您要使用的裝置相對應的數字。若您的裝置未列出，請輸入 <keycap>N</keycap> 以顯示更多裝置。
    </para>
   </step>
   <step>
    <para>
     輸入 <keycap>2</keycap> 可執行<guimenu>正常模式開機</guimenu>。
    </para>
   </step>
   <step>
    <para>
     輸入 <keycap>1</keycap> 可離開 SMS 功能表並啟動開機程序。
    </para>
   </step>
   <step>
    <para>
     在安裝程式的開機提示符處，鍵入
    </para>
    <screen>install vnc=1
vncpassword=<replaceable>VNC_PASSWORD</replaceable></screen>
    <para>
     使用您選擇的密碼 (長度至少為八個字元) 取代 <replaceable>VNC_PASSWORD</replaceable>，然後按 <keycap function="enter"/> 開始安裝 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。核心將開始載入。
    </para>
   </step>
  </procedure>
  <para>
   核心開始載入後，安裝程式需要來自系統的一些資訊，以便設定 VNC 工作階段。您必須擁有有效的 TCP/IP 堆疊才能使用 VNC。使用 DHCP，或依據安裝程式提供的指示手動定義您的網路資訊。
  </para>
  <procedure>
   <title>啟動 VNC 工作階段</title>
   <step>
    <para>
     在<guimenu>網路裝置</guimenu>視窗上，選取 <guimenu>eth0</guimenu> 做為您的網路裝置。選取<guimenu>確定</guimenu>，然後按 <keycap function="enter"/>.
    </para>
   </step>
   <step>
    <para>
     測試安裝媒體。您也可以選取<guimenu>跳過</guimenu>直接繼續，不執行測試。
    </para>
   </step>
   <step>
    <para>
     系統啟動 VNC 伺服器後，您將看到一則要求連接 VNC 用戶端的訊息，後面是一個 IP 位址。請記錄此 IP 位址。
    </para>
   </step>
   <step>
    <para>
     在您的筆記型電腦或個人電腦上啟動 VNC 用戶端。輸入上一步中的 IP 位址，後接 <literal>:1</literal>，例如 192.168.2.103:1。
    </para>
   </step>
   <step>
    <para>
     依照<xref linkend="sec.i.yast2.steps"/>中所述的步驟完成安裝。
    </para>
   </step>
  </procedure>
 </sect2>
 <sect2 xml:id="sec.prep.powerlinux.powerkvm.bare_metal">
  <title>
   在不含 Open Power 抽象層的伺服器上安裝
  </title>
  <para>
   使用此資訊透過序列主控台或監視器與鍵盤在 Power Systems 伺服器上安裝 Linux。此安裝假設不受管理 (獨立) 的系統已準備就緒，可以啟動。
  </para>
  <procedure>
   <step>
    <para>
     從<guimenu>啟動/關閉系統</guimenu>功能表中選取<guimenu>啟動</guimenu>以啟動您的系統。當系統詢問您是否繼續使用主控台時，請輸入 <keycap>0</keycap> 繼續此操作。
    </para>
   </step>
   <step>
    <para>
     將 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 安裝媒體插入到磁碟機中。
    </para>
   </step>
   <step>
    <para>
     從<guimenu>選取語言</guimenu>視窗中，輸入 <keycap>2</keycap> 繼續開機。
    </para>
   </step>
   <step>
    <para>
     輸入 <keycap>1</keycap> 接受授權合約。
    </para>
   </step>   <step>
    <para>
     在<guimenu>開機選項</guimenu>視窗中，輸入 <keycap>1</keycap> 以選取 <guimenu>SMS 功能表</guimenu>。在韌體啟動螢幕完全顯示之前輸入 <keycap>1</keycap>，因為完成之後該螢幕會消失。如果錯過該螢幕，請重新啟動系統。
    </para>
   </step>
   <step>
    <para>
     輸入 <keycap>2</keycap>，繼續在<guimenu>語言選項</guimenu>功能表上輸入密碼。輸入管理員 ID 的密碼。
    </para>
   </step>
   <step>
    <para>
     在主 SMS 功能表上，輸入 <keycap>5</keycap> 以選擇<guimenu>選取開機選項</guimenu>。
    </para>
   </step>
   <step>
    <para>
     輸入 <keycap>7</keycap> 可檢視所有可用的開機裝置。
    </para>
   </step>
   <step>
    <para>
     輸入與您要使用的裝置相對應的數字。若您的裝置未列出，請輸入 <keycap>N</keycap> 以顯示更多裝置。
    </para>
   </step>
   <step>
    <para>
     輸入 <keycap>2</keycap> 可執行<guimenu>正常模式開機</guimenu>。
    </para>
   </step>   <step>
    <para>
     輸入 <keycap>1</keycap> 可離開 SMS 功能表並啟動開機程序。
    </para>
   </step>
   <step>
    <para>
     在安裝程式的開機提示符處，鍵入
    </para>
    <screen>install vnc=1
vncpassword=<replaceable>VNC_PASSWORD</replaceable></screen>
    <para>
     使用您選擇的密碼 (長度至少為八個字元) 取代 <replaceable>VNC_PASSWORD</replaceable>，然後按 <keycap function="enter"/> 開始安裝 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。核心將開始載入。
    </para>
   </step>
  </procedure>

  <para>
   核心開始載入後，安裝程式需要來自系統的一些資訊，以便設定 VNC 工作階段。您必須擁有有效的 TCP/IP 堆疊才能使用 VNC。使用 DHCP，或依據安裝程式提供的指示手動定義您的網路資訊。
  </para>
  <procedure>
   <title>啟動 VNC 工作階段</title>
   <step>
    <para>
     在<guimenu>網路裝置</guimenu>視窗上，選取 <guimenu>eth0</guimenu> 做為您的網路裝置。選取<guimenu>確定</guimenu>，然後按 <keycap function="enter"/>.
    </para>
   </step>
   <step>
    <para>
     測試安裝媒體。您也可以選取<guimenu>跳過</guimenu>直接繼續，不執行測試。
    </para>
   </step>
   <step>
    <para>
     系統啟動 VNC 伺服器後，您將看到一則要求連接 VNC 用戶端的訊息，後面是一個 IP 位址。請記錄此 IP 位址。
    </para>
   </step>
   <step>
    <para>
     在您的筆記型電腦或個人電腦上啟動 VNC 用戶端。輸入上一步中的 IP 位址，後接 <literal>:1</literal>，例如 192.168.2.103:1。
    </para>
   </step>
   <step>
    <para>
     依照<xref linkend="sec.i.yast2.steps"/>中所述的步驟完成安裝。
    </para>
   </step>
  </procedure>
 </sect2>

</sect1>
