<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1
[
  <!ENTITY % entities SYSTEM "generic-entities.ent">
    %entities;
]>

<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="sec-suse-packages">
 <title>Information about special software packages</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker></dm:bugtracker>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  The following chapter provides basic information about the following tools:
  <systemitem class="resource">bash</systemitem>, <systemitem
  class="resource">logrotate</systemitem>, <systemitem
  class="resource">locate</systemitem>, <systemitem
  class="resource">ulimit</systemitem> and <systemitem
  class="resource">free</systemitem>.

 </para>

 <sect2 xml:id="sec-suse-packages-bash">
  <title>The <systemitem class="resource">bash</systemitem> package and <filename>/etc/profile</filename></title>
  <para>
   Bash is the default system shell. When used as a login shell, it reads
   several initialization files. Bash processes them in the order they appear
   in this list:
  </para>
  <orderedlist spacing="normal">
   <listitem>
    <para>
     <filename>/etc/profile</filename>
    </para>
   </listitem>
   <listitem>
    <para>
     <filename>~/.profile</filename>
    </para>
   </listitem>
   <listitem>
    <para>
     <filename>/etc/bash.bashrc</filename>
    </para>
   </listitem>
   <listitem>
    <para>
     <filename>~/.bashrc</filename>
    </para>
   </listitem>
  </orderedlist>
  <para>
   Make custom settings in <filename>~/.profile</filename> or
   <filename>~/.bashrc</filename>. To ensure the correct processing of these
   files, it is necessary to copy the basic settings from
   <filename>/etc/skel/.profile</filename> or
   <filename>/etc/skel/.bashrc</filename> into the home directory of the user.
   It is recommended to copy the settings from <filename>/etc/skel</filename>
   after an update. Execute the following shell commands to prevent the loss of
   personal adjustments:
  </para>
<screen>&prompt.user;mv ~/.bashrc ~/.bashrc.old
&prompt.user;cp /etc/skel/.bashrc ~/.bashrc
&prompt.user;mv ~/.profile ~/.profile.old
&prompt.user;cp /etc/skel/.profile ~/.profile</screen>
  <para>
   Then copy personal adjustments back from the <literal>*.old</literal> files.
  </para>
 </sect2>

 <xi:include href="suse_logfiles.xml"/>

 <sect2 xml:id="sec-suse-locate">
  <title>The <command>locate</command> command</title>
<!-- bnc#892484: mlocate since SLE 12 -->
  <para>
   <command>locate</command>, a command for quickly finding files, is not
   included in the standard scope of installed software. If desired, install
   the package <systemitem>mlocate</systemitem>, the successor of the package
   <systemitem>findutils-locate</systemitem>. The
   <systemitem class="daemon">updatedb</systemitem> process is started
   automatically every night or about 15&nbsp;minutes after booting the system.
  </para>
 </sect2>

 <sect2 xml:id="sec-suse-ulimit">
  <title>The <command>ulimit</command> command</title>
  <para>
   With the <command>ulimit</command> (<emphasis>user limits</emphasis>)
   command, it is possible to set limits for the use of system resources and to
   have these displayed. <command>ulimit</command> is especially useful for
   limiting available memory for applications. With this, an application can be
   prevented from co-opting too much of the system resources and slowing or
   even hanging up the operating system.
  </para>
  <para>
   <command>ulimit</command> can be used with various options. To limit memory
   usage, use the options listed in <xref linkend="tab-suse-packages-ulimit"/>.
  </para>
  <table xml:id="tab-suse-packages-ulimit">
   <title><command>ulimit</command>: Setting resources for the user</title>
<!-- Taken literally from the bash manpage. -ke- -->
   <tgroup cols="2">
    <tbody>
     <row>
      <entry>
       <para>
        <option>-m</option>
       </para>
      </entry>
      <entry>
       <para>
        The maximum resident set size
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>-v</option>
       </para>
      </entry>
      <entry>
       <para>
        The maximum amount of virtual memory available to the shell
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>-s</option>
       </para>
      </entry>
      <entry>
       <para>
        The maximum size of the stack
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>-c</option>
       </para>
      </entry>
      <entry>
       <para>
        The maximum size of core files created
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>-a</option>
       </para>
      </entry>
      <entry>
       <para>
        All current limits are reported
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
  <para>
   Systemwide default entries are set in <filename>/etc/profile</filename>.
   Editing this file directly is not recommended, because changes will be
   overwritten during system upgrades. To customize systemwide profile
   settings, use <filename>/etc/profile.local</filename>. Per-user settings
   should be made in
   <filename>~<replaceable>USER</replaceable>/.profile</filename>.
  </para>
  <example xml:id="ex-u-ulimit-bashrc">
   <title><command>ulimit</command>: Settings in <filename>~/.bashrc</filename></title>
<screen># Limits maximum resident set size (physical memory):
ulimit -m 98304

# Limits of virtual memory:
ulimit -v 98304</screen>
  </example>
  <para>
   Memory allocations must be specified in KB. For more detailed information,
   see <command>man bash</command>.
  </para>
  <important>
   <title><command>ulimit</command> support</title>
   <para>
    Not all shells support <command>ulimit</command> directives. PAM (for
    example, <literal>pam_limits</literal>) offers comprehensive adjustment
    possibilities as an alternative to <command>ulimit</command>.
   </para>
  </important>
 </sect2>

 <sect2 xml:id="sec-suse-free">
  <title>The <command>free</command> command</title>
  <para>
   The <command>free</command> command displays the total amount of free and
   used physical memory and swap space in the system and the buffers and
   cache consumed by the kernel. The concept of <emphasis>available
   RAM</emphasis> dates back to before the days of unified memory management.
   The slogan <emphasis>free memory is bad memory</emphasis> applies well to
   Linux. As a result, Linux has always made the effort to balance out caches
   without allowing free or unused memory.
  </para>
  <para>
   The kernel does not have direct knowledge of any applications or user data.
   Instead, it manages applications and user data in a <emphasis>page
   cache</emphasis>. If memory runs short, parts of it are written to the swap
   partition or to files, from which they can initially be read using the
   <command>mmap</command> command (see <command>man mmap</command>).
  </para>
  <para>
   The kernel also contains other caches, such as the <emphasis>slab
   cache</emphasis>, where the caches used for network access are stored. This
   may explain the differences between the counters in
   <filename>/proc/meminfo</filename>. Most, but not all, of them can be
   accessed via <filename>/proc/slabinfo</filename>.
  </para>
  <para>
   However, if your goal is to find out how much RAM is currently being used,
   find this information in <filename>/proc/meminfo</filename>.
  </para>
 </sect2>

 <sect2 xml:id="sec-suse-manpages">
  <title>Man pages and info pages</title>
  <para>
   For some GNU applications (such as tar), the man pages are no longer
   maintained. For these commands, use the <option>--help</option> option to
   get a quick overview of the info pages, which provide more in-depth
   instructions. Info
<!-- it's a product name; so capitalize it -ke- -->
   is GNU's hypertext system. Read an introduction to this system by entering
   <command>info</command> <option>info</option>. Info pages can be viewed with
   Emacs by entering <command>emacs</command> <option>-f info</option> or
   directly in a console with <command>info</command>. You can also use tkinfo,
   xinfo or the help system to view info pages.
  </para>
 </sect2>

<!-- bnc#442262 -->

 <sect2 xml:id="sec-suse-packages-man">
  <title>Selecting man pages using the <command>man</command> command</title>
  <para>
   To read a man page enter <command>man</command>
   <replaceable>MAN_PAGE</replaceable>. If a man page with the same name exists
   in different sections, they will all be listed with the corresponding
   section numbers. Select the one to display. If you do not enter a section
   number within a few seconds, the first man page will be displayed.
  </para>
  <para>
   To change this to the default system behavior, set
   <literal>MAN_POSIXLY_CORRECT=1</literal> in a shell initialization file such
   as <filename>~/.bashrc</filename>.
  </para>
 </sect2>

 <xi:include href="suse_emacs.xml"/>
</sect1>
