<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_prep_boot.xml" version="5.0" role="General" xml:id="cha.deployment.prep_boot">
 <title>準備目標系統的啟動</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  可以使用不同的方法安裝 <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase>。除了<xref linkend="cha.inst"/>中介紹的常見媒體安裝方式外，也可以選擇使用各種基於網路的方式，甚至採用完全自動的方式來安裝 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。
 </para>
 <para>
  將透過兩個簡短的核對清單來介紹每一個方法：一個列出該方法的先決條件，另一個則說明基本程序。接著將介紹每種安裝方式所使用的所有技術詳細資訊。
 </para>
 <note>
  <title>術語</title>
  <para>
   以下幾節中將要存放新安裝之 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的系統稱為<emphasis>目標系統</emphasis>或<emphasis>安裝目標</emphasis>。<emphasis>儲存庫</emphasis> (以前稱為<quote>安裝來源</quote>) 這個名詞則是用來表示所有安裝資料的來源。其中包括實體媒體 (例如 CD 和 DVD) 以及您網路中發佈安裝資料的網路伺服器。
  </para>
 </note>
 <para>
  本節內容會介紹各種複雜開機方式的組態任務。其中包含 DHCP、PXE 啟動、TFTP 和網路喚醒等現成的組態。
 </para>
 <sect1 xml:id="sec.deployment.prep_boot.dhcp">
  <title>設定 DHCP 伺服器</title>

  <para>
   有兩種方法可設定 DHCP 伺服器。YaST 為 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 提供了一個圖形介面來處理這項工作。使用者還可以手動編輯組態檔案。<phrase os="sles">如需有關 DHCP 伺服器的詳細資訊，另請參閱<xref linkend="cha.dhcp"/>。</phrase>
  </para>

  <sect2 xml:id="sec.deployment.prep_boot.dhcp.yast">
   <title>使用 YaST 設定 DHCP 伺服器</title>
   <para>
    若要對網路用戶端宣告 TFTP 伺服器的位置，並指定安裝目標應使用的開機影像檔案，請在您的 DHCP 伺服器組態中新增兩個宣告。
   </para>
   <procedure xml:id="proc.deployment.prep_boot.dhcp.yast">
    <step>
     <para>
      以 <systemitem class="username">root</systemitem> 身分登入代管 DHCP 伺服器的機器。
     </para>
    </step>
    <step>
     <para>
      啟動<menuchoice><guimenu>YaST</guimenu> <guimenu>網路服務</guimenu> <guimenu>DHCP 伺服器</guimenu></menuchoice>。
     </para>
    </step>
    <step>
     <para>
      完成基本 DHCP 伺服器設定的設定精靈。
     </para>
    </step>
    <step xml:id="st.deployment.prep_boot.dhcp.yast.expert">
     <para>
      選取<guimenu>進階設定</guimenu>，並在出現即將離開啟動對話方塊的警告時，選取<guimenu>是</guimenu>。
     </para>
    </step>
    <step>
     <para>
      在<guimenu>設定的宣告</guimenu>對話方塊中，選取新系統所在位置的子網路，並按一下<guimenu>編輯</guimenu>。
     </para>
    </step>
    <step>
     <para>
      在<guimenu>子網路組態</guimenu>對話方塊中，選取<guimenu>新增</guimenu>將新選項新增到子網路的組態中。
     </para>
    </step>
    <step>
     <para>
      選取 <option>filename</option>，並輸入 <literal>pxelinux.0</literal> 做為值。
     </para>
    </step>
    <step>
     <para>
      新增另一個選項 (<option>next-server</option>)，將它的值設為 TFTP 伺服器的位址。
     </para>
    </step>
    <step>
     <para>
      選取<guimenu>確定</guimenu>和<guimenu>完成</guimenu>以完成 DHCP 伺服器組態。
     </para>
    </step>
   </procedure>
   <para>
    若要將 DHCP 設定成為特定主機提供靜態 IP 位址，請進入 DHCP 伺服器組態模組 (<xref linkend="st.deployment.prep_boot.dhcp.yast.expert" xrefstyle="StepOnPage"/>) 的<guimenu>進階設定</guimenu>，並新增主機類型的新宣告。在這個主機宣告中新增 <option>hardware</option> 和 <option>fixed-address</option> 選項，並提供適當的值。
   </para>
  </sect2>

  <sect2 xml:id="sec.deployment.prep_boot.dhcp.man">
   <title>手動設定 DHCP 伺服器</title>
   <para>
    除了為網路用戶端提供自動位址配置外，DHCP 伺服器需要執行的所有工作就是宣告 TFTP 伺服器的 IP 位址，以及目標機器上的安裝常式需要拉進的檔案。
   </para>
   <procedure xml:id="proc.deployment.prep_boot.dhcp.man">
    <step>
     <para>
      以 <systemitem class="username">root</systemitem> 身分登入代管 DHCP 伺服器的機器。
     </para>
    </step>
    <step>
     <para>
      將以下幾行附加到 <filename>/etc/dhcpd.conf</filename> 下之 DHCP 伺服器組態檔案的子網路組態︰
     </para>
<screen>subnet 192.168.1.0 netmask 255.255.255.0 {
  range dynamic-bootp 192.168.1.200 192.168.1.228;
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <replaceable>ip_tftp_server</replaceable>;
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename  "pxelinux.0";
}</screen>
     <para>
      將 <replaceable>ip_of_the_tftp_server</replaceable> 取代成 TFTP 伺服器的實際 IP 位置。如需更多 <filename>dhcpd.conf</filename> 中可用選項的詳細資訊，請參閱 <systemitem>dhcpd.conf</systemitem> man 頁面。
     </para>
    </step>
    <step>
     <para>
      執行 <command>systemctl restart dhcpd</command> 重新啟動 DHCP 伺服器。
     </para>
    </step>
   </procedure>
   <para>
    如果您計畫使用 SSH 來遠端控制 PXE 和網路喚醒功能安裝，請明確指定 DHCP 應提供給安裝目標的 IP 位址。若要這麼做，請根據以下範例修改上述 DHCP 組態：
   </para>
<screen>group {
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <replaceable>ip_tftp_server</replaceable>:
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename "pxelinux.0";
  host test {
    hardware ethernet <replaceable>mac_address</replaceable>;
    fixed-address <replaceable>some_ip_address</replaceable>;
    }
}
</screen>
   <para>
    host 陳述式會引入安裝目標的主機名稱。若要結合特定主機的主機名稱和 IP 位址，您必須瞭解並指定系統的硬體 (MAC) 位址。將此範例中的所有變數取代成符合您環境的實際值。
   </para>
   <para>
    重新啟動 DHCP 伺服器後，它將向所指定的主機提供一個靜態 IP，讓您能透過 SSH 連接到該系統。
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.tftp">
  <title>設定 TFTP 伺服器</title>

  <para>
   如果使用基於 SUSE 的安裝，您可以使用 YaST 來設定 TFTP 伺服器。另外還可以進行手動設定。每當目標系統開機時，TFTP 伺服器即會傳送開機影像至目標系統，並傳送對目標系統的要求。
  </para>

  <sect2 xml:id="sec.deployment.prep_boot.tftp.yast">
   <title>使用 YaST 設定 TFTP 伺服器</title>
   <procedure xml:id="proc.deployment.prep_boot.tftp.yast">
    <step>
     <para>
      以 <systemitem class="username">root</systemitem> 身分登入。
     </para>
    </step>
    <step>
     <para>
      依序啟動 <menuchoice><guimenu>YaST</guimenu><guimenu>網路服務</guimenu><guimenu>TFTP 伺服器</guimenu></menuchoice>，並安裝所需套件。
     </para>
    </step>
    <step>
     <para>
      按一下<guimenu>啟用</guimenu>，確定伺服器已經啟動，並已包含至開機常式。為安全起見，xinetd 在開機時啟動 tftpd 時，您不需執行任何動作。
     </para>
    </step>
    <step>
     <para>
      按一下<guimenu>在防火牆中開啟埠</guimenu>，開啟在您機器上運作中防火牆的適當連接埠。如果您的伺服器上沒有執行任何防火牆，就無法使用此選項。
     </para>
    </step>
    <step>
     <para>
      按一下<guimenu>瀏覽</guimenu>，瀏覽開機影像目錄。此時系統將建立並自動選取預設目錄 <filename>/tftpboot</filename>。
     </para>
    </step>
    <step>
     <para>
      按一下<guimenu>完成</guimenu>便可套用您的設定，並啟動伺服器。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec.deployment.prep_boot.tftp.man">
   <title>手動設定 TFTP 伺服器</title>
   <procedure xml:id="proc.deployment.prep_boot.tftp.man">
    <step>
     <para>
      以 <systemitem class="username">root</systemitem> 身分登入，並安裝 <systemitem>tftp</systemitem> 和 <systemitem>xinetd</systemitem> 套件。
     </para>
    </step>
    <step>
     <para>
      若無法安裝，請建立 <filename>/srv/tftpboot</filename> 和 <filename>/srv/tftpboot/pxelinux.cfg</filename> 目錄。
     </para>
    </step>
    <step>
     <para>
      接著，請加入開機影像需要的正確檔案，詳細步驟說明請參閱<xref linkend="sec.deployment.prep_boot.pxe"/>。
     </para>
    </step>
    <step>
     <para>
      修改位於 <filename>/etc/xinetd.d</filename> 下的 xinetd 組態，以確保開機時會啟動 TFTP 伺服器：
     </para>
     <substeps performance="required">
      <step>
       <para>
        如果 xinetd 不存在，請使用 <filename>touch tftp</filename>，在此目錄下建立一個名為 <command>tftp</command> 的檔案。接著執行 <command>chmod 755 tftp</command>。
       </para>
      </step>
      <step>
       <para>
        開啟檔案 <filename>tftp</filename>，並新增以下內容：
       </para>
<screen>service tftp
{
        socket_type            = dgram
        protocol               = udp
        wait                   = yes
        user                   = root
        server                 = /usr/sbin/in.tftpd
        server_args            = -s /srv/tftpboot
        disable                = no
}
</screen>
      </step>
      <step>
       <para>
        儲存檔案，並使用 <command>systemctl restart xinetd</command> 重新啟動 xinetd。
       </para>
      </step>
     </substeps>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxe">
  <title>使用 PXE 開機</title>

  <para>
   如需取得一些技術背景資訊和 PXE 的完整規格，請參閱 <link xlink:href="http://www.pix.net/software/pxeboot/archive/pxespec.pdf"/> 上的「Preboot Execution Environment (PXE) Specification」(開機前執行環境 (PXE) 規格)。
  </para>

  <procedure xml:id="proc.deployment.prep_boot.pxe">
   <step>
    <para>
     輸入以下指令，以變更安裝儲存庫的目錄 <filename>boot/&lt;architecture&gt;/loader</filename>，並將 <filename>linux</filename>、<filename>initrd</filename>、<filename>message</filename>、<filename>biostest</filename> 及 <filename>memtest</filename> 檔案複製到 <filename>/srv/tftpboot</filename> 目錄：
    </para>
<screen>cp -a linux initrd message biostest memtest /srv/tftpboot</screen>
   </step>
   <step>
    <para>
     使用包含 YaST 的 DVD，直接安裝 <systemitem>syslinux</systemitem> 套件。
    </para>
   </step>
   <step>
    <para>
     輸入以下指令，將 <filename>/usr/share/syslinux/pxelinux.0</filename> 檔案複製到 <filename>/srv/tftpboot</filename> 目錄：
    </para>
<screen>cp -a /usr/share/syslinux/pxelinux.0 /srv/tftpboot
     </screen>
   </step>
   <step>
    <para>
     輸入以下指令，切換至安裝儲存庫的目錄，並將 <filename>isolinux.cfg</filename> 檔案複製到 <filename>/srv/tftpboot/pxelinux.cfg/default</filename>：
    </para>
<screen>cp -a boot/&lt;architecture&gt;/loader/isolinux.cfg /srv/tftpboot/pxelinux.cfg/default
     </screen>
   </step>
   <step>
    <para>
     編輯 <filename>/srv/tftpboot/pxelinux.cfg/default</filename> 檔案，移除以 <literal>readinfo</literal> 和 <literal>framebuffer</literal> 開頭的幾行文字。
    </para>
   </step>
   <step>
    <para>

     接著，在預設的 <option>failsafe</option> 和 <option>apic</option> 標籤附加行中，插入下面項目：
    </para>
    <variablelist>
     <varlistentry>
      <term><option>insmod=<replaceable>kernel module</replaceable></option>
      </term>
      <listitem>
       <para>
        插入這個項目之後，便可進入 PXE 用戶端上支援網路安裝所需的網路核心模組。以網路裝置適當的模組名稱取代 <replaceable>kernel module</replaceable>。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><option>netdevice=<replaceable>interface</replaceable></option>
      </term>
      <listitem>
       <para>
        這個項目可定義網路安裝時必須使用的用戶端網路介面。只有當用戶端配有數張網路卡時才必須插入這個項目，而且必須視情況修改項目內容。如果只有使用一張網路卡，就可以省略這個項目。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
<option>install=nfs://<replaceable>安裝伺服器 IP</replaceable>/<replaceable>儲存庫路徑</replaceable>/DVD1</option>
      </term>
      <listitem>
       <para>
        此項目定義用戶端安裝時所用的 NFS 伺服器和儲存庫。將<replaceable>安裝伺服器 IP</replaceable> 取代成安裝伺服器的實際 IP 位址。<replaceable>儲存庫路徑</replaceable>應取代成儲存庫的實際路徑。HTTP、FTP 或 SMB 儲存庫皆以類似方法指定位址，只不過通訊協定字首應分別使用 <literal>http</literal>、<literal>ftp</literal> 或 <literal>smb</literal>。
       </para>
       <important>
        <title>新增開機選項</title>
        <para>
         如果您需要傳送其他開機選項給安裝來源，例如 SSH 或 VNC 開機參數，那麼請將這些參數附加到 <option>install</option> 項目。您可以參考 <xref linkend="sec.deployment.remoteinst.bootinst"/>，以取得參數綜覽和一些範例。
        </para>
       </important>
      </listitem>
     </varlistentry>
    </variablelist>
    <tip>
     <title>變更核心與 initrd 的檔案名稱</title>
     <para>
      核心與 initrd 影像可以使用不同的檔案名稱。如果希望透過同一開機伺服器提供不同的作業系統，此功能將非常有用。但是，您應當注意，由 TFTP 提供用於 PXE 開機的檔案名稱中只允許包含一個點。
     </para>
    </tip>
    <para>
     以下將介紹 <option>/srv/tftpboot/pxelinux.cfg/default</option> 範例檔案。調整儲存庫的通訊協定字首以與您的網路設定相符，接著將 <literal>vnc</literal> 和 <literal>VNCPassword</literal> 或 <literal>ssh</literal> 和 <literal>ssh.password</literal> 選項新增到 <literal>install</literal> 項目中，以指定連接到安裝程式的偏好方式。這幾行內容會以 <literal>\</literal> 分隔，而且應該是連續一行，中間不可斷行，也不能使用 <literal>\</literal>。
    </para>
<screen>default harddisk

# default
label linux
  kernel linux
  append initrd=initrd ramdisk_size=65536 \
     install=nfs://<replaceable>ip_instserver</replaceable>/<replaceable>path_to_repository</replaceable>/<replaceable>product</replaceable>/DVD1

# repair
label repair
  kernel linux
  append initrd=initrd splash=silent repair=1 showopts

# rescue
label rescue
  kernel linux
  append initrd=initrd ramdisk_size=65536 rescue=1

# bios test
label firmware
  kernel linux
  append initrd=biostest,initrd splash=silent install=exec:/bin/run_biostest showopts

#  memory test
label memtest
  kernel memtest

#  hard disk
label harddisk
  localboot 0

implicit     0
display      message
prompt       1
timeout      100</screen>
   </step>
   <step>
    <para>
     將<replaceable>安裝伺服器 IP</replaceable> 和<replaceable>儲存庫路徑</replaceable>取代成在您設定中所使用的值。
    </para>
    <para>
     下節內容可作為此設定中所使用的 PXELINUX 選項的簡短參考。如需更多可用選項的資訊，請參閱 <filename>/usr/share/doc/packages/syslinux/</filename> 中的 <systemitem>syslinux</systemitem> 套件說明文件。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxeopts">
  <title>PXELINUX 組態選項</title>

  <para>
   此處列出的選項為 PXELINUX 組態檔案中所有可用選項的子集合。
  </para>

  <variablelist>
   <varlistentry>
    <term><option>APPEND <replaceable>選項... </replaceable></option>
    </term>
    <listitem>
     <para>
      將一或多個選項新增至核心指令行。自動和手動開機都將加入這些選項。選項會新增在核心指令行的開頭位置，通常您只要明確輸入核心選項，便可覆寫這些選項。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>APPEND -</option>
    </term>
    <listitem>
     <para>
      不附加任何項目。在 <option>LABEL</option> 區段中做為引數且包含單一連字號的 <option>APPEND</option>，可以用來覆寫全域的 <option>APPEND</option>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>DEFAULT <replaceable>kernel options</replaceable>...</option>
    </term>
    <listitem>
     <para>
      設定預設的核心指令行。當 PXELINUX 是自動啟動，則該選項的作用相當於在啟動提示處輸入了在 DEFAULT 後輸入的所有內容 (表示自動啟動的 auto 選項除外，它是自動新增的)。
     </para>
     <para>
      如果目前沒有組態檔案，或者組態檔案中未定義 DEFAULT 項目，則預設使用不包含任何選項的核心名稱 <quote>linux</quote>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><option>IFAPPEND <replaceable>旗標</replaceable></option>
    </term>
    <listitem>
     <para>
      根據<replaceable>旗標</replaceable>值將特定選項新增至核心指令行。<option>IFAPPEND</option> 選項僅適用於 PXELINUX。<replaceable>旗標</replaceable>需要一個值，如<xref linkend="tab.deployment.boot.pxeopts.ifappend"/> 中所述。
     </para>
     <table xml:id="tab.deployment.boot.pxeopts.ifappend">
      <title>從 <option>IFAPPEND</option> 產生和新增的核心指令行選項</title>
      <tgroup cols="2">
       <colspec colwidth="1*"/>
       <colspec colwidth="4*"/>
       <thead>
        <row>
         <entry valign="middle">
          <para>
           引數
          </para>
         </entry>
         <entry>
          <para>
           產生的核心指令行/描述
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>
          <para>
           <option>1</option>
          </para>
         </entry>
         <entry>
<screen>ip=<replaceable>CLIENT_IP</replaceable>:<replaceable>BOOT_SERVER_IP</replaceable>:<replaceable>GW_IP</replaceable>:<replaceable>NETMASK</replaceable></screen>
          <para>
           預留位置根據 DHCP/BOOTP 或 PXE 開機伺服器中的輸入加以取代。
          </para>
          <para>
           請注意，此選項並非在已開機系統中執行 DHCP 用戶端的替代項。如果不進行定期更新，PXE BIOS 取得的租用將會過期，使得該 IP 位址可供 DHCP 伺服器重複使用。
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>2</option>
          </para>
         </entry>
         <entry>
<screen>BOOTIF=<replaceable>MAC_ADDRESS_OF_BOOT_INTERFACE</replaceable></screen>
          <para>
           如果您要在安裝伺服器上逐一查探 LAN 介面，直到取得 DHCP 伺服器的回覆時以避免逾時，此選項非常有用。使用此選項可讓 initrd 程式決定系統是從哪個介面開機的。linuxrc 會讀取此選項並使用此網路介面。
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>4</option>
          </para>
         </entry>
         <entry>
<screen>SYSUUID=<replaceable>SYSTEM_UUID</replaceable></screen>
          <para>
           新增採用小寫十六進位的 UUID，請參閱 <filename>/usr/share/doc/packages/syslinux/pxelinux.txt</filename>
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </table>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LABEL <replaceable>label</replaceable> KERNEL <replaceable>image</replaceable> APPEND <replaceable>options</replaceable>...</option>
    </term>
    <listitem>
     <para>
      指示是否要將輸入的 <replaceable>label</replaceable> 當做核心來開機，或是應該讓 PXELINUX 從 <replaceable>image</replaceable> 開機；以及是否要使用指定 <option>APPEND</option> 選項，而不是使用該檔案全域區段 (在第一個 <option>LABEL</option> 指令的前面) 中指定的選項。<replaceable>image</replaceable> 的預設值與 <replaceable>label</replaceable> 相同，而且如果沒有指定 <option>APPEND</option>，就會預設使用全域項目 (如果有的話)。您最多可輸入 128 個 <option>LABEL</option> 項目。
     </para>

     <para>
      PXELINUX 使用以下語法：
     </para>
<screen>label <replaceable>mylabel</replaceable>
  kernel <replaceable>mykernel</replaceable>
  append <replaceable>myoptions</replaceable></screen>
     <para>
      系統會將標籤當成檔案名稱一樣截斷，截斷後，它們必須是唯一的。舉例來說，<quote>v2.6.30</quote> 和 <quote>v2.6.31</quote> 這兩個標籤在 PXELINUX 中將無法區分，因為它們都會截斷成相同的 DOS 檔案名稱。
     </para>
     <para>
      核心不一定要是 Linux 核心，它可以是開機磁區或 COMBOOT 檔案。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LOCALBOOT <replaceable>類型</replaceable></option>
    </term>
    <listitem>
     <para>
      在 PXELINUX 上，指定 <option>LOCALBOOT 0</option> 而不指定 <option>KERNEL</option> 選項，表示要呼叫此特定標籤，並會使用本地磁碟開機，而不使用核心開機。
     </para>
     <informaltable frame="topbot" rowsep="0">
      <tgroup cols="2">

       <thead>
        <row>
         <entry colname="1">
          <para>
           引數
          </para>
         </entry>
         <entry colname="2">
          <para>
           描述
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry colname="1">
          <para>
           <literal>0</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           執行正常開機
          </para>
         </entry>
        </row>
        <row>
         <entry colname="1">
          <para>
           <literal>4</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           使用仍常駐在記憶體中的「通用網路驅動程式介面」(Universal Network Driver Interface, UNDI) 執行本地開機。
          </para>
         </entry>
        </row>
        <row>
         <entry colname="1">
          <para>
           <literal>5</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           使用仍常駐在記憶體中完整的 PXE 堆疊 (包括 UNDI 驅動程式) 執行本地開機。
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </informaltable>
     <para>
      其他所有值都未定義。如果您對 UNDI 或 PXE 堆疊不甚瞭解，請指定 <literal>0</literal>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>TIMEOUT <replaceable>time-out</replaceable></option>
    </term>
    <listitem>
     <para>
      指示在開機提示等待自動開機的時間長度，單位為 1/10 秒。若使用者在鍵盤上按下任何一個鍵，就會取消逾時，前提是假設使用者會完成已開始的指令。如果逾時時間設為 0，則會完全停用逾時功能 (此設定值亦為預設值)。可能的最大逾時值為 35996 (小於一小時)。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>PROMPT<replaceable> flag_val</replaceable></option>
    </term>
    <listitem>
     <para>
      如果 <option>flag_val</option> 為 0，只有在按下 <keycap function="shift"/> 或 <keycap function="alt"/>，或者已設定 <keycap>Caps Lock</keycap> 或 <keycap>Scroll Lock</keycap> 時才會顯示開機提示 (此設定值為預設值)。如果 <option>flag_val</option> 為 1，則永遠會顯示開機提示。
     </para>
<screen>F2  <replaceable>filename</replaceable>
F1  <replaceable>filename</replaceable>
..etc...
F9  <replaceable>filename</replaceable>
F10 <replaceable>filename</replaceable></screen>
     <para>
      可在開機提示下按下功能鍵時，於螢幕畫面上顯示指定的檔案。這可用來執行開機前線上說明 (可能是針對核心指令行選項)。如果是使用較早版本的反向相容，<keycap>F10</keycap> 也可以當作 <literal>F0</literal> 輸入。請注意，目前還無法將檔案名稱繫結至 <keycap>F11</keycap> 和 <keycap>F12</keycap>。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxeprep">
  <title>準備用於 PXE 啟動的目標系統</title>

  <para>
   請在 BIOS 開機順序中包含 PXE 選項，以便準備 PXE 開機的系統 BIOS。
  </para>

  <warning>
   <title>BIOS 開機順序</title>
   <para>
    請勿將 PXE 選項置於 BIOS 硬碟開機選項之前。否則，此系統會在您每次開機時嘗試重新安裝系統。
   </para>
  </warning>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wolprep">
  <title>準備用於網路喚醒功能的目標系統</title>

  <para>
   您需要使用適當的 BIOS 選項才可在安裝前啟用網路喚醒 (WOL) 功能。另外，請記下目標系統的 MAC 位址。啟動網路喚醒功能時將會用到此資料。
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wol">
  <title>區域網路喚醒</title>

  <para>
   「網路喚醒功能」可藉由包含機器 MAC 位址的特定網路封包來開機。因為世界上的每台機器都有一個獨一無二的 MAC 識別碼，所以您不必擔心會不小心開啟錯誤的機器。
  </para>

  <important>
   <title>跨越不同網路區段的網路喚醒功能</title>
   <para>
    如果控制機器與喚醒安裝目標的位置不在同一個網路區段，請將要傳送的 WOL 要求設定為多重廣播，或者遠端控制網路區段上傳送這些要求的機器。
   </para>
  </important>

  <para>
   SUSE Linux Enterprise Server 的使用者可以使用名為 WOL 的 YaST 模組輕鬆設定網路喚醒功能。其他 SUSE Linux 版本作業系統的使用者則可以使用指令行工具。
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wolyast">
  <title>使用 YaST 設定網路喚醒功能</title>

  <procedure xml:id="proc.deployment.prep_boot.wolyast">
   <step>
    <para>
     以 <systemitem class="username">root</systemitem> 身分登入。
    </para>
   </step>
   <step>
    <para>
     啟動<menuchoice><guimenu>YaST</guimenu> <guimenu>網路服務</guimenu> <guimenu>WOL</guimenu></menuchoice>。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>新增</guimenu>，並輸入目標系統的主機名稱和 MAC 位址。
    </para>
   </step>
   <step>
    <para>
     若要開啟此機器，請選取適當的項目，並按一下<guimenu>喚醒</guimenu>。
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
