<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="sle_update_finish.xml" version="5.0" xml:id="cha-upgrade-finish">
 <title>Finalización de la actualización</title>
 <info>
  <abstract>
   <para>
    Después de la actualización, debe realizar algunas tareas adicionales. El siguiente capítulo le guiará a través de estos pasos.
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 
 <sect1 xml:id="sec-upgrade-postupgrade-checks">
  <title>Comprobaciones posteriores a la actualización</title>
  <itemizedlist>
   <listitem>
    <para>
     Compruebe si hay <quote>paquetes huérfanos</quote>. Durante un procedimiento de actualización, los paquetes se pueden renombrar, eliminar, combinar o dividir. Como resultado, algunos paquetes pueden quedar huérfanos y dejar de ser compatibles. Los paquetes huérfanos no se eliminan automáticamente. El comando siguiente proporciona una lista de estos paquetes:
    </para>
<screen><prompt>&gt; </prompt><command>zypper packages --orphaned --unneeded</command></screen>
    <para>
     Utilice la lista para determinar qué paquetes siguen siendo necesarios y qué paquetes se pueden eliminar de forma segura.
    </para>
   </listitem>
   <listitem>
    <para>
     Compruebe si hay archivos <filename>*.rpmnew</filename> y <filename>*.rpmsave</filename>, examine su contenido y combine los cambios deseados. Si una actualización incluye cambios en un archivo de configuración por defecto, en lugar de sobrescribir el archivo de configuración, el paquete creará uno de estos tipos de archivos. El archivo <filename>*.rpmnew</filename> incluye la nueva configuración por defecto y no toca el archivo original, pero <filename>*.rpmsave</filename> es una copia de la configuración original que se ha sustituido por el nuevo archivo por defecto.
    </para>
    <para>
     No es necesario buscar en todo el sistema si hay archivos <filename>*.rpmnew</filename> y <filename>*.rpmsave</filename>; los más importantes se guardan en el directorio <filename>/etc</filename>. Utilice el siguiente comando para mostrarlos:
    </para>
<screen><prompt>&gt; </prompt><command>find /etc/ -name "*.rpmnew" -o -name "*.rpmsave"</command></screen>
   </listitem>
  </itemizedlist>
 </sect1>

 
 <sect1 xml:id="sec-upgrade-finish-python3">
  <title>Habilitación del módulo <literal>Python 3</literal></title>
  <para>
   <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 15 utiliza Python 3.6 por defecto. Como alternativa más reciente, en <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 15 SP3 se añadió Python 3.9. Esta versión ya no se admite a partir de <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 15 SP4. En su lugar, las versiones recientes de Python con actualizaciones importantes y correcciones de seguridad están disponibles a través del módulo <literal>Python 3</literal>.
  </para>
  <para>
   Si ha instalado Python 3.9 en <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 15 SP3, habilite el módulo <literal>Python 3</literal> con:
  </para>
<screen><prompt>&gt; </prompt><command>sudo</command> <command>SUSEConnect -p sle-module-python3/15.4/<replaceable>x86_64</replaceable></command>&#x002E;</screen>
  <para>
   Como alternativa, puede volver a la versión por defecto de Python eliminando la versión 3.9 con <command>zypper remove -u python39</command>.
  </para>
 </sect1>

 <sect1 xml:id="sec-upgrade-finish-xfs4">
  <title>Reformateo de dispositivos XFS v4</title>
  <para>
   <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> admite el <quote>formato en disco</quote> (v5) del sistema de archivos XFS. Las principales ventajas de este formato son las sumas de comprobación automáticas de todos los metadatos de XFS, la compatibilidad con tipos de archivos y la compatibilidad con un mayor número de listas de control de acceso para un archivo.
  </para>
  <para>
   Tenga en cuenta que este formato no es compatible con los núcleos de SUSE Linux Enterprise anteriores a la versión 3.12, con <literal>xfsprogs</literal> anterior a la versión 3.2.0 y con versiones de GRUB 2 anteriores a SUSE Linux Enterprise 12.
  </para>
  <important>
   <title>V4 ya no se admite</title>
   <para>
    XFS está abandonando los sistemas de archivos con el formato V4. Este formato de sistema de archivos se creó con el comando:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> mkfs.xfs -m crc=0 <replaceable>DEVICE</replaceable></screen>
   <para>
    El formato se utilizó en SLE 11 y versiones anteriores, y actualmente crea un mensaje de advertencia de <command>dmesg</command>:
   </para>
<screen>Deprecated V4 format (crc=0) will not be supported after September 2030</screen>
   <para>
    Si ve el mensaje anterior como resultado del comando <command>dmesg</command>, se recomienda que actualice el sistema de archivos al formato V5:
   </para>
   <procedure>
    <step>
     <para>
      Realice una copia de seguridad de los datos en otro dispositivo.
     </para>
    </step>
    <step>
     <para>
      Cree el sistema de archivos en el dispositivo.
     </para>
<screen><prompt>&gt; </prompt><command>sudo</command> mkfs.xfs -m crc=1 <replaceable>DEVICE</replaceable></screen>
    </step>
    <step>
     <para>
      Restaure los datos de la copia de seguridad en el dispositivo actualizado.
     </para>
    </step>
   </procedure>
  </important>
 </sect1>
</chapter>
