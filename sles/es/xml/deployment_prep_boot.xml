<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_prep_boot.xml" version="5.0" role="General" xml:id="cha.deployment.prep_boot">
 <title>Preparación del arranque del sistema de destino</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>sí</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> se puede instalar de varias formas. Además de la instalación habitual a partir de un medio, descrita en el <xref linkend="cha.inst"/>, es posible seleccionar diversos métodos basados en red, o incluso utilizar un método sin intervención física alguna para instalar <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>.
 </para>
 <para>
  Cada método se presenta mediante dos breves listas de verificación: una que muestra los requisitos previos necesarios para el método y otra que describe el procedimiento básico. A continuación se incluyen más detalles de las técnicas utilizadas en cada situación de instalación.
 </para>
 <note>
  <title>Terminología</title>
  <para>
   En las próximas secciones, el sistema que almacenará la nueva instalación de <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> se denomina <emphasis>sistema de destino</emphasis> o <emphasis>destino de la instalación</emphasis>. El término <emphasis>repositorio</emphasis> (anteriormente denominado <quote>origen de instalación</quote> se utiliza para todos los orígenes de datos de instalación. Esto incluye medios físicos, tales como CD y DVD, y los servidores de red que distribuyan los datos de instalación en la red.
  </para>
 </note>
 <para>
  En esta sección se describen las tareas de configuración necesarias en entornos de arranque complejos. Contiene ejemplos de configuración listos para usar para DHCP, arranque en PXE, TFTP y Wake on LAN.
 </para>
 <sect1 xml:id="sec.deployment.prep_boot.dhcp">
  <title>Configuración de un servidor DHCP</title>

  <para>
   Existen dos formas de configurar un servidor DHCP. Para <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, YaST proporciona una interfaz gráfica para el proceso. Los usuarios tienen también la posibilidad de editar los archivos de configuración.<phrase os="sles"> Para obtener más información acerca de los servidores DHCP, consulte también el <xref linkend="cha.dhcp"/>.</phrase>
  </para>

  <sect2 xml:id="sec.deployment.prep_boot.dhcp.yast">
   <title>Configuración de un servidor DHCP con YaST</title>
   <para>
    Para indicar la ubicación del servidor TFTP a los clientes de la red y especificar el archivo de imagen de arranque que debe usar el destino de instalación, añada dos declaraciones a la configuración del servidor DHCP.
   </para>
   <procedure xml:id="proc.deployment.prep_boot.dhcp.yast">
    <step>
     <para>
      Inicie sesión como usuario <systemitem class="username">Root</systemitem> en la máquina que aloje el servidor DHCP.
     </para>
    </step>
    <step>
     <para>
      Inicie <menuchoice><guimenu>YaST</guimenu><guimenu>Servicios de red</guimenu><guimenu>Servidor DHCP</guimenu></menuchoice>.
     </para>
    </step>
    <step>
     <para>
      Siga los pasos del asistente para realizar una configuración básica del servidor DHCP.
     </para>
    </step>
    <step xml:id="st.deployment.prep_boot.dhcp.yast.expert">
     <para>
      Seleccione <guimenu>Configuración avanzada</guimenu> y pulse <guimenu>Sí</guimenu> cuando se le indique que va a salir del recuadro de diálogo de inicio.
     </para>
    </step>
    <step>
     <para>
      En el recuadro de diálogo <guimenu>Declaraciones configuradas,</guimenu> seleccione la subred en la que se debe ubicar el nuevo sistema y haga clic en <guimenu>Editar.</guimenu>
     </para>
    </step>
    <step>
     <para>
      En el recuadro de diálogo <guimenu>Configuración de subred,</guimenu> seleccione <guimenu>Añadir</guimenu> para añadir una opción nueva a la configuración de la subred.
     </para>
    </step>
    <step>
     <para>
      Seleccione <option>filename</option> y escriba <literal>pxelinux.0</literal> como nombre de archivo.
     </para>
    </step>
    <step>
     <para>
      Indique cuál debe ser el siguiente servidor (<option>next-server</option>) y establezca como valor la dirección del servidor TFTP.
     </para>
    </step>
    <step>
     <para>
      Haga clic en <guimenu>Aceptar</guimenu> y en <guimenu>Finalizar</guimenu> para completar la configuración del servidor DHCP.
     </para>
    </step>
   </procedure>
   <para>
    Para configurar DHCP con objeto de proporcionar una dirección IP estática para un host específico, indique la <guimenu>Configuración avanzada</guimenu> del módulo de configuración del servidor DHCP (<xref linkend="st.deployment.prep_boot.dhcp.yast.expert" xrefstyle="StepOnPage"/>) y añada una declaración nueva del tipo de host. Añada las opciones <option>hardware</option> y <option>fixed-address</option> a la declaración de este host y proporcione los valores oportunos para el hardware y la dirección fija, respectivamente.
   </para>
  </sect2>

  <sect2 xml:id="sec.deployment.prep_boot.dhcp.man">
   <title>Configuración manual de un servidor DHCP</title>
   <para>
    Todo lo que necesita hacer el servidor DHCP, además de ofrecer asignación de direcciones automática a los clientes de la red, es anunciar la dirección IP del servidor TFTP y el archivo que las rutinas de instalación del equipo de destino deben obtener.
   </para>
   <procedure xml:id="proc.deployment.prep_boot.dhcp.man">
    <step>
     <para>
      Inicie sesión como usuario <systemitem class="username">Root</systemitem> en la máquina que aloje el servidor DHCP.
     </para>
    </step>
    <step>
     <para>
      Añada las siguientes líneas a una configuración de subred del archivo de configuración del servidor DHCP que se encuentra en <filename>/etc/dhcp.conf</filename>:
     </para>
<screen>subnet 192.168.1.0 netmask 255.255.255.0 {
  range dynamic-bootp 192.168.1.200 192.168.1.228;
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <replaceable>ip_tftp_server</replaceable>;
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename  "pxelinux.0";
}</screen>
     <para>
      Sustituya <replaceable>ip_tftp_server</replaceable> con la dirección IP real del servidor TFTP. Para obtener más información acerca las opciones disponibles en <filename>dhcpd.conf</filename>, consulte la página de Man de <systemitem>dhcpd.conf</systemitem>.
     </para>
    </step>
    <step>
     <para>
      Para reiniciar el servidor DHCP, ejecute el comando <command>systemctl restart dhcpd</command>.
     </para>
    </step>
   </procedure>
   <para>
    Si tiene previsto utilizar SSH para controlar remotamente una instalación PXE y Wake on LAN, especifique explícitamente la dirección IP que DHCP debe suministrar al destino de la instalación. Para ello, modifique la configuración DHCP antes mencionada de acuerdo con el siguiente ejemplo:
   </para>
<screen>group {
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <replaceable>ip_tftp_server</replaceable>:
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename "pxelinux.0";
  host test {
    hardware ethernet <replaceable>mac_address</replaceable>;
    fixed-address <replaceable>some_ip_address</replaceable>;
    }
}
</screen>
   <para>
    La declaración del host incluye el nombre del host del destino de la instalación. Para vincular el nombre de host y la dirección IP con un host determinado, es necesario conocer y especificar la dirección de hardware del sistema (MAC). Sustituya todas las variables utilizadas en este ejemplo por los valores reales correspondientes a su entorno.
   </para>
   <para>
    Una vez reiniciado el servidor DHCP, ofrecerá una dirección IP estática al host especificado, lo que permitirá conectarse al sistema mediante SSH.
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.tftp">
  <title>Configuración de un servidor TFTP</title>

  <para>
   Si usa una instalación basada en SUSE, puede usar YaST para configurar un servidor TFTP. También puede configurarlo manualmente. El servidor TFTP proporciona la imagen de arranque al sistema de destino después de que este arranque y envía una solicitud para ello.
  </para>

  <sect2 xml:id="sec.deployment.prep_boot.tftp.yast">
   <title>Configuración de un servidor TFTP mediante YaST</title>
   <procedure xml:id="proc.deployment.prep_boot.tftp.yast">
    <step>
     <para>
      Entre a la sesión como usuario <systemitem class="username">root</systemitem>.
     </para>
    </step>
    <step>
     <para>
      Inicie <menuchoice><guimenu>YaST</guimenu><guimenu>Servicios de red</guimenu><guimenu>Servidor TFTP</guimenu></menuchoice> e instale el paquete necesario.
     </para>
    </step>
    <step>
     <para>
      Haga clic en <guimenu>Habilitar</guimenu> para asegurarse de que el servidor se inicie y se incluya en las rutinas de arranque. No es necesaria ninguna otra intervención por su parte para ello. xinetd inicia tftpd en el momento del arranque.
     </para>
    </step>
    <step>
     <para>
      Haga clic en <guimenu>Puerto abierto en el cortafuegos</guimenu> para abrir el puerto correspondiente en el cortafuegos que se esté ejecutando en la máquina. Si no hay ningún cortafuegos en ejecución en el servidor, está opción no estará disponible.
     </para>
    </step>
    <step>
     <para>
      Haga clic en <guimenu>Examinar</guimenu> para explorar el directorio de la imagen de arranque. Se creará y se seleccionará automáticamente el directorio por defecto <filename>/tftpboot</filename>.
     </para>
    </step>
    <step>
     <para>
      Haga clic en <guimenu>Finalizar</guimenu> para aplicar la configuración e iniciar el servidor.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec.deployment.prep_boot.tftp.man">
   <title>Configuración manual de un servidor TFTP</title>
   <procedure xml:id="proc.deployment.prep_boot.tftp.man">
    <step>
     <para>
      Inicie sesión como usuario <systemitem class="username">Root</systemitem> e instale los paquetes <systemitem>tftp</systemitem> y <systemitem>xinetd</systemitem>.
     </para>
    </step>
    <step>
     <para>
      Si no están disponibles, cree los directorios <filename>/srv/tftpboot</filename> y <filename>/srv/tftpboot/pxelinux.cfg</filename>.
     </para>
    </step>
    <step>
     <para>
      Añada los archivos correspondientes necesarios para la imagen de arranque como se describe en la <xref linkend="sec.deployment.prep_boot.pxe"/>.
     </para>
    </step>
    <step>
     <para>
      Modifique la configuración de xinetd, que se encuentra en <filename>/etc/xinetd.d/</filename>, para asegurarse de que el servidor TFTP se inicie durante el arranque:
     </para>
     <substeps performance="required">
      <step>
       <para>
        Si no existe, cree un archivo de nombre <filename>tftp</filename> en este directorio mediante <command>touch tftp</command>. A continuación, ejecute <command>chmod 755 tftp</command>.
       </para>
      </step>
      <step>
       <para>
        Abra el archivo <filename>tftp</filename> y añada las siguientes líneas:
       </para>
<screen>service tftp
{
        socket_type            = dgram
        protocol               = udp
        wait                   = yes
        user                   = root
        server                 = /usr/sbin/in.tftpd
        server_args            = -s /srv/tftpboot
        disable                = no
}
</screen>
      </step>
      <step>
       <para>
        Guarde el archivo y reinicie xinetd con <command>systemctl restart xinetd</command>.
       </para>
      </step>
     </substeps>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxe">
  <title>Uso del arranque PXE</title>

  <para>
   En las especificaciones de Preboot Execution Environment (PXE), disponibles en <link xlink:href="http://www.pix.net/software/pxeboot/archive/pxespec.pdf"/>, se incluye información técnica básica y las especificaciones completas de PXE.
  </para>

  <procedure xml:id="proc.deployment.prep_boot.pxe">
   <step>
    <para>
     Cambie al directorio <filename>boot/&lt;arquitectura&gt;/loader</filename> del repositorio de instalación y copie los archivos <filename>linux</filename>, <filename>initrd</filename>, <filename>message</filename>, <filename>biostest</filename> y <filename>memtest</filename> en el directorio <filename>/srv/tftpboot</filename> introduciendo lo siguiente:
    </para>
<screen>cp -a linux initrd message biostest memtest /srv/tftpboot</screen>
   </step>
   <step>
    <para>
     Instale el paquete <systemitem>syslinux</systemitem> directamente desde los DVD de instalación con YaST.
    </para>
   </step>
   <step>
    <para>
     Copie el archivo <filename>/usr/share/syslinux/pxelinux.0</filename> en el directorio <filename>/srv/tftpboot</filename> introduciendo lo siguiente:
    </para>
<screen>cp -a /usr/share/syslinux/pxelinux.0 /srv/tftpboot
     </screen>
   </step>
   <step>
    <para>
     Cambie al directorio del repositorio de la instalación y copie el archivo <filename>isolinux.cfg</filename> en <filename>/srv/tftpboot/pxelinux.cfg/default</filename> introduciendo lo siguiente:
    </para>
<screen>cp -a boot/&lt;architecture&gt;/loader/isolinux.cfg /srv/tftpboot/pxelinux.cfg/default
     </screen>
   </step>
   <step>
    <para>
     Edite el archivo <filename>/srv/tftpboot/pxelinux.cfg/default</filename> y elimine las líneas que empiecen por <literal>readinfo</literal> y <literal>framebuffer</literal>.
    </para>
   </step>
   <step>
    <para>

     Añada las siguientes entradas en las líneas append de las etiquetas por defecto <option>failsafe</option> y <option>apic</option>:
    </para>
    <variablelist>
     <varlistentry>
      <term><option>insmod=<replaceable>módulo del núcleo</replaceable></option>
      </term>
      <listitem>
       <para>
        Mediante esta entrada, especifique el módulo del núcleo de red necesario para realizar la instalación de red en el cliente PXE. Sustituya <replaceable>módulo del núcleo</replaceable> por el nombre del módulo adecuado para su dispositivo de red.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><option>netdevice=<replaceable>interfaz</replaceable></option>
      </term>
      <listitem>
       <para>
        Esta entrada define la interfaz de red del cliente que debe utilizarse para la instalación en red. Solo es necesaria si el cliente dispone de varias tarjetas de red y debe adaptarse en consecuencia. En el caso de que solo se disponga de una tarjeta de red, esta entrada debe omitirse.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
<option>install=nfs://<replaceable>ip_instserver</replaceable>/<replaceable>path_to_repository</replaceable>/DVD1</option>
      </term>
      <listitem>
       <para>
        Esta entrada define el servidor NFS y el repositorio para la instalación del cliente. Sustituya <replaceable>ip_instserver</replaceable> por la dirección IP real del servidor de instalación. <replaceable>path_to_repository</replaceable> se debe sustituir por la vía real al repositorio. Las direcciones de los repositorios HTTP, FTP y SMB son similares, excepto en el prefijo del protocolo, que debe ser <literal>http</literal>, <literal>ftp</literal> o <literal>smb</literal>.
       </para>
       <important>
        <title>adición de opciones de arranque</title>
        <para>
         Si necesita pasar otras opciones de arranque a las rutinas de instalación, tales como parámetros de inicio de VNC o SSH, añádalas a la entrada <option>install</option>. En la <xref linkend="sec.deployment.remoteinst.bootinst"/> se ofrece un resumen de los parámetros y algunos ejemplos.
        </para>
       </important>
      </listitem>
     </varlistentry>
    </variablelist>
    <tip>
     <title>cambio del nombre del núcleo y del archivo initrd</title>
     <para>
      Se pueden utilizar nombres de archivo distintos para las imágenes del núcleo y de initrd. Esto resulta útil si se desea proporcionar distintos sistemas operativos desde el mismo servidor de arranque. Sin embargo, debe ser consciente de que solo se admite un punto en el nombre de los archivos que proporciona TFTP para el arranque PXE.
     </para>
    </tip>
    <para>
     A continuación se incluye un ejemplo de archivo <option>/srv/tftpboot/pxelinux.cfg/default</option>. Ajuste el prefijo del protocolo del repositorio para que se corresponda con la configuración de la red y especifique el método que prefiera para conectarse al instalador añadiendo las opciones <literal>vnc</literal> y <literal>VNCPassword</literal> o las opciones <literal>ssh</literal> y <literal>ssh.password</literal> en la entrada <literal>install</literal>. Las líneas separadas por <literal>\</literal> deben introducirse en una sola línea, sin salto de línea y sin <literal>\</literal>.
    </para>
<screen>default harddisk

# default
label linux
  kernel linux
  append initrd=initrd ramdisk_size=65536 \
     install=nfs://<replaceable>ip_instserver</replaceable>/<replaceable>path_to_repository</replaceable>/<replaceable>product</replaceable>/DVD1

# repair
label repair
  kernel linux
  append initrd=initrd splash=silent repair=1 showopts

# rescue
label rescue
  kernel linux
  append initrd=initrd ramdisk_size=65536 rescue=1

# bios test
label firmware
  kernel linux
  append initrd=biostest,initrd splash=silent install=exec:/bin/run_biostest showopts

#  memory test
label memtest
  kernel memtest

#  hard disk
label harddisk
  localboot 0

implicit     0
display      message
prompt       1
timeout      100</screen>
   </step>
   <step>
    <para>
     Sustituya <replaceable>ip_instserver</replaceable> y <replaceable>path_to_repository</replaceable> por los valores correspondientes a su configuración.
    </para>
    <para>
     La siguiente sección sirve como breve referencia de las opciones de PXELINUX utilizadas en esta configuración. Hay más información sobre las opciones disponibles en la documentación del paquete <systemitem>syslinux</systemitem> que se encuentra en <filename>/usr/share/doc/packages/syslinux/</filename>.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxeopts">
  <title>Opciones de configuración de PXELINUX</title>

  <para>
   A continuación aparecen algunas de las opciones disponibles para el archivo de configuración de PXELINUX.
  </para>

  <variablelist>
   <varlistentry>
    <term><option>APPEND <replaceable>opciones... </replaceable></option>
    </term>
    <listitem>
     <para>
      Añada una o más opciones a la línea de comandos del núcleo. Éstas se añaden para arranques automáticos y manuales. Las opciones se añaden al principio de la línea de comandos del núcleo, y normalmente admiten que las opciones del núcleo introducidas explícitamente las anulen.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>APPEND -</option>
    </term>
    <listitem>
     <para>
      Sin nada añadido. Se puede utilizar <option>APPEND</option> con un solo guion como argumento en una sección <option>LABEL</option> para anular un valor de <option>APPEND</option> global.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>DEFAULT <replaceable>opciones del núcleo</replaceable>...</option>
    </term>
    <listitem>
     <para>
      Establece la línea de comandos del núcleo por defecto. Si PXELINUX arranca de manera automática, actúa como si las entradas posteriores a DEFAULT se hubieran escrito en el indicador de inicio, excepto la opción auto que se añade de manera automática, lo que indica un arranque automático.
     </para>
     <para>
      Si no hay ningún archivo de configuración o ninguna entrada DEFAULT definida en el archivo de configuración, el valor por defecto es el nombre del núcleo <quote>linux</quote>, sin opciones.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><option>IFAPPEND <replaceable>FLAG</replaceable></option>
    </term>
    <listitem>
     <para>
      Añade una opción específica a la línea de comando del núcleo dependiendo del valor de <replaceable>FLAG</replaceable>. La opción <option>IFAPPEND</option> solo está disponible en PXELINUX. <replaceable>FLAG</replaceable> espera un valor, descrito en <xref linkend="tab.deployment.boot.pxeopts.ifappend"/>:
     </para>
     <table xml:id="tab.deployment.boot.pxeopts.ifappend">
      <title>Opciones de líneas de comandos del núcleo generadas y añadidas desde <option>IFAPPEND</option></title>
      <tgroup cols="2">
       <colspec colwidth="1*"/>
       <colspec colwidth="4*"/>
       <thead>
        <row>
         <entry valign="middle">
          <para>
           Argumento
          </para>
         </entry>
         <entry>
          <para>
           Línea de comando del núcleo generada/Descripción
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>
          <para>
           <option>1</option>
          </para>
         </entry>
         <entry>
<screen>ip=<replaceable>CLIENT_IP</replaceable>:<replaceable>BOOT_SERVER_IP</replaceable>:<replaceable>GW_IP</replaceable>:<replaceable>NETMASK</replaceable></screen>
          <para>
           Los espacios reservados se reemplazan según la entrada del servidor de arranque DHCP/BOOTP o PXE.
          </para>
          <para>
           Tenga en cuenta que esta opción no sustituye a la ejecución de un cliente DHCP en el sistema arrancado. Sin renovaciones regulares, la asignación adquirida por el BIOS PXE caducará, con lo que la dirección IP vuelve a estar disponible para que la reutilice el servidor DHCP.
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>2</option>
          </para>
         </entry>
         <entry>
<screen>BOOTIF=<replaceable>MAC_ADDRESS_OF_BOOT_INTERFACE</replaceable></screen>
          <para>
           Esta opción resulta útil si quiere evitar interrupciones cuando el servidor de instalación sondea una interfaz LAN tras otra hasta que recibe respuesta de un servidor DHCP. El uso de esta opción permite que un programa initrd determine desde qué interfaz se ha arrancado el sistema. linuxrc lee esta opción y utiliza la interfaz de red.
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>4</option>
          </para>
         </entry>
         <entry>
<screen>SYSUUID=<replaceable>SYSTEM_UUID</replaceable></screen>
          <para>
           Añade UUID en formato hexadecimal en minúscula, ver <filename>/usr/share/doc/packages/syslinux/pxelinux.txt</filename>
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </table>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LABEL <replaceable>etiqueta</replaceable> KERNEL <replaceable>imagen</replaceable> APPEND <replaceable>opciones</replaceable>...</option>
    </term>
    <listitem>
     <para>
      Indica que si se introduce <replaceable>etiqueta</replaceable> como el núcleo que se debe arrancar, PXELINUX debe arrancar <replaceable>imagen</replaceable> en su lugar y utilizar las opciones <option>APPEND</option> especificadas en lugar de las indicadas en el apartado global del archivo (antes del primer comando <option>LABEL</option>). El valor por defecto de <replaceable>imagen</replaceable> es el mismo que <replaceable>label</replaceable> y, si no se introduce ningún <option>APPEND</option>, el valor por defecto consiste en utilizar la entrada global (si hubiera alguna). Se permiten hasta 128 entradas <option>LABEL</option>.
     </para>

     <para>
      PXELINUX utiliza la siguiente sintaxis:
     </para>
<screen>label <replaceable>mylabel</replaceable>
  kernel <replaceable>mykernel</replaceable>
  append <replaceable>myoptions</replaceable></screen>
     <para>
      Las etiquetas se truncan como si fueran nombres de archivo, y deben ser únicas después del truncamiento. Por ejemplo, dos etiquetas como <quote>v2.6.30</quote> y <quote>v2.6.31</quote> no podrán distinguirse en PXELINUX, ya que ambas se truncan con el mismo nombre de archivo de DOS.
     </para>
     <para>
      No es necesario que el núcleo sea un núcleo de Linux; puede ser un sector de arranque o un archivo COMBOOT.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LOCALBOOT <replaceable>tipo</replaceable></option>
    </term>
    <listitem>
     <para>
      En PXELINUX, especificar <option>LOCALBOOT 0</option> en lugar de una opción de <option>KERNEL</option> significa la invocación de esa etiqueta en particular y provoca un arranque del disco local en lugar de un arranque del núcleo.
     </para>
     <informaltable frame="topbot" rowsep="0">
      <tgroup cols="2">

       <thead>
        <row>
         <entry colname="1">
          <para>
           Argumento
          </para>
         </entry>
         <entry colname="2">
          <para>
           Descripción
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry colname="1">
          <para>
           <literal>0</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           Realiza un arranque normal
          </para>
         </entry>
        </row>
        <row>
         <entry colname="1">
          <para>
           <literal>4</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           Realiza un arranque local con el controlador Universal Network Driver Interface (UNDI) aún residente en memoria
          </para>
         </entry>
        </row>
        <row>
         <entry colname="1">
          <para>
           <literal>5</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           Realiza un arranque local con el stack de PXE completo, incluido el controlador UNDI, aún residente en memoria
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </informaltable>
     <para>
      Los demás valores no están definidos. Si desconoce los stacks UNDI o PXE, especifique <literal>0</literal>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>TIMEOUT <replaceable>tiempo límite</replaceable></option>
    </term>
    <listitem>
     <para>
      Indica cuánto tiempo deberá esperar en el indicador de inicio antes de arrancar automáticamente, en décimas de segundo. El tiempo límite queda cancelado cuando el usuario pulsa alguna tecla, en cuyo caso se asume que será este quien complete el comando iniciado. Un tiempo límite de cero inhabilita la opción de tiempo límite (es el ajuste por defecto). El máximo valor posible para el valor del tiempo límite es de 35996 (algo menos de una hora).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>PROMPT<replaceable> valor_de_indicador</replaceable></option>
    </term>
    <listitem>
     <para>
      Si <option>flag_val</option> es 0, muestra el indicador de inicio solo si se pulsan las teclas <keycap function="shift"/> o <keycap function="alt"/>, o si están activados, <keycap>Bloq Mayús</keycap> o <keycap>Bloq Despl</keycap> (es la opción por defecto). Si <option>valor_de_indicador</option> es 1, siempre se muestra el indicador de inicio.
     </para>
<screen>F2  <replaceable>filename</replaceable>
F1  <replaceable>filename</replaceable>
..etc...
F9  <replaceable>filename</replaceable>
F10 <replaceable>filename</replaceable></screen>
     <para>
      Muestra en la pantalla el archivo indicado cuando se pulsa una tecla de función en el indicador de inicio. También se puede utilizar para implementar una ayuda en línea para antes del arranque (normalmente para las opciones de la línea de comandos del núcleo). Por compatibilidad con versiones anteriores, <keycap>F10</keycap> también puede introducirse como <literal>F0</literal>. Tenga en cuenta que no es posible asociar nombres de archivos a <keycap>F11</keycap> ni <keycap>F12</keycap>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxeprep">
  <title>Preparación del sistema de destino para arranque en PXE</title>

  <para>
   Prepare el BIOS del sistema para arranque en PXE incluyendo la opción de PXE en el orden de arranque del BIOS.
  </para>

  <warning>
   <title>orden de arranque del BIOS</title>
   <para>
    No coloque la opción de PXE por encima de la opción de arranque desde disco duro en el BIOS. De lo contrario, el sistema intentará reinstalarse cada vez que lo arranque.
   </para>
  </warning>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wolprep">
  <title>Preparación del sistema de destino para Wake on LAN</title>

  <para>
   Wake on LAN (WOL) necesita que se habilite la opción correspondiente del BIOS antes de la instalación. Además, es necesario tomar nota de la dirección MAC del sistema de destino. Este dato es necesario para iniciar Wake on LAN.
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wol">
  <title>Wake on LAN</title>

  <para>
   Wake on LAN permite encender una máquina mediante el envío de un paquete de red especial que contiene la dirección MAC de la máquina. Dado que los identificadores MAC deben ser únicos para cada máquina, no hay que preocuparse si se conecta accidentalmente una máquina equivocada.
  </para>

  <important>
   <title>Wake on LAN en distintos segmentos de red</title>
   <para>
    Si la máquina de control no se encuentra en el mismo segmento de red que el destino de la instalación que debe encenderse, configure las peticiones WOL para que se envíen como multidifusión o bien controle remotamente una máquina de dicho segmento de red para que actúe como remitente de las peticiones.
   </para>
  </important>

  <para>
   Los usuarios de SUSE Linux Enterprise Server pueden usar un módulo YaST llamado WOL para configurar Wake on LAN fácilmente. Los usuarios de otras versiones de sistemas operativos basados en SUSE Linux pueden usar una herramienta de línea de comandos.
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wolyast">
  <title>Wake on LAN con YaST</title>

  <procedure xml:id="proc.deployment.prep_boot.wolyast">
   <step>
    <para>
     Entre a la sesión como usuario <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Inicie <menuchoice><guimenu>YaST</guimenu><guimenu>Servicios de red</guimenu><guimenu>WOL</guimenu></menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Haga clic en <guimenu>Añadir</guimenu> y escriba el nombre de host y la dirección MAC del sistema de destino.
    </para>
   </step>
   <step>
    <para>
     Para encender este equipo, seleccione la entrada adecuada y haga clic en <guimenu>Wake up.</guimenu>
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
