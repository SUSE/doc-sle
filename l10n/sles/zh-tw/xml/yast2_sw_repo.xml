<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_sw_repo.xml" version="5.0" xml:id="sec-yast-software-instsource">
 <title>管理軟體儲存庫和服務</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>是</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  若要安裝協力廠商軟體，請將軟體儲存庫新增至您的系統。依預設，當您註冊系統後，產品儲存庫 (例如 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-DVD <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase>) 和相符的更新儲存庫會自動設定好。<phrase os="sles;sled">如需有關註冊的詳細資訊，請參閱<xref linkend="sec-yast-install-scc-registration"/>或<xref linkend="sec-update-registersystem"/></phrase>。視您最初所選的產品而定，可能還會設定包含翻譯、字典等的獨立語言附加產品儲存庫。
 </para>

 <para>
  若要管理儲存庫，請啟動 YaST，然後選取<menuchoice>
  <guimenu>軟體</guimenu> <guimenu> 軟體儲存庫</guimenu>
  </menuchoice>。此時會開啟<guimenu>設定的軟體儲存庫</guimenu>對話方塊。您也可以將對話方塊右下角的<guimenu>檢視</guimenu>變更為<guimenu>所有服務</guimenu>，藉以管理對所謂的<guimenu>服務</guimenu>的訂閱。此網路位置中的服務是可以提供一或多個軟體儲存庫的<guimenu>儲存庫索引服務</guimenu> (RIS)。此類服務可由其管理員或廠商動態變更。
 </para>

 <para>
  每個儲存庫都會提供描述其內容 (套件名稱、版本等) 的檔案。這些儲存庫描述檔案會下載至 YaST 所使用的本地快取中。為了確保儲存庫的完整性，可以使用儲存庫維護者的 GPG 金鑰簽署軟體儲存庫。新增新的儲存庫時，YaST 可讓您輸入其金鑰。
 </para>

 <warning>
  <title>信任外部軟體來源</title>
  <para>
   在將外部軟體儲存庫新增到儲存庫清單之前，請確定此儲存庫可以信任。對於從協力廠商軟體儲存庫安裝軟體而產生的任何問題，SUSE 概不負責。
  </para>
 </warning>

 <sect2 xml:id="sec-yast-software-instsource-add">
  <title>新增軟體儲存庫</title>
  <para>
   可以從 DVD/CD、 USB 隨身碟、本地目錄、ISO 影像或網路來源新增儲存庫。
  </para>
  <para>
   若要從 YaST 中的<guimenu>設定的軟體儲存庫</guimenu>對話方塊新增儲存庫，請按照以下步驟操作：
  </para>
  <procedure>
   <step>
    <para>
     按一下<guimenu>新增</guimenu>。
    </para>
   </step>
   <step>
    <para>
     選取對話方塊中列出的其中一個選項：
    </para>
    <figure xml:id="fig-y2-sw-repo-new">
     <title>新增軟體儲存庫</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="yast2_addon_new.png" width="70%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="yast2_addon_new.png" width="65%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </figure>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       若要透過 SLP 掃描網路以尋找宣告其服務的安裝伺服器，請選取<guimenu>使用 SLP 搜尋</guimenu>，然後按<guimenu>下一步</guimenu>。
      </para>
     </listitem>
     <listitem>
      <para>
       若要從抽取式媒體新增儲存庫，請選擇相應選項，然後視情況插入媒體或連接 USB 裝置。按<guimenu>下一步</guimenu>開始安裝。
      </para>
     </listitem>
     <listitem>
      <para>
       對於大多數儲存庫，在選取相應的選項並按<guimenu>下一步</guimenu>後，系統會提示您指定媒體的路徑 (或 URL)。可以選擇性地指定<guimenu>儲存庫名稱</guimenu>。如果未指定，YaST 將使用產品名稱或 URL 做為儲存庫名稱。
      </para>
     </listitem>
    </itemizedlist>
    <para>
     預設已啟用<guimenu>下載儲存庫描述檔</guimenu>選項。如果停用該選項，YaST 稍後會視需要自動下載這些檔案。
    </para>
   </step>
   <step>
    <para>
     根據您新增的儲存庫，系統可能會提示您輸入儲存庫的 GPG 金鑰，或者要求您同意授權條款。
    </para>
    <para>
     確認這些訊息後，YaST 將下載並剖析中繼資料。它會將儲存庫新增到<guimenu>已設定的儲存庫</guimenu>清單。
    </para>
   </step>
   <step>
    <para>
     如果需要，請依<xref linkend="sec-yast-software-instsource-manage"/>中所述調整儲存庫的<guimenu>內容</guimenu>。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>確定</guimenu>確認所做的變更，關閉組態對話方塊。
    </para>
   </step>
   <step>
    <para>
     成功新增儲存庫之後，軟體管理員即會啟動，您便可以安裝此儲存庫中的套件。如需詳細資訊，請參閱<xref linkend="cha-yast-software"/>。
    </para>
   </step>
  </procedure>
 </sect2>

 <sect2 xml:id="sec-yast-software-instsource-manage">
  <title>管理儲存庫內容</title>
  <para>
   <guimenu>軟體儲存庫</guimenu>的<guimenu>設定的軟體儲存庫</guimenu>綜覽可讓您變更以下儲存庫內容：
  </para>
  <variablelist>
   <varlistentry>
    <term>狀態</term>
    <listitem>
     <para>
      儲存庫狀態可以是<guimenu>已啟用</guimenu>或<guimenu>已停用</guimenu>。您只能安裝已啟用的儲存庫中的套件。若要暫時關閉某個儲存庫，請選取它並停用<guimenu>啟用</guimenu>。您也可以在儲存庫名稱上連按兩下以切換其狀態。若要徹底移除某個儲存庫，請按一下<guimenu>刪除</guimenu>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>重新整理</term>
    <listitem>
     <para>
      重新整理儲存庫時，其內容描述 (套件名稱、版本等)會下載到 YaST 所使用的本地快取中。對於靜態儲存庫 (例如 CD 或 DVD)，只需重新整理一次就已足夠，而對於內容經常變更的儲存庫，則需要經常重新整理。要將儲存庫的快取保持為最新，最簡單的方法就是選擇<guimenu>自動重新整理</guimenu>。若要執行手動重新整理，請按一下<guimenu>重新整理</guimenu>，然後選取一個選項。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>保留已下載套件</guimenu>
    </term>
    <listitem>
     <para>
      安裝遠端儲存庫中的套件之前會先行下載。依預設，這些套件將在成功安裝之後予以刪除。選取<guimenu>保留已下載套件</guimenu>可防止下載的套件被刪除。下載位置可以在 <filename>/etc/zypp/zypp.conf</filename> 中進行設定，預設為 <filename>/var/cache/zypp/packages</filename>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>優先程度</guimenu>
    </term>
    <listitem>
     <para>
      儲存庫的<guimenu>優先程度</guimenu>值介於 <literal>1</literal> 和 <literal>200</literal> 之間，其中 <literal>1</literal> 表示優先程度最高，<literal>200</literal> 表示優先程度最低。使用 YaST 新增的任何新儲存庫，其優先程度預設都為 <literal>99</literal>。如果您對某個儲存庫的優先程度值並不在意，也可以將該值設定為 <literal>0</literal>，以套用預設的優先程度 (<literal>99</literal>)。如果某個套件在多個儲存庫中都存在，則會使用優先程度最高的儲存庫。因此，若要避免從網際網路下載不需要的套件，可以為本地儲存庫 (如 DVD) 指定較高的優先程度。
     </para>
     <important>
      <title>優先程度與版本的比較</title>
      <para>
       任何情況下，具有最高優先程度的儲存庫都優先。因此，請確認更新儲存庫始終具有最高的優先程度，否則您可能會安裝過時版本，直到下次線上更新才能獲得更新。
      </para>
     </important>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>名稱與 URL</term>
    <listitem>
     <para>
      若要變更儲存庫的名稱或 URL，請按一下該儲存庫從清單中選取它，然後再按一下<guimenu>編輯</guimenu>。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect2>

 <sect2 xml:id="sec-yast-software-repo-gpg-keys">
  <title>管理儲存庫金鑰</title>
  <para>
   為了確保儲存庫的完整性，可以使用儲存庫維護者的 GPG 金鑰簽署軟體儲存庫。新增新的儲存庫時，YaST 可讓您輸入其金鑰。與所有其他 GPG 金鑰一樣對其進行驗證，並確定它沒有變更。如果偵測到金鑰變更，則說明儲存庫可能有問題。停止將儲存庫做為安裝來源，直到您查清金鑰變更的原因。
  </para>
  <para>
   若要管理所有輸入的金鑰，請在<guimenu>設定的軟體儲存庫</guimenu>對話方塊中按一下<guimenu>GPG 金鑰</guimenu>。用滑鼠選取項目，即會在視窗底部顯示金鑰內容。按一下<guimenu>新增</guimenu>、<guimenu>編輯</guimenu>或<guimenu>刪除</guimenu>按鈕，對金鑰執行相應操作。
  </para>
 </sect2>
</sect1>
