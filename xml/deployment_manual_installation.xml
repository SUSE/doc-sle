<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<chapter version="5.0" xml:id="cha-slemicro-install"
  xmlns="http://docbook.org/ns/docbook"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>Installation steps</title>
 <info>
  <abstract>
   <para>
    This chapter describes the procedure in which the data for
    &productname; is copied to the target device. Some basic
    configuration parameters for the newly installed system are set
    during the procedure. A graphical user interface will guide you
    through the installation. <phrase os="sles;sled">The procedure
    described in the following also applies to remote installation
    procedures as described in <xref linkend="cha-remote-installation"/>.</phrase> The text mode installation
    has the same steps and only looks different. <phrase
    os="sles;osuse;slemicro">For information about performing non-interactive
    automated installations, see <xref
    linkend="book-autoyast"/>.</phrase>
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker></dm:bugtracker>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  If you are a first-time user of &productname;, you should follow the
  default &yast; proposals in most parts, but you can also adjust the settings
  as described here to fine-tune your system according to your
  preferences. Help for each installation step is provided by clicking
  <guimenu>Help</guimenu>.
 </para>
 <tip>
  <title>Installation without a mouse</title>
  <para>
   If the installer does not detect your mouse correctly, use
   <keycap function="tab"/> for navigation, arrow keys to scroll, and
   <keycap function="enter"/> to confirm a selection. Various buttons or
   selection fields contain a letter with an underscore. Use
   <keycombo><keycap function="alt"/><keycap>Letter</keycap></keycombo> to
   select a button or a selection directly instead of navigating there with
   <keycap function="tab"/>.
  </para>
 </tip>
 <sect1 xml:id="sec-man-install-overview">
  <title>Overview</title>
  <para>
   This section provides an overview of all installation steps. Each step
   contains a link to a more detailed description.
  </para>
  <procedure>
  <step>
  <para>
  &yast; at first perform network configuration. For details refer to <xref linkend=""/>.
  </para>
  </step>
  <step>
  <para>
  The actual installation starts with language and keyboard selection and with the license agreement. For details refer to <xref linkend="sec-language-selection"/>.
  </para>
  </step>
  <step>
  <para>
  Accept the license agreement to proceed to the next step.
  </para>
  </step>
  <step arch="zseries">
    <para>
     &zseries; machines need to activate disks. For details, see
     <xref linkend="sec-yast-install-s390-part"/>.
    </para>
   </step>
   <step>
   <para>
   Register your system. For details refer ro <xref linkend="sec-registration"/>.
   </para>
   </step>
   <step>
   <para>
   Configure NTP servers as described in <xref linkend="sec-ntp-configuration"/>.
   </para>
   </step>
   <step>
   <para>
   Set a password for the system administartor <literal>root</literal>. For details refer to <xref linkend="sec-authentication"/>.
   </para>
   </step>
   <step>
   <para>
   The last installation step is an overview of all installation settings. For details, refer to <xref linkend=""/>.
   </para>
   </step>
  </procedure>
  </sect1>
  <sect1 xml:id="sec-yast-install-network">
  <title>Network settings</title>
  <para>
   After booting into the installation, the installation routine is set up.
   During this setup, an attempt to configure at least one network interface
   with DHCP is made. In case this attempt has failed, the <guimenu>Network
   Settings</guimenu> dialog launches now.
  </para>
  <figure>
   <title>Network settings</title>
   <mediaobject>
    <textobject role="description">
     <phrase>Network Settings</phrase>
    </textobject>
    <imageobject role="fo">
     <imagedata os="sles;sled;slemicro" fileref="install_network_slem.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles;sled;slemicro" fileref="install_network
_slem.png" width="100%"/>
     </imageobject>
   </mediaobject>
  </figure>
  <para>
   Choose a network interface from the list and click <guimenu>Edit</guimenu>
   to change its settings. Use the tabs to configure DNS and routing.<phrase os="sles;sled;osuse"> See <xref
   linkend="sec-network-yast"/> for more details. </phrase>On &zseries; this dialog does not start automatically. It can
   be started in the <guimenu>Disk Activation</guimenu> step.
  </para>
  <para>
   In case DHCP was successfully configured during installation setup, you can
   also access this dialog by clicking <guimenu>Network Configuration</guimenu>
   at the <guimenu>&scc; Registration</guimenu>
   and the <guimenu>Installation Settings</guimenu> step. It lets you
   change the automatically provided settings.
  </para>
  <note>
   <title>Network configuration with boot parameters</title>
   <para>
    If at least one network interface has been configured via boot parameters
    (see <xref linkend="sec-boot-parameters-list-network"/>), automatic DHCP
    configuration is disabled and the boot parameter configuration is imported
    and used.
   </para>
  </note>
  <tip>
   <title>Accessing network storage or local RAID</title>
   <para>
    To access a SAN or a local RAID during the installation,
    you can use the libstorage command line client for this purpose:
   </para>
   <orderedlist>
    <listitem>
     <para>
      Switch to a console with <keycombo><keycap function="control"/>
      <keycap
      function="alt"/> <keycap>F2</keycap></keycombo>.
     </para>
    </listitem>
    <listitem>
     <para>
      Install the libstoragemgmt extension by running <command>extend
      libstoragemgmt</command>.
     </para>
    </listitem>
    <listitem>
     <para>
      Now you have access to the <command>lsmcli</command> command. For more
      information, run <command>lsmcli --help</command>.
     </para>
    </listitem>
    <listitem>
     <para>
      To return to the installer, press <keycombo><keycap function="alt"/>
      <keycap>F7</keycap></keycombo>
     </para>
    </listitem>
   </orderedlist>
   <para>
    Supported are Netapp Ontap, all SMI-S compatible SAN providers, and LSI
    MegaRAID.
   </para>
  </tip>
 </sect1>

  <sect1 xml:id="sec-language-selection">
  <title>Language, Keyboard, and Licencse Agreement </title>
  <figure>
   <title>License agreement</title>
   <mediaobject>
    <textobject role="description">
     <phrase>Language, Keyboard and License Agreement</phrase>
    </textobject>
    <imageobject role="fo">
     <imagedata os="slemicro" fileref="install_license_slem.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata os="slemicro" fileref="install_license_slem.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>
   The <guimenu>Language</guimenu> and <guimenu>Keyboard Layout</guimenu>
   settings are initialized with the language you chose on the boot
   screen. If you did not change the default, it will be English (US). Change
   the settings here, if necessary.
  </para>
  <para>
   Changing the language will automatically preselect a corresponding keyboard
   layout.  Override this proposal by selecting a different keyboard layout
   from the drop-down box. Use the <guimenu>Keyboard Test</guimenu> text box to
   test the layout. The language selected here is also used to assume a time
   zone for the system clock.
   </para>
   <para>
   By clicking <guimenu>Release notes</guimenu> you can access the &slema; release notes in English.
   </para>
   <para>
   Read the License Agreement. It is presented in the language you have chosen
   on the boot screen. Translations are available via the <guimenu>License
   Language</guimenu> drop-down box. If you agree to the
   terms, check <guimenu>I Agree to the License Terms</guimenu> and click
   <guimenu>Next</guimenu> to proceed with the installation. If you do not
   agree to the license agreement, you cannot install &productname;; click
   <guimenu>Abort</guimenu> to terminate the installation.
  </para>  
  </sect1>
  <sect1 xml:id="sec-yast-install-s390-part" arch="zseries" os="slemicro">
  <title>&zseries;: disk activation</title>
  <para>
   When installing on &zseries; platforms, the language selection dialog is
   followed by a dialog to configure the attached hard disks.
  </para>
  <figure>
   <title>Disk activation</title>
   <mediaobject>
    <textobject role="description">
     <phrase>Disk Activation</phrase>
    </textobject>
    <imageobject role="fo">
     <imagedata fileref="install_zseries_disk_activation.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="install_zseries_disk_activation.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>
   Select DASD, Fibre Channel Attached SCSI Disks (zFCP), or iSCSI for
   installation of &productname;. The DASD and zFCP configuration buttons are
   only available if the corresponding devices are attached.<phrase os="sles"> For instructions
   on how to configure iSCSI disks, refer to <xref
   linkend="sec-iscsi-initiator"/>.</phrase>
  </para>
  <para>
   You can also change  the <guimenu>Network Configuration</guimenu> in this
   screen by launching the <guimenu>Network Settings</guimenu> dialog. Choose a
   network interface from the list and click <guimenu>Edit</guimenu> to change
   its settings. Use the tabs to configure DNS and routing.<phrase os="sles"> See
   <xref linkend="sec-network-yast"/> for more details.</phrase>
  </para>

  <sect2 xml:id="sec-yast-install-s390-part-dasd">
   <title>Configuring DASD disks</title>
   <para>
    Skip this step if you are not installing on &zseries; hardware.
   </para>
   <figure xml:id="fig-s390-yast2-i-y2-sel-dasd">
    <title>DASD disk management</title>
    <mediaobject>
     <textobject role="description">
      <phrase>DASD Disk Management</phrase>
     </textobject>
     <imageobject role="fo">
      <imagedata width="100%" fileref="install_zseries_dasd.png"/>
     </imageobject>
     <imageobject role="html">
      <imagedata width="100%" fileref="install_zseries_dasd.png"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    After selecting <guimenu>Configure DASD Disks</guimenu>, an overview lists
    all available DASDs. To get a clearer picture of the available devices, use
    the text box located above the list to specify a range of channels to
    display. To filter the list according to such a range, select
    <guimenu>Filter</guimenu>.
   </para>
   <para>
    Specify the DASDs to use for the installation by selecting the
    corresponding entries in the list. Use <guimenu>Select All</guimenu> to
    select all DASDs currently displayed. Activate and make the selected DASDs
    available for the installation by selecting <menuchoice> <guimenu>Perform
    Action</guimenu> <guimenu>Activate</guimenu> </menuchoice>. To format the
    DASDs, select <menuchoice> <guimenu>Perform Action</guimenu>
    <guimenu>Format</guimenu> </menuchoice>. Alternatively, use the &yast;
    partitioner later as described in
    <xref linkend="sec-expert-partitioner"/>.
   </para>
  </sect2>
  <sect2 xml:id="sec-yast-install-s390-part-zfcp">
   <title>Configuring zFCP disks</title>
   <para>
    Skip this step if you are not installing on &zseries; hardware.
   </para>
   <figure xml:id="fig-install-zseries-zfcp">
    <title>Configured zFCP Devices</title>
    <mediaobject>
     <textobject role="description">
      <phrase>Configured zFCP Devices</phrase>
     </textobject>
     <imageobject role="fo">
      <imagedata width="100%" fileref="install_zseries_zfcp.png"/>
     </imageobject>
     <imageobject role="html">
      <imagedata width="100%" fileref="install_zseries_zfcp.png"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    After selecting <guimenu>Configure zFCP Disks</guimenu>, a dialog with a
    list of the zFCP disks available on the system opens. In this dialog, select
    <guimenu>Add</guimenu> to open another dialog in which to
    enter zFCP parameters.
   </para>
   <para>
    To make a zFCP disk available for the &productname; installation, choose an
    available <guimenu>Channel Number</guimenu> from the drop-down box.
    <guimenu>Get WWPNs</guimenu> (World Wide Port Number) and <guimenu>Get
    LUNs</guimenu> (Logical Unit Number) return lists with available WWPNs and
    FCP-LUNs, respectively, to choose from. Automatic LUN scanning only works
    with NPIV enabled.
   </para>
   <para>
    When completed, exit the zFCP
    dialog with <guimenu>Next</guimenu> and the general hard disk configuration
    dialog with <guimenu>Finish</guimenu> to continue with the rest of the
    configuration.
   </para>
  </sect2>
 </sect1>

  <sect1 xml:id="sec-registration">
  <title>Registration</title>
  <informalfigure>
    <mediaobject>
     <imageobject role="fo">
      <imagedata os="slemicro" fileref="install_registration_slem.png"
                 width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="slemicro" fileref="install_registration_slem.png"
                 width="100%"/>
      </imageobject>
    </mediaobject>
   </informalfigure>
  <para>
   To get technical support and product updates, you need to register and
   activate &productname; with the &scc; or a local registration server.
   Registering your product at this stage also grants you immediate access to
   the update repository. This enables you to install the system with the
   latest updates and patches available.
  </para>
  <para>
   From this dialog, you can switch to the &yast; <guimenu>Network Settings</guimenu>
   module by clicking <guimenu>Network Configuration</guimenu>.For details, see
   <xref linkend="sec-yast-install-network"/>.
  </para>
  <para>
  The dialog offers the following possibilities, each described further:
  </para>
  <variablelist>
  <varlistentry>
  <term><guimenu>Register system via scc.suse.com</guimenu></term>
  <listitem>
      <para>
       To register with the &scc;, enter the <guimenu>E-mail Address</guimenu>
       associated with your SCC account and the <guimenu>Registration
       Code</guimenu> for &productname;. Proceed with <guimenu>Next</guimenu>.
      </para>
     </listitem>
     </varlistentry>
     <varlistentry>
     <term><guimenu>Register system via local RMT server</guimenu></term>
     <listitem>
      <para>
       If your organization provides a local registration server, you may
       alternatively register there. Activate <guimenu>Register System via
       local RMT Server</guimenu> and either choose a URL from the drop-down
       box or type in an address. Proceed with <guimenu>Next</guimenu>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Skip registration</guimenu></term>
     <listitem>
      <para>
       If you want to skip registration or you are offline, click <guimenu>Skip
       Registration</guimenu>. Accept the warning with <guimenu>OK</guimenu>
       and proceed with <guimenu>Next</guimenu>.
      </para>
      <important>
       <title>Skipping registration</title>
       <para>
        Your system needs to be registered in order to retrieve updates and to
        be eligible for support. You can register later, after the installation by using <command>SUSEConnect</command>, for details, see <xref linkend=""/>.
       </para>
      </important>
     </listitem>
    </varlistentry>
  </variablelist> 
  <tip>
    <title>Installing product patches at installation time</title>
    <para>
     After &productname; has been successfully registered, you
     are asked whether to install the latest available online updates during
     the installation. If choosing <guimenu>Yes</guimenu>, the system will be
     installed with the most current packages without having to apply the
     updates after installation. Activating this option is recommended.
    </para>
   </tip>
   <para>
    If the system was successfully registered during installation, &yast; will
    disable repositories from local installation media such as CD/DVD or flash
    disks when the installation has been completed. This prevents problems if
    the installation source is no longer available and ensures that you always
    get the latest updates from the online repositories.
   </para>
  </sect1>
  <sect1 xml:id="sec-ntp-configuration">
  <title>NTP Configuration</title>
  <informalfigure>
    <mediaobject>
     <imageobject role="fo">
      <imagedata os="slemicro" fileref="install_ntp_slem.png"
                 width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="slemicro" fileref="install_ntp_slem.png"
                 width="100%"/>
      </imageobject>
    </mediaobject>
   </informalfigure>
  <para>
    In order to keep time on your system properly synchronized, configure at
    least one NTP server.
   </para>
  </sect1>
  <sect1 xml:id="sec-authentication">
  <title>Authentication for the System Administator &rootuser; </title>
  <informalfigure>
    <mediaobject>
     <imageobject role="fo">
      <imagedata os="slemicro" fileref="install_authentication_slem.png"
                 width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="slemicro" fileref="install_authentication_slem.png"
                 width="100%"/>
      </imageobject>
    </mediaobject>
   </informalfigure>

   <para>
    Configure a strong password for &rootuser; with at least 5 characters&mdash;a combination of uppercase and lowercase letters and numbers. The maximum length for passwords is 72 characters, and passwords are case-sensitive.
    </para>
    
    <para>
    If you want to access the system remotely via SSH using a public key, import a key from a removable storage device or an existing partition.To do so click <guimenu>Browse</guimenu> and select the public SSH key.
   </para>
   <para>
    Click <guimenu>Next</guimenu> to proceed to the next installation step.
   </para>
  </sect1>
  <sect1 xml:id="sec-settings">
  <title>Installation Settings</title>
  <informalfigure>
    <mediaobject>
     <imageobject role="fo">
      <imagedata os="slemicro" fileref="install_settings_slem.png"
                 width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="slemicro" fileref="install_settings_slem.png"
                 width="100%"/>
      </imageobject>
    </mediaobject>
   </informalfigure>
   <para>
   To access a particular setting, click the respective heading. Or some options can be directly changed on the screen by clicking the button next to the option.
   </para>
   
   <sect2 xml:id="sec-settings-partitioning">
   <title>Partitioning</title>   
     <remark>Include information that BTRFS with enabled snapshots is mandatory for SLE Micro root fs.</remark>
   <warning>
    <title>The Btrfs with enabled snapshots is mandatory.</title>
    <para>
     &slema; requires Btrfs on the root partiotion with enabled snapshots and Snapper. Snapper is enabled by default, do not disable it afterwards. 
    </para>
   </warning>
     <variablelist>
    <varlistentry>
     <term>Custom partitioning on UEFI machines</term>
     <listitem>
      <para>
       A UEFI machine <emphasis>requires</emphasis> an EFI system partition
       that must be mounted to <filename>/boot/efi</filename>. This partition
       must be formatted with the <literal>FAT32</literal> file system.
      </para>
      <para>
       If an EFI system partition is already present on your system (for
       example from a previous Windows installation) use it by mounting it to
       <filename>/boot/efi</filename> without formatting it.
      </para>
      <para>
       If no EFI system partition is present on your UEFI machine, make sure to
       create it. The EFI system partition must be a physical partition or RAID
       1. Other RAID levels, LVM and other technologies are not supported. It
       needs to be formatted with the FAT32 file system.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Custom partitioning and <systemitem>Snapper</systemitem></term>
     <listitem>
      <para os="sles;osuse">
       If the root partition is larger than 16 GB, &productname; by
       default enables file system snapshots.
      </para>
      <para os="sled">
       &productname; can be configured to use snapshots which
       provide the ability to do rollbacks of system changes.
      </para>
      <para>
       &productname; uses Snapper together with Btrfs for this
       feature. Btrfs needs to be set up with snapshots enabled for the
       root partition.
      </para>
      <para>
       If the disk is smaller than 16 GB, all Snapper features and
       automatic snapshots are disabled to prevent the system partition
       <filename>/</filename> from running out of space.
      </para>
      <para>
       Being able to create system snapshots that enable rollbacks
       requires important system directories to be mounted on a
       single partition, for example <filename>/usr</filename> and
       <filename>/var</filename>. Only directories that are excluded
       from snapshots may reside on separate partitions, for example
       <filename>/usr/local</filename>, <filename>/var/log</filename>,
       and <filename>/tmp</filename>.
      </para>
      <para>
       With enabled snapshots, the
       installer will automatically create <literal>single</literal>
       snapshots during and immediately after the installation.
      </para>
      

      <important>
       <title>Btrfs snapshots and root partition size</title>
       <para>
        Snapshots occupy space on their partition. As a rule of thumb, the
        older a snapshot is, or the bigger the changeset they cover is, the
        bigger the snapshot. Plus, the more snapshots you keep, the more
        disk space you need.
       </para>
       <para>
        To prevent the root partition running full with snapshot data, you need to make
        sure it is big enough. In case you do frequent updates or other
        installations, consider at least 40&nbsp;GB for the root partition.
       </para>
      </important>

     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Btrfs data volumes</term>
     <listitem>
      <para>
       Using Btrfs for data volumes is supported on &productname;
       &productnumber;. For applications that require Btrfs as a data volume,
       consider creating a separate file system with quota groups
       disabled. This is already the default for non-root file systems.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Btrfs on an encrypted root partition</term>
     <listitem>
      <para>
       The default partitioning setup suggests the root partition as Btrfs. To
       encrypt the root partition, make sure to use the GPT partition table
       type instead of the MSDOS type. Otherwise the GRUB2 boot loader may not
       have enough space for the second stage loader.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry  arch="zseries">
     <term>&zseries;: Using minidisks in z/VM</term>
     <listitem>
      <para>
       If &productname; is installed on minidisks in z/VM, which reside
       on the same physical disk, the access path of the minidisks
       (/dev/disk/by-id/) is not unique. This is because it represents
       the ID of the physical disk. If two or more minidisks are on the
       same physical disk, they all have the same ID.
      </para>
      <para>
       To avoid problems when mounting minidisks, always mount them either
       <emphasis>by path</emphasis> or <emphasis>by UUID</emphasis>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry os="sles" arch="zseries">
     <term>&zseries;: LVM root file system</term>
     <listitem>
      <para>
       If you configure the system with a root file system on LVM or software
       RAID array, you must place <filename>/boot</filename> on a separate,
       non-LVM or non-RAID partition, otherwise the system will fail to boot.
       The recommended size for such a partition is 500&nbsp;MB and the
       recommended file system is Ext4.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry arch="power">
     <!-- this warning is duplicated in sec.power.prep -->
     <term>IBM &power;: Installing on systems with multiple Fibre Channel disks</term>
     <listitem>
      <para>
       If more than one disk is available, the partitioning scheme suggested during
       the installation puts the PReP and BOOT partitions on different disks. If
       these disks are Fibre Channel disks, the GRUB boot loader is not able to
       find the BOOT partition and the system cannot be booted.
      </para>
      <para>
       When prompted to select the partition scheme during the installation,
       choose <guimenu>Guided Setup</guimenu> and verify that only one disk is
       selected for installation. Alternatively, run the <guimenu>Expert
       Partitioner</guimenu> and manually set up a partitioning scheme that has
       PReP and BOOT on a single disk.
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>Supported software RAID volumes</term>
     <listitem>
      <para>
       Installing to and booting from existing software RAID volumes is
       supported for Disk Data Format (DDF) volumes and Intel Matrix Storage
       Manager (IMSM) volumes. IMSM is also known by the following names:
      </para>
      <itemizedlist mark="bullet" spacing="normal">
       <listitem>
        <para>
         Intel Rapid Storage Technology
        </para>
       </listitem>
       <listitem>
        <para>
         Intel Matrix Storage Technology
        </para>
       </listitem>
       <listitem>
        <para>
         Intel Application Accelerator / Intel Application Accelerator RAID
         Edition
        </para>
       </listitem>
       <listitem>
        <para>
         Intel Virtual RAID on CPU (Intel VROC, see <link xlink:href="https://www.intel.com/content/www/us/en/support/articles/000024498/memory-and-storage/ssd-software.html"/> for more details)
        </para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Mount points for FCoE and iSCSI devices</term>
     <listitem>
      <para>
       FCoE and iSCSI devices will appear asynchronously during the
       boot process. While the initrd guarantees that those devices are
       set up correctly for the root file system, there are no such
       guarantees for any other file systems or mount points like
       <filename>/usr</filename>. Hence any system mount points like
       <filename>/usr</filename> or <filename>/var</filename> are not
       supported. To use those devices, ensure correct
       synchronization of the respective services and devices.
      </para>
     </listitem>
    </varlistentry>     
   </variablelist>
  </sect2>
  <sect2 xml:id="sec-yast-install-partitioning-suggested">
   <title>Suggested partitioning</title>
   <para>
    Define a partition setup for &productname; in this step.
   </para>
   <figure>
    <title>Suggested partitioning</title>
    <mediaobject>
     <textobject role="description">
      <phrase>Suggested Partitioning</phrase>
     </textobject>
     <imageobject role="fo">
      <imagedata  fileref="install_partitioner.png" width="100%"/>
      </imageobject>
     <imageobject role="html">
      <imagedata  fileref="install_partitioner.png" width="100%"/>
       </imageobject>
    </mediaobject>
   </figure>
   <para>
    The installer creates a proposal for one of the available disks containing
    a root partition formatted with Btrfs and a swap partition. If one or more
    swap partitions have been detected on the available hard disks, these
    partitions will be used. You have several options to proceed:
   </para>
   <variablelist>
    <varlistentry>
     <term><guimenu>Accept</guimenu>
     </term>
     <listitem>
      <para>
       Click <guimenu>Accept</guimenu> to accept the proposal without any changes and 
       return to the <guimenu>Installation Settings</guimenu> screen.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Guided setup</guimenu>
     </term>
     <listitem>
      <para>
       To adjust the proposal, choose <guimenu>Guided Setup</guimenu>. First,
       choose which hard disks and partitions to use. In the
       <guimenu>Partitioning Scheme</guimenu> screen, you can enable Logical
       Volume Management (LVM) and activate disk encryption. Afterward specify
       the <guimenu>Filesystem Options</guimenu>. You can adjust the file
       system for the root partition and create a separate home and swap
       partitions. If you plan to suspend your machine, make sure to create a
       separate swap partition and check <guimenu>Enlarge to RAM Size for
       Suspend</guimenu>.  If the root file system format is Btrfs, you can
       also enable or disable Btrfs snapshots here.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Expert Partitioner</guimenu>
     </term>
     <listitem>
      <para>
       To create a custom partition setup click <guimenu>Expert
        Partitioner</guimenu>. Select either <guimenu>Start with Current
        Proposal</guimenu> if you want start with the suggested disk layout, or
       <guimenu>Start with Existing Partitions</guimenu> to ignore the suggested
       layout and start with the existing layout on the disk.  You can
       <guimenu>Add</guimenu>, <guimenu>Edit</guimenu>,
       <guimenu>Resize</guimenu>, or <guimenu>Delete</guimenu> partitions.
      </para>
      <para>
       You can also set up logical volume management (LVM), configure software
       RAID and device mapping (DM), encrypt partitions, mount NFS shares and
       manage tmpfs volumes with the <guimenu>Expert Partitioner</guimenu>. To
       fine-tune settings such as the subvolume and snapshot handling for each
       Btrfs partition, choose <guimenu>Btrfs</guimenu>. For more information
       about custom partitioning and configuring advanced features, refer to
       <xref linkend="sec-expert-partitioner"/>.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <warning>
    <title>Disk space units</title>
    <para>
     Note that for partitioning purposes, disk space is measured in binary
     units, rather than in decimal units. For example, if you enter sizes of
     <literal>1GB</literal>, <literal>1GiB</literal> or <literal>1G</literal>,
     they all signify 1&nbsp;GiB (Gibibyte), as opposed to 1&nbsp;GB (Gigabyte).
    </para>
    <variablelist>
     <varlistentry>
      <term>Binary</term>
      <listitem>
       <para>
        1&nbsp;GiB = 1&nbsp;073&nbsp;741&nbsp;824 bytes.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       Decimal
      </term>
      <listitem>
       <para>
        1&nbsp;GB = 1&nbsp;000&nbsp;000&nbsp;000 bytes.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       Difference
      </term>
      <listitem>
       <para>
        1&nbsp;GiB &asymp; 1.07&nbsp;GB.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </warning>
  </sect2>
 </sect1>

   </sect2>
   <sect2 xml:id="sec-settings-software">
   <title>Software</title>
   <para>
    &productname; contains several software patterns for various application
    purposes. Click <guimenu>Software</guimenu> to open the <guimenu>Software
    Selection and System Tasks</guimenu> screen where you can modify the
    pattern selection according to your needs. Select a pattern from the list
    and see a description in the right-hand part of the window. 
   </para>
   <para>
    In this menu you can select the <literal>Web based remote system managment</literal> pattern  that will install <literal>Cockpit</literal> system. Cockpit is a web monitoring tool that enables you to administer your system. For details, refer to <xref linkend=""/>.
   </para>
   <para>
    Each pattern contains several software packages needed for specific
    functions (for example <phrase os="sled;osuse">Multimedia or Office
    software</phrase><phrase os="sles">Web and LAMP server or a print
    server</phrase>).  <phrase os="osuse">If you chose <guimenu>Generic
    Desktop</guimenu> in the <guimenu>System Role</guimenu> dialog choose a
    desktop environment from the list of available <guimenu>Graphical
    Environments</guimenu>.</phrase> For a more detailed selection based on
    software packages to install, select <guimenu>Details</guimenu> to switch
    to the &yast; Software Manager.
   </para>
   </sect2>
   <sect2 xml:id="sec-settings-timezone">
   <title>Timezone</title>
   
   <para>
       By default, the time is synchronized by using the NTP servers you provided in
       the previous steps of the installation procedure. You can select the
       region and time zone either by clicking a particular place on the map or by selecting a region and time zone in the drop-down menus.
     </para>
     <important>
   <title>Set the hardware clock to UTC</title>
   <para>
    The switch from standard time to daylight saving time (and vice versa) can
    only be performed automatically when the hardware clock (CMOS clock) is set
    to UTC. This also applies if you use automatic time synchronization with
    NTP, because automatic synchronization will only be performed if the time
    difference between the hardware and system clock is less than 15 minutes.
   </para>
   <para>
    Since a wrong system time can cause serious problems, it is
    strongly recommended to <emphasis>always</emphasis> set the hardware clock
    to UTC.
   </para>
  </important>
     <para>
     The button <guimenu>Other settings</guimenu> enables you to set the date and time manually or configure NTP servers synchronization.
     </para>
     <para> 
        If you want to set the time and date manually,
       click the <guimenu>Other settings</guimenu> button and select
       <guimenu>Manually</guimenu>.
      </para>
      <note arch="zseries">
   <title>Time cannot be changed on &zseries;</title>
   <para>
    Since the operating system is not allowed to change time and date directly,
    the <guimenu>Other Settings</guimenu> option is not available on
    &zseries;.
   </para>
  </note>
   </sect2>
   <sect2 xml:id="sec-settings-network">
   <title>Network Configuration</title>
   <para>
   Network is automatically configured dring at the beginning of the installation process, but if it is necessary you can change the configuration by clicking <guimenu>Network Configuration</guimenu>. A dialog box opens, for details refer to <xref linkend="sec-yast-install-network"/>.
   </para>
   </sect2>
   <sect2 xml:id="sec-settings-booting">
   <title>Booting</title>
   <para>
    The installer proposes a boot configuration for your system. Other
    operating systems found on your computer, such as Microsoft Windows or
    other Linux installations, will automatically be detected and added to the
    boot loader. However, &productname; will be booted by default. Normally,
    you can leave these settings unchanged. If you need a custom setup, modify
    the proposal according to your needs. 
   </para>
   <important>
    <title>Software RAID 1</title>
    <para>
     Booting a configuration where <filename>/boot</filename> resides on a
     software RAID 1 device is supported, but it requires to install the boot
     loader into the MBR (<menuchoice> <guimenu>Boot Loader Location</guimenu>
     <guimenu>Boot from Master Boot Record</guimenu> </menuchoice>). Having
     <filename>/boot</filename> on software RAID devices with a level other
     than RAID 1 is not supported. 
    </para>
   </important>
   </sect2>
   <sect2 xml:id="sec-settings-kdump">
   <title>Kdump</title>
   <para>
    Using Kdump, you can save a dump of the kernel (in case of a crash) to
    analyze what went wrong. By default, Kdump is enabled. By clicking <guimenu>Kdump</guimenu> you open a dialog box that enables you to configure Kdump.
       </para>
       <variablelist>
       <varlistentry>
       <term>Start-Up</term>
       <listitem>
       <para>Here you can disable Kdump and configure the amount of memory reserved for Kdump. Usually you do not have to change the prefilled values. </para>
       </listitem>
       </varlistentry>
       <varlistentry>
       <term>Dump Filtering</term>
       <listitem>
       <para>Dump filtering enables you to select which pages will be included in the Kdump, and to define the format of of Kdump.</para>
       </listitem>
       </varlistentry>
       <varlistentry>
       <term>Dump Target</term>
       <listitem>
       <para>You can select a local directory or you can seave KDump to a remote location. If you prefer a remote location, you also need to configure conncetion details according to the respective protocol. </para>
       </listitem>
       </varlistentry>
       <varlistentry>
       <term>Email Notifications</term>
       <listitem>
       <para>To receive email notifications if an event occurs, fill in the information.</para>
       </listitem>
       </varlistentry>
       <varlistentry>Expert SettingsDump Target</term>
       <listitem>
       <para>This option enables you to define command line paramters, custom kernel dump and other advanced setting related to Kdump.</para>
       </listitem>
       </varlistentry>
       </variablelist>
   </sect2>
   <sect2 xml:id="sec-settings-system">
   <title>System</title>
   <para>
   This screen lists all the hardware information the installer could obtain
    about your computer. When opened for the first time, the hardware detection
    is started. Depending on your system, this may take some time. Select any
    item in the list and click <guimenu>Details</guimenu> to see detailed
    information about the selected item. Use <guimenu>Save to File</guimenu> to
    save a detailed list to either the local file system or a removable device.
   </para>
   <para>
    Advanced users can also change the <guimenu>PCI ID Setup</guimenu> and
    kernel settings by choosing <guimenu>Kernel Settings</guimenu>. A screen
    with two tabs opens:
   </para>
   </sect2>
   <sect2 xml:id="sec-settings-security">
   <title>Security</title>
   <para>
   You can enable the firewall or disable the SSH service directly by clicking the respective button. Clicking on the button next to <guimenu>CPU mitigations</guimenu> opens the <guimenu>Boot Loader Settings</guimenu> dialog box, where you can change kernel parameters including the <literal>CPU mitigations</literal> configuration.
   </para>
   <para>
       The <guimenu>CPU Mitigations</guimenu> refer to kernel boot command line
       parameters for software mitigations that have been deployed to prevent
       CPU side-channel attacks. You can configure the following values:
      </para>
      <variablelist>
      <varlistentry>
      <term>Auto</term>
      <listitem>
      <para>
      All CPU side channel mitigations are enabled as they are detected based on the CPU type. The auto-detection handles both unaffected older CPUs and unaffected newly released CPUs and transparently disables mitigations.
This options leave SMT enabled.
      </para>
      </listitem>
      </varlistentry>
      <varlistentry>
      <term>Off</term>
      <listitem>
      <para>
      All CPU side channel mitigations are disabled. While this option gives the higher performance, it also bears the highest risk. Do not use this setting where there is a risk of untrusted code.
      </para>
      </listitem>
      </varlistentry>
      <varlistentry>
      <term>Auto + No Smt</term>
      <listitem>
      <para>
      All CPU side channel mitigations are enabled as they are detected based on the CPU type. Additionally the symmetric multi-threading of the CPU is disabled if necessary,  for instance to mitigate the L1 Terminal Fault side channel issue.
      </para>
      </listitem>
      </varlistentry>
      <varlistentry>
      <term>Manually</term>
      <listitem>
      <para>
      CPU mitigations are detected manually.
      </para>
      </listitem>
      </varlistentry>
      </variablelist>
      <para>
       By default, the firewall is disabled. Click <guimenu>enable</guimenu> to
       change the default.
      </para>
      <para>
       The SSH service is enabled by default. Click <guimenu>disable</guimenu> to change the setting. Bear in mind that if you disable
       the SSH service, you will not be able to login to your system remotely. The SSH port (22) is open by default.
      </para>
      <para>
       The default SELinux option is <guimenu>disabled</guimenu>. You can
       change the value by clicking <guimenu>Security</guimenu> and selecting
       another option in the <guimenu>Mode</guimenu> menu.
      </para>
      <para> 
      In the <guimenu>Security</guimenu> dialog box, you can also select  PolicyKit privilegs in the  <guimenu>PolicyKit Default Privilegs</guimenu> dropdown menu.
      </para>
   </sect2>
  </sect1>
</chapter>
