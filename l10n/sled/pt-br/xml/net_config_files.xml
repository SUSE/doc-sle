<?xml version="1.0" encoding="UTF-8"?>
<sect2 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="net_config_files.xml" version="5.0" xml:id="sec-network-manconf-files">
 <title>Arquivos de configuração</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  Esta seção fornece uma visão geral dos arquivos de configuração de rede e explica sua finalidade e formato usado.
 </para>
 <sect3 xml:id="wicked-configuration-common-xml">
  <title><filename>/etc/wicked/common.xml</filename></title>
  <para>
   O arquivo <filename>/etc/wicked/common.xml</filename> inclui definições comuns que devem ser usadas por todos os aplicativos. Ele é originado/incluído por outros arquivos de configuração nesse diretório. Embora você possa usar esse arquivo para habilitar a depuração em todos os componentes do <literal>wicked</literal>, recomendamos usar o arquivo <filename>/etc/wicked/local.xml</filename> para essa finalidade. Você poderá perder suas mudanças após a aplicação de atualizações de manutenção, pois o <filename>/etc/wicked/common.xml</filename> talvez seja sobregravado. O arquivo <filename>/etc/wicked/common.xml</filename> inclui o <filename>/etc/wicked/local.xml</filename> na instalação padrão, portanto, você normalmente não precisa modificar o <filename>/etc/wicked/common.xml</filename>.
  </para>
  <para>
   Para desabilitar o <literal>nanny</literal> definindo <literal>&lt;use-nanny&gt;</literal> como <literal>false</literal>, reinicie o <literal>wickedd.service</literal> e execute o seguinte comando para aplicar todas as configurações e políticas:
  </para>
<screen><prompt>&gt; </prompt><command>sudo</command> wicked ifup all</screen>
  <note>
   <title>Arquivos de configuração</title>
   <para>
    Os programas <literal>wickedd</literal>, <literal>wicked</literal> ou <literal>nanny</literal> tentarão ler o <filename>/etc/wicked/common.xml</filename> se não tiverem seu próprio arquivo de configuração.
   </para>
  </note>
 </sect3>
 <sect3 xml:id="wicked-configuration-server-xml">
  <title><filename>/etc/wicked/server.xml</filename></title>
  <para>
   O arquivo <filename>/etc/wicked/server.xml</filename> é lido pelo processo de servidor <literal>wickedd</literal> na inicialização. O arquivo armazena as extensões no <filename>/etc/wicked/common.xml</filename>. Além do mais, esse arquivo configura a manipulação de um resolver e o recebimento de informações dos suplicantes <literal>addrconf</literal>, por exemplo, DHCP.
  </para>
  <para>
   É recomendável adicionar as mudanças necessárias nesse arquivo a um arquivo <filename>/etc/wicked/server-local.xml</filename> separado, que é incluído por <filename>/etc/wicked/server.xml</filename>. Usando um arquivo separado, você evita sobregravar as mudanças feitas durante as atualizações de manutenção.
  </para>
 </sect3>
 <sect3 xml:id="wicked-configuration-client-xml">
  <title><filename>/etc/wicked/client.xml</filename></title>
  <para>
   O <filename>/etc/wicked/client.xml</filename> é usado pelo comando <command>wicked</command>. O arquivo especifica o local de um script usado durante a descoberta de dispositivos gerenciados pelo ibft e define os locais das configurações de interface de rede.
  </para>
  <para>
   É recomendável adicionar as mudanças necessárias nesse arquivo a um arquivo <filename>/etc/wicked/client-local.xml</filename> separado, que é incluído por <filename>/etc/wicked/server.xml</filename>. Usando um arquivo separado, você evita sobregravar as mudanças feitas durante as atualizações de manutenção.
  </para>
 </sect3>
 <sect3 xml:id="wicked-configuration-nanny-xml">
  <title><filename>/etc/wicked/nanny.xml</filename></title>
  <para>
   O <filename>/etc/wicked/nanny.xml</filename> configura tipos de camadas de link. É recomendável adicionar a configuração específica a um arquivo <filename>/etc/wicked/nanny-local.xml</filename> separado para evitar perda das mudanças durante as atualizações de manutenção.
  </para>
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-ifcfg">
  <title><filename>/etc/sysconfig/network/ifcfg-*</filename></title>
  <para>
   Estes arquivos contêm as configurações tradicionais das interfaces de rede.
  </para>
  <note>
   <title><command>wicked</command> e os arquivos <filename>ifcfg-*</filename></title>
   <para>
    O <command>wicked</command> lerá esses arquivos se você especificar o prefixo <literal>compat:</literal>. De acordo com a configuração padrão do <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> no <filename>/etc/wicked/client.xml</filename>, o <command>wicked</command> testa esses arquivos antes dos arquivos de configuração XML em <filename>/etc/wicked/ifconfig</filename>.
   </para>
   <para>
    O switch <option>--ifconfig</option> é fornecido sobretudo para fins de teste. Se especificado, as fontes de configuração padrão definidas em <filename>/etc/wicked/ifconfig</filename> não serão aplicadas.
   </para>
  </note>
  <para>
   Os arquivos <filename>ifcfg-*</filename> incluem informações, como o modo de início e o endereço IP. Os parâmetros possíveis são descritos na página de manual de <systemitem>ifup</systemitem>. Além disso, a maioria das variáveis dos arquivos <filename>dhcp</filename> e <filename>wireless</filename> poderá ser usada nos arquivos <filename>ifcfg-*</filename> se uma configuração geral for usada para apenas uma interface. Entretanto, a maioria das variáveis de <filename>/etc/sysconfig/network/config</filename> é global e não pode ser anulada nos arquivos <literal>ifcfg</literal>. Por exemplo, as variáveis <systemitem>NETCONFIG_*</systemitem> são globais.
  </para>
  <para>

   Para configurar as interfaces <systemitem>macvlan</systemitem> e <systemitem>macvtab</systemitem>, consulte as páginas de manual de <systemitem>ifcfg-macvlan</systemitem> e <systemitem>ifcfg-macvtap</systemitem>. Por exemplo, para a interface macvlan, insira <filename>ifcfg-macvlan0</filename> com as seguintes configurações:
  </para>
<screen>STARTMODE='auto'
MACVLAN_DEVICE='eth0'
#MACVLAN_MODE='vepa'
#LLADDR=02:03:04:05:06:aa</screen>
  <para>
   Para saber sobre o <filename>ifcfg.template</filename>, consulte <xref linkend="sec-network-manconf-files-config-etc"/>.
  </para>
  
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-config-etc">
  <title><filename>/etc/sysconfig/network/config</filename>, <filename>/etc/sysconfig/network/dhcp</filename> e <filename>/etc/sysconfig/network/wireless</filename></title>
  <para>
   O arquivo <filename>config</filename> contém configurações gerais para o comportamento de <command>ifup</command>, <command>ifdown</command> e <command>ifstatus</command>. O <filename>dhcp</filename> contém configurações para DHCP, e o <filename>wireless</filename> para placas LAN wireless. Nos três arquivos de configuração, as variáveis estão em forma de comentário. Algumas variáveis de <filename>/etc/sysconfig/network/config</filename> também podem ser usadas nos arquivos <filename>ifcfg-*</filename>, nos quais recebem prioridade mais alta. O arquivo <filename>/etc/sysconfig/network/ifcfg.template</filename> lista as variáveis que podem ser especificadas para cada interface. Entretanto, a maioria das variáveis de <filename>/etc/sysconfig/network/config</filename> é global e não pode ser anulada em arquivos ifcfg. Por exemplo, as variáveis <systemitem>NETWORKMANAGER</systemitem> ou <systemitem>NETCONFIG_*</systemitem> são globais.
  </para>
  <note>

   <title>Usando o DHCPv6</title>
   <para>
    <phrase os="sles;sled">No SUSE Linux Enterprise 11, o DHCPv6 costumava funcionar mesmo nas redes em que os RAs (Router Advertisements – Anúncios de Roteador) IPv6 não estavam configurados apropriadamente. A partir do SUSE Linux Enterprise 12,</phrase> o DHCPv6 exige que pelo menos um dos roteadores na rede envie RAs indicando que a rede é gerenciada por DHCPv6.
   </para>
   <para>
    Para as redes nas quais o roteador não pode ser configurado corretamente, a opção <literal>ifcfg</literal> permite ao usuário anular esse comportamento especificando <literal>DHCLIENT6_MODE=&apos;managed’</literal> no arquivo <literal>ifcfg</literal>. É possível também ativar essa correção alternativa com um parâmetro de boot no sistema de instalação:
   </para>
<screen>ifcfg=eth0=dhcp6,DHCLIENT6_MODE=managed</screen>
  </note>
 </sect3>

 <sect3 xml:id="sec-network-manconf-files-routes">
  <title><filename>/etc/sysconfig/network/routes</filename> e <filename>/etc/sysconfig/network/ifroute-*</filename></title>
  <para>
   O roteamento estático dos pacotes TCP/IP é determinado pelos arquivos <filename>/etc/sysconfig/network/routes</filename> e <filename>/etc/sysconfig/network/ifroute-*</filename>. Todas as rotas estáticas exigidas pelas várias tarefas do sistema podem ser especificadas em <filename>/etc/sysconfig/network/routes</filename>: rotas para um host, rotas para um host via gateway e rotas para uma rede. Para cada interface que precisa de roteamento individual, defina um arquivo de configuração adicional: <filename>/etc/sysconfig/network/ifroute-*</filename>. Substitua o curinga (<literal>*</literal>) pelo nome da interface. As entradas nos arquivos de configuração de roteamento terão esta aparência:
  </para>
<screen># Destination     Gateway           Netmask            Interface  Options</screen>

  <para>
   O destino da rota está na primeira coluna. Essa coluna pode conter o endereço IP de uma rede ou host ou, no caso de servidores de nomes <emphasis>acessíveis</emphasis>, o nome completo da rede ou do host. A rede deve ser gravada em notação CIDR (endereço com o comprimento do prefixo de roteamento associado), como 10.10.0.0/16 para rotas IPv4 ou fc00::/7 para rotas IPv6. A palavra-chave <literal>default</literal> indica que a rota é o gateway padrão na mesma família de endereços do gateway. Para dispositivos sem gateway, use destinos explícitos 0.0.0.0/0 ou ::/0.
  </para>
  <para>
   A segunda coluna contém o gateway padrão ou um gateway por meio do qual um host ou uma rede podem ser acessados.
  </para>
  <para>
   A terceira coluna foi descontinuada; ela antes incluía a máscara de rede IPv4 do destino. Para rotas IPv6, rota padrão ou ao usar o comprimento do prefixo (notação CIDR) na primeira coluna, digite um traço (<literal>-</literal>) aqui.
  </para>

  <para>
   A quarta coluna contém o nome da interface. Se você a deixar vazia usando um traço (<literal>-</literal>), poderá provocar um comportamento não intencional em <filename>/etc/sysconfig/network/routes</filename>. Para obter mais informações, consulte a página de manual de <systemitem>routes</systemitem>.
  </para>
  <para>
   Uma quinta coluna (opcional) pode ser usada para inserir opções especiais. Para obter detalhes, consulte a página de manual de <systemitem>routes</systemitem>.
  </para>
  <example>
   <title>Interfaces de rede comuns e algumas rotas estáticas</title>
<screen># --- IPv4 routes in CIDR prefix notation:
# Destination     [Gateway]         -                  Interface
127.0.0.0/8       -                 -                  lo
204.127.235.0/24  -                 -                  eth0
default           204.127.235.41    -                  eth0
207.68.156.51/32  207.68.145.45     -                  eth1
192.168.0.0/16    207.68.156.51     -                  eth1

# --- IPv4 routes in deprecated netmask notation"
# Destination     [Dummy/Gateway]   Netmask            Interface
#
127.0.0.0         0.0.0.0           255.255.255.0      lo
204.127.235.0     0.0.0.0           255.255.255.0      eth0
default           204.127.235.41    0.0.0.0            eth0
207.68.156.51     207.68.145.45     255.255.255.255    eth1
192.168.0.0       207.68.156.51     255.255.0.0        eth1

# --- IPv6 routes are always using CIDR notation:
# Destination     [Gateway]                -           Interface
2001:DB8:100::/64 -                        -           eth0
2001:DB8:100::/32 fe80::216:3eff:fe6d:c042 -           eth0</screen>
  </example>
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-resolv">
  <title><filename>/var/run/netconfig/resolv.conf</filename></title>
  <para>
   O domínio ao qual o host pertence está especificado em <filename>/var/run/netconfig/resolv.conf</filename> (palavra-chave <systemitem>search</systemitem>). É possível especificar até seis domínios com um total de 256 caracteres com a opção <systemitem>search</systemitem>. Durante a resolução de um nome incompleto, uma tentativa de gerar um nome será feita anexando as entradas de <systemitem>search</systemitem> individuais. É possível especificar até três servidores de nomes com a opção <systemitem>nameserver</systemitem>, cada um em sua própria linha. Os comentários são precedidos por cerquilha ou ponto-e-vígula (<literal>#</literal> ou <literal>;</literal>). Como um exemplo, consulte o <xref linkend="dat-net-etc-resolv-conf"/>.
  </para>
  <para>
   Entretanto, o <filename>/etc/resolv.conf</filename> não deve ser editado manualmente. Ele será gerado pelo script <command>netconfig</command> e é um link simbólico para <filename>/run/netconfig/resolv.conf</filename>. Para definir configurações DNS estáticas sem usar o YaST, edite as variáveis apropriadas manualmente no arquivo <filename>/etc/sysconfig/network/config</filename>:
  </para>
  <variablelist>
   <varlistentry>
    <term><systemitem>NETCONFIG_DNS_STATIC_SEARCHLIST</systemitem>
    </term>
    <listitem>
     <para>
      lista de nomes de domínios DNS usados para pesquisa de nomes de host
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem>NETCONFIG_DNS_STATIC_SERVERS</systemitem>
    </term>
    <listitem>
     <para>
      lista de endereços IP de servidor de nomes usados para pesquisa de nomes de host
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem>NETCONFIG_DNS_FORWARDER</systemitem>
    </term>
    <listitem>
     <para>
      o nome do encaminhador de DNS que precisa ser configurado, por exemplo <literal>bind</literal> ou <literal>resolver</literal>
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><systemitem>NETCONFIG_DNS_RESOLVER_OPTIONS</systemitem>
    </term>
    <listitem>
     <para>
      opções arbitrárias que serão gravadas em <filename>/var/run/netconfig/resolv.conf</filename>, por exemplo:
     </para>
<screen>debug attempts:1 timeout:10</screen>
     <para>
      Para obter mais informações, consulte a página de manual de <literal>resolv.conf</literal>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><systemitem>NETCONFIG_DNS_RESOLVER_SORTLIST</systemitem>
    </term>
    <listitem>
     <para>
      lista com até 10 itens, por exemplo:
     </para>
<screen>130.155.160.0/255.255.240.0 130.155.0.0</screen>
     <para>
      Para obter mais informações, consulte a página de manual de <systemitem>resolv.conf</systemitem>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   Para desabilitar a configuração do DNS usando o netconfig, defina <literal>NETCONFIG_DNS_POLICY=&apos;&apos;</literal>. Para obter mais informações sobre o <command>netconfig</command>, consulte a página de manual do <systemitem>netconfig(8)</systemitem> (<command>man 8 netconfig</command>).
  </para>
  <example xml:id="dat-net-etc-resolv-conf">
   <title><filename>/var/run/netconfig/resolv.conf</filename></title>
<screen># Our domain
search example.com
#
# We use dns.example.com (192.168.1.116) as nameserver
nameserver 192.168.1.116</screen>
  </example>
 </sect3>

 <sect3 xml:id="sec-network-manconf-netconfig">
  <title><filename>/sbin/netconfig</filename></title>
  <para>
   O <command>netconfig</command> é uma ferramenta modular destinada a gerenciar configurações de rede adicionais. Ele funde as configurações definidas estaticamente com as configurações fornecidas pelos mecanismos de configuração automática, como DHCP ou PPP, de acordo com uma política predefinida. As mudanças necessárias são aplicadas ao sistema chamando-se os módulos do netconfig responsáveis pela modificação de um arquivo de configuração e pela reinicialização de um serviço ou uma ação semelhante.
  </para>
  <para>
   O <command>netconfig</command> reconhece três ações principais. Os comandos <command>netconfig modify</command> e <command>netconfig remove</command> são usados por daemons, como DHCP ou PPP, para fornecer ou remover configurações do netconfig. Apenas o comando <command>netconfig update</command> está disponível para o usuário:
  </para>
  <variablelist>
   <varlistentry>
    <term><command>modify</command>
    </term>
    <listitem>
     <para>
      O comando <command>netconfig modify</command> modifica as configurações dinâmicas específicas de interface e serviço, além de atualizar a configuração da rede. O netconfig lê as configurações da entrada padrão ou de um arquivo especificado pela opção <option>--lease-file <replaceable>NOME_DE_ARQUIVO</replaceable></option> e as armazena internamente até a próxima reinicialização do sistema (ou a próxima ação modify ou remove). As configurações que já existirem para a mesma combinação de interface e serviço serão sobregravadas. A interface é especificada pelo parâmetro <option>-i <replaceable>NOME_DA_INTERFACE</replaceable></option>. O serviço é especificado pelo parâmetro <option>-s <replaceable>NOME_DO_SERVIÇO</replaceable></option>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>remove</command>
    </term>
    <listitem>
     <para>
      O comando <command>netconfig remove</command> remove as configurações dinâmicas fornecidas por uma ação de edição para a combinação de interface e serviço especificada e atualiza a configuração da rede. A interface é especificada pelo parâmetro <option>-i <replaceable>NOME_DA_INTERFACE</replaceable></option>. O serviço é especificado pelo parâmetro <option>-s <replaceable>NOME_DO_SERVIÇO</replaceable></option>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>update</command>
    </term>
    <listitem>
     <para>

      O comando <command>netconfig update</command> atualiza a configuração da rede usando as configurações atuais. Isso é útil quando a política ou a configuração estática é mudada. Use o parâmetro <option>-m <replaceable>TIPO_DE_MÓDULO</replaceable></option> para atualizar apenas um serviço especificado (<systemitem>dns</systemitem>, <systemitem>nis</systemitem> ou <systemitem>ntp</systemitem>).
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   A política do netconfig e as configurações estáticas são definidas manualmente ou por meio do YaST no arquivo <filename>/etc/sysconfig/network/config</filename>. As configurações dinâmicas fornecidas pelas ferramentas de configuração automática, como DHCP ou PPP, são entregues diretamente por essas ferramentas com as ações <command>netconfig modify</command> e <command>netconfig remove</command>. Quando o NetworkManager está habilitado, o netconfig (no modo de política <literal>auto</literal>) usa apenas as configurações do NetworkManager, ignorando as configurações de qualquer outra interface configurada pelo método tradicional ifup. Se o NetworkManager não fornecer nenhuma configuração, as configurações estáticas serão usadas como fallback. Não há suporte para a utilização mista do NetworkManager nem para o método <command>wicked</command>.
  </para>
  <para>
   Para obter mais informações sobre o <command>netconfig</command>, consulte <command>man 8 netconfig</command>.
  </para>
 </sect3>

 <sect3 xml:id="sec-network-manconf-hosts">
  <title><filename>/etc/hosts</filename></title>
  <para>
   Neste arquivo, mostrado em <xref linkend="dat-net-etc-hosts"/>, os endereços IP foram atribuídos a nomes de host. Se nenhum servidor de nomes for implementado, todos os hosts nos quais uma conexão IP for configurada precisarão ser listados aqui. Para cada host, digite uma linha no arquivo com o endereço IP, o nome completo do host e o nome de host. O endereço IP precisa estar no início da linha e as entradas separadas por espaços vazios e guias. Comentários são sempre precedidos pelo sinal <literal>#</literal>.
  </para>
  <example xml:id="dat-net-etc-hosts">
   <title><filename>/etc/hosts</filename></title>
<screen>127.0.0.1 localhost
192.168.2.100 jupiter.example.com jupiter
192.168.2.101 venus.example.com venus</screen>
  </example>
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-networks">
  <title><filename>/etc/networks</filename></title>
  <para>
   Aqui, os nomes de rede são convertidos em endereços de rede. O formato é semelhante ao do arquivo <filename>hosts</filename>, exceto que os nomes de rede precedem os endereços. Consulte a <xref linkend="dat-net-networks"/>.
  </para>
  <example xml:id="dat-net-networks">
   <title><filename>/etc/networks</filename></title>
<screen>loopback     127.0.0.0
localnet     192.168.0.0</screen>
  </example>
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-host">
  <title><filename>/etc/host.conf</filename></title>
  <para>
   Resolução de nomes — a conversão de nomes de host e de rede através da biblioteca <emphasis>resolver</emphasis> é controlada por esse arquivo. Esse arquivo é usado somente para programas vinculados a libc4 ou libc5. Para programas glibc atuais, consulte as configurações em <filename>/etc/nsswitch.conf</filename>. Cada parâmetro deve ser sempre digitado em uma linha separada. Os comentários são precedidos pelo sinal <literal>#</literal>. <xref linkend="tab-net-param-hostconf"/> mostra os parâmetros disponíveis. Uma amostra de <filename>/etc/host.conf</filename> é mostrada no <xref linkend="dat-net-etc-hostconf"/>.
  </para>
  <table xml:id="tab-net-param-hostconf">
   <title>Parâmetros para /etc/host.conf</title>
   <tgroup cols="2" align="left">
    <tbody>
     <row>
      <entry>
       <para>
        order <emphasis>hosts</emphasis>, <emphasis>bind</emphasis>
       </para>
      </entry>
      <entry>
       <para>
        Especifica em que ordem os serviços são acessados para a resolução de nomes. Os argumentos disponíveis são (separados por espaços vazios ou vírgulas):
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para/>
      </entry>
      <entry>
       <para>
        <emphasis>hosts</emphasis>: pesquisa o arquivo <filename>/etc/hosts</filename>
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para/>
      </entry>
      <entry>
       <para>
        <emphasis>bind</emphasis>: acessa um servidor de nomes
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para/>
      </entry>
      <entry>
       <para>
        <emphasis>nis</emphasis>: usa o NIS
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        multi <emphasis>on</emphasis>/<emphasis>off</emphasis>
       </para>
      </entry>
      <entry>
       <para>
        Define se um host digitado em <filename>/etc/hosts</filename> pode ter vários endereços IP.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        nospoof <emphasis>on</emphasis> spoofalert <emphasis>on</emphasis>/<emphasis>off</emphasis>
       </para>
      </entry>
      <entry>
       <para>
        Esses parâmetros influenciam o <emphasis>spoof</emphasis> do servidor de nomes, mas não exercem qualquer influência na configuração da rede.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        trim <emphasis>domainname</emphasis>
       </para>
      </entry>
      <entry>
       <para>
        O nome de domínio especificado será separado do nome de host após a resolução de nome de host (desde que o nome de host inclua o nome de domínio). Essa opção é útil apenas quando os nomes do domínio local estão no arquivo <filename>/etc/hosts</filename>, mas ainda devem ser reconhecidos com os nomes de domínio anexados.
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
  <example xml:id="dat-net-etc-hostconf">
   <title><filename>/etc/host.conf</filename></title>
<screen># We have named running
order hosts bind
# Allow multiple address
multi on</screen>
  </example>
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-nsswitch">
  <title><filename>/etc/nsswitch.conf</filename></title>
  <para>
   O lançamento do GNU C Library 2.0 foi acompanhado pelo lançamento do <emphasis>NSS</emphasis> (Name Service Switch). Consulte a página de manual do <systemitem>nsswitch.conf(5)</systemitem> e o <emphasis>The GNU C Library Reference Manual</emphasis> (Manual de Referência da Biblioteca GNU C) para obter mais detalhes.
  </para>
  <para>
   A ordem das consultas é definida no arquivo <filename>/etc/nsswitch.conf</filename>. Uma amostra do <filename>nsswitch.conf</filename> é mostrada no <xref linkend="dat-net-nsswitchconf"/>. Comentários são precedidos pelo sinal <literal>#</literal>. Nesse exemplo, a entrada no banco de dados <filename>hosts</filename> significa que uma solicitação foi enviada para <filename>/etc/hosts</filename> (<option>arquivos</option>) através do DNS.
  </para>
  <example xml:id="dat-net-nsswitchconf">
   <title><filename>/etc/nsswitch.conf</filename></title>
<screen>passwd:     compat
group:      compat

hosts:      files dns
networks:   files dns

services:   db files
protocols:  db files
rpc:        files
ethers:     files
netmasks:   files
netgroup:   files nis
publickey:  files

bootparams: files
automount:  files nis
aliases:    files nis
shadow:     compat
</screen>
  </example>
  <para>
   Os <quote>bancos de dados</quote> disponíveis em NSS estão listados na <xref linkend="tab-net-nnswitch-db"/>. As opções de configuração para bancos de dados NSS estão listadas na <xref linkend="tab-net-nnswitch-conf"/>.
  </para>
  <table xml:id="tab-net-nnswitch-db">
   <title>Bancos de dados disponíveis por /etc/nsswitch.conf</title>
   <tgroup cols="2" align="left">
    <tbody>
     <row>
      <entry>
       <para>
        <option>aliases</option>
       </para>
      </entry>
      <entry>
       <para>
        Álias de correio implementados por <filename>sendmail</filename>; consulte <command>man</command> <option>5 aliases</option>.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>ethers</option>
       </para>
      </entry>
      <entry>
       <para>
        Endereços de Ethernet.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>netmasks</option>
       </para>
      </entry>
      <entry>
       <para>
        Lista de redes e suas máscaras de sub-rede. Apenas necessário quando se usa sub-redes.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>group</option>
       </para>
      </entry>
      <entry>
       <para>
        Grupos de usuários utilizados por <filename>getgrent</filename>. Consulte também a página de manual para <command>group</command>.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>hosts</option>
       </para>
      </entry>
      <entry>
       <para>
        Nomes de host e endereços IP usados por <filename>gethostbyname</filename> e funções similares.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>netgroup</option>
       </para>
      </entry>
      <entry>
       <para>
        Listas de usuários e hosts válidos na rede para controlar permissões de acesso. Consulte a página de manual do <systemitem>netgroup(5)</systemitem>.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>networks</option>
       </para>
      </entry>
      <entry>
       <para>
        Nomes e endereços de redes, usados por <filename>getnetent</filename>.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>publickey</option>
       </para>
      </entry>
      <entry>
       <para>
        Chaves públicas e secretas de Secure_RPC usadas pelo NFS e NIS+.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>passwd</option>
       </para>
      </entry>
      <entry>
       <para>
        Senhas de usuários usadas por <filename>getpwent</filename>. Consulte a página de manual do <systemitem>passwd(5)</systemitem>.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>protocols</option>
       </para>
      </entry>
      <entry>
       <para>
        Protocolos de rede usados por <filename>getprotoent</filename>. Consulte a página de manual do <systemitem>protocols(5)</systemitem>.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>rpc</option>
       </para>
      </entry>
      <entry>
       <para>
        Nomes e endereços de RPC (Remote Procedure Call) usados por <filename>getrpcbyname</filename> e funções similares.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>serviços</option>
       </para>
      </entry>
      <entry>
       <para>
        Serviços de rede, usados por <filename>getservent</filename>.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>shadow</option>
       </para>
      </entry>
      <entry>
       <para>
        Senhas transitórias de usuários, usadas por <filename>getspnam</filename>; consulte a página de manual do <option>shadow(5)</option>.
       </para>
      </entry>
     </row>

    </tbody>
   </tgroup>
  </table>
  <table xml:id="tab-net-nnswitch-conf">
   <title>Opções de configuração para <quote>bancos de dados</quote> NSS</title>
   <tgroup cols="2" align="left">
    <tbody>
     <row>
      <entry>
       <para>
        <option>files</option>
       </para>
      </entry>
      <entry>
       <para>
        arquivos de acesso direto, por exemplo, <filename>/etc/aliases</filename>
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>db</option>
       </para>
      </entry>
      <entry>
       <para>
        acesso através de um banco de dados
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>nis</option>, <option>nisplus</option>
       </para>
      </entry>
      <entry>
       <para>
        NIS, consulte também o <xref linkend="cha-nis"/>
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>dns</option>
       </para>
      </entry>
      <entry>
       <para>
        só pode ser usada como extensão de <option>hosts</option> e <option>networks</option>
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>compat</option>
       </para>
      </entry>
      <entry>
       <para>
        só pode ser usada como extensão de <option>passwd</option>, <option>shadow</option> e <option>group</option>
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-nscd">
  <title><filename>/etc/nscd.conf</filename></title>
  <para>
   Esse arquivo é usado para configurar o nscd (name service cache daemon). Consulte as páginas de manual de <systemitem>nscd(8)</systemitem> e <systemitem>nscd.conf(5)</systemitem>. Por padrão, as entradas do sistema de <option>passwd</option>, <option>groups</option> e <option>hosts</option>são armazenadas em cache pelo nscd. Isso é importante para o desempenho dos serviços de diretório, como NIS e LDAP; pois, do contrário, a conexão de rede precisará ser usada para todo acesso a nomes, grupos ou hosts.
   
  </para>
  <para>
   Se o armazenamento em cache de <option>passwd</option> estiver ativado, normalmente levará quinze segundos para que um usuário local recentemente adicionado seja reconhecido. Reduza este tempo de espera reiniciando o nscd com:
  </para>
<screen><prompt>&gt; </prompt><command>sudo</command> systemctl restart nscd</screen>
 </sect3>
 <sect3 xml:id="sec-network-manconf-files-hostname">
  <title><filename>/etc/HOSTNAME </filename></title>
  <para>
   <filename>/etc/HOSTNAME</filename> contém o FQHN (fully qualified host name – nome completo do host). O nome completo do host é o nome de host com o nome de domínio anexado. Este arquivo deve incluir apenas uma linha (na qual o nome de host é definido). Ele é lido durante a inicialização da máquina.
  </para>
 </sect3>
</sect2>
