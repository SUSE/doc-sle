<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="art_raspberry-pi.xml" role="sbp" version="5.0" xml:id="article-raspberry-pi" xml:lang="zh-cn">
 <info>
  <title><citetitle>Raspberry Pi 快速入门</citetitle></title>
  <productname><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> <phrase role="productnumber"><phrase os="sles;sled">15 SP4</phrase></phrase></productname>
  <author><personname><firstname>Fabian</firstname><surname>Vogt, Release Engineer, SUSE</surname></personname>
  </author>
  <author><personname><firstname>Jay</firstname><surname>Kruemcke, Product Manager, SUSE</surname></personname>
  </author>
  <author><personname><firstname>Andreas</firstname><surname>Faerber, Project Manager, SUSE</surname></personname>
  </author>
  <date><?dbtimestamp format="Y"?> 年 <?dbtimestamp format="B" padding="0"?> 月 <?dbtimestamp format="d" padding="0"?> 日
</date>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker>
    <dm:url>https://bugzilla.suse.com/enter_bug.cgi</dm:url>
    <dm:component>Documentation</dm:component>
    <dm:product>SUSE Linux Enterprise Server 15 SP4</dm:product>
    <dm:assignee>taroth@suse.com</dm:assignee>
   </dm:bugtracker>
   
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
  <abstract>
   <para>
    本指南概述了 Raspberry Pi* 平台上的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase>，并且将引导您完成设置过程。
   </para>
  </abstract>
 </info>
 <sect1 xml:id="sec-rpi-platform">
  <title>平台概述</title>

  <para>
   要使用 Raspberry Pi 上的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase>，需要有 64 位 Arm* 兼容的 Raspberry Pi*。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> <phrase role="productnumber"><phrase os="sles;sled">15 SP4</phrase></phrase> 经测试可在 Raspberry Pi 3 A+、B、B+ 型板和 Raspberry Pi 4 B 型板以及 MyPi Industrial IoT Integrator Board 上的 Raspberry Pi Compute 3 和 3+ 型上正常运行。
  </para>

  <sect2 xml:id="sec-rpi-platform-system">
   <title>Raspberry Pi 3 B 型的技术细节</title>
   <para>
    Raspberry Pi 是基于 Broadcom* 出品的系统级芯片 (SoC) 开发的小型单板计算机系列，可在板上连接各种外设。
   </para>
   <figure xml:id="fig-rpi-platform-system-board">
    <title>Raspberry Pi 3 B 型连接器 © Efa / English Wikipedia / CC BY-SA 3.0 概览</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="rpi-3b-overview-2.png" width="80%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="rpi-3b-overview-2.png" width="80%" format="PNG"/>
     </imageobject>
     <textobject><phrase>Overview of the Raspberry Pi 3 Model B connectors © Efa /
              English Wikipedia / CC BY-SA 3.0</phrase>
     </textobject>
    </mediaobject>
   </figure>
   <figure xml:id="fig-rpi-platform-system-photo">
    <title>Raspberry Pi 3 B 型连接器 © Evan-Amos / own work / public domain 照片</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="rpi-3b-photo.png" width="80%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="rpi-3b-photo.png" width="80%" format="PNG"/>
     </imageobject>
     <textobject><phrase>Photo of the Raspberry Pi 3 Model B connectors © Evan-Amos
              / Own work / Public Domain</phrase>
     </textobject>
    </mediaobject>
   </figure>
   <variablelist>
    <title>Raspberry Pi 3 B/B+ 型的精选功能</title>
    <varlistentry>
     <term>CPU</term>
     <listitem>
      <para>
       Broadcom BCM2837 SoC 包含一个四核 Arm* Cortex*-A53 应用程序处理器，支持 Armv8 32 位和 64 位指令集。使用默认配置时频率可达 1.2 GHz。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>RAM</term>
     <listitem>
      <para>
       板后搭载 1024 MiB DDR2 内存。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>显示</term>
     <listitem>
      <para>
       Broadcom* VideoCore* IV 提供 OpenGL* ES 2.0 支持。可通过 HDMI*、复合端口（TRRS 插孔）或 MIPI* DSI*（带状缆线）连接显示器。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>以太网</term>
     <listitem>
      <para>
       板上的 USB 以太网控制器提供 10/100 Mbit/s 以太网（B 型）或 10/100/1000 Mbit/s 以太网，最大吞吐量可达 300 Mbit/s（B+ 型）。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>WLAN</term>
     <listitem>
      <para>
       B 型上的 BCM43438 芯片支持 IEEE-802.11b、IEEE-802.11g 和 IEEE-802.11n，频段为 2.4 GHz。它还提供蓝牙 2.0 到 4.1（低耗电）。B+ 型上的 BCM43455 芯片支持 IEEE-802.11b、IEEE-802.11g、IEEE-802.11n 和 IEEE-802.11ac，频段为 2.4 GHz 和 5 GHz。它还提供蓝牙 4.2（低耗电）。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>储存</term>
     <listitem>
      <para>
       microSDHC 卡插槽中可插入内存卡作为主引导媒体。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>电源</term>
     <listitem>
      <para>
       Raspberry Pi 3 的主电源为 Micro USB 连接器。如果您的 Raspberry Pi 附带电源，建议仅使用附带的电源。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>USB</term>
     <listitem>
      <para>
       共有四个 USB 2.0 端口。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>连接器</term>
     <listitem>
      <para>
       板上还提供了一个 0.1 英寸多功能引脚接头。请注意，<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase>
       <phrase role="productnumber"><phrase os="sles;sled">15 SP4</phrase></phrase> 中并未公开此接头的所有功能。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="sec-rpi-platform-software">
   <title><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> <phrase role="productnumber"><phrase os="sles;sled">15 SP4</phrase></phrase></title>
   <para>
    <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> 是首款完全支持用于 Raspberry Pi 的商用 Linux 操作系统产品。您可以购买订阅，以接收发布的所有 Bug 和安全修复、功能更新并获得来自 SUSE 全球支持的技术协助。要了解有关订阅和支持选项的详细信息，请访问 <link xlink:href="https://www.suse.com/support/programs/subscriptions/?id=SUSE_Linux_Enterprise_Server"/>。
   </para>
   <note>
    <title>试用版</title>
    <para>
     如果您要试用 Raspberry Pi 上的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> <phrase role="productnumber"><phrase os="sles;sled">15 SP4</phrase></phrase>，SUSE 将为您提供试用版。您可以在 60 天内免费获得补丁和更新。要获得此免费试用版，您必须使用您的 Customer Center 帐户身份凭证登录 SUSE Customer Center（网址为 <link xlink:href="https://scc.suse.com/"/>）。如果您没有 Customer Center 帐户，必须创建一个才能使用试用版。
    </para>
   </note>
   <bridgehead>系统最低安装要求</bridgehead>
   <itemizedlist>
    <listitem>
     <para>
      Raspberry Pi 3 A+、B 或 B+ 型，或 Raspberry Pi 4 B 型。
     </para>
    </listitem>
    <listitem>
     <para>
      容量最少为 8 GB 的 microSD 卡。
     </para>
    </listitem>
    <listitem>
     <para>
      USB 键盘、鼠标。
     </para>
    </listitem>
    <listitem>
     <para>
      HDMI 缆线和监视器。
     </para>
    </listitem>
    <listitem>
     <para>
      最低 2.5 A 的电源。
     </para>
    </listitem>
   </itemizedlist>
   <sect3 xml:id="sec-rpi-platform-software-rpios">
    <title>与 Raspberry Pi 操作系统的差别</title>
    <para>
     Raspberry Pi 操作系统是 Raspberry Pi 事实上的默认发行套件。以下段落简要说明了 Raspberry Pi 上的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> 与 Raspberry Pi 操作系统之间的差别。
    </para>
    <variablelist>
     <varlistentry>
      <term>基于上游内核</term>
      <listitem>
       <para>
        Raspberry Pi 操作系统使用专门针对 Raspberry Pi 进行过修改的内核。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> 使用适用于 AArch64 的默认 SUSE Linux Enterprise 内核，该内核源自官方主线内核。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>

      <term>AArch64 指令集</term>
      <listitem>
       <para>
        Raspberry Pi 上的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> 是首套使用 AArch64 指令集的 Raspberry Pi 发行套件。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>引导过程</term>
      <listitem>
       <para>
        在 Raspberry Pi 操作系统中会直接装载内核。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> 不支持装载内核，而是使用 U-Boot 引导加载器来提供 EFI 引导环境。GRUB2 EFI 二进制文件会被链式装载，以提供图形引导屏幕。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>根文件系统</term>
      <listitem>
       <para>
        适用于 Raspberry Pi 的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> 使用 Btrfs 作为根分区的文件系统。为使 SD 卡性能更佳，默认会启用压缩。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>

   </sect3>
   <sect3 xml:id="sec-rpi-platform-software-yast">
    <title>YaST</title>
    <para>
     YaST 是 SUSE Linux Enterprise 的安装和配置框架。它具有易于使用的灵活图形界面，并可在安装期间及安装之后快速自定义您的系统，因此广受欢迎。YaST 可用于配置整个系统：您可以配置硬件、设置网络、管理系统服务以及调整安全设置。所有这些任务都可以从 YaST 控制中心访问。要启动它，请在菜单中选择 YaST，或运行 <command>xdg-su -c yast2</command> 命令。系统将提示您输入 <systemitem class="username">root</systemitem> 用户的口令。
    </para>
    <figure xml:id="fig-rpi-yast2">
     <title>YaST 控制中心</title>
     <mediaobject>
      <imageobject>
       <imagedata fileref="rpi_yast2.png" width="100%"/>
      </imageobject>
      <textobject><phrase>The YaST control center</phrase>
      </textobject>
     </mediaobject>
    </figure>
    <para>
     YaST 启动时会显示可用模块的概览（<xref linkend="fig-rpi-yast2"/>）。单击图标即可打开相应模块。
    </para>
   </sect3>
   <sect3 xml:id="sec-rpi-platform-software-zypper">
    <title>Zypper</title>
    <para>
     Zypper 是 SUSE Linux Enterprise 的软件包管理器。该工具可安装、更新和去除软件包以及管理软件源。
    </para>
    <para>
     一般的 Zypper 调用语法如下：
    </para>
<screen>zypper <option>[global-options]</option> <replaceable>command</replaceable> <option>[command-options]</option><option>[arguments]</option> ...</screen>
    <note>
     <title>短命令格式</title>
     <para>
      大多数命令都有长短两种格式。使用 <command>zypper --help</command> 可查看概览。
     </para>
    </note>
    <variablelist>
     <varlistentry>
      <term>安装软件包</term>
      <listitem>
<screen><prompt role="root"># </prompt>zypper install mplayer</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>去除软件包</term>
      <listitem>
<screen><prompt role="root"># </prompt>zypper remove mplayer</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>列出可用补丁</term>
      <listitem>
<screen><prompt>&gt; </prompt>zypper list-patches</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>安装可用补丁</term>
      <listitem>
<screen><prompt role="root"># </prompt>zypper patch</screen>
      </listitem>
     </varlistentry>
    </variablelist>
    <note>
     <title>安装软件更新</title>
     <para>
      建议使用 YaST 联机更新程序来安装可用的软件更新。要启动该程序，请在 IceWM 菜单的<quote>桌面应用程序</quote>下的<quote>设置</quote>中选择<quote>联机更新</quote>。
     </para>
    </note>
   </sect3>
   <sect3 xml:id="sec-rpi-platform-software-limitations">
    <title>限制</title>
    <variablelist>
     <varlistentry>
      <term>显示未启用硬件加速</term>
      <listitem>
       <para>
        为提高系统稳定性和可靠性，禁用了 X.Org 硬件加速。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
    <para>
     有关其他限制，请参见 <link xlink:href="https://www.suse.com/releasenotes/aarch64/SUSE-SLES/15-SP4/"/> 上的联机版发行说明。
    </para>
   </sect3>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-rpi-installation">
  <title>安装</title>



  <para>
   适用于 Raspberry Pi 的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> 作为 microSD 卡的 XZ 压缩映像文件分发。本章将引导您完成用于首次引导的 microSD 卡的准备过程。如果您已有包含映像的 microSD 卡，则可以跳过本章，直接转到<xref linkend="sec-rpi-firstboot"/>。
  </para>

  <note>
   <title>SD 卡空间要求</title>
   <para>
    建议使用容量至少为 8 GB 的卡。
   </para>

  </note>

  <warning>
   <title>卡上的所有数据都将丢失！</title>
   <para>
    如果执行下面的过程，SD 卡上的所有数据都将被重写，因此会丢失且无法恢复。选择映像写入过程的目标设备时，请务必小心。
   </para>
  </warning>

  <sect2 xml:id="sec-rpi-installation-linux">
   <title>准备 Linux 上的卡</title>
   <para>
    在插入 SD 卡之前及之后，运行 <command>lsblk</command> 命令。两次运行 <command>lsblk</command> 的结果中，应该会有一或多行的内容不同。第一列的第一行是表示您系统中 SD 卡的节点名称。要将映像写入卡中，请使用 <command>dd</command> 命令：
   </para>
<screen>xz -cd <replaceable>IMAGE</replaceable> | dd of=/dev/<replaceable>SDCARDDEV</replaceable> bs=4096</screen>
   <example xml:id="ex-rpi-installation-dd">
    <title>使用 <command>dd</command> 将映像写入卡中</title>
    <para>
     此命令会将映像 <literal>SLES15-SP4-Minimal-Image.aarch64-15.4-RaspberryPi-GM.raw.xz</literal> 解压缩到 SD 卡 <literal>mmcblk0</literal>：
    </para>
<screen><prompt>&gt; </prompt>xz -cd SLES15-SP4-Minimal-Image.aarch64-15.4-RaspberryPi-GM.raw.xz | sudo dd of=/dev/mmcblk0 bs=4096 iflag=fullblock status=progress</screen>
   </example>
  </sect2>

  <sect2 xml:id="sec-rpi-installation-windows">
   <title>准备 Microsoft Windows 操作系统上的卡</title>
   <para>
    下面的步骤将引导您完成将映像安装到 <trademark class="registered">Microsoft</trademark> <trademark class="registered">Windows</trademark> 操作系统上的 SD 卡的过程。您需要满足以下先决条件：
   </para>
   <itemizedlist>
    <listitem>
     <para>
      最新推出的适用于 Raspberry Pi 的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> 映像
     </para>
    </listitem>
    <listitem>
     <para>
      <link xlink:href="http://www.e7z.org/"/> 上提供的 Easy 7-Zip
     </para>
    </listitem>
    <listitem>
     <para>
      <link xlink:href="http://sourceforge.net/projects/win32diskimager/"/> 上提供的 Win32 Disk Imager
     </para>
    </listitem>
   </itemizedlist>
   <procedure xml:id="pro-rpi-installation-windows">
    <step>
     <para>
      使用 Easy 7-Zip 打开下载的映像。将文件内容解压缩到有足够可用空间的目录。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_image_7z.png"/>
       </imageobject>
       <textobject><phrase>7zip extraction dialog</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      运行 Win32 Disk Imager 并选择解压缩的文件作为<guimenu>映像文件</guimenu>。然后，选择正确的驱动器号作为<guimenu>设备</guimenu>。单击<guimenu>写入</guimenu>开始该过程。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_image_win32.png"/>
       </imageobject>
       <textobject><phrase>Win32 Disk Imager Writing Process</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
     <note>
      <title>确定正确的设备</title>
      <para>
       如果您不确定要从列表中选择哪个驱动器号，请取出 SD 卡，然后再次运行 Win32 Disk Imager。消失的选项就是正确的目标设备。
      </para>
     </note>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-rpi-installation-macos">
   <title>准备 macOS 上的卡</title>
   <para>
    下面的步骤将引导您完成将映像安装到 <trademark class="registered">macOS</trademark> 上的 SD 卡的过程。您需要满足以下先决条件：
   </para>
   <itemizedlist>
    <listitem>
     <para>
      最新推出的适用于 Raspberry Pi 的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> 映像
     </para>
    </listitem>
    <listitem>
     <para>
      <link xlink:href="http://unarchiver.c3.cx/unarchiver"/> 上提供的 The Unarchiver
     </para>
    </listitem>
   </itemizedlist>
   <procedure xml:id="pro-rpi-installation-macos">
    <step>
     <para>
      在下载的映像的储存位置打开查找器。使用<guimenu>打开方式</guimenu>选项选择 <emphasis role="strong">The Unarchiver</emphasis> 而不是默认的 <emphasis role="strong">Archive</emphasis> 实用程序，然后将内容解压缩到有足够可用空间的目录。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_image_macos_sles12sp3.jpg"/>
       </imageobject>
       <textobject><phrase>Open the Image with The Unarchiver</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      打开一个终端窗口，然后切换到解压缩的映像的目标目录。在插入 SD 卡之前及之后输入 <command>diskutil list</command>，以确定要使用的设备。
     </para>
    </step>
    <step>
     <para>
      运行 <command>diskutil unmountDisk <replaceable>/dev/diskX</replaceable></command>，其中 X 是上一步中的磁盘号。
     </para>
    </step>
    <step>
     <para>
      运行 <command>sudo dd bs=4096 if=<replaceable>imageFile.raw</replaceable> of=/dev/disk<replaceable>X</replaceable></command>，其中 <replaceable>X</replaceable> 是磁盘号，<replaceable>imageFile.raw</replaceable> 是解压缩的映像的名称。
     </para>
<screen><prompt>&gt; </prompt><command>sudo</command> dd bs=4096 if=SLES15-SP4-Minimal-Image.aarch64-15.4-RaspberryPi-GM.raw.xz of=/dev/disk4
Password:
5550+0 records in
5550+0 records out
5819596800 bytes transferred in 1131.796649 secs (5141910 bytes/sec)
          </screen>
    </step>
    <step>
     <para>
      现在照常卸载磁盘（现标记为 <guimenu>EFI</guimenu>）。
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-rpi-firstboot">
  <title>首次引导</title>

  <para>
  要从已准备好的 microSD 引导 Raspberry Pi，请将卡插入卡槽，然后连接显示器、以太网网线、USB 键盘和鼠标。打开 Raspberry Pi 的电源。如果一切正常，屏幕上应该会显示文本。
  </para>

  <note>
   <title>无鼠标操作</title>
   <para>
    只能用键盘控制 JeOS 首次引导助手。每个用户界面元素附带一个加速键（一个高亮显示的字符）。要激活加速键，请同时按下 <keycap function="alt"/> 和相应的字符。
    
   </para>
  </note>

  <para>
   在首次引导期间，系统将会扩展以利用整个储存卡。此操作可能需要一些时间。
  </para>

  <sect2 xml:id="sec-rpi-firstboot-jeos">
   <title>使用 JeOS 首次引导助手进行初始系统设置</title>
   <para>
    完成引导后，JeOS 首次引导助手将引导您完成初始系统设置。
    </para>
    
    <note>
    <title>通过串行连接运行 JeOS 首次引导助手</title>
    <para>
    要通过串行连接运行 JeOS 首次引导助手向导，需要从 GRUB 2 的内核命令行 <literal>console=ttyS0,115200 console=tty</literal> 中去除 <literal>console=tty</literal>，即使未连接 HDMI 缆线也是如此。
    </para>
    </note>
    <para>
      极简 JeOS 映像没有语言选择选项。助手完成后，您可安装并选择系统区域设置。您可以随时使用 <command>jeos-config</command> 命令启动 JeOS 首次引导助手。
    </para>

   <procedure xml:id="pro-rpi-firstboot-jeos">
    <step>
     <para>
      首先，需要配置键盘布局。使用方向键或第一个字母，然后选择<guimenu>确定</guimenu>。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_first_keyboard.png"/>
       </imageobject>
       <textobject><phrase>JeOS First Boot Assistant showing keyboard
                  configuration on first boot</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      阅读许可协议。您需要接受该协议。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_first_eula.png"/>
       </imageobject>
       <textobject><phrase>JeOS First Boot Assistant displaying the license text</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      使用方向键或第一个字母选择时区。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_first_timezone.png"/>
       </imageobject>
       <textobject><phrase>YaST asking for the time zone</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      选择<guimenu>确定</guimenu>继续。
     </para>
    </step>
    <step>
     <para>
      现在，系统将要求您提供 root 口令。请记住您在此处输入的口令，将来进行管理时需要用到该口令。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_first_root.png"/>
       </imageobject>
       <textobject><phrase>JeOS First Boot Assistant asking you to set a password for the
                  <systemitem class="username">root</systemitem> user</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      再次键入您刚才提供的 root 口令以确认口令。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_first_root_confirm.png"/>
       </imageobject>
       <textobject><phrase>JeOS First Boot Assistant asking you to confirm the password for the
                  <systemitem class="username">root</systemitem> user</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      请注意，您应在安装后注册系统，有关详细说明请参见<xref linkend="sec-rpi-registration"/>。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_first_reg.png"/>
       </imageobject>
       <textobject><phrase>JeOS First Boot Assistant showing registration
                  instructions</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
     <note>
      <title>延迟注册</title>
      <para>
       在使用 <emphasis role="italic">SUSEConnect</emphasis> 注册前，您将不会收到更新或补丁。
      </para>
     </note>
    </step>
    <step>
     <para>
      选择<guimenu>确定</guimenu>继续。
     </para>
    </step>
    <step>
     <para>
      最后，系统会提供用于配置无线网络的选项。如果您有有线以太网连接，则可选择<guimenu>否</guimenu>跳过此步骤。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_first_wifi.png"/>
       </imageobject>
       <textobject><phrase>JeOS First Boot Assistant asking you whether to configure a wireless network</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
     <para>
      如果您选择<guimenu>是</guimenu>，以下屏幕将会显示：
     </para>
     <remark>
      cwickert 2020-01-22: First step is commented out because rpi_first_wifi_interface.png
      needs an update (see https://bugzilla.suse.com/show_bug.cgi?id=1156663 and I'm not
      sure the step is still necessary. Why select a device if there is only one?
     </remark>
     <substeps>
      
      <step>
       <para>
        选择要连接的无线网络，然后单击<guimenu>确定</guimenu>继续。
       </para>
       <informalfigure>
        <mediaobject>
         <imageobject>
          <imagedata width="80%" fileref="rpi_first_wifi_ssid.png"/>
         </imageobject>
         <textobject>
          <phrase>
           JeOS First Boot Assistant asking you to select a wireless network
          </phrase>
         </textobject>
        </mediaobject>
       </informalfigure>
      </step>
      <step>
       <para>
        选择无线网络的身份验证方法，然后单击<guimenu>确定</guimenu>继续。
       </para>
       <informalfigure>
        <mediaobject>
         <imageobject>
          <imagedata width="80%" fileref="rpi_first_wifi_auth.png"/>
         </imageobject>
         <textobject>
          <phrase>JeOS First Boot Assistant asking you to select an authentication
           method for the wireless network</phrase>
         </textobject>
        </mediaobject>
       </informalfigure>
      </step>
      <step>
       <para>
        输入无线网络的通行口令，然后单击<guimenu>确定</guimenu>继续。
       </para>
       <informalfigure>
        <mediaobject>
         <imageobject>
          <imagedata width="80%" fileref="rpi_first_wifi_passwd.png"/>
         </imageobject>
         <textobject><phrase>JeOS First Boot Assistant asking you to enter the
          passphrase for the wireless network</phrase>
         </textobject>
        </mediaobject>
       </informalfigure>
      </step>
     </substeps>
    </step>
   </procedure>
   <note>
    <title>WPA EAP 身份验证</title>
    <para>
     WPA 身份验证仅支持“mschapv2”EPA 身份验证，系统将其用作默认身份验证方法。
    </para>
   </note>
   <para>
    如果您选择跳过无线网络配置，或者当您完成其全部配置时，JeOS 首次引导助手将会退出。系统会继续引导到登录提示。
   </para>
   <para>
    现在，您便可以使用先前选择的口令以 <systemitem class="username">root</systemitem> 用户身份登录。
   </para>
   <note>
    <title>取消 JeOS 首次引导助手</title>
    <para>
     如果您在任意时间点选择<guimenu>取消</guimenu>该助手，系统将关闭。然后，您可以断开电源，进行必要的更改，再重新启动。
    </para>
   </note>
  </sect2>

  <sect2 xml:id="sec-rpi-registration">
   <title>注册过程</title>
   <para>
    请务必注册您的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> 订阅，以确保可以使用 Raspberry Pi 系统的全部功能。SUSE 提供的 SD 卡映像包含初始引导过程以及将 Raspberry Pi 连接到网络中所需的最小软件包集。
   </para>
   <para>
    如果您已注册您的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> 订阅，可视需要下载其他软件包，例如编译器。Raspberry Pi 上运行的 SUSE Linux Enterprise Server 版本与 AMD64/Intel 64、POWER、IBM Z 或其他基于 ARM 的系统上运行的版本相同。
   </para>
   <important>
    <title>设置时钟</title>
    <para>
     由于 Raspberry Pi 没有持久性实时时钟，因此在尝试使用 Zypper 或 YaST 安装附加软件包时，请确保时钟已设为当前日期和时间。
    </para>
   </important>
   <para>
    初次注册系统时，可以使用 <emphasis role="italic">SUSEConnect</emphasis> 工具。此后，您还可以使用 <emphasis role="italic">YaST 产品注册</emphasis>模块。
   </para>
   <note>
    <title>评估码</title>
    <para>
     您可在以下页面请求为期 60 天的评估订阅：<link xlink:href="https://www.suse.com/products/arm/"/>
    </para>
   </note>
   <para>
    <emphasis role="strong">通过订阅卡获得注册码后，您需要在 SUSE Customer Center 中激活您的订阅，网址为：</emphasis>
   </para>
   <para>
    <link xlink:href="https://scc.suse.com/"/>
   </para>
   <para>
    要注册您的订阅，请执行以下步骤：
   </para>
   <procedure xml:id="pro-rpi-reg-process">
    <step>
     <para>
      使用另一台计算机上的浏览器登录 SUSE Customer Center。视需要创建帐户：
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_scc.png"/>
       </imageobject>
       <textobject><phrase>Log in to the SUSE Customer Center</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      单击<guimenu>手动激活订阅</guimenu>。
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_management_tools.png"/>
       </imageobject>
       <textobject><phrase>Manual activation of subscription.</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      单击对话框字段<guimenu>激活单个订阅</guimenu>：
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_activate_subscription.png"/>
       </imageobject>
       <textobject><phrase>Activate a single subscription.</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      输入注册码并接受条款和条件：
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_enter_code.png"/>
       </imageobject>
       <textobject><phrase>Enter the registration code.</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      确认激活订阅和指派的组织。单击<guimenu>激活</guimenu>：
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_confirm_activation.png"/>
       </imageobject>
       <textobject><phrase>Confirm the activation.</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      您的订阅现已激活，可供您使用：
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="rpi_success.png"/>
       </imageobject>
       <textobject><phrase>You now have an active subscription.</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
   </procedure>
   <para>
    要注册系统，请使用 <emphasis role="italic">SUSEConnect</emphasis> 工具（如上文所述）：
   </para>
   <screen><prompt role="root"># </prompt>SUSEConnect -e <replaceable>company@example.com</replaceable> -r <replaceable>YOUR_CODE</replaceable>
Registering system to SUSE Customer Center
Using E-Mail: <replaceable>company@example.com</replaceable>

Announcing system to https://scc.suse.com ...

Activating SLES 15.4 aarch64 ...
-&gt; Adding service to system ...

Activating sle-module-basesystem 15.4 aarch64 ...
-&gt; Adding service to system ...
-&gt; Installing release package ...

Activating sle-module-server-applications 15.4 aarch64 ...
-&gt; Adding service to system ...
-&gt; Installing release package ...

Successfully registered system</screen>
   <para>
    这个过程可能需要一些时间。此后，您便可访问联机软件源以安装更多软件包，如<xref linkend="sec-rpi-platform-software-zypper"/>中所述。
   </para>
   <example xml:id="ex-rpi-zypper-yast">
    <title>安装 YaST</title>
    <para>
     后续章节假设您已安装用于进行系统配置的 YaST：
    </para>
    <screen><prompt role="root"># </prompt>zypper in -t pattern yast2_basis</screen>
   </example>
   <note>
    <title>模块可用性</title>
    <para>
     除了上面的 <emphasis role="italic">Basesystem 模块</emphasis>和 <emphasis role="italic">Server Applications 模块</emphasis>以外，您的订阅还可让您访问其他模块。要激活其他模块，可以使用 <emphasis role="italic">YaST 系统扩展</emphasis>模块。
    </para>
   </note>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-rpi-configuration">
  <title>初始系统配置</title>

  <para>
   本章说明了如何为适用于 Raspberry Pi 的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> <phrase role="productnumber"><phrase os="sles;sled">15 SP4</phrase></phrase> 进行初始系统配置。
  </para>

  <sect2 xml:id="sec-rpi-locale">
   <title>更改语言</title>
   <para>
    执行下列步骤可更改默认语言：
   </para>
   <procedure xml:id="pro-rpi-locale-localectl">
    <step>
     <para>
      安装 <literal>glibc-locale</literal> 软件包：
     </para>
     <screen><prompt role="root"># </prompt>zypper in glibc-locale</screen>
    </step>
    <step>
     <para>
      根据需要设置语言：
     </para>
     <screen><prompt role="root"># </prompt>localectl set-locale LANG=<replaceable>de_DE.UTF-8</replaceable></screen>
    </step>
   </procedure>
   <note>
    <title>翻译软件包</title>
    <para>
     某些应用程序可能需要您安装额外的 <literal> -lang</literal> 软件包，才能显示翻译为所选语言的文本。
    </para>
   </note>
  </sect2>

  <sect2 xml:id="sec-rpi-hostname">
   <title>更改主机名</title>
   <para>
    执行下列步骤可更改默认主机名：
   </para>
   <procedure xml:id="pro-rpi-hostname-yast">
    <step>
     <para>
      通过运行 <command>yast2 lan</command> 或单击 YaST 控制中心中的网络图标打开 YaST 网络模块。
     </para>
    </step>
    <step>
     <para>
      选择顶部选项卡栏中的<guimenu>主机名/DNS</guimenu>。
     </para>
    </step>
    <step>
     <para>
      在<guimenu>主机名</guimenu>字段中键入新主机名。
     </para>
    </step>
    <step>
     <para>
      单击<guimenu>确定</guimenu>保存更改。退出 YaST 后，您需要注销然后再次登录。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-rpi-network">
   <title>设置网络</title>
   <para>
    默认配置会在以太网端口上启用 DHCP。如果此设置适合您的网络环境，则可跳过本节。如果您需要使用静态 IP 地址，请使用 YaST：
   </para>
   <procedure xml:id="pro-rpi-network-yast">
    <step>
     <para>
      通过运行 <command>yast2 lan</command> 或单击 YaST 控制中心中的网络图标打开 YaST 网络模块。
     </para>
    </step>
    <step>
     <para>
      在 YaST 中，您将看到要选择的网络接口。选择内置以太网，然后选择<guimenu>编辑</guimenu>打开地址配置。
     </para>
    </step>
    <step>
     <para>
      选择<guimenu>静态指派的 IP 地址</guimenu>，并为 <guimenu>IP 地址</guimenu>和<guimenu>子网掩码</guimenu>键入所需值。单击<guimenu>下一步</guimenu>。
     </para>
    </step>
    <step>
     <para>
      配置好静态网络后，您还需要指定 DNS 服务器（如适用）和网关。对于网关，请在选项卡栏中选择<guimenu>路由</guimenu>，然后在特定字段中输入网关的 IP。
     </para>
    </step>
    <step>
     <para>
      DNS 服务器在<guimenu>主机名/DNS</guimenu> 选项卡中设置。选择该选项卡后，在相应的<guimenu>名称服务器</guimenu>字段中输入名称服务器的 IP。
     </para>
    </step>
   </procedure>
   <para>
    与上述过程类似，YaST 还可用于配置内置 Wi-Fi 网络适配器。
   </para>
   <para>
    有关 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> 中的网络配置的详细信息，请参见 <link xlink:href="https://documentation.suse.com/sles/"/> 上 <citetitle>SUSE Linux Enterprise Server 部署</citetitle>和<citetitle>管理</citetitle>指南的相应章节。
   </para>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-rpi-usage">
  <title>一般系统用法</title>

  <para>
   完成初始配置过程并首次引导系统后，您便可以使用系统的各个组件。
  </para>

  <sect2 xml:id="sec-rpi-x11">
   <title>桌面</title>
   <para>
    适用于 Raspberry Pi 15 GA 的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> 预装了适用于精简 X11 桌面 (IceWM) 的软件包。
   </para>
   <para>
    适用于 Raspberry Pi <phrase role="productnumber"><phrase os="sles;sled">15 SP4</phrase></phrase> 的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase> 是一个基于文本的微型设备，允许您安装所选的任何可用桌面，或者不安装任何桌面以使用无头环境。为方便起见，我们提供了一个 <literal>x11_raspberrypi</literal> 软件集，供您在想要重新创建先前映像的软件包选集时使用。
   </para>
   <para>
    如果尚未启用 <emphasis role="italic">Desktop Applications 模块</emphasis>，您需要将其启用。假设您已注册基础产品（如<xref linkend="sec-rpi-registration"/>中所述），则启用该模块的最快方法如下：
   </para>
   <screen><prompt role="root"># </prompt>SUSEConnect -p sle-module-desktop-applications/15.4/aarch64
Registering system to SUSE Customer Center

Updating system details on https://scc.suse.com ...

Activating sle-module-desktop-applications 15.4 aarch64 ...
-&gt; Adding service to system ...
-&gt; Installing release package ...

Successfully registered system
</screen>
   <para>
    然后，您可以安装该桌面软件包软件集：
   </para>
   <screen><prompt role="root"># </prompt>zypper install -t pattern x11_raspberrypi</screen>
  </sect2>

  <sect2 xml:id="sec-rpi-bt">
   <title>蓝牙</title>
   <para>
    Raspberry Pi 3 及更高版本具有板载蓝牙*控制器，可用于无线键盘、鼠标或音频设备等各种用途。
   </para>
   <para>
    要使用蓝牙控制器，请安装 <literal>bluez</literal> 软件包：
   </para>
   <screen><prompt role="root"># </prompt>zypper install bluez</screen>
   <para>
    然后启动并启用 <literal>bluetooth</literal> systemd 服务：
   </para>
   <screen><prompt role="root"># </prompt>systemctl enable --now bluetooth</screen>
   <para>
    您可以使用 <command>bluetoothctl</command> 来操作蓝牙设备。
   </para>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-rpi-documentation">
  <title>产品文档</title>

  <para>
   文中说明仅涵盖了最基本的任务。
  </para>

  <sect2 xml:id="sec-rpi-documentation-sle">
   <title>产品文档</title>
   <para>
    <phrase role="productname"><phrase os="sles"> 上提供了 </phrase></phrase>
    <phrase role="productnumber"><phrase os="sles;sled">SUSE Linux Enterprise Server for Arm</phrase></phrase>15 SP4 <link xlink:href="https://documentation.suse.com/"/> 的完整文档。
   </para>
   <note>
    <title>产品文档的适用性</title>
    <para>
     因为 Raspberry Pi 与其他硬件平台有很大不同，所以并非产品文档中的所有内容都适用于 Raspberry Pi 上的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server for Arm</phrase></phrase>。
    </para>
   </note>
  </sect2>

  <sect2 xml:id="sec-rpi-documentation-forum">
   <title>SUSE 论坛</title>
   <para>
    拥有有效且已激活的订阅，您可以接收 Bug 和安全修复、功能更新并获得来自 SUSE 支持组织的技术协助。请访问 <link xlink:href="https://www.suse.com/support/"/> 了解更多信息。您可以通过 SUSE Customer Center（网址为 <link xlink:href="https://scc.suse.com/"/>）提交突发事件。
   </para>
   <para>
    此外，SUSE 还提供了一个社区网站，您可以在其中获得问题的答案。其网址为 <link xlink:href="https://community.suse.com/"/>。
   </para>
   <important>
    <title>论坛并非官方支持渠道</title>
    <para>
     SUSE 论坛<emphasis role="strong">并非官方</emphasis>的 SUSE 支持渠道。个人文章或言论由社区成员及各产品用户自愿提供。SUSE 无法验证文章中所述的操作是否如其声明的一般，也无法验证其是否无意外后果。因此，SUSE LLC 及其关联公司、作者对于可能出现的错误或由此造成的后果皆不承担责任。
    </para>
    <para>
     有关官方支持选项的详细信息，请访问 <link xlink:href="https://www.suse.com/support/"/>。
    </para>
   </important>
  </sect2>
 </sect1>
 
  <sect1 xml:id="sec-rpi-trademarks">
  <title>商标</title>
  <para>
      有关 SUSE 商标，请参见 <link xlink:href="http://www.suse.com/company/legal/"/>。所有其他第三方商标分别为相应所有者的财产。商标符号（®、™ 等）代表 SUSE 及其关联公司的商标。星号 (*) 代表第三方商标。
  </para>
  
  </sect1>
 
 <sect1 xml:id="sec-rpi-documentation-legal">
  <title>法律声明</title>

  <para>
   版权所有 ©2006–2020 SUSE LLC 和贡献者。保留所有权利。
  </para>

  <para>
   根据 GNU 自由文档许可 (GNU Free Documentation License) 版本 1.2 或（根据您的选择）版本 1.3 中的条款，在此授予您复制、分发和/或修改本文档的权限；本版权声明和许可附带不可变部分。许可版本 1.2 的副本包含在题为<quote>GNU Free Documentation License</quote>的部分。
  </para>

  <para>
   SUSE、SUSE 徽标和 YaST 是 SUSE LLC 在美国和其他国家/地区的注册商标。有关 SUSE 商标，请参见 <link xlink:href="http://www.suse.com/company/legal/"/>。Linux 是 Linus Torvalds 的注册商标。本文档中提及的其他名称或商标可能是其各自所有者的商标或注册商标。
  </para>

  <para>
   本指南力求涵盖所有细节，但这不能确保本指南准确无误。SUSE LLC 及其关联公司、作者和译者对于可能出现的错误或由此造成的后果皆不承担责任。
  </para>
 </sect1>
<?pdfpagebreak style="suse2013" formatter="fop"?>

 <xi:include href="common_gfdl1.2_i.xml"/>
</article>
