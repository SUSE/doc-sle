<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="fuse.xml" version="5.0" xml:id="cha-fuse">
 <title>使用 FUSE 访问文件系统</title>
 <info>
      <abstract>
        <para>
    FUSE 是<emphasis>用户空间中的文件系统 (file system in user space)</emphasis> 的缩写。这表示您可以将文件系统作为非特权用户配置和挂载。通常，只有 <systemitem class="username">root</systemitem> 用户才能执行此任务。FUSE 自身是一个内核模块。它与插件组合，允许您扩展 FUSE 以访问几乎所有文件系统，如远程 SSH 连接、ISO 映像等.
   </para>
      </abstract>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:bugtracker/>
        <dm:translation>yes</dm:translation>
      </dm:docmanager>
    </info>
    
 <sect1 xml:id="sec-fuse-config">
  <title>配置 FUSE</title>

  <para>
   需要安装 <systemitem class="resource">fuse</systemitem> 包才能使用 FUSE。根据要使用的文件系统，您需要作为独立软件包提供的附加插件。 
  </para>

  <para>
   一般而言，您无需配置 FUSE。但是建议创建一个合并所有挂载点的目录。例如，可以创建目录 <filename>~/mounts</filename> 并在该处插入不同文件系统的子目录。
  </para>
 </sect1>
 <sect1 xml:id="sec-fuse-ntfs">
  <title>挂载 NTFS 分区</title>

  <para>
   NTFS（<emphasis>新技术文件系统</emphasis>）是 Windows 的默认文件系统。在一般情况下，由于非特权用户无法使用外部 FUSE 库挂载 NTFS 块设备，因此下文所述的 Windows 分区挂载过程需要 root 特权。
  </para>

  <procedure>
   <step>
    <para>
     切换为 <systemitem class="username">root</systemitem> 用户并安装软件包 <systemitem class="resource">ntfs-3g</systemitem>。<phrase os="sles">SUSE Linux Enterprise Workstation Extension 中提供了该软件包。</phrase>
    </para>
   </step>
   <step>
    <para>
     创建一个要充当挂载点的目录，如 <filename>~/mounts/windows</filename>。
    </para>
   </step>
   <step>
    <para>
     确定所需的 Windows 分区。使用 YaST 并启动分区程序模块查看哪些分区属于 Windows，但不要修改任何内容。或者转换为 <systemitem class="username">root</systemitem> 用户并执行 <command>/sbin/fdisk </command> <option>-l</option>。查找分区类型为 <literal>HPFS/NTFS</literal> 的分区。
    </para>
   </step>
   <step>
    <para>
     以读写模式挂载分区。使用相应的 Windows 分区替换占位符 <replaceable>DEVICE</replaceable>：
    </para>
<screen><prompt>tux &gt; </prompt>ntfs-3g /dev/<replaceable>DEVICE</replaceable> <replaceable>MOUNT POINT</replaceable></screen>
    <para>
     要在只读模式下使用 Windows 分区，请追加 <option>-o ro</option>：
    </para>
<screen><prompt>tux &gt; </prompt>ntfs-3g /dev/<replaceable>DEVICE</replaceable> <replaceable>MOUNT POINT</replaceable> -o ro</screen>
    <para>
     <command>ntfs-3g</command> 命令使用当前用户 (UID) 和组 (GID) 挂载给定设备。如果要为其他用户设置写权限，请使用命令 <command>id</command>
     <option> USER</option> 获取 UID 和 GID 值的输出。设置方式：
    </para>
<screen><prompt role="root">root # </prompt>id tux
uid=1000(tux) gid=100(users) groups=100(users),16(dialout),33(video)
ntfs-3g /dev/<replaceable>DEVICE</replaceable> <replaceable>MOUNT POINT</replaceable> -o uid=1000,gid=100</screen>
    <para>
     在手册页中查找其他选项。
    </para>
   </step>
  </procedure>

  <para>
   要卸载资源，请运行 <command>fusermount -u </command>
   <replaceable>挂载点</replaceable>。
  </para>
 </sect1>
 
 
 
 <sect1 xml:id="sec-fuse-moreinfo">
  <title>更多信息</title>

  <para>
   有关详细信息，请参见 FUSE 主页：<link xlink:href="https://github.com/libfuse/libfuse"/>。
  </para>
 </sect1>
</chapter>
