<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_installserver.xml" version="5.0" role="General" xml:id="cha-deployment-instserver">
 <title>設定網路安裝來源</title>
 <info>
  <abstract>
   <para>
    本章介紹如何建立伺服器，以透過網路提供安裝 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 時所需的資料。
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>是</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  根據做為 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 網路安裝來源的機器的作業系統，可以使用多種方法設定伺服器組態。設定安裝伺服器最簡單的方法是使用 YaST。
 </para>

 <tip>
  <title>安裝伺服器作業系統</title>
  <para>
   您甚至可以將 Microsoft Windows 機器做為部署 Linux 的安裝伺服器。如需詳細資料，請參閱<xref linkend="sec-deployment-instserver-smb"/>。
  </para>
 </tip>
 <sect1 xml:id="sec-deployment-instserver-sles9">
  <title>使用 YaST 設定安裝伺服器</title>

  <para>
   YaST 提供了圖形工具，方便您建立網路儲存庫。它支援 HTTP、FTP 和 NFS 網路安裝伺服器。
  </para>

  <procedure xml:id="pro-deployment-instserver-sles9">
   <step>
    <para>
     請以 <systemitem class="username">root</systemitem> 身分登入要做為安裝伺服器的機器。
    </para>
   </step>
   <step>
    <para>
     依序啟動<menuchoice> <guimenu>YaST</guimenu>
     <guimenu> 其他</guimenu> <guimenu> 安裝伺服器</guimenu></menuchoice>。
    </para>
   </step>
   <step>
    <para>
     選取儲存庫類型 (HTTP、FTP 或 NFS)。之後，系統每次啟動時都會自動啟動選取的服務。如果您的系統上已在執行選取的服務類型，且您要手動設定該伺服器，請選取<guimenu>不要設定任何網路服務</guimenu>選項，停用伺服器服務的自動組態功能。在這兩種情況下，都必須定義安裝資料可用於伺服器上的目錄。
    </para>
   </step>
   <step>
    <para>
     設定所需的儲存庫類型。這個步驟與伺服器服務的自動組態功能相關。若您停用自動組態功能，則請略過此步驟。
    </para>
    <para>

     為可找到安裝資料所在的 FTP 或 HTTP 伺服器根目錄定義別名。之後，您即可在 <literal>ftp://<replaceable>伺服器 IP</replaceable>/<replaceable>別名</replaceable>/<replaceable>名稱</replaceable></literal> (FTP) 或 <literal>http://<replaceable>伺服器 IP</replaceable>/<replaceable>別名</replaceable>/<replaceable>名稱</replaceable></literal> (HTTP) 下找到儲存庫。<replaceable>名稱</replaceable>代表儲存庫的名稱，可按照以下步驟定義。如果您在上一個步驟中選取 NFS，請定義萬用字元和輸出選項。您可以經由 <literal>nfs://<replaceable>伺服器 IP</replaceable>/<replaceable>名稱</replaceable></literal>存取 NFS 伺服器。<phrase os="sles">您可以在<xref linkend="cha-nfs"/>中找到 NFS 和輸出選項的詳細說明。</phrase>
    </para>
    <tip>
     <title>防火牆設定</title>
     <para>
      請確定您伺服器系統的防火牆設定允許 HTTP、NFS 和 FTP 連接埠上的流量。如果目前不允許，請先啟用<guimenu>在防火牆中開啟埠</guimenu>或核取<guimenu>防火牆細節</guimenu>。
     </para>
    </tip>
   </step>
   <step>
    <para>
     設定儲存庫。將安裝媒體複製到目的地前，請先定義儲存庫的名稱，最好是以產品和版本縮寫做為名稱，以方便記憶。YaST 允許提供媒體的 ISO 影像，不需要使用安裝 DVD 的副本。如果您要製作 ISO 影像，請啟用相關的核取方塊並指定本地存放 ISP 檔案的目錄路徑。根據要使用此安裝伺服器配送的產品，可能需要新增媒體 (例如 Service Pack DVD) 做為額外儲存庫。若要透過 OpenSLP 宣告網路中的安裝伺服器，請啟用適當的選項。
    </para>
    <tip>
     <title>宣告儲存庫</title>
     <para>
      若您的網路設定支援此選項，再考慮透過 OpenSLP 宣告您的儲存庫。如此才可以確保每台目標機器皆可進入該網路安裝路徑。目標系統使用 SLP 開機參數開機，並會尋找網路儲存庫，而您無需進一步設定任何組態。如需此選項的詳細資訊，請參閱<xref linkend="cha-boot-parameters"/>。
     </para>
    </tip>
   </step>
   <step>
    <para>
     設定額外的儲存庫。YaST 遵循特定的命名慣例來設定附加 CD 或 Service Pack CD 儲存庫。僅當附加 CD 的儲存庫名稱以安裝媒體的儲存庫名稱開頭時，才接受該組態。換言之，如果您之前選擇 <literal>SLES12SP1</literal> 做為 DVD1 的儲存庫名稱，則現在應選擇 <literal>SLES12SP1addon</literal> 做為 DVD2 的儲存庫名稱。
    </para>
   </step>
   <step>
    <para>
     上傳安裝資料。設定安裝伺服器最冗長的步驟就是複製實際的安裝媒體。請依照 YaST 要求的順序插入媒體，接著等待複製程式結束。複製完來源後，請選取<guimenu>完成</guimenu>返回現有儲存庫的綜覽頁面，並關閉組態。
    </para>
    <para>
     現在，您已完成安裝伺服器的設定，並可開始提供服務。之後每當啟動系統時，將會自動啟動該伺服器。您將不需再進行任何操作。如果您一開始就使用 YaST 停用了選定網路服務的自動組態功能，那麼您只需正確地手動設定和啟動此服務即可。
    </para>
   </step>
  </procedure>

  <para>
   若要停用儲存庫，請選取要移除的儲存庫，再選取<guimenu>刪除</guimenu>。安裝資料會從系統移除。若要停用網路服務，請使用相關的 YaST 模組。
  </para>

  <para>
   如果您的安裝伺服器需要為該產品版本的多個產品提供安裝資料，請啟動 YaST 安裝伺服器模組。然後在現有儲存庫的綜覽中選取<guimenu>新增</guimenu>，以設定新儲存庫。
  </para>

  <warning>
   <title>YaST 安裝伺服器將與 RMT 伺服器衝突</title>
   <para>
    使用 YaST 將某部伺服器設定為安裝伺服器，會自動安裝並設定監聽連接埠 80 的 Apache Web 伺服器。
   </para>
   <para>
    但是，將某部機器設定為 RMT (儲存庫鏡像工具) 伺服器會自動安裝 NGINX Web 伺服器並將其設定為監聽連接埠 80。
   </para>
   <para>
    請不要嘗試在同一部伺服器上啟用這兩項功能。一部伺服器無法同時代管 Apache Web 伺服器和 NGINX Web 伺服器。
   </para>
  </warning>

 </sect1>
 <sect1 xml:id="sec-deployment-instserver-nfs">
  <title>以手動方式設定 NFS 儲存庫</title>

  

  <para>
   NFS 安裝來源的設定分為兩大步驟。第一個步驟是，建立保存安裝資料的目錄結構，並將安裝媒體複製到此結構中。第二個步驟是，將包存安裝資料的目錄輸出至網路。
  </para>

  <procedure xml:id="pro-deployment-instserver-nfs-cdir">
   <para>
    若要建立保存安裝資料的目錄，請執行下列步驟：
   </para>
   <step>
    <para>
     以 <systemitem class="username">root</systemitem> 身分登入。
    </para>
   </step>
   <step>
    <para>
     建立一個之後要保存所有安裝資料的目錄，並轉至此目錄。例如：
    </para>
<screen><prompt role="root">root # </prompt>mkdir -p /srv/install/<replaceable>PRODUCT</replaceable>/<replaceable>PRODUCTVERSION</replaceable>
<prompt role="root">root # </prompt>cd /srv/install/<replaceable>PRODUCT</replaceable>/<replaceable>PRODUCTVERSION</replaceable></screen>
    <para>
     以產品名稱的縮寫取代 <replaceable>PRODUCT</replaceable>，並以包含產品名稱和版本的字串取代 <replaceable>PRODUCTVERSION</replaceable> (例如 <filename>/srv/install/SLES/15.1</filename>)。
    </para>
   </step>
   <step>
    <para>
     對媒體套件中的每個安裝媒體執行以下指令：
    </para>
    <substeps performance="required">
     <step>
      <para>
       將安裝媒體中的所有內容複製到安裝伺服器目錄：
      </para>
<screen><prompt role="root">root # </prompt>cp -a /media/<replaceable>PATH_TO_YOUR_MEDIA_DRIVE</replaceable> .</screen>
      <para>
       以安裝媒體光碟機所在位置的實際路徑取代 <replaceable>PATH_TO_YOUR_MEDIA_DRIVE</replaceable>。
      </para>
     </step>
     <step>
      <para>
       將該目錄重新命名為媒體編號：
      </para>
<screen><prompt role="root">root # </prompt>mv <replaceable>PATH_TO_YOUR_MEDIA_DRIVE</replaceable> DVD<replaceable>X</replaceable></screen>
      <para>
       以安裝媒體的實際編號取代 <replaceable>X</replaceable>。
      </para>
     </step>
    </substeps>
   </step>
  </procedure>

  <procedure xml:id="pro-deployment-instserver-nfs-export">
   <para>
    在 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 上，您可以使用 YaST 透過 NFS 輸出儲存庫。請執行下列步驟：
   </para>
   <step>
    <para>
     以 <systemitem class="username">root</systemitem> 身分登入。
    </para>
   </step>
   <step>
    <para>
     依序啟動<menuchoice> <guimenu>YaST</guimenu> <guimenu> 網路服務</guimenu> <guimenu> NFS 伺服器</guimenu></menuchoice>。
    </para>
   </step>
   <step>
    <para>
     選取<guimenu>啟動</guimenu>和<guimenu>在防火牆中開啟埠</guimenu>，接著按一下<guimenu>下一步</guimenu>。
    </para>
   </step>
   <step>
    <para>
     選取<guimenu>新增目錄</guimenu>並瀏覽至包含安裝來源的目錄，在本例中為 <filename><replaceable>PRODUCTVERSION</replaceable></filename>。
    </para>
   </step>
   <step>
    <para>
     選取<guimenu>新增主機</guimenu>，並輸入安裝資料要輸出到的目標機器主機名稱。此處除了可以指定主機名稱外，您還可以使用萬用字元、網路位址範圍，或指定網路的網域名稱。您可以選擇輸入適當的輸出選項，或者保留預設值 (在大多數設定中皆可正常運作)。如需更多有關輸出 NFS 共享所使用語法的詳細資訊，請參閱 <systemitem>exports</systemitem> man 頁面。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>完成</guimenu>。如此一來，存放 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 儲存庫的 NFS 伺服器就會自動啟動，並整合到開機程序中。
    </para>
   </step>
  </procedure>

  <procedure xml:id="pro-deployment-instserver-nfs-exportman">
   <para>
    如果您想透過 NFS 手動輸出儲存庫，而不使用 YaST NFS 伺服器模組來執行輸出，請執行下列步驟：
   </para>
   <step>
    <para>
     以 <systemitem class="username">root</systemitem> 身分登入。
    </para>
   </step>
   <step>
    <para>
     開啟檔案 <filename>/etc/exports</filename>，並輸入以下內容：
    </para>
<screen>/<replaceable>PRODUCTVERSION</replaceable> *(ro,root_squash,sync)</screen>
    <para>
     此操作可將目錄 <filename>/<replaceable>PRODUCTVERSION</replaceable></filename> 輸出至此網路中的任一主機，或任何可連接到此伺服器的主機。若要限制存取此伺服器，請使用網路遮罩或網域名稱，而不要使用一般萬用字元 <literal>*</literal>。如需詳細資訊，請參閱 <systemitem>export</systemitem> man 頁面。儲存並結束此組態檔案。
    </para>
   </step>
   <step>
    <para>
     若要新增 NFS 服務至系統啟動時要啟動的伺服器列表，請執行以下指令：
    </para>
<screen><prompt role="root">root # </prompt>systemctl enable nfsserver</screen>
   </step>
   <step>
    <para>
     使用 <command>systemctl start nfsserver</command> 啟動 NFS 伺服器。如果您之後需要變更 NFS 伺服器的組態，請修改組態檔案並使用 <command>systemctl restart nfsserver</command> 重新啟動 NFS 精靈。
    </para>
   </step>
  </procedure>

  <procedure xml:id="pro-deployment-instserver-nfs-slpann">
   <para>
    透過 OpenSLP 宣告 NFS 伺服器，可以讓您網路中的所有用戶端都知道該伺服器的位址。
   </para>
   <step>
    <para>
     以 <systemitem class="username">root</systemitem> 身分登入。
    </para>
   </step>
   <step>
    <para>
     建立組態檔案 <filename>/etc/slp.reg.d/install.suse.nfs.reg</filename>，檔案中必須包含以下內容：
    </para>
<screen><?dbsuse-fo font-size="7pt"?>

# Register the NFS Installation Server
service:install.suse:nfs://$HOSTNAME/<replaceable>PATH_TO_REPOSITORY</replaceable>/DVD1,en,65535
description=NFS Repository</screen>
    <para>
     以您伺服器上安裝來源的實際路徑取代 <replaceable>PATH_TO_REPOSITORY</replaceable>。
    </para>
   </step>
   <step>
    <para>
     使用 <command>systemctl start slpd</command> 啟動 OpenSLP 精靈。
    </para>
   </step>
  </procedure>

  <para os="sles">
   如需 OpenSLP 的詳細資訊，請參閱 <filename>/usr/share/doc/packages/openslp/</filename> 中的套件文件，或是參閱<xref linkend="cha-slp"/>。如需 NFS 的詳細資訊，請參閱<xref linkend="cha-nfs"/>。
  </para>
 </sect1>
 <sect1 xml:id="sec-deployment-instserver-ftp">
  <title>以手動方式設定 FTP 儲存庫</title>

  <para>
   建立 FTP 儲存庫與建立 NFS 儲存庫的方式非常相似。您也可以使用 OpenSLP 透過網路來宣告 FTP 儲存庫。
  </para>

  <procedure xml:id="pro-deployment-instserver-ftp">
   <step>
    <para>
     依照<xref linkend="sec-deployment-instserver-nfs"/> 中的說明，建立一個保存安裝來源的目錄。
    </para>
   </step>
   <step>
    <para>
     設定要發佈安裝目錄內容的 FTP 伺服器：
    </para>
    <substeps performance="required">
     <step>
      <para>
       以 <systemitem class="username">root</systemitem> 身分登入，接著使用 YaST 軟體管理來安裝 <systemitem>vsftpd</systemitem> 套件。
      </para>
     </step>
     <step>
      <para>
       輸入 FTP 伺服器根目錄：
      </para>
<screen><prompt role="root">root # </prompt>cd <option>/srv/ftp</option></screen>
     </step>
     <step>
      <para>
       在 FTP 根目錄中建立保存安裝來源的子目錄：
      </para>
<screen><prompt role="root">root # </prompt>mkdir <replaceable>REPOSITORY</replaceable></screen>
      <para>
       以產品名稱取代 <replaceable>REPOSITORY</replaceable>。
      </para>
     </step>
     <step>
      <para>
       請將安裝儲存庫中的內容掛接至 FTP 伺服器的變更根目錄環境中：
      </para>
<screen><prompt role="root">root # </prompt>mount --bind <replaceable>PATH_TO_REPOSITORY</replaceable> /srv/ftp/<replaceable>REPOSITORY</replaceable></screen>
      <para>
       以與設定相符的值取代 <replaceable>PATH_TO_REPOSITORY</replaceable> 和 <replaceable>REPOSITORY</replaceable>。如果您必須讓此組態永久生效，請將此組態新增至 <filename>/etc/fstab</filename>。
      </para>
     </step>
     <step>
      <para>
       以 <command>vsftpd</command> 啟動 vsftpd。
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     如果您的網路設定支援 OpenSLP，請透過 OpenSLP 來宣告儲存庫：
    </para>
    <substeps performance="required">
     <step>
      <para>
       建立組態檔案 <filename>/etc/slp.reg.d/install.suse.ftp.reg</filename>，檔案中必須包含以下內容：
      </para>
<screen><?dbsuse-fo font-size="7pt"?>

# Register the FTP Installation Server
service:install.suse:ftp://$HOSTNAME/<replaceable>REPOSITORY</replaceable>/DVD1,en,65535
description=FTP Repository</screen>
      <para>
       以您伺服器上儲存庫目錄的實際名稱取代 <replaceable>REPOSITORY</replaceable>。<literal>service:</literal> 行的輸入內容必須維持連續一行。
      </para>
     </step>
     <step>
      <para>
       使用 <command>systemctl start slpd</command> 啟動 OpenSLP 精靈。
      </para>
     </step>
    </substeps>
   </step>
  </procedure>

  <tip os="sles">
   <title>使用 YaST 設定 FTP 伺服器</title>
   <para>
    如果您偏好使用 YaST，而不是手動設定 FTP 安裝伺服器，請參閱<xref linkend="cha-ftp"/>。
   </para>
  </tip>
 </sect1>
 <sect1 xml:id="sec-deployment-instserver-http">
  <title>以手動方式設定 HTTP 儲存庫</title>

  <para>
   建立 HTTP 儲存庫與建立 NFS 儲存庫的方式非常相似。您也可以使用 OpenSLP 透過網路來宣告 HTTP 儲存庫。
  </para>

  <procedure xml:id="pro-deployment-instserver-http">
   <step>
    <para>
     依照<xref linkend="sec-deployment-instserver-nfs"/> 中的說明，建立一個保存安裝來源的目錄。
    </para>
   </step>
   <step>
    <para>
     設定要發佈安裝目錄內容的 HTTP 伺服器：
    </para>
    <substeps performance="required">
     <step>
      <para>
       <phrase os="sles">安裝網頁伺服器 Apache，詳細步驟說明請參閱<xref linkend="sec-apache2-quickstart-installation"/></phrase>。
      </para>
     </step>
     <step>
      <para>
       輸入 HTTP 伺服器的根目錄 (<filename>/srv/www/htdocs</filename>)，並建立要保存安裝來源的子目錄：
      </para>
<screen><prompt role="root">root # </prompt>mkdir <replaceable>REPOSITORY</replaceable></screen>
      <para>
       以產品名稱取代 <replaceable>REPOSITORY</replaceable>。
      </para>
     </step>
     <step>
      <para>
       建立一個從安裝來源位置連結到 Web 伺服器根目錄的符號連結 (<filename>/srv/www/htdocs</filename>)：
      </para>
<screen><prompt role="root">root # </prompt>ln -s <replaceable>/PATH_TO_REPOSITORY</replaceable>/srv/www/htdocs/<replaceable>REPOSITORY</replaceable></screen>
     </step>
     <step>
      <para>
       接著，請修改 HTTP 伺服器的組態檔案 (<filename>/etc/apache2/default-server.conf</filename>)，使其遵循符號連結。將下列一行：
      </para>
<screen>Options None</screen>
      <para>
       與
      </para>
<screen>Options Indexes FollowSymLinks</screen>
     </step>
     <step>
      <para>
       使用 <command>systemctl reload apache2</command> 重新載入 HTTP 伺服器組態。
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     如果您的網路設定支援 OpenSLP，請透過 OpenSLP 來宣告儲存庫：
    </para>
    <substeps performance="required">
     <step>
      <para>
       建立組態檔案 <filename>/etc/slp.reg.d/install.suse.http.reg</filename>，檔案中必須包含以下內容：
      </para>
<screen><?dbsuse-fo font-size="6.5pt"?>

# Register the HTTP Installation Server
service:install.suse:http://$HOSTNAME/<replaceable>REPOSITORY</replaceable>/DVD1/,en,65535
description=HTTP Repository</screen>
      <para>
       以您伺服器上儲存庫的實際路徑取代 <replaceable>REPOSITORY</replaceable>。<literal>service:</literal> 行的輸入內容必須維持連續一行。
      </para>
     </step>
     <step>
      <para>
       使用 <command>systemctl start slpd</command> 啟動 OpenSLP 精靈。
      </para>
     </step>
    </substeps>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec-deployment-instserver-smb">
  <title>管理 SMB 儲存庫</title>

  <para>
   使用 SMB，您可以從 Microsoft Windows 伺服器輸入安裝來源，並在沒有 Linux 機器的情況下啟動您的 Linux 部署。
  </para>

  <procedure xml:id="pro-deployment-instserver-smb-export">
   <para>
    若要設定存放 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 儲存庫的輸出 Windows 共用，請執行下列步驟：
   </para>
   <step>
    <para>
     登入您的 Windows 機器。
    </para>
   </step>
   <step>
    <para>
     建立一個用於存放整個安裝樹狀結構的新目錄，並為其命名，如 <filename>INSTALL</filename>。
    </para>
   </step>
   <step>
    <para>
     根據您 Windows 文件中概述的程序輸出此共享。
    </para>
   </step>
   <step>
    <para>
     進入此共享，並建立名為 <filename><replaceable>PRODUCT</replaceable></filename> 的子目錄。以實際產品名稱取代 <replaceable>PRODUCT</replaceable>。
    </para>
   </step>
   <step>
    <para>
     進入 <filename>INSTALL/<replaceable>PRODUCT</replaceable></filename> 目錄，並將每個媒體複製到單獨的目錄，例如 <literal>DVD1</literal> 和 <literal>DVD2</literal>。
    </para>
   </step>
  </procedure>

  <para>
   若要使用 SMB 掛接共享做為儲存庫，請執行下列步驟：
  </para>

  <procedure xml:id="pro-deployment-instserver-smb-use">
   <step>
    <para>
     啟動安裝目標。
    </para>
   </step>
   <step>
    <para>
     選取<guimenu>安裝</guimenu>。
    </para>
   </step>
   <step>
    <para>
     按 <keycap>F4</keycap> 以選取儲存庫。
    </para>
   </step>
   <step>
    <para>
     選擇 SMB，並輸入 Windows 機器名稱或 IP 位址、共享名稱 (在此例中為 <filename>INSTALL/<replaceable>PRODUCT</replaceable>/DVD1</filename>)、使用者名稱和密碼。語法應為：
    </para>
<screen>smb://workdomain;user:password@server/INSTALL/DVD1</screen>
    <para>
     YaST 會在您按下 <keycap function="enter"/> 之後啟動，這時您就可以開始執行安裝。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec-remote-installation-iso">
  <title>在伺服器上使用安裝媒體的 ISO 影像</title>

  <para>
   您也可以將安裝媒體的 ISO 影像掛接至安裝伺服器並將其做為儲存庫，而不需手動將實體媒體複製到伺服器目錄中。若要設定 HTTP、NFS 或 FTP 伺服器使用 ISO 影像 (而不使用媒體副本)，請按照下列步驟進行：
  </para>

  <procedure>
   <step>
    <para>
     下載 ISO 影像並將其儲存至機器，做為安裝伺服器使用。
    </para>
   </step>
   <step>
    <para>
     以 <systemitem class="username">root</systemitem> 身分登入。
    </para>
   </step>
   <step>
    <para>
     請為安裝資料選擇並建立適當的位置，如<xref linkend="sec-deployment-instserver-nfs"/>、<xref linkend="sec-deployment-instserver-ftp"/> 或 <xref linkend="sec-deployment-instserver-http"/> 所述。
    </para>
   </step>
   <step>
    <para>
     為每個安裝媒體建立相應的子目錄。
    </para>
   </step>
   <step>
    <para>
     若要將各個 ISO 影像掛接並解壓縮到最後的位置，請執行下列指令：
    </para>
<screen><prompt role="root">root # </prompt>mount -o loop <replaceable>PATH_TO_ISO</replaceable> <replaceable>PATH_TO_REPOSITORY</replaceable>/<replaceable>PRODUCT</replaceable>/<replaceable>MEDIUMX</replaceable></screen>
    <para>
     以 ISO 影像本地副本的路徑取代 <replaceable>PATH_TO_ISO</replaceable>。以伺服器的來源目錄取代 <replaceable>PATH_TO_REPOSITORY</replaceable>。以產品名稱取代 <replaceable>PRODUCT</replaceable>，並以所用媒體的類型 (CD 或 DVD) 和編號取代 <replaceable>MEDIUMX</replaceable>。
    </para>
   </step>
   <step>
    <para>
     請重複前面的步驟來為您的產品掛接所有必須的 ISO 影像。
    </para>
   </step>
   <step>
    <para>
     請以您平常的方式啟動安裝伺服器，如<xref linkend="sec-deployment-instserver-nfs"/>、<xref linkend="sec-deployment-instserver-ftp"/>或<xref linkend="sec-deployment-instserver-http"/> 所述。
    </para>
   </step>
  </procedure>

  <para>
   若要在開機時自動掛接 ISO 影像，請新增各掛接項至 <filename>/etc/fstab</filename>。先前範例的項目應類似於：
  </para>

<screen><replaceable>PATH_TO_ISO</replaceable> <replaceable>PATH_TO_REPOSITORY</replaceable>/<replaceable>PRODUCT</replaceable><replaceable>MEDIUM</replaceable> auto loop</screen>
 </sect1>
</chapter>
