<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="gnome_networking.xml" version="5.0" xml:id="cha-gnome-network" xml:lang="zh-tw">
 <title>存取網路資源</title>
 <info>
  <abstract>
   <para>
    瞭解如何與網路中的其他使用者共用檔案和目錄。
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  您可從您的桌面存取檔案和目錄或遠端主機上的特定服務，或是讓其他使用者可在網路中使用您自己的檔案和目錄。<phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> 提供了以下方式讓您存取和建立網路共用資源。
 </para>
 <variablelist>
  <varlistentry>
   <term>網路瀏覽</term>
   <listitem>
    <para>
     檔案管理員 GNOME Files 可讓您瀏覽網路上共用的資源與服務。如需進一步資訊，請參閱<xref linkend="sec-gnome-network-accshare"/>。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>在混合環境中共用目錄</term>
   <listitem>
    <para>
     您可以使用 GNOME Files 來設定要與其他網路成員共用的檔案和目錄。請確定來自 Windows 或 Linux 工作站的其他使用者能夠讀取或寫入您的資料。如需進一步資訊，請參閱<xref linkend="sec-gnome-network-smbshare"/>。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>管理 Windows 檔案</term>
   <listitem>
    <para>
     <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 經過設定後可以整合至現有的 Windows 網路中。如此一來，Linux 機器便會以 Windows 用戶端的方式運作。電腦會從 Active Directory 網域控制器取得所有帳戶資訊，就像 Windows 用戶端的作法一樣。如需進一步資訊，請參閱<xref linkend="sec-gnome-network-ad-data"/>。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>設定和存取 Windows 網路印表機</term>
   <listitem>
    <para>
     您可以透過 GNOME 控制中心來設定 Windows 網路印表機。如需操作資訊，請參閱<xref linkend="sec-gnome-network-ad-printer"/>。
    </para>
   </listitem>
  </varlistentry>
 </variablelist>
 <sect1 xml:id="sec-gnomeuser-start-network-connect">
  <title>連接至網路</title>

  <para>
   您可以透過有線或無線方式來進行網路連接。若要檢視您的網路連接，請按一下頂部列右側的網路圖示。然後依次按一下<guimenu>未連接 Wi-Fi</guimenu>、所需網路的名稱和<guimenu>連接</guimenu>。按一下連線名稱可以查看更多詳細資料及存取設定。
  </para>

  <para>
   若要瞭解關於連接至網路的詳細資訊，請參閱<xref linkend="cha-nm"/>。
  </para>
 </sect1>
 <sect1 xml:id="sec-gnome-network-general">
  <title>關於檔案共用和網路瀏覽的一般說明</title>

  <important os="sles;sled">
   <title>設定前聯絡您的管理員</title>
   <para>
    您是否可以在您的網路中使用檔案共用和網路瀏覽，以及在多大範圍內使用，很大程度上取決於機器的網路結構和組態。
   </para>
   <para>
    在設定檔案共用或網路瀏覽之前，請聯絡您的系統管理員。檢查您的網路結構是否支援相應的功能，以及您公司的安全規則是否允許這種設定。
   </para>
  </important>

  <para>
   無論是 Windows 共用的 SMB 瀏覽或遠端服務的 SLP 瀏覽，網路瀏覽主要是依賴機器傳送廣播訊息至網路中所有用戶端的能力。這些訊息與用戶端對訊息的回應可讓您的機器偵測可用的共用或服務。
  </para>

  <para>
   為了有效進行廣播，機器必須跟所查詢的所有其他機器位於相同的子網路中。如果您的機器無法進行網路瀏覽，或是偵測到的共用及服務不符合您的期望，請<phrase os="sles;sled">聯絡您的系統管理員</phrase>，確定您已連接到適當的子網路。
  </para>

  <para>
   若要允許網路瀏覽，機器必須開放數個網路連接埠，以便傳送及接收網路訊息，這些網路訊息可提供網路詳細資訊和共用與服務的可用性。<phrase os="sled;sles">標準 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 專為提供嚴密的安全保護而設計，其中配備了可保障機器在網際網路上的安全的防火牆。</phrase>
  </para>

  <para>
   <phrase os="sled;sles">若要調整防火牆組態，您需要讓系統管理員將您的介面置於內部區域中，或完全停用防火牆 (視公司的安全性規則而定)。</phrase>如果您嘗試在啟用防火牆限制的機器上瀏覽網路，GNOME Files 會發出警告，提醒您您的安全性限制不允許查詢該網路。
  </para>
 </sect1>
 <sect1 xml:id="sec-gnome-network-accshare">
  <title>存取網路共用</title>

  <para>
   您可以設定網路工作站來共用目錄。一般情況下，檔案與目錄均標示為允許使用者進行遠端存取。這些稱為<emphasis>網路共用</emphasis>。如果您的系統設定為存取網路共用，您可以使用檔案管理員來存取這些共用，並輕鬆地瀏覽這些共用，就好比它們位於您的本地電腦上一樣。您對共用目錄的存取層級 (唯讀或寫入存取權) 取決於共用所有者為您授予的權限。
  </para>

  <para>
   若要存取網路共用，請開啟 GNOME Files，然後按一下邊列中的<guimenu>其他位置</guimenu>。GNOME Files 即會顯示您可存取的伺服器與網路。連按兩下伺服器或網路以存取其共用。系統可能會要求您提供使用者名稱及密碼向伺服器驗證。通用網路共用是可透過 SFTP 存取的資源 (SSH 檔案傳輸通訊協定) 或 Windows 共用。
  </para>

  <figure>
   <title>網路檔案瀏覽器</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="network_browser.png" width="100%"/>
     </imageobject>
    <imageobject role="html">
     <imagedata fileref="network_browser.png" width="90%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <procedure>
   <title>新增網路位置</title>
   <step>
    <para>
     開啟 GNOME Files，然後按一下邊列中的<guimenu>其他位置</guimenu>，底部即會顯示一個<guimenu>連接至伺服器</guimenu>文字方塊。
    </para>
   </step>
   <step>
    <para>
     輸入伺服器位址。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>連接</guimenu>。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec-gnome-network-smbshare">
  <title>共用目錄</title>

  <para>
   在企業環境中，共用和互換文件是缺一不可的功能。GNOME Files 可為您提供檔案共用功能，讓 Linux 與 Windows 使用者都能存取您的檔案和目錄。
  </para>

  <sect2 xml:id="sec-gnome-network-sharingcomputer">
   <title>啟用電腦的共用功能</title>
   <para>
    在您可以共用目錄之前，必須先在電腦上啟用共用。您可以使用 YaST 或透過新增相應項至 <productname>Samba</productname> 組態檔案，來啟用此功能。
   </para>
   <sect3>
    <title>使用 YaST 啟用共用</title>

    <procedure>
     <step>
      <para>
       從<guimenu>活動</guimenu>綜覽中啟動 YaS，然後輸入 <systemitem class="username">root</systemitem> 密碼。
      </para>
     </step>
     <step>
      <para>
       在<guimenu>網路服務</guimenu>類別中，按一下 <guimenu>Windows 網域成員</guimenu>。
      </para>
     </step>
     <step>
      <para>
       選取<guimenu>允許使用者共享自己的目錄</guimenu>，然後按一下<guimenu>確定</guimenu>。
      </para>
     </step>
    </procedure>
    <para>
     現在已在您的電腦上啟用共用目錄。
    </para>
   </sect3>

   <sect3>
    <title>透過編輯 <productname>Samba</productname> 組態檔案啟用共用</title>
    <procedure>
     <step>
      <para>
       啟動<guimenu>終端機</guimenu>。
      </para>
     </step>
     <step>
      <para>
       以 <systemitem class="username">root</systemitem> 身分開啟組態檔案 <filename>/etc/samba/smb.conf</filename>。
      </para>
      <para>
       使用以下指令：
      </para>
      <screen>sudo vi /etc/samba/smb.conf</screen>
     </step>
     <step>
      <para>
       若要啟用編輯，請按 <keycap>I</keycap> 鍵。
       </para>
     </step>
     <step>
      <para>
       在 <parameter>[global]</parameter> 區段中新增以下項目：
      </para>
      <screen>usershare max shares = 100</screen>
     </step>
     <step>
      <para>
       儲存並結束編輯器。
      </para>
     </step>
    </procedure>
    <para>
     現在已在您的電腦上啟用共用目錄。
    </para>
   </sect3>
  </sect2>
  
  <sect2 xml:id="sec-gnome-network-sharingcomputer-conf">
   <title>透過組態檔案在電腦上啟用共用</title>
   <para>
    在您可以共用目錄之前，必須先在電腦上啟用共用。若要啟用共用功能：
   </para>
   <procedure>
    <step>
     <para>
      從主功能表中啟動 YaST。
     </para>
    </step>
    <step>
     <para>
      輸入 <systemitem class="username">root</systemitem> 密碼。
     </para>
    </step>
    <step>
     <para>
      在<guimenu>網路服務</guimenu>類別中，按一下 <guimenu>Windows 網域成員</guimenu>。
     </para>
    </step>
    <step>
     <para>
      選取<guimenu>允許使用者共享自己的目錄</guimenu>，然後按一下<guimenu>確定</guimenu>。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-gnome-network-sharingfolder">
   <title>對目錄啟用共用</title>
   <para>
    若要對某個目錄設定檔案共用：
   </para>
   <procedure>
    <step>
     <para>
      開啟 GNOME Files。
     </para>
    </step>
    <step>
     <para>
      在某個目錄上按一下滑鼠右鍵，選取<guimenu>內容</guimenu>，然後按一下<guimenu>共用選項</guimenu>。
     </para>
     <informalfigure>
      <mediaobject>
       <textobject><phrase>Sharing options</phrase></textobject>
       <imageobject role="fo">
        <imagedata fileref="folder_sharing_1_a.png" width="85%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="folder_sharing_1_a.png" width="85%"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      選取<guimenu>共用此資料夾</guimenu>。
     </para>
    </step>
    <step>
     <para>
      若您希望其他人可以寫入該目錄，請選取<guimenu>允許其他人建立和刪除此資料夾中的檔案</guimenu>。若要允許沒有使用者帳號的人員進行存取，請勾選<guimenu>訪客存取</guimenu>。
     </para>
    </step>
    <step>
     <para>
      按一下<guimenu>建立共用</guimenu>。
     </para>
    </step>
    <step>
     <para>
      如果目錄尚未分配共用所需的權限，一個對話方塊將會顯示。按一下<guimenu>自動加入權限</guimenu>。
     </para>
    </step>
   </procedure>
   <para>
    目錄圖示會變更，指出目錄現已共用。
   </para>
   <important>
    <title>Samba 網域瀏覽和防火牆</title>
    <para>
     只有在系統防火牆已妥當設定後，才能使用 Samba 網域瀏覽。您必須完全停用防火牆，或將瀏覽介面指定到防火牆內部區域。<phrase os="sles;sled">請詢問系統管理員如何繼續。</phrase>
    </para>
   </important>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-gnome-network-ad-data">
  <title>管理 Windows 檔案</title>

  <para>
   由於您的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 機器屬於 Active Directory 用戶端，因此您可以瀏覽、檢視和操作位於 Windows 伺服器上的資料。以下是最常見的範例：
  </para>

  <variablelist>
   <varlistentry>
    <term>使用 GNOME Files 瀏覽 Windows 檔案</term>
    <listitem>
     <para>
      使用 GNOME Files 的網路瀏覽功能來瀏覽 Windows 資料。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>使用 GNOME Files 檢視 Windows 資料</term>
    <listitem>
     <para>
      您可以使用 GNOME Files 如同顯示 Linux 目錄的內容一般來顯示 Windows 使用者目錄的內容。在 Windows 伺服器上建立新的檔案和目錄。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>使用 GNOME 應用程式操作 Windows 資料</term>
    <listitem>
     <para>
      許多 GNOME 應用程式都可讓您開啟 Windows 伺服器上的檔案、操作那些檔案，並將那些檔案存回 Windows 伺服器。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>單次登入</term>
    <listitem>
     <para>
      GNOME 應用程式 (包括 GNOME Files) 支援單一登入。這表示您在存取其他 Windows 資源時不需要重新驗證。這些資源可能是 Web 伺服器、代理伺服器或群組軟體伺服器 (如 Microsoft Exchange*)。系統會使用您在登入時提供的使用者名稱和密碼在背景中以靜默模式處理所有此類驗證。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   若要使用 GNOME Files 存取 Windows 資料，請執行以下步驟：
  </para>

  <procedure>
   <step>
    <para>
     開啟 GNOME Files，然後按一下導覽窗格中的<guimenu>其他位置</guimenu>。
    </para>
   </step>
   <step>
    <para>
     連按兩下<guimenu>Windows 網路</guimenu>。
    </para>
   </step>
   <step>
    <para>
     連按兩下您要存取的電腦所在工作群組的圖示。
    </para>
   </step>
   <step>
    <para>
     按一下電腦的圖示 (並在系統提示時進行驗證)，然後瀏覽至該電腦的共用目錄。
    </para>
   </step>
  </procedure>

  <para>
   若要使用 GNOME Files 在 Windows 使用者目錄中建立目錄，請依照建立 Linux 目錄的方式進行。
  </para>
 </sect1>
 <sect1 xml:id="sec-gnome-network-ad-printer">
  <title>設定和存取 Windows 網路印表機</title>



  <para>
   若您是企業網路中的一員且已通過 Windows Active Directory 伺服器驗證，便可以存取印表機等企業資源。GNOME 可讓您從 Linux 用戶端設定 windows 網路印表機的列印功能。
  </para>

  <para>
   若要設定 Windows 網路印表機以便從 Linux 工作站列印，請執行下列步驟：
  </para>

  <procedure>
   <step>
    <para>
     
     確定 CUPS 列印服務可用並在開機時自動啟動：
    </para>
    <screen><prompt>&gt; </prompt><command>sudo</command> systemctl enable cups.service
<prompt>&gt; </prompt><command>sudo</command> systemctl start cups.service</screen>
   </step>
   <step>
    <para>
     在桌面上按一下滑鼠右鍵，然後依序選擇<guimenu>設定</guimenu>和<guimenu>印表機</guimenu>，以啟動印表機組態。
    </para>
   </step>
   <step>
    <para>
     按一下右上角的<guimenu>解除鎖定</guimenu>，然後輸入 <systemitem class="username">root</systemitem> 密碼。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>新增</guimenu>按鈕。
    </para>
   </step>
   <step>
    <para>
     選取透過 Samba 連接的 Windows 印表機。
    </para>
   </step>

  </procedure>

  <para>
   若要使用以上設定的 Windows 網路印表機進行列印，只要從可用印表機清單中選取它即可。
  </para>
 </sect1>
</chapter>
