<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_firstboot.xml" version="5.0" xml:id="cha-deployment-firstboot">
    
 <title>Distribuzione di preinstallazioni personalizzate</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
  <abstract>
   <para>
    La distribuzione di preinstallazioni personalizzate di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> in molti computer identici consente di evitare singole installazioni separate e di ottenere un&apos;installazione standardizzata per gli utenti finali.
   </para>
  </abstract>
 </info>
 
<para>
  A differenza di AutoYaST, che consente di effettuare installazioni completamente automatiche, con YaST firstboot è possibile creare le immagini delle preinstallazioni personalizzate e determinare il flusso di lavoro per i passaggi di personalizzazione finali che richiedono l&apos;interazione dell&apos;utente finale.
 </para>
 <para>
  La creazione di un&apos;installazione personalizzata, la distribuzione sul proprio hardware e la personalizzazione del prodotto finale, prevedono i passaggi seguenti:
 </para>
 <procedure>
  <step>
   <para>
    Preparare il computer master i cui dischi devono essere clonati sui computer client. Per ulteriori informazioni, fare riferimento alla <xref linkend="sec-fb-master"/>.
   </para>
  </step>
  <step>
   <para>
    Personalizzare il workflow firstboot. Per ulteriori informazioni, fare riferimento alla <xref linkend="sec-fb-customize"/>.
   </para>
  </step>
  <step>
   <para>
    Clonare il disco del computer master e distribuire questa immagine ai dischi dei client. Per ulteriori informazioni, fare riferimento alla <xref linkend="sec-fb-clone"/>.
   </para>
  </step>
  <step>
   <para>
    Fare in modo che l&apos;utente finale personalizzi l&apos;istanza di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Per ulteriori informazioni, fare riferimento alla <xref linkend="sec-fb-personalize"/>.
   </para>
  </step>
 </procedure>
 <sect1 xml:id="sec-fb-master">
  <title>Preparazione del computer master</title>

  <para>
   Per preparare un computer master per un workflow firstboot, eseguire le operazioni riportate di seguito:
  </para>

  <procedure>
   <step xml:id="st-master1">
    <para>
     Inserire il supporto di installazione nel computer master.
    </para>
   </step>
   <step xml:id="st-master2">
    <para>
     Avviare il computer.
    </para>
   </step>
   <step xml:id="st-master3">
    <para>
     Eseguire un&apos;installazione normale includendo tutti i passaggi di configurazione necessari e accertarsi di selezionare il pacchetto <systemitem>yast2-firstboot</systemitem> per l&apos;installazione.
    </para>
   </step>
   <step xml:id="st-master4">
    <para>
     Per definire il proprio workflow per i passaggi di configurazione di YaST per l&apos;utente finale o per aggiungere i propri moduli YaST a questo workflow, procedere alla <xref linkend="sec-fb-customize"/>. In caso contrario procedere direttamente al <xref linkend="st-master5"/>.
    </para>
   </step>
   <step xml:id="st-master5">
    <para>
     Abilitare firstboot come <systemitem class="username">root</systemitem>:
    </para>
    <para>
     Creare un file vuoto <filename>/var/lib/YaST2/reconfig_system</filename> per avviare l&apos;esecuzione di firstboot. Questo file verrà eliminato dopo che firstboot sarà stato configurato correttamente. Creare il file utilizzando il seguente comando:
    </para>
<screen>touch /var/lib/YaST2/reconfig_system</screen>
   </step>
   <step>
    <para>
     Passare alla <xref linkend="sec-fb-clone"/>.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec-fb-customize">
  <title>Personalizzazione dell&apos;installazione di firstboot</title>

  <para>
   La personalizzazione del flusso di lavoro di installazione di Firstboot può interessare più componenti. È consigliabile personalizzarli. Se non si eseguono modifiche, firstboot esegue l&apos;installazione utilizzando le impostazioni di default. Sono disponibili le seguenti opzioni:
  </para>

  <itemizedlist>
    <listitem>
    <para>
     Personalizzazione dei messaggi per l&apos;utente, come descritto nella <xref linkend="sec-fb-customize-msg"/>.
    </para>
      </listitem>
   <listitem>
    <para>
     Personalizzazione delle licenze e delle relative azioni, come descritto nella <xref linkend="sec-fb-customize-license"/>.
    </para>
   </listitem>
   <listitem>
    <para>
     Personalizzazione delle note sulla versione da visualizzare, come descritto nella <xref linkend="sec-fb-customize-rn"/>.
    </para>
   </listitem>
   <listitem>
    <para>
     Personalizzazione dell&apos;ordine e del numero di componenti interessati all&apos;installazione, come descritto nella <xref linkend="sec-fb-customize-wf"/>.
    </para>
   </listitem>
   <listitem>
    <para>
     Configurazione degli script facoltativi aggiuntivi, come descritto nella <xref linkend="sec-fb-customize-script"/>.
    </para>
   </listitem>
  </itemizedlist>

  <para>
   Per personalizzare uno qualsiasi di questi componenti, modificare i seguenti file di configurazione:
  </para>

  <variablelist>
   <varlistentry>
    <term><filename>/etc/sysconfig/firstboot</filename>
    </term>
    <listitem>
     <para>
      Configurare i vari aspetti di firstboot (come le note sulla versione, gli script e le azioni della licenza).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>/etc/YaST2/firstboot.xml</filename>
    </term>
    <listitem>
     <para>
      Configurare il workflow di installazione abilitando o disabilitando componenti o aggiungendone di personalizzati.
     </para>
     <para>
      Fornire le traduzioni per tale flusso di installazione personalizzato, come descritto nella <xref linkend="sec-fb-provide-trans"/>.
     </para>
     <tip>
      <title>ubicazione alternativa del file di controllo</title>
      <para>
       <filename>/etc/firstboot.xml</filename> è il percorso di default per il file di controllo, installato dal pacchetto <systemitem>yast2-firstboot</systemitem>yast2-. Se è necessario definire un&apos;ubicazione diversa per il file di controllo, aprire <filename>/etc/sysconfig/firstboot</filename> e modificare la variabile <literal>FIRSTBOOT_CONTROL_FILE</literal> per impostare la posizione desiderata.
      </para>
     </tip>
    </listitem>
   </varlistentry>
  </variablelist>



  <para>
   Se si desidera personalizzare altri componenti oltre a quelli coinvolti nel workflow, fare riferimento alla documentazione relativa a <filename>control.xml</filename> all&apos;indirizzo <link xlink:href="http://doc.opensuse.org/projects/YaST/SLES11/tdg/inst_in_general_chap.html#product_control"/>.
  </para>

  <sect2 xml:id="sec-fb-customize-msg">
   <title>Personalizzazione dei messaggi YaST</title>
   <para>
    Per impostazione predefinita, un&apos;installazione di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> contiene vari messaggi di default localizzati e visualizzati in determinate fasi del processo di installazione. Questi comprendono un messaggio di benvenuto, un messaggio di licenza e un messaggio di congratulazioni al termine dell&apos;installazione. Questi messaggi possono essere sostituiti nell&apos;installazione con le proprie versioni e possono essere localizzati. Per includere il proprio messaggio di benvenuto, procedere come segue:
   </para>
   <procedure>
    <step>
     <para>
      Eseguire il login come utente <systemitem class="username">root</systemitem>.
     </para>
    </step>
    <step>
     <para>
      Aprire il file di configurazione <filename>/etc/sysconfig/firstboot</filename> e apportare le seguenti modifiche:
     </para>
     <substeps>
      <step>
       <para>
        Impostare <envar>FIRSTBOOT_WELCOME_DIR</envar> con il percorso della directory dove si desidera memorizzare i file contenenti il messaggio di benvenuto e le versioni localizzate. Ad esempio:
       </para>
<screen>FIRSTBOOT_WELCOME_DIR="/usr/share/firstboot/"
</screen>
      </step>
      <step>
       <para>
        Se il nome file del messaggio di benvenuto è differente da <filename>welcome.txt</filename> e <filename>welcome_<replaceable>locale</replaceable>.txt</filename> (dove <replaceable>locale</replaceable> corrisponde ai codici ISO 639 per la lingua, ad esempio, <quote>cs</quote> o <quote>de</quote>), specificare il modello del nome file in <envar>FIRSTBOOT_WELCOME_PATTERNS</envar>. Ad esempio:
       </para>
<screen>FIRSTBOOT_WELCOME_PATTERNS="mywelcome.txt"</screen>
       <para>
        Se non impostato, viene utilizzato il valore di default di <filename>welcome.txt</filename>.
       </para>
      </step>
     </substeps>
    </step>
    <step>
     <para>
      Creare il file di benvenuto e le versioni localizzate e posizionarli nella directory specificata nel file di configurazione <filename>/etc/sysconfig/firstboot</filename>.
     </para>
    </step>
   </procedure>
   <para>
    Procedere in modo analogo per configurare la licenza personalizzata e i messaggi di completamento. Queste variabili sono <envar>FIRSTBOOT_LICENSE_DIR</envar> e <envar>FIRSTBOOT_FINISH_FILE</envar>.
   </para>
   <para>
    Impostare <envar>SHOW_Y2CC_CHECKBOX</envar> su <quote>Sì</quote> se l&apos;utente ha l&apos;esigenza di avviare YaST subito dopo l&apos;installazione.
   </para>
  </sect2>

  <sect2 xml:id="sec-fb-customize-license">
   <title>Personalizzazione dell&apos;azione della licenza</title>
   <para>
    È possibile personalizzare la risposta del sistema di installazione nel caso in cui l&apos;utente rifiuti di accettare il contratto di licenza. Il sistema può reagire in tre modi a questo scenario:
   </para>
   <variablelist>
    <varlistentry>
     <term>halt</term>
     <listitem>
      <para>
       L&apos;installazione di firstboot viene interrotta e il sistema si spegne. È l&apos;impostazione di default.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>continue</term>
     <listitem>
      <para>
       L&apos;installazione di firstboot continua.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>abort</term>
     <listitem>
      <para>
       L&apos;installazione di firstboot viene interrotta, ma il sistema tenta di effettuare l&apos;avvio.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    Eseguire la propria scelta e impostare <envar>LICENSE_REFUSAL_ACTION</envar> al valore desiderato.
   </para>
  </sect2>

  <sect2 xml:id="sec-fb-customize-rn">
   <title>Personalizzazione delle note di rilascio</title>
   <para>
    A seconda del fatto che sia stata modificata o meno l&apos;istanza di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> che si sta distribuendo con firstboot, potrebbe essere necessario fornire agli utenti finali informazioni su alcuni aspetti importanti del nuovo sistema operativo. Un&apos;installazione standard utilizza le note sulla versione (visualizzate durante le fasi finali dell&apos;installazione) per fornire informazioni importanti agli utenti. Per visualizzare le proprie note di rilascio modificate come parte di un&apos;installazione firstboot, procedere come segue:
   </para>
   <procedure>
    <step>
     <para>
      Creare il proprio file con le note di rilascio. Utilizzare il formato RTF come nel file di esempio in <filename>/usr/share/doc/release-notes</filename> e salvare il risultato come <filename>RELEASE-NOTES.en.rtf</filename> (per l&apos;inglese).
     </para>
    </step>
    <step>
     <para>
      Memorizzare le versioni localizzate facoltative assieme alla versione originale e sostituire la parte <literal>en</literal> del nome file con il codice ISO 639 per la lingua, ad esempio <literal>de</literal> per il tedesco.
     </para>
    </step>
    <step>
     <para>
      Aprire il file di configurazione di firstboot in <filename>/etc/sysconfig/firstboot</filename> e impostare <envar>FIRSTBOOT_RELEASE_NOTES_PATH</envar> per la directory dove sono memorizzate le note di rilascio.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-fb-customize-wf">
   <title>Personalizzazione del flusso di lavoro</title>
   <para>
    L&apos;esempio <filename>/etc/YaST2/firstboot.xml</filename> fornito definisce un flusso di lavoro standard che include i seguenti componenti abilitati:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Selezione della lingua
     </para>
    </listitem>
    <listitem>
     <para>
      Introduzione
     </para>
    </listitem>

    <listitem>
     <para>
      Contratto di licenza
     </para>
    </listitem>
    <listitem>
     <para>
      Ora e data
     </para>
    </listitem>
    <listitem>
     <para>
      Utenti
     </para>
    </listitem>
    <listitem>
     <para>
      Parola d&apos;ordine radice
     </para>
    </listitem>
    <listitem>
     <para>
      Termine configurazione
     </para>
    </listitem>
   </itemizedlist>
   <para>
    Tenere presente che questo flusso di lavoro è un modello. È possibile modificarlo in modo appropriato cambiando manualmente il file di configurazione firstboot <filename>/etc/YaST2/firstboot.xml</filename>. Questo file XML è un sottoinsieme del file <filename>control.xml</filename> standard, utilizzato da YaST per controllare il workflow di installazione. Per ulteriori informazioni su come configurare la sezione del flusso di lavoro, vedere l&apos;<xref linkend="ex-fb-wf"/>.
   </para>
   <para>
    Per una panoramica delle proposte, vedere l&apos;<xref linkend="ex-fb-proposal"/>, che fornisce informazioni sufficienti per modificare il workflow di installazione di firstboot e spiega la sintassi di base del file di configurazione di firstboot e la configurazione degli elementi chiave. La sintassi di base del file di configurazione firstboot (e la modalità di configurazione degli elementi chiave) è illustrata in questo esempio.
   </para>
   <example xml:id="ex-fb-proposal">
    <title>Configurazione degli schermi di proposta</title>
<screen>
    …
    &lt;proposals config:type="list"&gt;<co xml:id="co-fb-plist"/>
        &lt;proposal&gt;<co xml:id="co-fb-p"/>
            &lt;name&gt;firstboot_hardware&lt;/name&gt;<co xml:id="co-fb-pname"/>
            &lt;mode&gt;installation&lt;/mode&gt;<co xml:id="co-fb-pmode"/>
            &lt;stage&gt;firstboot&lt;/stage&gt;<co xml:id="co-fb-pstage"/>
            &lt;label&gt;Hardware Configuration&lt;/label&gt;<co xml:id="co-fb-plabel"/>
            &lt;proposal_modules config:type="list"&gt;<co xml:id="co-fb-pmodl"/>
                &lt;proposal_module&gt;printer&lt;/proposal_module&gt;<co xml:id="co-fb-pmod"/>
            &lt;/proposal_modules&gt;
        &lt;/proposal&gt;
        &lt;proposal&gt;
        …
        &lt;/proposal&gt;
    &lt;/proposals&gt;
   </screen>
   </example>
   <calloutlist>
    <callout arearefs="co-fb-plist">
     <para>
      Il container per tutte le proposte che dovrebbero essere parte del workflow di firstboot.
     </para>
    </callout>
    <callout arearefs="co-fb-p">
     <para>
      Il container per una proposta singola.
     </para>
    </callout>
    <callout arearefs="co-fb-pname">
     <para>
      Il nome interno della proposta.
     </para>
    </callout>
    <callout arearefs="co-fb-pmode">
     <para>
      La modalità della proposta. Non eseguire modifiche in questo punto. Per l&apos;installazione con firstboot, impostare su <literal>install</literal>.
     </para>
    </callout>
    <callout arearefs="co-fb-pstage">
     <para>
      La fase del processo di installazione durante la quale viene richiamata la proposta. Non eseguire modifiche in questo punto. Per l&apos;installazione con firstboot, impostare su <literal>firstboot</literal>.
     </para>
    </callout>
    <callout arearefs="co-fb-plabel">
     <para>
      L&apos;etichetta da visualizzare sulla proposta.
     </para>
    </callout>
    <callout arearefs="co-fb-pmodl">
     <para>
      Il container per tutti i moduli che sono parte della schermata delle proposte.
     </para>
    </callout>
    <callout arearefs="co-fb-pmod">
     <para>
      Uno o più moduli che sono parte della schermata delle proposte.
     </para>
    </callout>
   </calloutlist>
   <para>
    La sezione successiva del file di configurazione di firstboot consiste nella definizione del workflow. Tutti i moduli che dovrebbero essere parte del workflow di installazione con firstboot devono essere elencati qui.
   </para>
   <example xml:id="ex-fb-wf">
    <title>Configurazione della sezione flusso di lavoro</title>
<screen>
    &lt;workflows  config:type="list"&gt;
        &lt;workflow&gt;
            &lt;defaults&gt;
                &lt;enable_back&gt;yes&lt;/enable_back&gt;
                &lt;enable_next&gt;yes&lt;/enable_next&gt;
                &lt;archs&gt;all&lt;/archs&gt;
            &lt;/defaults&gt;
            &lt;stage&gt;firstboot&lt;/stage&gt;
            &lt;label&gt;Configuration&lt;/label&gt;
            &lt;mode&gt;installation&lt;/mode&gt;
            … &lt;!–– list of modules  ––&gt;
            &lt;/modules&gt;
        &lt;/workflow&gt;
    &lt;/workflows&gt;
    …
  </screen>
   </example>
   <para>
    La struttura generale della sezione <literal>workflows</literal> è molto simile a quella della sezione <literal>proposals</literal>. Un container contiene gli elementi del workflow, che contengono tutte le informazioni sulle fasi, l&apos;etichetta e la modalità (come le proposte descritte nell&apos;<xref linkend="ex-fb-proposal"/>). La differenza più evidente è nella sezione <filename>defaults</filename>, contenente informazioni di base per la progettazione dei componenti del workflow:
   </para>
   <variablelist>
    <varlistentry>
     <term><literal>enable_back</literal>
     </term>
     <listitem>
      <para>
       Include il pulsante <guimenu>Indietro</guimenu> in tutte le finestre di dialogo.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><literal>enable_next</literal>
     </term>
     <listitem>
      <para>
       Include il pulsante <guimenu>Avanti</guimenu> in tutte le finestre di dialogo.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><literal>archs</literal>
     </term>
     <listitem>
      <para>
       Specifica le architetture hardware sulle quali deve essere utilizzato questo workflow.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <example xml:id="ex-fb-wfmod">
    <title>Configurazione dell&apos;elenco di componenti del flusso di lavoro</title>
<screen>
    &lt;modules  config:type="list"&gt;<co xml:id="co-fb-modl"/>
        &lt;module&gt;<co xml:id="co-fb-mod"/>
            &lt;label&gt;Language&lt;/label&gt;<co xml:id="co-fb-label"/>
            &lt;enabled config:type="boolean"&gt;false&lt;/enabled&gt;<co xml:id="co-fb-en"/>
            &lt;name&gt;firstboot_language&lt;/name&gt;<co xml:id="co-fb-name"/>
        &lt;/module&gt;
    &lt;modules&gt;
  </screen>
   </example>
   <calloutlist>
    <callout arearefs="co-fb-modl">
     <para>
      Il container per tutti i componenti del workflow.
     </para>
    </callout>
    <callout arearefs="co-fb-mod">
     <para>
      La definizione del modulo.
     </para>
    </callout>
    <callout arearefs="co-fb-label">
     <para>
      L&apos;etichetta visualizzata con il modulo.
     </para>
    </callout>
    <callout arearefs="co-fb-en">
     <para>
      Lo switch per abilitare o disabilitare questo componente nel workflow.
     </para>
    </callout>
    <callout arearefs="co-fb-name">
     <para>
      Il nome del modulo. Il modulo stesso deve trovarsi in <filename>/usr/share/YaST2/clients</filename>.
     </para>
    </callout>
   </calloutlist>
   <para>
    Per eseguire modifiche al numero o all&apos;ordine degli schermi di proposte durante il processo di installazione con firstboot, procedere come segue:
   </para>
   <procedure>
    <step>
     <para>
      Aprire il file di configurazione di firstboot in <filename>etc/YaST2/firstboot.xml</filename>.
     </para>
    </step>
    <step>
     <para>
      Eliminare o aggiungere gli schermi o cambiare l&apos;ordine di quelli esistenti:
     </para>
     <itemizedlist>
      <listitem>
       <para>
        Per eliminare un&apos;intera proposta, rimuovere l&apos;elemento <literal>proposal</literal>, compresi tutti i relativi componenti secondari dalla sezione <literal>proposals</literal> e rimuovere il rispettivo elemento <literal>module</literal> (con elementi secondari) dal workflow.
       </para>
      </listitem>
      <listitem>
       <para>
        Per aggiungere una nuova proposta, creare un nuovo elemento <literal>proposal</literal> e immettere gli elementi secondari richiesti. Accertarsi che la proposta esista come modulo YaST in <filename>/usr/share/YaST2/clients</filename>.
       </para>
      </listitem>
      <listitem>
       <para>
        Per modificare l&apos;ordine delle proposte, spostare nel workflow i rispettivi elementi <literal>module</literal> contenenti le schermate delle proposte. Potrebbero essere presenti dipendenze con altri passaggi che richiedono un determinato ordine di componenti proposte e flussi di lavoro.
       </para>
      </listitem>
     </itemizedlist>
    </step>
    <step>
     <para>
      Applicare le modifiche e chiudere il file di configurazione.
     </para>
    </step>
   </procedure>
   <para>
    È sempre possibile modificare il flusso di lavoro dei passaggi di configurazione quando quello predefinito non soddisfa le esigenze specifiche. Abilitare o disabilitare alcuni moduli nel workflow (oppure aggiungere dei moduli personalizzati).
   </para>
   <para>
    Per alternare lo stato di un modulo nel workflow di firstboot, procedere come segue:
   </para>
   <procedure>
    <step>
     <para>
      Aprire il file di configurazione <filename>/etc/YaST2/firstboot.xml</filename>.
     </para>
    </step>
    <step>
     <para>
      Modificare il valore per l&apos;elemento <literal>enabled</literal> da <literal>true</literal> a <filename>false</filename> per disabilitare il modulo, oppure da <literal>false</literal> a <literal>true</literal> per abilitarlo nuovamente.
     </para>
<screen>
&lt;module&gt;
    &lt;label&gt;Time and Date&lt;/label&gt;
    &lt;enabled config:type="boolean"&gt;true&lt;/enabled&gt;
    &lt;name&gt;firstboot_timezone&lt;/name&gt;
&lt;/module&gt;
</screen>
    </step>
    <step>
     <para>
      Applicare le modifiche e chiudere il file di configurazione.
     </para>
    </step>
   </procedure>
   <para>
    Per aggiungere un modulo personalizzato al workflow, eseguire le operazioni riportate di seguito:
   </para>
   <procedure>
    <step>
     <para>
      Creare il proprio modulo YaST e memorizzare il file del modulo <filename><replaceable>nome_modulo</replaceable>.rb</filename> in <filename>/usr/share/YaST2/clients</filename>.
     </para>
    </step>
    <step>
     <para>
      Aprire il file di configurazione <filename>/etc/YaST2/firstboot.xml</filename>.
     </para>
    </step>
    <step>
     <para>
      Determinare in quale punto del workflow deve essere eseguito il nuovo modulo. Accertarsi che eventuali dipendenze con altri passaggi nel flusso di lavoro siano state considerate e risolte.
     </para>
    </step>
    <step>
     <para>
      Creare un nuovo elemento <literal>modulo</literal> all&apos;interno del container di <literal>moduli</literal>, quindi aggiungere i corretti elementi secondari:
     </para>
<screen>&lt;modules config:type="list"&gt;
     …
     &lt;module&gt;
        &lt;label&gt;<replaceable>my_module</replaceable>&lt;/label&gt;
        &lt;enabled config:type="boolean"&gt;true&lt;/enabled&gt;
        &lt;name&gt;<replaceable>filename_my_module</replaceable>&lt;/name&gt;
     &lt;/module&gt;
&lt;/modules&gt;
</screen>
     <substeps>
      <step>
       <para>
        Immettere l&apos;etichetta da visualizzare sul modulo nell&apos;elemento <literal>label</literal>.
       </para>
      </step>
      <step>
       <para>
        Accertarsi che <literal>enabled</literal> sia impostato su <literal>true</literal> per fare in modo che il modulo sia incluso nel workflow.
       </para>
      </step>
      <step>
       <para>
        Nell&apos;elemento <literal>name</literal> immettere il nome file del modulo. Omettere il percorso completo e il suffisso <filename>.rb</filename>.
       </para>
      </step>
     </substeps>
    </step>
    <step>
     <para>
      Applicare le impostazioni e chiudere il file di configurazione.
     </para>
    </step>
   </procedure>
   <tip>
    <title>individuazione dell&apos;interfaccia di rete connessa per la configurazione automatica</title>
    <para>
     Se l&apos;hardware di destinazione può includere più di un&apos;interfaccia di rete, aggiungere il pacchetto <systemitem>network-autoconfig</systemitem> all&apos;immagine dell&apos;applicazione. <systemitem>network-autoconfig</systemitem> scorre tutte interfacce Ethernet disponibili finché non ne viene configurata una tramite DHCP.
    </para>
   </tip>
  </sect2>

  <sect2 xml:id="sec-fb-customize-script">
   <title>Configurazione di script aggiuntivi</title>
   <para>
    È possibile configurare firstboot perché esegua script aggiuntivi al termine del workflow di firstboot. Per aggiungere ulteriori script alla sequenza di firstboot, eseguire le operazioni riportate di seguito:
   </para>
   <procedure>
    <step>
     <para>
      Aprire il file di configurazione <filename>/etc/sysconfig/firstboot</filename> e verificare che il percorso specificato per <envar>SCRIPT_DIR</envar> sia corretto. Il valore di default è <filename>/usr/share/firstboot/scripts</filename>.
     </para>
    </step>
    <step>
     <para>
      Creare lo script shell, memorizzarlo nella directory specificata e applicare i permessi corretti per i file.
     </para>
    </step>
   </procedure>
  </sect2>



  <sect2 xml:id="sec-fb-provide-trans">
   <title>Creazione di traduzioni del flusso di lavoro di installazione</title>
   <para>
    A seconda dell&apos;utente finale, potrebbe essere opportuno fornire traduzioni del workflow personalizzato. Queste traduzioni potrebbero essere necessarie è stato personalizzato il flusso di lavoro modificando il file <filename>/etc/YaST2/firstboot.xml</filename> descritto nella <xref linkend="sec-fb-customize-wf"/>. 
   </para>
   <para>
    Se è stato modificato <filename>/etc/YaST2/firstboot.xml</filename> e sono state apportate modifiche alle stringhe, generare un nuovo file dei modelli di traduzione (file <filename>.pot</filename>) e utilizzare la tool chain <systemitem>gettext</systemitem> per tradurre i file, quindi installare i file tradotti nelle directory YaST locali (<filename>/usr/share/YaST2/locale</filename>) come file <filename>.mo</filename> compilati. Procedere come segue:
   </para>
   <procedure>
    <step>
     <para>
      Ad esempio, modificare l&apos;impostazione <systemitem>textdomain</systemitem> da:
     </para>
<screen>&lt;textdomain&gt;firstboot&lt;/textdomain&gt;</screen>
     <para>
      in:
     </para>
<screen>&lt;textdomain&gt;firstboot-oem&lt;/textdomain&gt;</screen>
    </step>
    <step>
     <para>
      Usare <command>xgettext</command> per estrarre le stringhe traducibili in un file dei modelli di traduzione (file <filename>.pot</filename>); ad esempio in <filename>firstboot-oem.pot</filename>:
     </para>
<screen>xgettext -L Glade -o firstboot-oem.pot /etc/YaST2/firstboot.xml</screen>
    </step>
    <step>
     <para>
      Avviare il processo di traduzione. Quindi, comprimere i file tradotti in un pacchetto (file <filename><replaceable>LL_code</replaceable>.po</filename>) al pari delle traduzioni di altri progetti e installare i file <filename>firstboot-oem.mo</filename> compilati.
     </para>
    </step>
   </procedure>
   <para>
    Se si necessita di traduzioni per moduli YaST aggiuntivi o modificati, inserire le traduzioni nel modulo stesso. Se è stato modificato un modulo esistente, verificare di aver modificato anche la relativa istruzione textdomain per evitare indesiderati effetti collaterali.
   </para>
   <tip>
    <title>Ulteriori informazioni</title>
    <para>
     Per ulteriori informazioni sullo sviluppo di YaST, vedere <link xlink:href="https://en.opensuse.org/openSUSE:YaST_development"/>. Informazioni dettagliate su YaST e firstboot sono disponibili all&apos;indirizzo <link xlink:href="http://doc.opensuse.org/projects/YaST/SLES11/tdg/bk09ch01s02.html"/>.
    </para>
   </tip>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-fb-clone">
  <title>Clonazione dell&apos;installazione master</title>

  <para>
   È possibile clonare il disco del computer master utilizzando uno qualsiasi dei meccanismi di imaging disponibili e distribuirlo sui computer di destinazione. Per ulteriori informazioni sull&apos;imaging, consultare <link xlink:href="https://doc.suse.com/kiwi/"/>.
  </para>
 </sect1>
 <sect1 xml:id="sec-fb-personalize">
  <title>Personalizzazione dell&apos;installazione</title>

  <para>
   Quando l&apos;immagine del disco clonato viene avviata, firstboot si avvia e l&apos;installazione procede esattamente come indicato nella <xref linkend="sec-fb-customize-wf"/>. Vengono avviati solo i componenti inclusi nella configurazione del workflow di firstboot. Tutti gli altri passaggi dell&apos;installazione vengono ignorati. L&apos;utente finale seleziona le impostazioni di lingua, tastiera, rete e password per personalizzare la workstation. Al completamento di questo processo, un sistema installato firstboot si comporta come qualsiasi altra istanza di <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>.
  </para>
 </sect1>
</chapter>
