msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2018-08-18 22:25+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Put one translator per line, in the form NAME <EMAIL>, YEAR1, YEAR2
msgctxt "_"
msgid "translator-credits"
msgstr ""

#. (itstool) path: chapter/title
#: xml/security_vpnserver.xml:75
msgid "Configuring a VPN Server"
msgstr ""

#. (itstool) path: abstract/para
#: xml/security_vpnserver.xml:78
msgid "Today, Internet connections are cheap and available almost everywhere. However, not all connections are secure. Using a Virtual Private Network (VPN), you can create a secure network within an insecure network such as the Internet or Wi-Fi. It can be implemented in different ways and serves several purposes. In this chapter, we focus on the <link xlink:href=\"http://www.openvpn.net\">OpenVPN</link> implementation to link branch offices via secure wide area networks (WANs)."
msgstr ""

#. (itstool) path: chapter/indexterm
#: xml/security_vpnserver.xml:100
msgid "<primary>VPN</primary>"
msgstr ""

#. (itstool) path: chapter/indexterm
#: xml/security_vpnserver.xml:101
msgid "<primary>OpenVPN</primary>"
msgstr ""

#. (itstool) path: sect1/title
#: xml/security_vpnserver.xml:154
msgid "Conceptual Overview"
msgstr ""

#. (itstool) path: sect1/para
#: xml/security_vpnserver.xml:156
msgid "This section defines some terms regarding VPN and gives a brief overview of some scenarios."
msgstr ""

#. (itstool) path: sect2/title
#: xml/security_vpnserver.xml:162
msgid "Terminology"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/security_vpnserver.xml:165
msgid "Endpoint"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:167
msgid "The two <quote>ends</quote> of a tunnel, the source or destination client."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/security_vpnserver.xml:174
msgid "Tap Device"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:176
msgid "A tap device simulates an Ethernet device (layer 2 packets in the OSI model, such as IP packets). A tap device is used for creating a network bridge. It works with Ethernet frames."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/security_vpnserver.xml:184
msgid "Tun Device"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:186
msgid "A tun device simulates a point-to-point network (layer 3 packets in the OSI model, such as Ethernet frames). A tun device is used with routing and works with IP frames."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/security_vpnserver.xml:194
msgid "Tunnel"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:196
msgid "Linking two locations through a primarily public network. From a more technical viewpoint, it is a connection between the client's device and the server's device. Usually a tunnel is encrypted, but it does need to be by definition."
msgstr ""

#. (itstool) path: sect2/title
#: xml/security_vpnserver.xml:208
msgid "VPN Scenarios"
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:209
msgid "Whenever you set up a VPN connection, your IP packets are transferred over a secured <emphasis>tunnel</emphasis>. A tunnel can use either a <emphasis>tun</emphasis> or <emphasis>tap</emphasis> device. They are virtual network kernel drivers which implement the transmission of Ethernet frames or IP frames/packets."
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:216
msgid "Any user space program, such as OpenVPN, can attach itself to a tun or tap device to receive packets sent by your operating system. The program is also able to write packets to the device."
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:221
msgid "There are many solutions to set up and build a VPN connection. This section focuses on the OpenVPN package. Compared to other VPN software, OpenVPN can be operated in two modes:"
msgstr ""

#. (itstool) path: varlistentry/term
#. (itstool) path: figure/title
#: xml/security_vpnserver.xml:234
#: xml/security_vpnserver.xml:251
msgid "Routed VPN"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:236
msgid "Routing is an easy solution to set up. It is more efficient and scales better than a bridged VPN. Furthermore, it allows the user to tune MTU (Maximum Transfer Unit) to raise efficiency. However, in a heterogeneous environment, if you do not have a Samba server on the gateway, NetBIOS broadcasts do not work. If you need IPv6, the drivers for the tun devices on both ends must support this protocol explicitly. This scenario is depicted in <xref linkend=\"fig.vpn.scenario-routed-1\"/>."
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/security_vpnserver.xml:254
msgctxt "_"
msgid "external ref='vpn_routed1.png' md5='__failed__'"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/security_vpnserver.xml:257
msgctxt "_"
msgid "external ref='vpn_routed1.svg' md5='__failed__'"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/security_vpnserver.xml:264
msgid "Bridged VPN"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:266
msgid "Bridging is a more complex solution. It is recommended when you need to browse Windows file shares across the VPN without setting up a Samba or WINS server. Bridged VPN is also needed to use non-IP protocols (such as IPX) or applications relying on network broadcasts. However, it is less efficient than routed VPN. Another disadvantage is that it does not scale well. This scenario is depicted in the following figures."
msgstr ""

#. (itstool) path: figure/title
#: xml/security_vpnserver.xml:288
msgid "Bridged VPN - Scenario 1"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/security_vpnserver.xml:291
msgctxt "_"
msgid "external ref='vpn_bridged1.png' md5='__failed__'"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/security_vpnserver.xml:294
msgctxt "_"
msgid "external ref='vpn_bridged1.svg' md5='__failed__'"
msgstr ""

#. (itstool) path: figure/title
#: xml/security_vpnserver.xml:317
msgid "Bridged VPN - Scenario 2"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/security_vpnserver.xml:320
msgctxt "_"
msgid "external ref='vpn_bridged2.png' md5='__failed__'"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/security_vpnserver.xml:323
msgctxt "_"
msgid "external ref='vpn_bridged2.svg' md5='__failed__'"
msgstr ""

#. (itstool) path: figure/title
#: xml/security_vpnserver.xml:346
msgid "Bridged VPN - Scenario 3"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/security_vpnserver.xml:349
msgctxt "_"
msgid "external ref='vpn_bridged3.png' md5='__failed__'"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/security_vpnserver.xml:352
msgctxt "_"
msgid "external ref='vpn_bridged3.svg' md5='__failed__'"
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:359
msgid "The major difference between bridging and routing is that a routed VPN cannot IP-broadcast while a bridged VPN can."
msgstr ""

#. (itstool) path: sect1/title
#: xml/security_vpnserver.xml:366
msgid "Setting Up a Simple Test Scenario"
msgstr ""

#. (itstool) path: sect1/para
#: xml/security_vpnserver.xml:368
msgid "In the following example, we will create a point-to-point VPN tunnel. The example demonstrates how to create a VPN tunnel between one client and a server. It is assumed that your VPN server will use private IP addresses like <systemitem class=\"ipaddress\"><replaceable>IP_OF_SERVER</replaceable></systemitem> and your client will use the IP address <systemitem class=\"ipaddress\"><replaceable>IP_OF_CLIENT</replaceable></systemitem>. Make sure you select addresses which do not conflict with other IP addresses."
msgstr ""

#. (itstool) path: warning/title
#: xml/security_vpnserver.xml:379
msgid "Use Only for Testing"
msgstr ""

#. (itstool) path: warning/para
#: xml/security_vpnserver.xml:380
msgid "This following scenario is provided as an example meant for familiarizing yourself with VPN technology. <emphasis>Do not</emphasis> use this as a real world scenario, as it can compromise the security and safety of your IT infrastructure!"
msgstr ""

#. (itstool) path: tip/title
#: xml/security_vpnserver.xml:393
msgid "Names for Configuration File"
msgstr ""

#. (itstool) path: tip/para
#: xml/security_vpnserver.xml:394
msgid "To simplify working with OpenVPN configuration files, we recommend the following:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:400
msgid "Place your OpenVPN configuration files in the directory <filename>/etc/openvpn</filename>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:406
msgid "Name your configuration files <filename><replaceable>MY_CONFIGURATION</replaceable>.conf</filename>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:412
msgid "If there are multiple files that belong to the same configuration, place them in a subdirectory like <filename>/etc/openvpn/<replaceable>MY_CONFIGURATION</replaceable></filename>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/security_vpnserver.xml:422
#: xml/security_vpnserver.xml:962
msgid "Configuring the VPN Server"
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:423
msgid "To configure a VPN server, proceed as follows:"
msgstr ""

#. (itstool) path: procedure/title
#: xml/security_vpnserver.xml:427
msgid "VPN Server Configuration"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:429
msgid "Install the package <systemitem class=\"resource\">openvpn</systemitem> on the machine that will later become your VPN server."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:435
msgid "Open a shell, become <systemitem class=\"username\">root</systemitem> and create the VPN secret key:"
msgstr ""

#. (itstool) path: step/screen
#: xml/security_vpnserver.xml:438
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt>openvpn --genkey --secret /etc/openvpn/secret.key"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:441
msgid "Copy the secret key to your client:"
msgstr ""

#. (itstool) path: step/screen
#: xml/security_vpnserver.xml:444
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt>scp /etc/openvpn/secret.key root@<replaceable>IP_OF_CLIENT</replaceable>:/etc/openvpn/"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:447
msgid "Create the file <filename>/etc/openvpn/server.conf</filename> with the following content:"
msgstr ""

#. (itstool) path: step/screen
#: xml/security_vpnserver.xml:453
#, no-wrap
msgid ""
"dev tun\n"
"ifconfig <replaceable>IP_OF_SERVER</replaceable> <replaceable>IP_OF_CLIENT</replaceable>\n"
"secret secret.key"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:458
#: xml/security_vpnserver.xml:529
msgid "Set up a tun device configuration by creating a file called <filename>/etc/sysconfig/network/ifcfg-tun0</filename> with the following content:"
msgstr ""

#. (itstool) path: step/screen
#: xml/security_vpnserver.xml:463
#, no-wrap
msgid ""
"STARTMODE='manual'\n"
"BOOTPROTO='static'\n"
"TUNNEL='tun'\n"
"TUNNEL_SET_OWNER='nobody'\n"
"TUNNEL_SET_GROUP='nobody'\n"
"LINK_REQUIRED=no\n"
"PRE_UP_SCRIPT='systemd:openvpn@server'\n"
"PRE_DOWN_SCRIPT='systemd:openvpn@service'"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:471
msgid "The notation <literal>openvpn@server</literal> points to the OpenVPN server configuration file located at <filename>/etc/openvpn/server.conf</filename>. For more information, see <filename>/usr/share/doc/packages/openvpn/README.SUSE</filename>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:479
msgid "If you use a firewall, start YaST and open UDP port 1194 (<menuchoice><guimenu>Security and Users</guimenu><guimenu>Firewall</guimenu><guimenu>Allowed Services</guimenu></menuchoice>)."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:487
#: xml/security_vpnserver.xml:551
msgid "Start the OpenVPN server service by setting the tun device to <literal>up</literal>:"
msgstr ""

#. (itstool) path: step/screen
#: xml/security_vpnserver.xml:491
#: xml/security_vpnserver.xml:555
#, no-wrap
msgid ""
"<prompt>tux &gt; </prompt><command>sudo wicked ifup tun0</command>"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:492
#: xml/security_vpnserver.xml:556
msgid "You should see the confirmation:"
msgstr ""

#. (itstool) path: step/screen
#: xml/security_vpnserver.xml:495
#: xml/security_vpnserver.xml:559
#, no-wrap
msgid ""
"tun0            up"
msgstr ""

#. (itstool) path: sect2/title
#: xml/security_vpnserver.xml:501
#: xml/security_vpnserver.xml:1115
msgid "Configuring the VPN Clients"
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:502
msgid "To configure the VPN client, do the following:"
msgstr ""

#. (itstool) path: procedure/title
#: xml/security_vpnserver.xml:506
msgid "VPN Client Configuration"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:508
msgid "Install the package <systemitem class=\"resource\">openvpn</systemitem> on your client VPN machine."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:514
msgid "Create <filename>/etc/openvpn/client.conf</filename> with the following content:"
msgstr ""

#. (itstool) path: step/screen
#: xml/security_vpnserver.xml:518
#, no-wrap
msgid ""
"remote <replaceable>DOMAIN_OR_PUBLIC_IP_OF_SERVER</replaceable>\n"
"dev tun\n"
"ifconfig <replaceable>IP_OF_CLIENT</replaceable> <replaceable>IP_OF_SERVER</replaceable>\n"
"secret secret.key"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:522
msgid "Replace the placeholder <replaceable>IP_OF_CLIENT</replaceable> in the first line with either the domain name, or the public IP address of your server."
msgstr ""

#. (itstool) path: step/screen
#: xml/security_vpnserver.xml:534
#, no-wrap
msgid ""
"STARTMODE='manual'\n"
"BOOTPROTO='static'\n"
"TUNNEL='tun'\n"
"TUNNEL_SET_OWNER='nobody'\n"
"TUNNEL_SET_GROUP='nobody'\n"
"LINK_REQUIRED=no\n"
"PRE_UP_SCRIPT='systemd:openvpn@client'\n"
"PRE_DOWN_SCRIPT='systemd:openvpn@client'"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:544
msgid "If you use a firewall, start YaST and open UDP port 1194 as described in <xref linkend=\"st.security.vpn.simplest.vpnserv.yast\"/> of <xref linkend=\"pro.security.vpn.simplest.vpnserv\"/>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/security_vpnserver.xml:565
msgid "Testing the VPN Example Scenario"
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:566
msgid "After OpenVPN has successfully started, test the availability of the tun device with the following command:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/security_vpnserver.xml:570
#, no-wrap
msgid ""
"ip addr show tun0"
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:571
msgid "To verify the VPN connection, use <command>ping</command> on both client and server side to see if they can reach each other. Ping the server from the client:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/security_vpnserver.xml:576
#, no-wrap
msgid ""
"ping -I tun0 <replaceable>IP_OF_SERVER</replaceable>"
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:577
msgid "Ping the client from the server:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/security_vpnserver.xml:580
#, no-wrap
msgid ""
"ping -I tun0 <replaceable>IP_OF_CLIENT</replaceable>"
msgstr ""

#. (itstool) path: sect1/title
#: xml/security_vpnserver.xml:585
msgid "Setting Up Your VPN Server Using a Certificate Authority"
msgstr ""

#. (itstool) path: sect1/para
#: xml/security_vpnserver.xml:587
msgid "The example in <xref linkend=\"sec.security.vpn.simplest\" xrefstyle=\"select:label number\"/> is useful for testing, but not for daily work. This section explains how to build a VPN server that allows more than one connection at the same time. This is done with a public key infrastructure (PKI). A PKI consists of a pair of public and private keys for the server and each client, and a master certificate authority (CA), which is used to sign every server and client certificate."
msgstr ""

#. (itstool) path: sect1/para
#: xml/security_vpnserver.xml:598
msgid "This setup involves the following basic steps:"
msgstr ""

#. (itstool) path: sect2/title
#: xml/security_vpnserver.xml:621
msgid "Creating Certificates"
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:622
msgid "Before a VPN connection can be established, the client must authenticate the server certificate. Conversely, the server must also authenticate the client certificate. This is called <emphasis>mutual authentication</emphasis>. To create such certificates, use the YaST CA module. See <xref linkend=\"cha.security.yast_ca\"/> for more details."
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:630
msgid "To create a VPN root, server, and client CA, proceed as follows:"
msgstr ""

#. (itstool) path: procedure/title
#: xml/security_vpnserver.xml:634
msgid "Creating a VPN Server Certificate"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:636
msgid "Prepare a common VPN Certificate Authority (CA):"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:641
msgid "Start the YaST CA module."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:646
msgid "Click <guimenu>Create Root CA</guimenu>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:651
msgid "Enter a <guimenu>CA Name</guimenu> and a <guimenu>Common Name</guimenu>, for example <literal>VPN-Server-CA</literal>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:657
msgid "Fill out the other boxes like e-mail addresses, organization, etc. and proceed with <guimenu>Next</guimenu>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:663
msgid "Enter your password twice and proceed with <guimenu>Next</guimenu>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:668
msgid "Review the summary. YaST displays the current settings for confirmation. Click <guimenu>Create</guimenu>. The root CA is created and displayed in the overview."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:677
msgid "Create a VPN server certificate:"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:682
msgid "Select the root CA you created in <xref linkend=\"st.security.vpn.serverca.vpnrootca\"/> and click <guimenu>Enter CA</guimenu>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:689
msgid "When prompted, enter the <guimenu>CA Password</guimenu>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:694
msgid "Click the <guimenu>Certificate</guimenu> tab and click <menuchoice> <guimenu>Add</guimenu> <guimenu>Add Server Certificate</guimenu> </menuchoice>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:701
msgid "Specify a <guimenu>Common Name</guimenu>, for example, <systemitem class=\"fqdomainname\">openvpn.example.com</systemitem> and proceed with <guimenu>Next</guimenu>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:708
msgid "Specify your password and confirm it. Then click <guimenu>Advanced options</guimenu>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:712
msgid "Switch to the <menuchoice> <guimenu>Advanced Settings</guimenu> <guimenu>Key Usage</guimenu> </menuchoice> list and check one of the following sets:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:719
msgid "<option>digitalSignature</option> and <option>keyEncipherment</option>, or,"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:725
msgid "<option>digitalSignature</option> and <option>keyAgreement</option>"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:731
msgid "Switch to the <menuchoice> <guimenu>Advanced Settings</guimenu> <guimenu>extendedKeyUsage</guimenu> </menuchoice> and type <option>serverAuth</option> for a server certificate."
msgstr ""

#. (itstool) path: important/title
#: xml/security_vpnserver.xml:737
msgid "Avoiding Man-in-the-Middle Attacks"
msgstr ""

#. (itstool) path: important/para
#: xml/security_vpnserver.xml:738
msgid "If you are using the method <option>remote-cert-tls server</option> or <option>remote-cert-tls client</option> to verify certificates, limit the number of times a key can be used. This mitigates man-in-the-middle attacks."
msgstr ""

#. (itstool) path: important/para
#: xml/security_vpnserver.xml:744
msgid "For more information, see <link xlink:href=\"http://openvpn.net/index.php/open-source/documentation/howto.html#mitm\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:749
msgid "Finish with <guimenu>Ok</guimenu> and proceed with <guimenu>Next</guimenu>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:755
msgid "Review the summary. YaST displays the current settings for confirmation. Click <guimenu>Create</guimenu>. When the VPN server certificate is created, it is displayed in the <guimenu>Certificates</guimenu> tab."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:765
msgid "Create VPN client certificates:"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:770
msgid "Make sure you are on the <guimenu>Certificates</guimenu> tab."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:775
msgid "Click <menuchoice> <guimenu>Add</guimenu> <guimenu>Add Client Certificate</guimenu> </menuchoice>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:781
msgid "Enter a <guimenu>Common Name</guimenu>, for example, <systemitem class=\"fqdomainname\">client1.example.com</systemitem>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:787
msgid "Enter the e-mail addresses for your client, for example, <systemitem class=\"resource\">user1@client1.example.com</systemitem>, and click <guimenu>Add</guimenu>. Proceed with <guimenu>Next</guimenu>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:795
msgid "Enter your password twice and click <guimenu>Advanced options</guimenu>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:799
msgid "Switch to <menuchoice> <guimenu>Advanced Settings</guimenu> <guimenu>Key Usage</guimenu> </menuchoice> list and check one of the following flags:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:805
msgid "<option>digitalSignature</option> or,"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:810
msgid "<option>keyAgreement</option> or,"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:815
msgid "<option>digitalSignature</option> and <option>keyAgreement</option>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:821
msgid "Switch to the <menuchoice> <guimenu>Advanced Settings</guimenu> <guimenu>extendedKeyUsage</guimenu> </menuchoice> and type <option>clientAuth</option> for a server certificate."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:828
msgid "Review the summary. YaST displays the current settings for confirmation. Click <guimenu>Create</guimenu>. The VPN client certificate is created and is displayed in the <guimenu>Certificates</guimenu> tab."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:836
msgid "If you need certificates for more clients, repeat <xref linkend=\"st.security.vpn.serverca.vpnclientca\"/>."
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:844
msgid "After you have successfully finished <xref linkend=\"pro.security.vpn.serverca\"/> you have a VPN root CA, a VPN server CA, and one or more VPN client CAs. To finish the task, proceed with the following procedure:"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:852
msgid "Choose the <guimenu>Certificates</guimenu> tab."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:857
msgid "Export the VPN server certificate in two formats: PEM and unencrypted key in PEM."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:863
msgid "Select your VPN server certificate (<systemitem class=\"fqdomainname\">openvpn.example.com</systemitem> in our example) and choose <menuchoice> <guimenu>Export</guimenu> <guimenu>Export to File</guimenu> </menuchoice>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:871
msgid "Select <guimenu>Only the Certificate in PEM Format</guimenu>, enter your VPN server certificate password and save the file to <filename>/etc/openvpn/server_crt.pem</filename>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:878
msgid "Repeat <xref linkend=\"st.security.vpn.selectserverca\"/> and <xref linkend=\"st.security.vpn.selectsaveca\"/>, but choose the format <guimenu>Only the Key Unencrypted in PEM Format</guimenu>. Save the file to <filename>/etc/openvpn/server_key.pem</filename>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:889
msgid "Export the VPN client certificates and choose an export format, PEM or PKCS12 (preferred). For each client:"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:895
msgid "Select your VPN client certificate (<systemitem class=\"fqdomainname\">client1.example.com</systemitem> in our example) and choose <menuchoice> <guimenu>Export</guimenu> <guimenu>Export to File</guimenu> </menuchoice>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:904
msgid "Select <guimenu>Like PKCS12 and Include the CA Chain</guimenu>, enter your VPN client certificate key password and provide a PKCS12 password. Enter a <guimenu>File Name</guimenu>, click <guimenu>Browse</guimenu> and save the file to <filename>/etc/openvpn/client1.p12</filename>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:914
msgid "Copy the files to your client (in our example, <systemitem class=\"fqdomainname\">client1.example.com</systemitem>)."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:920
msgid "Export the VPN CA (in our example <systemitem>VPN-Server-CA</systemitem>):"
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:926
msgid "Switch to the <guimenu>Description</guimenu> tab."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:931
msgid "Select <menuchoice> <guimenu>Advanced</guimenu> <guimenu>Export to File</guimenu> </menuchoice>."
msgstr ""

#. (itstool) path: step/para
#: xml/security_vpnserver.xml:937
msgid "Mark <guimenu>Only the Certificate in PEM Format</guimenu> and save the file to <filename>/etc/openvpn/vpn_ca.pem</filename>."
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:945
msgid "If desired, the client PKCS12 file can be converted into the PEM format using this command:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/security_vpnserver.xml:949
#, no-wrap
msgid ""
"openssl pkcs12 -in client1.p12 -out client1.pem"
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:950
msgid "Enter your client password to create the <filename>client1.pem</filename> file. The PEM file contains the client certificate, client key, and the CA certificate. You can split this combined file using a text editor and create three separate files. The file names can be used for the <option>ca</option>, <option>cert</option>, and <option>key</option> options in the OpenVPN configuration file (see <xref linkend=\"ex.vpn.serv-config\"/>)."
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:963
msgid "As the basis of your configuration file, copy <filename>/usr/share/doc/packages/openvpn/sample-config-files/server.conf</filename> to <filename>/etc/openvpn/</filename>. Then customize it to your needs."
msgstr ""

#. (itstool) path: example/title
#: xml/security_vpnserver.xml:969
msgid "VPN Server Configuration File"
msgstr ""

#. (itstool) path: example/screen
#: xml/security_vpnserver.xml:970
#, no-wrap
msgid ""
"# /etc/openvpn/server.conf\n"
"port 1194 <co xml:id=\"co.vpn.servconfig.port\"/>\n"
"proto udp <co xml:id=\"co.vpn.servconfig.proto\"/>\n"
"dev tun0 <co xml:id=\"co.vpn.servconfig.dev\"/>\n"
"\n"
"# Security <co xml:id=\"co.vpn.servconfig.security\"/>\n"
"\n"
"ca    vpn_ca.pem\n"
"cert  server_crt.pem\n"
"key   server_key.pem\n"
"\n"
"# ns-cert-type server \n"
"remote-cert-tls client <co xml:id=\"co.vpn.servconfig.remote-cert-tls\"/>\n"
"dh   server/dh2048.pem <co xml:id=\"co.vpn.servconfig.dh\"/>\n"
"\n"
"server 192.168.1.0 255.255.255.0 <co xml:id=\"co.vpn.servconfig.server\"/>\n"
"ifconfig-pool-persist /var/run/openvpn/ipp.txt <co xml:id=\"co.vpn.servconfig.pool\"/>\n"
"\n"
"# Privileges <co xml:id=\"co.vpn.serverconf.privilege\"/>\n"
"user nobody\n"
"group nobody\n"
"\n"
"# Other configuration <co xml:id=\"co.vpn.servconfig.misc\"/>\n"
"keepalive 10 120\n"
"comp-lzo\n"
"persist-key\n"
"persist-tun\n"
"# status      /var/log/openvpn-status.tun0.log <co xml:id=\"co.vpn.serverconfig.status\"/>\n"
"# log-append  /var/log/openvpn-server.log <co xml:id=\"co.vpn.serverconfig.log-append\"/>\n"
"verb 4"
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1003
msgid "The TCP/UDP port on which OpenVPN listens. You need to open the port in the firewall, see <xref linkend=\"cha.security.firewall\"/>. The standard port for VPN is 1194, so you can usually leave that as it is."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1011
msgid "The protocol, either UDP or TCP."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1016
msgid "The tun or tap device. For the difference between these, see <xref linkend=\"sec.security.vpn.terminology\"/>."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1022
msgid "The following lines contain the relative or absolute path to the root server CA certificate (<literal>ca</literal>), the root CA key (<literal>cert</literal>), and the private server key (<literal>key</literal>). These were generated in <xref linkend=\"sec.security.vpn.certs\"/>."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1031
msgid "Require that peer certificates have been signed with an explicit key usage and extended key usage based on RFC3280 TLS rules. There is a description of how to make a server use this explicit key in <xref linkend=\"pro.security.vpn.serverca\"/>."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1039
msgid "The Diffie-Hellman parameters. Create the required file with the following command:"
msgstr ""

#. (itstool) path: callout/screen
#: xml/security_vpnserver.xml:1041
#, no-wrap
msgid ""
"openssl dhparam -out /etc/openvpn/dh2048.pem 2048"
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1048
msgid "Supplies a VPN subnet. The server can be reached by <systemitem class=\"ipaddress\">192.168.1.1</systemitem>."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1054
msgid "Records a mapping of clients and its virtual IP address in the given file. Useful when the server goes down and (after the restart) the clients get their previously assigned IP address."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1061
#: xml/security_vpnserver.xml:1178
msgid "For security reasons, run the OpenVPN daemon with reduced privileges. To do so, specify that it should use the group and user <systemitem>nobody</systemitem>."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1068
msgid "Several other configuration options—see the comment in the example configuration file: <filename>/usr/share/doc/packages/openvpn/sample-config-files</filename>."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1073
msgid "Enable this option to write short status updates with statistical data (<quote>operational status dump</quote>) to the named file. By default, this is not enabled."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1082
msgid "All output is written to syslog. If you have more than one configuration file (for example, one for home and another for work), it is recommended to include the device name into the file name. This avoids overwriting output files accidentally. In this case, it is <systemitem>tun0</systemitem>, taken from the <option>dev</option> directive—see <xref linkend=\"co.vpn.servconfig.dev\"/>."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1093
msgid "By default, log messages go to syslog. Overwrite this behavior by removing the hash character. In that case, all messages go to <filename>/var/log/openvpn-server.log</filename>. Do not forget to configure a logrotate service. See <command>man 8 logrotate</command> for further details."
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:1102
msgid "After having completed this configuration, you can see log messages of your OpenVPN server under <filename>/var/log/openvpn.log</filename>. After having started it for the first time, it should finish with:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/security_vpnserver.xml:1107
#, no-wrap
msgid ""
"... Initialization Sequence Completed"
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:1108
msgid "If you do not see this message, check the log carefully for any hints of what is wrong in your configuration file."
msgstr ""

#. (itstool) path: sect2/para
#: xml/security_vpnserver.xml:1116
msgid "As the basis of your configuration file, copy <filename>/usr/share/doc/packages/openvpn/sample-config-files/client.conf</filename> to <filename>/etc/openvpn/</filename>. Then customize it to your needs."
msgstr ""

#. (itstool) path: example/title
#: xml/security_vpnserver.xml:1122
msgid "VPN Client Configuration File"
msgstr ""

#. (itstool) path: example/screen
#: xml/security_vpnserver.xml:1123
#, no-wrap
msgid ""
"# /etc/openvpn/client.conf\n"
"client <co xml:id=\"co.vpn.clientconf.client\"/>\n"
"dev tun <co xml:id=\"co.vpn.clientconf.dev\"/>\n"
"proto udp <co xml:id=\"co.vpn.clientconf.proto\"/>\n"
"remote <replaceable>IP_OR_HOST_NAME</replaceable> 1194 <co xml:id=\"co.vpn.clientconf.remote\"/>\n"
"resolv-retry infinite\n"
"nobind\n"
"\n"
"remote-cert-tls server <co xml:id=\"co.vpn.clientconf.remote-cert-tls\"/>\n"
"\n"
"# Privileges <co xml:id=\"co.vpn.clientconf.privileges\"/>\n"
"user nobody\n"
"group nobody\n"
"\n"
"# Try to preserve some state across restarts.\n"
"persist-key\n"
"persist-tun\n"
"\n"
"# Security <co xml:id=\"co.vpn.clientconf.security\"/>\n"
"pkcs12 client1.p12\n"
"\n"
"comp-lzo <co xml:id=\"co.vpn.clientconf.compr\"/>"
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1147
msgid "Specifies that this machine is a client."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1152
msgid "The network device. Both clients and server must use the same device."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1157
msgid "The protocol. Use the same settings as on the server."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1162
msgid "This is security option for clients which ensures that the host they connect to is a designated server."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1168
msgid "Replace the placeholder <replaceable>IP_OR_HOST_NAME</replaceable> with the respective host name or IP address of your VPN server. After the host name, the port of the server is given. You can have multiple lines of <literal>remote</literal> entries pointing to different VPN servers. This is useful for load balancing between different VPN servers."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1185
msgid "Contains the client files. For security reasons, use a separate pair of files for each client."
msgstr ""

#. (itstool) path: callout/para
#: xml/security_vpnserver.xml:1191
msgid "Turn on compression. Only use this parameter if compression is enabled on the server as well."
msgstr ""

#. (itstool) path: sect1/title
#: xml/security_vpnserver.xml:1328
msgid "For More Information"
msgstr ""

#. (itstool) path: sect1/para
#: xml/security_vpnserver.xml:1330
msgid "For more information on setting up a VPN connection using NetworkManager, see <xref linkend=\"sec.nm.vpn\"/>."
msgstr ""

#. (itstool) path: sect1/para
#: xml/security_vpnserver.xml:1335
msgid "For more information about VPN in general, see:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:1341
msgid "<link xlink:href=\"http://www.openvpn.net\"/>: the OpenVPN home page"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:1346
msgid "<command>man</command> <option>openvpn</option>"
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:1351
msgid "<filename>/usr/share/doc/packages/openvpn/sample-config-files/</filename>: example configuration files for different scenarios."
msgstr ""

#. (itstool) path: listitem/para
#: xml/security_vpnserver.xml:1357
msgid "<filename>/usr/src/linux/Documentation/networking/tuntap.txt</filename>, to install the <systemitem class=\"resource\">kernel-source</systemitem> package."
msgstr ""

