<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="sle_update_upgrading.xml" version="5.0" xml:id="cha-upgrade-paths">
 <title>升級路徑和方法</title>
 <info>
  <abstract>
   <para>
    SUSE® Linux Enterprise (SLE) 允許您將現有系統升級至新版本，例如，從 SLE 12 SP4 升級至最新的 SLE 15 Service Pack。不需要任何新安裝。主目錄和資料目錄以及系統組態等現有資料仍保持不變。您可以從本地 CD 或 DVD 光碟機或從中央網路安裝來源進行更新。
   </para>

   <para>
    本章介紹如何透過 DVD、網路、自動化程序或 SUSE Manager 手動升級 SUSE Linux Enterprise 系統。
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>是</dm:translation>
  </dm:docmanager>
 </info>
 <sect1 xml:id="sec-upgrade-vs-fresh-install">
  <title>升級與全新安裝</title>
  <para>
   SUSE 支援在兩個 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 主要版本之間進行升級。是進行升級還是執行全新安裝更好，這取決於特定的情境。雖然升級所涉及的工作較少，但全新安裝可確保您能夠得益於相應版本的所有新功能，例如磁碟配置變更、特定檔案系統特性和其他改進。因此，為了充分利用您的系統，SUSE 建議在大多數情況下都執行全新安裝。
  </para>
  <para>
   無論是執行升級還是全新安裝，客戶都需要檢查系統設定和預設值是否仍然符合其要求。
  </para>
  <para>
   如果要從特定版本的某個 Service Pack 更新至相同代碼流的另一個 Service Pack，SUSE 建議執行本機更新，而不是全新安裝。雖然如此，在這種情況下，客戶也可能會出於某些原因和情形而執行全新安裝。只能由客戶來決定哪種方式更合適。
  </para>
 </sect1>
 <sect1 xml:id="sec-upgrade-paths-supported">
  <title>支援的 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase> 升級路徑</title>
  <para>
   在執行任何移轉操作之前，請閱讀<xref linkend="cha-update-preparation"/>。
  </para>
  <important>
   <title>不支援跨架構升級</title>
   <para>
    <phrase role="productname"><phrase os="sles">不</phrase></phrase>支援跨架構升級！例如,從 32 位元版本的 <emphasis>SUSE Linux Enterprise Server</emphasis> 升級到 64 位元版本，或從位元組由大到小升級到位元組由小到大。
   </para>
   <para os="sles">
    具體而言，從 SLE 11 on POWER (位元組由大到小) 升級至 SLE <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase> on POWER (新增：位元組由小到大)<emphasis>不</emphasis>受支援。
   </para>
   <para>
    另外，由於 SUSE Linux Enterprise 15 僅提供 64 位元版本，因此<emphasis>不</emphasis>支援從任何 32 位元 SUSE Linux Enterprise 11 系統升級至 SUSE Linux Enterprise 15 和更新版本。
   </para>
   <para>
    若要跨架構升級，需執行全新安裝。
   </para>
  </important>

  <note>
   <title>跳過 Service Pack</title>
   <para os="sles">
    最簡單的升級路徑是循序安裝所有 Service Pack。對於 SUSE Linux Enterprise 15 產品系列 (GA 和後續 Service Pack)，還支援在升級時跳過某個 Service Pack。例如，支援從 SLE 15 GA 升級至 15 SP2，或從 SLE 15 SP1 升級至 15 SP3。
   </para>
   
  </note>

  <figure xml:id="fig-update-sle-paths-overview">
   <title>支援的升級路徑綜覽</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata os="sles" fileref="upgrade-paths_sles.svg" width="100%" format="SVG"/>
     
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles" fileref="upgrade-paths_sles.png" width="80%" format="PNG"/>
     
    </imageobject>
   </mediaobject>
  </figure>

  <warning>
   <title>升級資料庫</title>
   <para>
    此處所述的升級路徑僅適用於做為機器作業系統的 SUSE Linux Enterprise，而不適用於其執行的所有應用程式。如果您使用了 PostgreSQL 或 MariaDB 資料庫等工作負載，則可能需要進行中間作業系統升級，以升級您的資料庫。
   </para>
   <para>
    升級作業系統之前，請參閱<link xlink:href="https://www.suse.com/releasenotes/">版本說明</link>以瞭解有關資料庫版本的資訊。如果提供了新的主要版本，請參閱<xref linkend="cha-update-preparation"/>以獲取升級說明。
   </para>
  </warning>

  <variablelist xml:id="vl-update-paths-supported">
   <title>每個版本支援的升級路徑</title>
   
   <varlistentry os="sles">
    <term>從 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 11 GA/SP1/SP2/SP3/SP4 升級</term>
    <listitem>
     <para>
      不支援從 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 11 SP4 或更早的 Service Pack 直接升級。您的版本至少需為 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 11 SP4 LTSS，才能升級至 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase>。
     </para>
     <para>
      如果您無法執行全新安裝，請先將已安裝的 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 11 Service Pack 升級至 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 11 SP4 LTSS。<link xlink:href="https://doc.suse.com/sles/11-SP4/html/SLES-all/book-sle-deployment.html"><phrase role="productname"><phrase os="sles">《SLES</phrase></phrase> 11 SP4 <citetitle>部署指南》</citetitle></link>中介紹了此升級程序。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry os="sles">
    <term>從 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 11 SP4 LTSS 升級</term>
    <listitem>
     <para>
      若要從 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 11 SP4 升級，僅支援採用離線升級方式。如需詳細資訊，請參閱<xref linkend="cha-upgrade-offline"/>。
     </para>
    </listitem>
   </varlistentry>
   
   <varlistentry>
    <term>從 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 12 GA/SP1/SP2/SP3/SP4 升級</term>
    <listitem>
     <para>
      不支援從 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 12 SP4 或更早的 Service Pack 直接升級。您的版本至少需為 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 12 SP5，才能升級至 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase>。
     </para>
     <para>
      如果您無法執行全新安裝，請先將已安裝的 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 12 Service Pack 升級至 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 12 SP5。<link os="sles" xlink:href="https://doc.suse.com/sles/12-SP5/html/SLES-all/book-sle-deployment.html"><phrase role="productname"><phrase os="sles">《SLES</phrase></phrase> 12 SP5 <citetitle>部署指南》</citetitle></link>中介紹了此升級程序。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry os="sles">
    <term>從 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 12 SP3 LTSS/SP4 LTSS 升級</term>
    <listitem>
     <para>
      僅支援採用離線升級方式從 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 12 SP3 LTSS 或 SP4 LTSS 升級。如需詳細資訊，請參閱<xref linkend="cha-upgrade-offline"/>。
     </para>
    </listitem>
   </varlistentry>
   
   <varlistentry os="sles">
    <term>從 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 12 SP5 升級</term>
    <listitem>
     <para>
      若要從 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 12 SP5 升級，僅支援採用離線升級方式。如需詳細資訊，請參閱<xref linkend="cha-upgrade-offline"/>。
     </para>
    </listitem>
   </varlistentry>
   
   <varlistentry os="sles">
    <term>從 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 15 GA 升級 </term>
    <listitem>
     <para>
      不支援直接從 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 15 GA 升級。您的版本至少需為 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 15 SP1，才能升級至 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase>。
     </para>
    </listitem>
   </varlistentry>
   
    <varlistentry os="sles">
     <term>從 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 15 SP1/SP2 升級</term>
     <listitem>
      <para>
       支援採用線上和離線方式從 <phrase role="productname"><phrase os="sles">SLES</phrase></phrase> 15 SP1 或 SP2 升級。如需詳細資訊，請參閱<xref linkend="sec-upgrade-paths-methods"/>。
      </para>
     </listitem>
    </varlistentry>
   
   <varlistentry os="sles">
    <term>升級 SUSE Linux Enterprise 公用雲端客體</term>
    <listitem>
     <para>
      如需升級公用雲端中的 SLE 客體的說明，請參閱<link xlink:href="https://doc.suse.com/suse-distribution-migration-system/1.0/single-html/distribution-migration-system/"><citetitle>「Using the SUSE Distribution Migration System」(使用 SUSE 發行版移轉系統)</citetitle></link>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry os="sles">
    <term>從 openSUSE Leap 15 升級</term>
    <listitem>
     <para>
      支援從 openSUSE Leap 15 升級。請參閱<xref linkend="sec-upgrade-online-leap-to-sle"/>。僅支援升級安裝的 Leap 伺服器。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

 </sect1>

 <sect1 xml:id="sec-upgrade-paths-methods">
  <title>線上和離線升級</title>
  <para>
   SUSE 支援以下升級和移轉方法。如需術語的詳細資訊，請參閱<xref linkend="sec-upgrade-background-terminology"/>。這些方法是：
  </para>

  

  <variablelist>
   <varlistentry>
    <term>線上</term>
    <listitem>
     <para>
      從執行中作業系統自身 (系統處於啟動和執行中狀態) 執行升級。範例：透過 SUSE Customer Center 或儲存庫鏡像工具 (RMT)、經由 SUSE Manager 的 Salt 規則建立連接後，使用 Zypper 或 YaST 進行線上更新。
     </para>
     <para>
      如需詳細資料，請參閱<xref linkend="cha-upgrade-online"/>。
     </para>
     <para>
      在同一主要版本的 Service Pack 之間移轉時，建議使用下面兩種方法：<xref linkend="sec-upgrade-online-yast"/>或<xref linkend="sec-upgrade-online-zypper"/>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>離線</term>
    <listitem>
     <para>
      離線升級表示所要升級的作業系統<emphasis>並未</emphasis>處於執行中狀態 (系統處於關閉狀態)。系統會將目標作業系統的安裝程式開機 (例如，透過安裝媒體、網路或本地開機載入程式) 並執行升級。
     </para>
     <para>
      如需詳細資料，請參閱<xref linkend="cha-upgrade-offline"/>。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <important>
   <title>SUSE Manager 用戶端</title>
   
   <para>
  如果您的機器由 SUSE Manager 管理，請依據 SUSE Manager 文件所述更新機器。<link xlink:href="https://documentation.suse.com/suma/"/> 上的《<citetitle>SUSE Manager Upgrade Guide</citetitle>》(SUSE Manager 升級指南) 中介紹了<citetitle>用戶端移轉</citetitle>程序。
 </para>
  </important>
 </sect1>
</chapter>
