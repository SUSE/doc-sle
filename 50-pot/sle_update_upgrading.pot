msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2018-08-18 22:24+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Put one translator per line, in the form NAME <EMAIL>, YEAR1, YEAR2
msgctxt "_"
msgid "translator-credits"
msgstr ""

#. (itstool) path: chapter/title
#: xml/sle_update_upgrading.xml:20
msgid "Upgrading SUSE Linux Enterprise"
msgstr ""

#. (itstool) path: abstract/para
#: xml/sle_update_upgrading.xml:23
msgid "SUSE® Linux Enterprise (SLE) allows to upgrade an existing system to the new version, for example, going from SLE 11 SP4 to the latest SLE 12 service pack. No new installation is needed. Existing data, such as home and data directories and system configuration, is kept intact. You can update from a local CD or DVD drive or from a central network installation source."
msgstr ""

#. (itstool) path: abstract/para
#: xml/sle_update_upgrading.xml:31
msgid "This chapter explains how to manually upgrade your SUSE Linux Enterprise system, be it by DVD, network, an automated process, or SUSE Manager."
msgstr ""

#. (itstool) path: docmanager/translation
#: xml/sle_update_upgrading.xml:37
msgid "yes"
msgstr ""

#. (itstool) path: sect1/title
#: xml/sle_update_upgrading.xml:41
msgid "Supported Upgrade Paths to SLE 12 SP3"
msgstr ""

#. (itstool) path: important/title
#: xml/sle_update_upgrading.xml:44
msgid "Cross-architecture Upgrades Are Not Supported"
msgstr ""

#. (itstool) path: important/para
#: xml/sle_update_upgrading.xml:45
msgid "Cross-architecture upgrades, such as upgrading from a 32-bit version of <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase> to the 64-bit version, or upgrading from big endian to little endian are <emphasis>not</emphasis> supported!"
msgstr ""

#. (itstool) path: important/para
#: xml/sle_update_upgrading.xml:50
msgid "Specifically, SLE 11 on POWER (big endian) to SLE 12 SP2 on POWER (new: little endian!), is <emphasis>not</emphasis> supported."
msgstr ""

#. (itstool) path: important/para
#: xml/sle_update_upgrading.xml:54
msgid "Also, since SUSE Linux Enterprise 12 is 64-bit only, upgrades from any 32-bit SUSE Linux Enterprise 11 systems to SUSE Linux Enterprise 12 and later are <emphasis>not</emphasis> supported."
msgstr ""

#. (itstool) path: important/para
#: xml/sle_update_upgrading.xml:58
msgid "To make a cross-architecture upgrade, you need to perform a new installation."
msgstr ""

#. (itstool) path: sect1/para
#: xml/sle_update_upgrading.xml:64
msgid "Before you perform any migration, read <xref linkend=\"sec.update.prep\"/>."
msgstr ""

#. (itstool) path: note/title
#: xml/sle_update_upgrading.xml:69
msgid "Skipping Service Packs"
msgstr ""

#. (itstool) path: note/para
#: xml/sle_update_upgrading.xml:70
msgid "Consecutively installing all Service Packs is the safest upgrade path. In some cases it is supported to skip 1 or 2 Service Packs when upgrading. However, we recommend to <emphasis>not</emphasis> skip any Service Pack."
msgstr ""

#. (itstool) path: note/para
#: xml/sle_update_upgrading.xml:76
msgid "Skipping Service Packs on SUSE Linux Enterprise Desktop is not supported. You need to consecutively install all Service Packs."
msgstr ""

#. (itstool) path: note/title
#: xml/sle_update_upgrading.xml:83
msgid "Upgrading Major Releases"
msgstr ""

#. (itstool) path: note/para
#: xml/sle_update_upgrading.xml:84
msgid "We recommend to do a fresh install when upgrading to a new Major Release, for example from SUSE Linux Enterprise 11 to SUSE Linux Enterprise 12."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/sle_update_upgrading.xml:92
msgid "Upgrading from SUSE Linux Enterprise 10 (any Service Pack)"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:94
msgid "There is no supported direct migration path to SUSE Linux Enterprise 12. We recommend a fresh installation in this case."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/sle_update_upgrading.xml:101
msgid "Upgrading from SUSE Linux Enterprise 11 GA / SP1 / SP2 / SP3"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:103
msgid "There is no supported direct migration path to SUSE Linux Enterprise 12. You need at least SLE 11 SP4 before you can proceed to SLE 12 SP3."
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:107
msgid "If you cannot do a fresh install, first upgrade your installed SLE 11 Service Pack to SLE 11 SP4. These steps are described in the <link xlink:href=\"https://www.suse.com/documentation/sles11/\">SUSE Linux Enterprise 11 Deployment Guide</link>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:113
msgid "Then proceed with <xref linkend=\"sec.update.sle.methods\"/>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/sle_update_upgrading.xml:119
msgid "Upgrading from SUSE Linux Enterprise 11 SP4"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:121
msgid "Upgrading from SLE 11 SP4 to SLE 12 SP3 is only supported via an offline upgrade. Refer to <xref linkend=\"sec.update.sle.methods\"/> for details."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/sle_update_upgrading.xml:129
msgid "Upgrading from SUSE Linux Enterprise 12 GA to SP3"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:131
msgid "A direct upgrade from SLE 12 GA to SP3 is not supported. Upgrade to SLE 12 SP2 first."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/sle_update_upgrading.xml:138
msgid "Upgrading from SUSE Linux Enterprise 12 SP1 to SP3"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:140
msgid "A direct upgrade from SLE 12 SP1 to SP3 is not supported. Upgrade to SLE 12 SP2 first."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/sle_update_upgrading.xml:147
msgid "Upgrading from SUSE Linux Enterprise 12 SP2 to SP3"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:149
msgid "Upgrading from SUSE Linux Enterprise 12 SP2 to SP3 is supported."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/sle_update_upgrading.xml:155
msgid "Upgrading from SUSE Linux Enterprise 12 SP1 / SP2 to SP3"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:157
msgid "Upgrading from SUSE Linux Enterprise 12 SP1 or SP2 to SP3 is supported."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/sle_update_upgrading.xml:163
msgid "Upgrading from SUSE Linux Enterprise 12 LTSS GA / SP1 LTSS / SP2 to SP3"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:165
msgid "Updating any previous SLE 12 LTSS version to SP3 is supported."
msgstr ""

#. (itstool) path: figure/title
#: xml/sle_update_upgrading.xml:172
msgid "Overview of Shortest Upgrade Paths"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/sle_update_upgrading.xml:175
msgctxt "_"
msgid "external ref='upgrade-paths.svg' md5='__failed__'"
msgstr ""

#. (itstool) path: imageobject/imagedata
#. This is a reference to an external file such as an image or video. When
#. the file changes, the md5 hash will change to let you know you need to
#. update your localized copy. The msgstr is not used at all. Set it to
#. whatever you like once you have updated your copy of the file.
#: xml/sle_update_upgrading.xml:178
msgctxt "_"
msgid "external ref='upgrade-paths.png' md5='__failed__'"
msgstr ""

#. (itstool) path: sect1/title
#: xml/sle_update_upgrading.xml:184
msgid "Online and Offline Upgrade"
msgstr ""

#. (itstool) path: sect1/para
#: xml/sle_update_upgrading.xml:185
msgid "SUSE supports two different upgrade and migration methods. For more information about the terminology, see <xref linkend=\"sec.update.sle.terminology\"/>. The methods are:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/sle_update_upgrading.xml:193
msgid "Online"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:195
msgid "All upgrades that are executed from the running system are considered to be online. Examples: Connected through SUSE Customer Center, Subscription Management Tool (SMT), SUSE Manager using Zypper or YaST."
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:200
msgid "When migrating between Service Packs of the same major release, we suggest following <xref linkend=\"sec.update.migr.yast.onlinemigr\"/> or <xref linkend=\"sec.update.migr.zypper.onlinemigr\"/>."
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/sle_update_upgrading.xml:208
msgid "Offline"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:210
msgid "Offline methods usually boot another operating system from which the installed SLE version is upgraded. Examples are: DVD, flash disk, ISO image, AutoYaST, <quote>plain RPM</quote> or PXE boot."
msgstr ""

#. (itstool) path: sect1/para
#: xml/sle_update_upgrading.xml:218
msgid "Upgrading from SUSE Linux Enterprise 11 SP4 to SUSE Linux Enterprise 12 SP3 is only supported via an offline upgrade. See <xref linkend=\"cha.update.offline\"/>"
msgstr ""

#. (itstool) path: sect1/para
#: xml/sle_update_upgrading.xml:223
msgid "Upgrading from any SUSE Linux Enterprise 12 LTSS version or SUSE Linux Enterprise 12 SP1 or SP2 to SP3 is supported using all offline and online methods. See <xref linkend=\"cha.update.offline\"/> and <xref linkend=\"cha.update.online\"/>."
msgstr ""

#. (itstool) path: sect1/title
#: xml/sle_update_upgrading.xml:230
msgid "Preparing the System"
msgstr ""

#. (itstool) path: sect1/para
#: xml/sle_update_upgrading.xml:231
msgid "Before starting the upgrade procedure, make sure your system is properly prepared. Among others, preparation involves backing up data and checking the release notes."
msgstr ""

#. (itstool) path: sect2/title
#: xml/sle_update_upgrading.xml:238
msgid "Make Sure the Current System is Up-To-Date"
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:239
msgid "Upgrading the system is only supported from the most recent patch-level. Make sure the latest system updates are installed by either running <command>zypper patch</command> or by starting the YaST module <guimenu>Online-Update</guimenu>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/sle_update_upgrading.xml:248
msgid "Read the Release Notes"
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:249
msgid "In the release notes you can find additional information on changes since the previous release of <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase>. Check the release notes to see whether:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:256
msgid "your hardware needs special considerations;"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:261
msgid "any used software packages have changed significantly;"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:266
msgid "special precautions are necessary for your installation."
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:271
msgid "The release notes also provide information that could not make it into the manual on time. They also contain notes about known issues."
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:275
msgid "If you are skipping one or more Service Packs, check the release notes of the skipped Service Packs as well. The release notes usually only contain the changes between two subsequent releases. You can miss important changes if you are only reading the current release notes."
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:282
msgid "Find the release notes locally in the directory <filename>/usr/share/doc/release-notes</filename> or online at <link xlink:href=\"https://www.suse.com/releasenotes/\"/>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/sle_update_upgrading.xml:290
msgid "Make a Backup"
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:291
msgid "Before updating, copy existing configuration files to a separate medium (such as tape device, removable hard disk, etc.) to back up the data. This primarily applies to files stored in <filename>/etc</filename> and some directories and files in <filename>/var</filename> and <filename>/opt</filename>. You may also want to write the user data in <filename>/home</filename> (the <envar>HOME</envar> directories) to a backup medium. Back up this data as <systemitem class=\"username\">root</systemitem>. Only <systemitem class=\"username\">root</systemitem> has read permissions for all local files."
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:301
msgid "If you have selected <guimenu>Update an Existing System</guimenu> as the installation mode in YaST, you can choose to do a (system) backup at a later point in time. You can choose to include all modified files and files from the <filename>/etc/sysconfig</filename> directory. However, this is not a complete backup, as all the other important directories mentioned above are missing. Find the backup in the <filename>/var/adm/backup</filename> directory."
msgstr ""

#. (itstool) path: sect3/title
#: xml/sle_update_upgrading.xml:311
msgid "Listing Installed Packages and Repositories"
msgstr ""

#. (itstool) path: sect3/para
#: xml/sle_update_upgrading.xml:312
msgid "It is often useful to have a list of installed packages, for example when doing a fresh install of a new major SLE release or reverting to the old version."
msgstr ""

#. (itstool) path: sect3/para
#: xml/sle_update_upgrading.xml:317
msgid "Be aware that not all installed packages or used repositories are available in newer releases of SUSE Linux Enterprise. Some may have been renamed and others replaced. It is also possible that some packages are still available for legacy purposes while another package is used by default. Therefore some manual editing of the files might be necessary. This can be done with any text editor."
msgstr ""

#. (itstool) path: sect3/para
#: xml/sle_update_upgrading.xml:325
msgid "Create a file named <filename>repositories.bak</filename> containing a list of all used repositories:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/sle_update_upgrading.xml:329
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>zypper</command> lr -e repositories.bak"
msgstr ""

#. (itstool) path: sect3/para
#: xml/sle_update_upgrading.xml:330
msgid "Also create a file named <filename>installed-software.bak</filename> containing a list of all installed packages:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/sle_update_upgrading.xml:334
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>rpm</command> -qa --queryformat '%{NAME}\\n' &gt; installed-software.bak"
msgstr ""

#. (itstool) path: sect3/para
#: xml/sle_update_upgrading.xml:335
msgid "Back up both files. The repositories and installed packages can be restored with the following commands:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/sle_update_upgrading.xml:339
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>zypper</command> ar repositories.bak\n"
"<prompt role=\"root\">root # </prompt><command>zypper</command> install $(cat installed-software.bak)"
msgstr ""

#. (itstool) path: note/title
#: xml/sle_update_upgrading.xml:343
msgid "Amount of Packages Increases with an Update to a new Major Release"
msgstr ""

#. (itstool) path: note/para
#: xml/sle_update_upgrading.xml:346
msgid "A system upgraded to a new major version (SLE <replaceable>X+1</replaceable>) may contain more packages than the initial system (SLE <replaceable>X</replaceable>). It will also contain more packages than a fresh installation of SLE <replaceable>X+1</replaceable> with the same pattern selection. Reasons for this are:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:356
msgid "Packages got split to allow a more fine-grained package selection. For example, 37 <package>texlive</package> packages on SLE 11 were split into 422 packages on SLE 12."
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:363
msgid "When a package got split into other packages all new packages are installed in the upgrade case to retain the same functionality as with the previous version. However, the new default for a fresh installation of SLE <replaceable>X+1</replaceable> may be to not install all packages."
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:372
msgid "Legacy packages from SLE <replaceable>X</replaceable> may be kept for compatibility reasons."
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:378
msgid "Package dependencies and the scope of patterns may have changed."
msgstr ""

#. (itstool) path: sect2/title
#: xml/sle_update_upgrading.xml:388
msgid "Migrate your MySQL Database"
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:390
msgid "As of SUSE Linux Enterprise 12, SUSE switched from MySQL to MariaDB. Before you start any upgrade, it is highly recommended to back up your database."
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:397
#: xml/sle_update_upgrading.xml:502
msgid "To perform the database migration, do the following:"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:402
msgid "Log in to your SUSE Linux Enterprise 11 machine."
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:407
msgid "Create a dump file:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:410
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>mysqldump</command> -u root -p --all-databases &gt; mysql_backup.sql"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:411
msgid "By default, <command>mysqldump</command> does not dump the <literal>INFORMATION_SCHEMA</literal> or <literal>performance_schema</literal> database. For more details refer to <link xlink:href=\"https://dev.mysql.com/doc/refman/5.5/en/mysqldump.html\"/>."
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:419
msgid "Store your dump file, the configuration file <filename>/etc/my.cnf</filename>, and the directory <filename>/etc/mysql/</filename> for later investigation (<emphasis>NOT</emphasis> installation!) in a safe place."
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:427
msgid "Perform your upgrade. After the upgrade, your former configuration file <filename>/etc/my.cnf</filename> is still intact. You can find the new configuration in the file <filename>/etc/my.cnf.rpmnew</filename>."
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:434
msgid "Configure your MariaDB database to your needs. Do <emphasis>NOT</emphasis> use the former configuration file and directory, but use it as a reminder and adapt it."
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:441
msgid "Make sure you start the MariaDB server:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:444
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>systemctl</command> start mysql"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:445
msgid "If you want to start the MariaDB server on every boot, enable the service:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:449
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>systemctl</command> enable mysql"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:454
msgid "Verify that MariaDB is running properly by connecting to the database:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:457
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>mysql</command> -u root -p"
msgstr ""

#. (itstool) path: sect2/title
#: xml/sle_update_upgrading.xml:463
msgid "Migrate your PostgreSQL Database"
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:466
msgid "SLE11 SP3 and SLE12 GA get a newer version of the PostgreSQL database as a maintenance update. Because of the required migration work of the database, there is no automatic upgrade process. As such, the switch from one version to another needs to be done manually."
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:472
msgid "The migration process is conducted by the <command>pg_upgrade</command> command which is an alternative method of the classic dump and reload. In comparison with the <quote>dump &amp; reload</quote> method, <command>pg_upgrade</command> makes the migration less time-consuming."
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:478
msgid "Each PostgreSQL version stores its files in different, version-dependent directories. After the update the directories will change to:"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/sle_update_upgrading.xml:484
msgid "SLE11 SP3/SP4"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:486
msgid "<filename>/usr/lib/postgresql91/</filename> to <filename>/usr/lib/postgresql94/</filename>"
msgstr ""

#. (itstool) path: varlistentry/term
#: xml/sle_update_upgrading.xml:493
msgid "SLE12 GA"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:495
msgid "<filename>/usr/lib/postgresql93/</filename> to <filename>/usr/lib/postgresql94/</filename>"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:507
msgid "Make sure the following preconditions are fulfilled:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:512
msgid "If not already done, upgrade any package of the old PostgreSQL version to the latest release through a maintenance update."
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:518
msgid "Create a backup of your existing database."
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:523
msgid "Install the packages of the new PostgreSQL major version. For SLE12 this means to install <package>postgresql94-server</package> and all the packages it depends on."
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:531
msgid "Install the package <package>postgresql94-contrib</package> which contains the command <command>pg_upgrade</command>."
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:538
msgid "Make sure you have enough free space in your PostgreSQL data area, which is <filename>/var/lib/pgsql/data</filename> by default. If space is tight, try to reduce size with the following SQL command on each database (can take very long!):"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/sle_update_upgrading.xml:544
#, no-wrap
msgid ""
"VACUUM FULL"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:549
msgid "Stop the PostgreSQL server:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:552
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>/usr/sbin/rcpostgresql</command> stop"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:555
msgid "Rename your old data directory:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:558
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>mv</command> /var/lib/pgsql/data /var/lib/pgsql/data.old"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:561
msgid "Create a new data directory:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:564
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>mkdir</command> -p /var/lib/pgsql/data"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:567
msgid "If you have changed your configuration files in the old version, copy the files <filename>postgresql.conf</filename> <filename>pg_hba.conf</filename> to your new <filename>data</filename> directory:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:573
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>cp</command> /var/lib/pgsql/data.old/*.conf \\\n"
"     /var/lib/pgsql/data"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:577
msgid "Initialize your new database instance either manually with <command>initdb</command> or by starting and stopping PostgreSQL, which will do it automatically:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:582
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>/usr/sbin/rcpostgresql</command> start\n"
"<prompt role=\"root\">root # </prompt><command>/usr/sbin/rcpostgresql</command> stop"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:586
msgid "Start the migration process and replace the <replaceable>OLD</replaceable> placeholder with the older version:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:590
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>pg_upgrade</command> \\\n"
"   --old-datadir \"/var/lib/pgsql/data.old\" \\\n"
"   --new-datadir \"/var/lib/pgsql/data\" \\\n"
"   --old-bindir \"/usr/lib/postgresql<replaceable>OLD</replaceable>/bin/\" \\\n"
"   --new-bindir \"/usr/lib/postgresql94/bin/\""
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:597
msgid "Start your new database instance:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:600
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>/usr/sbin/rcpostgresql</command> start"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:603
msgid "Check if the migration was successful. There is no general tool to automate this step. It depends on your use case how much and what you want to test."
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:610
msgid "Remove any old PostgreSQL packages and your old data directory:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:613
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>zypper</command> search -s postgresql<replaceable>OLD</replaceable> | xargs zypper rm -u\n"
"<prompt role=\"root\">root # </prompt><command>rm</command> -rf /var/lib/pgsql/data.old"
msgstr ""

#. (itstool) path: sect2/title
#: xml/sle_update_upgrading.xml:620
msgid "Create Non-MD5 Server Certificates for Java Applications"
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:622
msgid "During the update from SP1 to SP2, MD5-based certificates were disabled as part of a security fix. If you have certificates created as MD5, re-create your certificates with the following steps:"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:630
msgid "Open a terminal and log in as <systemitem class=\"username\">root</systemitem>."
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:635
msgid "Create a private key:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:638
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>openssl</command> genrsa -out server.key 1024"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:639
msgid "If you want a stronger key, replace <literal>1024</literal> with a higher number, for example, <literal>4096</literal>."
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:645
msgid "Create a certificate signing request (CSR):"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:648
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>openssl</command> req -new -key server.key -out server.csr"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:651
msgid "Self-sign the certificate:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:654
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>openssl</command> x509 -req -days 365 -in server.csr -signkey server.key -out server.crt"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:658
msgid "Create the PEM file:"
msgstr ""

#. (itstool) path: step/screen
#: xml/sle_update_upgrading.xml:661
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>cat</command> server.key server.crt &gt; server.pem"
msgstr ""

#. (itstool) path: step/para
#: xml/sle_update_upgrading.xml:664
msgid "Place the files <filename>server.crt</filename>, <filename>server.csr</filename>, <filename>server.key</filename>, and <filename>server.pem</filename> in the respective directories where the keys can be found. For Tomcat, for example, this directory is <filename>/etc/tomcat/ssl/</filename>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/sle_update_upgrading.xml:675
msgid "Shut Down Virtual Machine Guests"
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:676
msgid "If your machine serves as a VM Host Server for KVM or Xen, make sure to properly shut down all running VM Guests prior to the update. Otherwise you may not be able to access the guests after the update."
msgstr ""

#. (itstool) path: sect2/title
#: xml/sle_update_upgrading.xml:684
msgid "Check the <command>clientSetup4SMT.sh</command> Script on SMT Clients"
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:685
msgid "If you are migrating your client OS that is registered against an SMT server, you need to check if the version of the <command>clientSetup4SMT.sh</command> script on your host is up to date. <command>clientSetup4SMT.sh</command> from older versions of SMT cannot manage SMT 12 clients. If you apply software patches regularly on your SMT server, you can always find the latest version of <command>clientSetup4SMT.sh</command> at <filename>&lt;SMT_HOSTNAME&gt;/repo/tools/clientSetup4SMT.sh</filename>."
msgstr ""

#. (itstool) path: sect2/title
#: xml/sle_update_upgrading.xml:695
msgid "Disk Space"
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:697
msgid "Software tends to grow from version to version. Therefore, take a look at the available partition space before updating. If you suspect you are running short of disk space, back up your data before increasing the available space by resizing partitions, for example. There is no general rule regarding how much space each partition should have. Space requirements depend on your particular partitioning profile and the software selected."
msgstr ""

#. (itstool) path: note/title
#: xml/sle_update_upgrading.xml:707
msgid "Automatic Check for Enough Space in YaST"
msgstr ""

#. (itstool) path: note/para
#: xml/sle_update_upgrading.xml:708
msgid "During the update procedure, YaST will check how much free disk space is available and display a warning to the user if the installation may exceed the available amount. In that case, performing the update may lead to an <emphasis>unusable system</emphasis>! Only if you know exactly what you are doing (by testing beforehand), you can skip the warning and continue the update."
msgstr ""

#. (itstool) path: sect3/title
#: xml/sle_update_upgrading.xml:719
msgid "Checking Disk Space on Non-Btrfs File Systems"
msgstr ""

#. (itstool) path: sect3/para
#: xml/sle_update_upgrading.xml:720
msgid "Use the <command>df</command> command to list available disk space. For example, in <xref linkend=\"aus.update.df\"/>, the root partition is <filename>/dev/sda3</filename> (mounted as <filename>/</filename>)."
msgstr ""

#. (itstool) path: example/title
#: xml/sle_update_upgrading.xml:726
msgid "List with <command>df -h</command>"
msgstr ""

#. (itstool) path: example/screen
#: xml/sle_update_upgrading.xml:727
#, no-wrap
msgid ""
"Filesystem     Size  Used Avail Use% Mounted on\n"
"/dev/sda3       74G   22G   53G  29% /\n"
"tmpfs          506M     0  506M   0% /dev/shm\n"
"/dev/sda5      116G  5.8G  111G   5% /home\n"
"/dev/sda1       39G  1.6G   37G   4% /windows/C\n"
"/dev/sda2      4.6G  2.6G  2.1G  57% /windows/D"
msgstr ""

#. (itstool) path: example/screen
#: xml/sle_update_upgrading.xml:733
#, no-wrap
msgid ""
"Filesystem     Size  Used Avail Use% Mounted on\n"
"/dev/sda3       74G   22G   53G  29% /\n"
"tmpfs          506M     0  506M   0% /dev/shm\n"
"/dev/sda5      116G  5.8G  111G   5% /home\n"
"/dev/sda1       44G    4G   40G   9% /data"
msgstr ""

#. (itstool) path: sect3/title
#: xml/sle_update_upgrading.xml:742
msgid "Checking Disk Space on Btrfs Root File Systems"
msgstr ""

#. (itstool) path: sect3/para
#: xml/sle_update_upgrading.xml:743
msgid "If you use Btrfs as root file systems on your machine, make sure there is enough free space. In the worst case, an upgrade needs as much disk space as the current root file system (without <filename>/.snapshot</filename>) for a new snapshot. To display available disk space use the command:"
msgstr ""

#. (itstool) path: sect3/screen
#: xml/sle_update_upgrading.xml:749
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>df</command> -h /"
msgstr ""

#. (itstool) path: sect3/para
#: xml/sle_update_upgrading.xml:750
msgid "Check the available space on all other mounted partitions as well. The following recommendations have been proven:"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:756
msgid "For all file systems including Btrfs you need enough free disk space to download and install big RPMs. The space of old RPMs are only freed after new RPMs are installed."
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:763
msgid "For Btrfs with snapshots, you need at minimum as much free space as your current installation takes. We recommend to have twice as much free space as the current installation."
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:768
msgid "If you do not have enough free space, you can try to delete old snapshots with <command>snapper</command>:"
msgstr ""

#. (itstool) path: listitem/screen
#: xml/sle_update_upgrading.xml:772
#, no-wrap
msgid ""
"<prompt role=\"root\">root # </prompt><command>snapper</command> list\n"
"<prompt role=\"root\">root # </prompt><command>snapper</command> delete NUMBER"
msgstr ""

#. (itstool) path: listitem/para
#: xml/sle_update_upgrading.xml:774
msgid "However, this may not help in all cases. Before migration, most snapshots occupy only little space."
msgstr ""

#. (itstool) path: sect2/title
#: xml/sle_update_upgrading.xml:783
msgid "Temporarily Disabling Kernel Multiversion Support"
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:784
msgid "<phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase> allows installing multiple kernel versions by enabling the respective settings in <filename>/etc/zypp/zypp.conf</filename>. Support for this feature needs to be temporarily disabled to upgrade to a service pack. When the update has successfully finished, multiversion support can be re-enabled. To disable multiversion support, comment the respective lines in <filename>/etc/zypp/zypp.conf</filename>. The result should look similar to:"
msgstr ""

#. (itstool) path: sect2/screen
#: xml/sle_update_upgrading.xml:793
#, no-wrap
msgid ""
"#multiversion = provides:multiversion(kernel)\n"
"#multiversion.kernels = latest,running"
msgstr ""

#. (itstool) path: sect2/para
#: xml/sle_update_upgrading.xml:795
msgid "To re-activate this feature after a successful update, remove the comment signs. For more information about multiversion support, refer to <xref linkend=\"cha.tuning.multikernel.enable\"/>."
msgstr ""

#. (itstool) path: sect1/title
#: xml/sle_update_upgrading.xml:803
msgid "Upgrading on IBM z Systems"
msgstr ""

#. (itstool) path: sect1/para
#: xml/sle_update_upgrading.xml:804
msgid "Upgrading a SUSE Linux Enterprise installation on z Systems requires the <command>Upgrade=1</command> kernel parameter, for example via the parmfile. See <xref linkend=\"sec.appdendix.parm\" xrefstyle=\"HeadingOnPage\"/>."
msgstr ""

#. (itstool) path: sect1/title
#: xml/sle_update_upgrading.xml:810
msgid "IBM POWER: Starting an X Server"
msgstr ""

#. (itstool) path: sect1/para
#: xml/sle_update_upgrading.xml:811
msgid "On SLES 12 for IBM POWER the display manager is configured not to start a local X Server by default. This setting was reversed on SLES 12 SP1—the display manager now starts an X Server."
msgstr ""

#. (itstool) path: sect1/para
#: xml/sle_update_upgrading.xml:816
msgid "To avoid problems during upgrade, the <phrase role=\"productname\"><phrase os=\"osuse\">openSUSE Leap</phrase><phrase os=\"sles\">SUSE Linux Enterprise Server</phrase><phrase os=\"sled\">SUSE Linux Enterprise Desktop</phrase><phrase os=\"slerte\">SUSE Linux Enterprise Real Time Extension</phrase></phrase> setting is not changed automatically. If you want the display manager to start an X Server after the upgrade, change the setting of <envar>DISPLAYMANAGER_STARTS_XSERVER</envar> in <filename>/etc/sysconfig/displaymanager</filename> as follows:"
msgstr ""

#. (itstool) path: sect1/screen
#: xml/sle_update_upgrading.xml:823
#, no-wrap
msgid ""
"DISPLAYMANAGER_STARTS_XSERVER=\"yes\""
msgstr ""

