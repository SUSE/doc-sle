<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="deployment_auto.xml" id="cha.deployment.autoinst">
 <title>자동 설치</title>
 <para>
  AutoYaST를 사용하면 많은 시스템에서 SUSE® Linux Enterprise를 병렬로 설치할 수 있습니다. AutoYaST 기술을 통해 서로 다른 하드웨어에 대한 배포를 최대한 유연하게 조정할 수 있습니다. 이 장에서는 단순 자동 설치를 준비하는 방법과, 다양한 하드웨어 유형 및 설치 목적과 관련된 고급 시나리오를 배치하는 방법을 보여 줍니다.
 </para>
 <sect1 id="sec.deployment.autoinst.simple">
  <title>단순 일괄 설치</title>

  <important>
   <title>동일한 하드웨어</title>
   <para>
    이 시나리오는 하드웨어 구성이 동일한 시스템 집합으로 SUSE Linux Enterprise를 구현한다고 가정합니다.
   </para>
  </important>

  <para>
   AutoYaST 일괄 설치를 준비하려면 다음 단계를 수행하십시오.
  </para>

  <procedure>
   <step performance="required">
    <para>
     <xref linkend="sec.deployment.autoinst.simple.profile"/>에서 설명한 대로 배포에 필요한 설치 세부사항이 포함된 AutoYaST 프로파일을 생성합니다.
    </para>
   </step>
   <step performance="required">
    <para>
     <xref linkend="sec.deployment.autoinst.simple.dist"/>에서 설명한 대로 설치 루틴에 전달할 AutoYaST 프로파일 원본과 파라미터를 결정합니다.
    </para>
   </step>
   <step performance="required">
    <para>
     <xref linkend="sec.deployment.autoinst.simple.source"/>에서 설명한 대로 SUSE Linux Enterprise 설치 데이터 원본을 결정합니다.
    </para>
   </step>
   <step performance="required">
    <para>
     <xref linkend="sec.deployment.autoinst.simple.boot"/>에서 설명한 대로 자동 설치에 필요한 부팅 시나리오를 결정하고 설정합니다.
    </para>
   </step>
   <step performance="required">
    <para>
     <xref linkend="sec.deployment.autoinst.simple.info"/>에서 설명한 대로 파라미터를 수동으로 추가하거나 <filename>info</filename> 파일을 생성하여 명령줄을 설치 루틴에 전달합니다.
    </para>
   </step>
   <step performance="required">
    <para>
     <xref linkend="sec.deployment.autoinst.simple.install"/>에서 설명한 대로 자동 설치 프로세스를 시작합니다.
    </para>
   </step>
  </procedure>

  <sect2 id="sec.deployment.autoinst.simple.profile">
   <title>AutoYaST 프로파일 생성</title>
   <para>
    AutoYaST 프로파일은 바로 사용할 수 있는 시스템을 얻기 위해 설치할 항목과 설치된 시스템을 구성하는 방법을 AutoYaST에 알려 줍니다. 이 프로파일은 여러 가지 방법으로 생성할 수 있습니다.
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      참조 시스템에서 동일한 시스템 집합으로 새로운 설치 복제
     </para>
    </listitem>
    <listitem>
     <para>
      AutoYaST GUI를 사용하여 사용자 요구사항에 맞게 프로파일 생성 및 수정
     </para>
    </listitem>
    <listitem>
     <para>
      처음부터 XML 편집기를 사용하고 프로파일 생성
     </para>
    </listitem>
   </itemizedlist>
   <para>
    새로운 참조 설치를 복제하려면 다음 단계를 수행하십시오.
   </para>
   <procedure>
    <step performance="required">
     <para>
      <xref linkend="cha.inst"/>의 설명대로 일반 설치를 시작하고 필요에 따라 시스템을 구성하십시오. <guimenu>설치 설정</guimenu> 화면 (<xref linkend="sec.i.yast2.proposal"/>)에서 <guimenu>시스템 구성 복제</guimenu>를 선택하고 <guimenu>/root/autoinst.xml에 AutoYaST 프로파일 쓰기</guimenu>를 활성화하십시오.
     </para>
    </step>
    <step performance="required">
     <para>
      <filename>/root/autoinst.xml</filename>에서 사용 준비된 프로파일이 만들어집니다. 이 프로파일은 이 특별한 설치의 복제를 생성하는 데 사용할 수 있습니다.
     </para>
    </step>
   </procedure>
   <para>
    AutoYaST GUI를 사용하여 기존 시스템 구성에서 프로파일을 생성하고 사용자의 필요에 맞게 수정하려면 다음 단계를 수행하십시오.
   </para>
   <procedure>
    <step performance="required">
     <para>
      <systemitem class="username">root</systemitem>로 YaST를 시작합니다.
     </para>
    </step>
    <step performance="required">
     <para>
      <menuchoice> <guimenu>기타</guimenu> <guimenu>자동 설치</guimenu> </menuchoice>를 선택하여 그래픽 AutoYaST 프런트 엔드를 시작합니다.
     </para>
    </step>
    <step performance="required">
     <para>
      <menuchoice> <guimenu>도구</guimenu> <guimenu>참조 프로파일 생성</guimenu> </menuchoice>을 선택하여 현재 시스템 구성을 AutoYaST 프로파일로 미러링할 AutoYaST를 준비합니다.
     </para>
    </step>
    <step performance="required">
     <para>
      <guimenu>참조 제어 파일 생성</guimenu> 목록에서 항목을 선택하여 부팅 로더, 파티셔닝, 소프트웨어 선택과 같은 기본 리소스를 비롯한 시스템의 다양한 기타 측면을 프로파일에 추가할 수 있습니다.
     </para>
    </step>
    <step performance="required">
     <para>
      YaST에서 모든 시스템 정보를 수집하여 새 프로파일에 기록하려면 <guimenu>생성</guimenu>을 클릭합니다.
     </para>
    </step>
    <step performance="required">
     <para>
      계속하려면 다음 중 하나를 선택합니다.
     </para>
     <itemizedlist mark="bullet" spacing="normal">
      <listitem>
       <para>
        프로파일이 완료되고 사용자 요구사항에 맞는 경우 <menuchoice> <guimenu>파일</guimenu> <guimenu>다른 이름으로 저장</guimenu> </menuchoice>을 선택하고 <filename>autoinst.xml</filename>과 같이 프로파일의 파일 이름을 입력하십시오.
       </para>
      </listitem>
      <listitem>
       <para>
        왼쪽의 트리 보기에서 적합한 구성 항목(예: <quote>하드웨어/프린터</quote>)을 선택하고 <guimenu>구성</guimenu>을 클릭하여 참조 프로파일을 수정합니다. 각 YaST 모듈이 시작하지만 사용자 설정은 시스템에 적용되는 대신 AutoYaST 프로파일에 작성됩니다. 완료되면 <menuchoice> <guimenu>파일</guimenu> <guimenu>다른 이름으로 저장</guimenu> </menuchoice>을 선택하고 프로파일에 적합한 이름을 입력합니다.
       </para>
      </listitem>
     </itemizedlist>
    </step>
    <step performance="required">
     <para>
      <menuchoice> <guimenu>파일</guimenu> <guimenu>완료</guimenu> </menuchoice>를 선택하여 AutoYaST 모듈을 종료합니다.
     </para>
    </step>
   </procedure>
   <figure>
    <title>AutoYaST 프런트 엔드를 사용하여 AutoYaST 프로파일 편집</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="autoyast_gui.png" width="75%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="autoyast_gui.png" width="75%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>

  <sect2 id="sec.deployment.autoinst.simple.dist">
   <title>프로파일 배포 및 AutoYaST 파라미터 결정</title>
   <para>
    AutoYaST 프로파일은 다양한 방법으로 배포할 수 있습니다. 프로파일 데이터를 배포하는 데 사용되는 프로토콜에 따라 다양한 AutoYaST 파라미터를 사용하여 클라이언트에서 설치 루틴에 프로파일 위치를 알려 줍니다. 프로파일의 위치는 부팅 프롬프트 또는 부팅 시 로드된 <filename>info</filename> 파일을 통해 설치 루틴에 전달됩니다. 다음 옵션을 사용할 수 있습니다.
   </para>
   <informaltable>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>
        <para>
         프로파일 위치
        </para>
       </entry>
       <entry>
        <para>
         파라미터
        </para>
       </entry>
       <entry>
        <para>
         설명
        </para>
       </entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>
        <para>
         파일
        </para>
       </entry>
       <entry>
        <para>
         <filename>autoyast=file://<replaceable>path</replaceable></filename>
        </para>
       </entry>
       <entry>
        <para>
         설치 루틴이 지정된 경로에서 제어 파일을 검색하도록 설정하십시오(CD-ROM의 최상위 디렉토리에 있는 경우 원본 루트 디렉토리 <filename>file:///autoinst.xml</filename>에 따라 다름).
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         장치
        </para>
       </entry>
       <entry>
        <para>
         <filename>autoyast=device://<replaceable>path</replaceable></filename>
        </para>
       </entry>
       <entry>
        <para>
         설치 루틴이 저장 장치에서 제어 파일을 검색하도록 설정합니다. 장치 이름만 필요합니다. <filename>/dev/sda1</filename>은 잘못되었으므로 대신 <filename>sda1</filename>을 사용하십시오.
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         NFS
        </para>
       </entry>
       <entry>
        <para>

         <filename>autoyast=nfs://<replaceable>server</replaceable>/<replaceable>path</replaceable></filename>
        </para>
       </entry>
       <entry>
        <para>
         설치 루틴이 NFS 서버에서 제어 파일을 검색하도록 설정합니다.
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         HTTP
        </para>
       </entry>
       <entry>
        <para>

         <filename>autoyast=http://<replaceable>server</replaceable>/<replaceable>path</replaceable></filename>
        </para>
       </entry>
       <entry>
        <para>
         설치 루틴이 HTTP 서버에서 제어 파일을 검색하도록 설정합니다.
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         HTTPS
        </para>
       </entry>
       <entry>
        <para>

         <filename>autoyast=https://<replaceable>server</replaceable>/<replaceable>path</replaceable></filename>
        </para>
       </entry>
       <entry>
        <para>
         설치 루틴이 HTTPS 서버에서 제어 파일을 검색하도록 설정합니다.
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         TFTP
        </para>
       </entry>
       <entry>
        <para>

         <filename>autoyast=tftp://<replaceable>server</replaceable>/<replaceable>path</replaceable></filename>
        </para>
       </entry>
       <entry>
        <para>
         설치 루틴이 TFTP 서버에서 제어 파일을 검색하도록 설정합니다.
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         FTP
        </para>
       </entry>
       <entry>
        <para>

         <filename>autoyast=ftp://<replaceable>server</replaceable>/<replaceable>path</replaceable></filename>
        </para>
       </entry>
       <entry>
        <para>
         설치 루틴이 FTP 서버에서 제어 파일을 검색하도록 설정합니다.
        </para>
       </entry>
      </row>
     </tbody>
    </tgroup>
   </informaltable>
   <para>
    <replaceable>server</replaceable> 및 <replaceable>path</replaceable> 자리 표시자를 실제 설정과 일치하는 값으로 바꾸십시오.
   </para>
   <para>
    AutoYaST에는 특정 프로파일을 클라이언트의 MAC 주소에 바인딩할 수 있는 기능이 포함됩니다. <option>autoyast=</option> 파라미터를 변경할 필요 없이 동일한 설정으로 여러 프로파일을 사용하여 다양한 인스턴스를 설치할 수 있습니다.
   </para>
   <para>
    이 기능을 사용하려면 다음 단계를 수행하십시오.
   </para>
   <procedure>
    <step performance="required">
     <para>
      클라이언트의 MAC 주소가 있는 별도의 프로파일을 파일 이름으로 생성하여 AutoYaST 프로파일을 보관하는 HTTP 서버에 배치합니다.
     </para>
    </step>
    <step performance="required">
     <para>
      예를 들어 <option>autoyast=</option> 파라미터를 생성할 때 파일 이름을 포함하는 정확한 경로를 생략하십시오.
     </para>
<screen>autoyast=tftp://192.168.1.115/</screen>
    </step>
    <step performance="required">
     <para>
      자동 설치를 시작합니다.
     </para>
    </step>
   </procedure>
   <para>
    YaST는 프로파일 위치를 다음과 같은 방법으로 결정하려고 시도합니다.
   </para>
   <orderedlist spacing="normal">
    <listitem>
     <para>
      YaST는 대문자 16진수로 작성된 자체 IP 주소를 사용하여 프로파일을 검색합니다. 예를 들어 <literal>192.0.2.91</literal>은 <literal>C000025B</literal>입니다.
     </para>
    </listitem>
    <listitem>
     <para>
      이 파일을 찾을 수 없는 경우 YaST는 한 개의 16진수를 제거한 후 다시 시도합니다. 이 작업은 올바른 이름의 파일을 찾을 때까지 8번 반복됩니다.
     </para>
    </listitem>
    <listitem>
     <para>
      여전히 검색할 수 없으면 클라이언트의 MAC 주소가 있는 파일을 파일 이름으로 검색하려고 시도합니다. 예제 클라이언트의 MAC 주소는 <literal>0080C8F6484C</literal>입니다.
     </para>
    </listitem>
    <listitem>
     <para>
      file이라는 MAC 주소를 찾을 수 없는 경우 YaST는 <filename>default</filename>(소문자)라는 파일을 검색합니다. YaST에서 AutoYaST 프로파일을 검색하는 주소의 순서 예는 다음과 같습니다.
     </para>
<screen>
C000025B 
C000025 
C00002 
C0000 
C000 
C00 
C0 
C 
0080C8F6484C 
default
     </screen>
    </listitem>
   </orderedlist>
  </sect2>

  <sect2 id="sec.deployment.autoinst.simple.source">
   <title>설치 데이터 제공</title>
   <para>
    설치 데이터는 제품 CD 또는 DVD를 사용하거나 네트워크 설치 원본을 사용하여 제공할 수 있습니다. 제품 CD가 설치 원본으로 사용되면 부팅 프로세스를 수동으로 시작하고 CD를 변경해야 하기 때문에 설치할 클라이언트에 대한 물리적 액세스가 필요합니다.
   </para>
   <para>
    네트워크에서 설치 원본을 제공하려면 <xref linkend="sec.deployment.remoteinst.instserver.sles9"/>에서 설명한 대로 네트워크 설치 서버(HTTP, NFS, FTP)를 설정하십시오. 서버의 위치를 설치 루틴에 전달하려면 <filename>info</filename> 파일을 사용하십시오.
   </para>
  </sect2>

  <sect2 id="sec.deployment.autoinst.simple.boot">
   <title>부팅 시나리오 설정</title>
   <para>
    클라이언트는 다양한 방법으로 부팅할 수 있습니다.
   </para>
   <variablelist>
    <varlistentry>
     <term>네트워크 부팅</term>
     <listitem>
      <para>
       일반적인 원격 설치에서 자동 설치는 WOL(Wake On LAN) 및 PXE를 사용하여 시작할 수 있으므로 부팅 이미지와 제어 파일은 TFTP 및 네트워크 설치 서버의 설치 원본을 통해 가져올 수 있습니다.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>부팅 가능 CD-ROM</term>
     <listitem>
      <para>
       원본 SUSE Linux Enterprise 미디어를 사용하여 자동 설치를 위해 시스템을 부팅하고 네트워크 위치 또는 이동식 미디어에서 제어 파일을 가져올 수 있습니다. 또는 설치 원본과 AutoYaST 프로파일을 모두 보관하는 자체 사용자 정의 CD-ROM을 생성하십시오.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    다음 절에서는 네트워크 부팅 또는 CD-ROM으로 부팅에 대한 기본 절차를 간략하게 설명합니다.
   </para>
   <sect3 id="sec.deployment.autoinst.simple.boot.pxe">
    <title>네트워크 부팅 준비</title>
    <para>
     WOL(Wake On LAN), PXE 및 TFTP를 사용한 네트워크 부팅은 <xref linkend="sec.deployment.remoteinst.scenario.vncpxe"/>에서 설명합니다. 여기서 소개된 설정이 자동 설치 시 작동하도록 하려면 주요 PXE Linux 구성 파일(<filename>/srv/tftp/pxelinux.cfg/default</filename>)이 AutoYaST 프로파일 위치를 가리키는 <literal>autoyast</literal> 파라미터를 포함하도록 수정하십시오. 표준 설치의 예제 항목은 다음과 같습니다.
    </para>
<screen>
default linux 

# default label linux 
    kernel linux
    append initrd=initrd install=http://192.168.1.115/install/suse-enterprise/ 
	  
	</screen>
    <para>
     자동 설치에 대한 동일한 예제는 다음과 같습니다.
    </para>
<screen>
default linux 

# default label linux 
    kernel linux
    append initrd=initrd install=http://192.168.1.115/install/suse-enterprise/ \
           autoyast=nfs://192.168.1.110/profiles/autoinst.xml
	</screen>
    <para>
     예제 IP 주소와 경로를 설정에 사용된 데이터로 바꾸십시오.
    </para>
   </sect3>
   <sect3 id="sec.deployment.autoinst.simple.boot.cd">
    <title>CD-ROM에서 부팅 준비</title>
    <para>
     CD-ROM에서 부팅하는 여러 가지 방법은 AutoYaST 설치 시 실행될 수 있습니다. 다음 시나리오 중에서 선택하십시오.
    </para>
    <variablelist>
     <varlistentry>
      <term>SUSE Linux Enterprise 미디어에서 부팅, 네트워크를 통해 프로파일 가져오기</term>
      <listitem>
       <para>
        완전히 네트워크 기반의 시나리오를 사용할 수 없는 경우(예를 들어 하드웨어에서 PXE를 지원하지 않는 경우)와, 대부분의 프로세스 중에 설치할 시스템에 대한 물리적 액세스가 있는 경우 이 방법을 사용하십시오.
       </para>
       <para>
        필요한 항목은 다음과 같습니다.
       </para>
       <itemizedlist mark="bullet" spacing="normal">
        <listitem>
         <para>
          SUSE Linux Enterprise 미디어
         </para>
        </listitem>
        <listitem>
         <para>
          프로파일 데이터를 제공하는 네트워크 서버(자세한 내용은 <xref linkend="sec.deployment.autoinst.simple.dist"/> 참조)
         </para>
        </listitem>
        <listitem>
         <para>
          설치 루틴에 프로파일을 찾을 위치를 알려주는 <filename>info</filename> 파일이 포함된 이동식 미디어
         </para>
         <para>
          <emphasis>또는</emphasis>
         </para>
         <para>
          <literal>autoyast=</literal> 파라미터를 수동으로 입력하는 위치에서 설치할 시스템 부팅 프롬프트에 액세스
         </para>
        </listitem>
       </itemizedlist>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term> SUSE Linux Enterprise 미디어에서 부팅 및 설치, 이동식 미디어에서 프로파일 가져오기</term>
      <listitem>
       <para>
        완전한 네트워크 기반의 설치 시나리오를 사용할 수 없는 경우 이 방법을 사용하십시오. 대상 시스템의 전원을 켜거나, 두 번째 경우에서 부팅 프롬프트에 프로파일의 위치를 입력하려면 설치할 시스템에 대한 물리적 액세스가 필요합니다. 두 가지 경우 모두 설치 범위에 따라 미디어를 변경해야 할 수도 있습니다.
       </para>
       <para>
        필요한 항목은 다음과 같습니다.
       </para>
       <itemizedlist mark="bullet" spacing="normal">
        <listitem>
         <para>
          SUSE Linux Enterprise 미디어
         </para>
        </listitem>
        <listitem>
         <para>
          프로파일과 <filename>info</filename> 파일을 모두 보관하는 이동식 미디어
         </para>
         <para>
          <emphasis>또는</emphasis>
         </para>
         <para>
          <option>autoyast=</option> 파라미터를 입력할 대상의 부팅 프롬프트에 액세스
         </para>
        </listitem>
       </itemizedlist>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>사용자 정의 미디어에서 부팅 및 설치, 미디어에서 프로파일 가져오기</term>
      <listitem>
       <para>
        제한된 수의 소프트웨어 패키지를 설치해야 하는데 대상 수가 상대적으로 적은 경우, 설치 데이터와 프로파일 자체를 모두 보관하는 자체 사용자 정의 CD를 생성하는 것은 설정에서 네트워크를 사용할 수 없는 경우 특히 도움이 될 수 있습니다.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
  </sect2>

  <sect2 id="sec.deployment.autoinst.simple.info">
   <title><filename>info</filename> 파일 생성</title>
   <para>
    대상에서 설치 루틴은 AutoYaST 프레임워크의 여러 구성요소를 모두 인식할 수 있어야 합니다. 설치 프로세스 제어를 위한 AutoYaST 구성요소, 설치 원본 및 파라미터의 위치를 찾는 데 필요한 파라미터를 모두 포함하는 명령줄을 생성하면 됩니다.
   </para>
   <para>
    설치의 부팅 프롬프트 시 해당 파라미터를 수동으로 전달하거나, 설치 루틴(linuxrc)에서 읽은 <filename>info</filename>라는 파일을 제공하여 info 파일을 생성하십시오. 전자는 설치할 클라이언트에 대한 물리적 액세스가 필요하므로 이 방법은 대규모 배포에 적합하지 않습니다. 후자는 자동 설치 이전에 준비되어 클라이언트 드라이브로 삽입된 <filename>info</filename> 파일을 일부 미디어에서 제공할 수 있습니다. 또는 <xref linkend="sec.deployment.autoinst.simple.boot.pxe"/>에서 설명된 대로 PXE 부팅을 사용하고 linuxrc 파라미터를 <filename>pxelinux.cfg/default</filename> 파일에 포함하십시오.
   </para>
   <para>
    다음 파라미터가 linuxrc에 일반적으로 사용됩니다. 자세한 내용은 <filename>/usr/share/doc/packages/autoyast</filename>의 AutoYaST 패키지 설명서를 참조하십시오.
   </para>
   <important>
    <title>파라미터 및 값 분리</title>
    <para>
     부팅 프롬프트 시 파라미터를 linuxrc로 전달할 경우 파라미터와 값을 분리하려면 <literal>=</literal>를 사용하십시오. <filename>info</filename> 파일을 사용할 경우 파라미터와 값은 <literal>:</literal>으로 분리하십시오.
    </para>
   </important>
   <informaltable>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>
        <para>
         키워드
        </para>
       </entry>
       <entry>
        <para>
         값
        </para>
       </entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>
        <para>
         <literal>netdevice</literal>
        </para>
       </entry>
       <entry>
        <para>
         네트워크 설정에 사용할 네트워크 장치(BOOTP/DHCP 요청에 해당). 이 장치는 여러 개의 네트워크 장치를 사용할 수 있는 경우에만 필요합니다.
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         <literal>hostip</literal>
        </para>
       </entry>
       <entry>
        <para>
         비어 있는 경우 클라이언트는 BOOTP 요청을 전송하거나, 또는 지정된 데이터를 사용하여 구성됩니다. 
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         <literal>netmask</literal>
        </para>
       </entry>
       <entry>
        <para>
         선택한 네트워크의 넷마스크
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         <literal>gateway</literal>
        </para>
       </entry>
       <entry>
        <para>
         기본 게이트웨이
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         <literal>nameserver</literal>
        </para>
       </entry>
       <entry>
        <para>
         이름 서버
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         <literal>autoyast</literal>
        </para>
       </entry>
       <entry>
        <para>
         자동 설치에 사용할 제어 파일의 위치(예: <literal>autoyast=nfs//192.168.1.110/profiles/</literal>)
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         <literal>install</literal>
        </para>
       </entry>
       <entry>
        <para>
         설치 원본의 위치(예: <literal>install=nfs://192.168.1.110/CDs/</literal>)
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         <literal>vnc</literal>
        </para>
       </entry>
       <entry>
        <para>
         <literal>1</literal>로 설정된 경우 VNC 원격 제어 설치를 활성화합니다.
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         <literal>vncpassword</literal>
        </para>
       </entry>
       <entry>
        <para>
         VNC의 비밀번호
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         <literal>usessh</literal>
        </para>
       </entry>
       <entry>
        <para>
         <literal>1</literal>로 설정된 경우 SSH 원격 제어 설치를 활성화합니다.
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         <literal>netsetup</literal>
        </para>
       </entry>
       <entry>
        <para>
         <literal>1</literal>로 설정된 경우 네트워크를 설정합니다. 일반적으로 이 설정은 자동으로 수행되지만, 설치 저장소가 로컬에서 제공되고(예: DVD 또는 로컬 iso 이미지를 통해) <literal>info</literal> 파일이 네트워크에서 로드되는 경우 <filename>netsetup=1</filename>을 설정해야 합니다.
        </para>
       </entry>
      </row>
     </tbody>
    </tgroup>
   </informaltable>
   <para>
    자동 설치 시나리오가 DHCP 및 네트워크 설치 원본을 통한 클라이언트 구성과 관련되어 있으며 VNC를 사용하여 설치 프로세스를 모니터링하려면 <filename>info</filename>는 다음과 같이 표시됩니다.
   </para>
<screen>autoyast:<replaceable>profile_source</replaceable> install:<replaceable>install_source</replaceable> vnc:1 vncpassword:<replaceable>some_password</replaceable></screen>
   <para>
    설치 시 정적 네트워크 설정을 선호하는 경우 <filename>info</filename> 파일은 다음과 같이 표시됩니다.
   </para>
<screen>
autoyast:<replaceable>profile_source</replaceable> \
install:<replaceable>install_source</replaceable> \ 
hostip:<replaceable>some_ip</replaceable> \ 
netmask:<replaceable>some_netmask</replaceable> \ 
gateway:<replaceable>some_gateway</replaceable></screen>
   <para>
    <literal>\</literal>는 쉽게 읽기 위해서만 줄 바꿈이 추가됨을 나타냅니다. 모든 옵션은 한 개의 연속 스트링으로 입력해야 합니다.
   </para>
   <para>
    <filename>info</filename> 데이터는 다양한 방법으로 linuxrc에 사용할 수 있습니다.
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      설치 시 클라이언트에서 사용할 수 있는 이동식 미디어에서 파일로 사용. <systemitem>info=cd:/info</systemitem>와 유사한 info 파라미터를 추가하십시오.
     </para>
    </listitem>
    <listitem>
     <para>
      초기 RAM 디스크의 루트 디렉토리에서 파일로 사용. 이 디스크는 사용자 정의 설치 미디어에서 또는 PXE 부팅을 통해 제공된 시스템을 부팅하는 데 사용됩니다.
     </para>
    </listitem>
    <listitem>
     <para>
      AutoYaST 프로파일의 일부로 사용. 이 경우 AutoYaST 파일은 linuxrc를 사용하여 구문 분석하도록 <filename>info</filename>를 호출해야 합니다. 이 방법의 예는 아래와 같습니다.
     </para>
    </listitem>
    <listitem>
     <para>
      info 파일의 위치를 가리키는 URL을 통해 사용. 이 구문은 <systemitem>info=http://www.example.com/info</systemitem>와 같습니다.
     </para>
    </listitem>
   </itemizedlist>
   <para>
    linuxrc는 파일의 시작을 나타내는 프로파일에서 스트링(<option>start_linuxrc_conf</option>)을 검색합니다. 이 스트링이 검색되면 해당 스트링에서 시작하는 컨텐트를 구문 분석하고 <option>end_linuxrc_conf</option> 스트링이 발견되면 완료합니다. 옵션은 다음과 같이 프로파일에 저장됩니다.
   </para>
<screen>....
  &lt;install&gt;
....
    &lt;init&gt;
      &lt;info_file&gt;
&lt;![CDATA[
#
# Don't remove the following line:
# start_linuxrc_conf
#
install: nfs:<replaceable>server</replaceable>/<replaceable>path</replaceable>
vnc: 1
vncpassword: test
autoyast: file:///info

# end_linuxrc_conf
# Do not remove the above comment
#
]]&gt;

      &lt;/info_file&gt;
    &lt;/init&gt;
......
  &lt;/install&gt;
....
</screen>
   <para>
    linuxrc는 일반 <filename>info</filename> 파일 대신 부팅 파라미터를 포함하는 프로파일을 로드합니다. <option>install:</option> 파라미터는 설치 원본의 위치를 가리킵니다. <option>vnc</option> 및 <option>vncpassword</option>는 설치 모니터링을 위한 VNC의 사용을 나타냅니다. <option>autoyast</option> 파라미터는 <filename>info</filename>를 AutoYaST 프로파일로 처리하도록 linuxrc에 알려 줍니다.
   </para>
  </sect2>

  <sect2 id="sec.deployment.autoinst.simple.install">
   <title>자동 설치 시작 및 모니터링</title>
   <para>
    위에 언급한 모든 인프라(프로파일, 설치 원본 및 <filename>info</filename> 파일)를 제공한 후에는 계속해서 자동 설치를 시작할 수 있습니다. 프로세스 부팅 및 모니터링을 위해 선택한 시나리오에 따라 클라이언트에 대한 실제 작업이 필요할 수 있습니다.
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      클라이언트 시스템이 모든 종류의 실제 미디어에서 부팅되면 제품 미디어든지 사용자 정의 CD든지 상관 없이 클라이언트의 드라이브로 삽입해야 합니다.
     </para>
    </listitem>
    <listitem>
     <para>
      클라이언트가 WOL(Wake On LAN)을 통해 켜지지 않으면 클라이언트 시스템에서라도 전원을 켜야 합니다.
     </para>
    </listitem>
    <listitem>
     <para>
      원격 제어된 자동 설치를 선택하지 않은 경우 AutoYaST의 그래픽 피드백이 클라이언트의 연결 모니터로 전송되거나, 비입력 클라이언트를 사용하는 경우 직렬 콘솔로 전송됩니다.
     </para>
    </listitem>
   </itemizedlist>
   <para>
    원격 제어된 자동 설치를 활성화하려면 <xref linkend="sec.deployment.autoinst.simple.info"/>에서 설명된 VNC 또는 SSH 파라미터를 사용하고 <xref linkend="sec.deployment.remoteinst.monitor"/>에서 설명된 대로 다른 시스템에서 클라이언트에 연결하십시오.
   </para>
  </sect2>
 </sect1>
 <sect1 id="sec.deployment.autoinst.advanced">
  <title>규칙 기반 자동 설치</title>

  <para>
   다음 절에서는 AutoYaST를 사용한 규칙 기반 설치의 기본 개념을 소개하고 자체 사용자 정의 자동 설치 설정을 생성할 수 있는 시나리오의 예를 제공합니다.
  </para>

  <sect2 id="sec.deployment.autoinst.advanced.expl">
   <title>규칙 기반 자동 설치 이해</title>
   <para>
    규칙 기반 AutoYaST 설치는 서로 다른 하드웨어 환경에서의 원활한 작동을 도와줍니다.
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      사이트에 다른 제조업체의 하드웨어가 포함되어 있습니까?
     </para>
    </listitem>
    <listitem>
     <para>
      사이트의 시스템마다 하드웨어 구성이 서로 다릅니까(예: 다른 장치 또는 다른 메모리와 디스크 크기 사용)?
     </para>
    </listitem>
    <listitem>
     <para>
      여러 도메인에 걸쳐 설치하려고 하고 각 도메인 간에 구별이 필요합니까?
     </para>
    </listitem>
   </itemizedlist>
   <para>
    규칙 기반 자동 설치는 먼저 여러 프로파일을 하나로 병합하여 서로 다른 시나리오에 맞게 사용자 정의 프로파일을 생성합니다. 각 규칙은 사용자 설정에서 한 개의 특별한 고유 기능(예: 디스크 크기)에 대해 설명하고 규칙이 일치하면 사용할 프로파일을 AutoYaST에 알려 줍니다. 사용자 설정의 서로 다른 기능을 설명하는 여러 규칙은 한 개의 AutoYaST <filename>rules.xml</filename> 파일로 결합됩니다. 그런 다음 규칙 스택이 처리되고 AutoYaST는 AutoYaST 규칙과 일치하는 여러 프로파일을 하나로 병합하여 최종 프로파일을 생성합니다. 이 절차를 나타내려면 <xref linkend="sec.deployment.autoinst.advanced.example"/>를 참조하십시오.
   </para>
   <para>
    규칙 기반 AutoYaST는 SUSE Linux Enterprise 배포를 유연하게 계획하고 실행할 수 있도록 지원합니다. 다음과 같은 작업을 할 수 있습니다.
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      AutoYaST에서 사전 정의된 시스템 특성과 일치하는 규칙 생성
     </para>
    </listitem>
    <listitem>
     <para>
      논리 연산자를 사용하여 여러 시스템 속성(예: 디스크 크기 및 커널 아키텍처)을 한 개의 규칙으로 결합
     </para>
    </listitem>
    <listitem>
     <para>
      셸 스크립트를 실행하고 출력을 AutoYaST 프레임워크에 전달하여 사용자 정의 규칙 생성. 사용자 정의 규칙 수는 5로 제한됩니다.
     </para>
    </listitem>
   </itemizedlist>
   <note>
    <para>
     규칙 생성과 AutoYaST 용도에 대한 자세한 내용은 <filename>/usr/share/doc/packages/autoyast2/html/index.html</filename>, <guimenu>규칙 및 클래스</guimenu> 장의 패키지 설명서를 참조하십시오.
    </para>
   </note>
   <para>
    규칙 기반 AutoYaST 일괄 설치를 준비하려면 다음 단계를 수행하십시오.
   </para>
   <procedure>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.autoinst.simple.profile"/>에서 설명한 대로 서로 다른 설정에 필요한 설치 세부사항이 포함된 여러 AutoYaST 프로파일을 생성합니다.
     </para>
    </step>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.autoinst.advanced.example"/>에 표시된 대로 하드웨어 설정의 시스템 특성에 맞게 규칙을 정의합니다.
     </para>
    </step>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.autoinst.simple.dist"/>에서 설명한 대로 설치 루틴에 전달할 AutoYaST 프로파일 원본과 파라미터를 결정합니다.
     </para>
    </step>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.autoinst.simple.source"/>에서 설명한 대로 SUSE Linux Enterprise 설치 데이터 원본을 결정합니다.
     </para>
    </step>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.autoinst.simple.info"/>에서 설명한 대로 파라미터를 수동으로 추가하거나 <filename>info</filename> 파일을 생성하여 명령줄을 설치 루틴에 전달합니다.
     </para>
    </step>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.autoinst.simple.boot"/>에서 설명한 대로 자동 설치에 필요한 부팅 시나리오를 결정하고 설정합니다.
     </para>
    </step>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.autoinst.simple.install"/>에서 설명한 대로 자동 설치 프로세스를 시작합니다.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.deployment.autoinst.advanced.example">
   <title>규칙 기반 자동 설치의 시나리오 예</title>
   <para>
    규칙이 생성되는 방식에 대한 기본적인 이해를 위해 <xref linkend="fig.autoyast.rules"/>에서 설명된 다음과 같은 예를 살펴보십시오. AutoYaST를 한 번 실행하여 다음과 같은 설정을 설치합니다.
   </para>
   <variablelist>
    <varlistentry>
     <term>인쇄 서버</term>
     <listitem>
      <para>
       이 시스템에는 데스크톱 환경 및 제한된 소프트웨어 패키지가 없는 최소 설치만 필요합니다.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>엔지니어링 부서의 워크스테이션</term>
     <listitem>
      <para>
       이 시스템은 데스크톱 환경 및 광범위한 개발 소프트웨어가 필요합니다.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>판매 부서의 랩톱</term>
     <listitem>
      <para>
       이 시스템은 데스크톱 환경 및 제한된 특수 응용 프로그램(예: Office 및 일정 관리 소프트웨어)이 필요합니다.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <figure id="fig.autoyast.rules">
    <title>AutoYaST 규칙</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="autoyast_rules.svg" width="90%" format="SVG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="autoyast_rules.png" width="80%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    첫 번째 단계에서 <xref linkend="sec.deployment.autoinst.simple.profile"/>에 개략적으로 나와 있는 방법 중 하나를 사용하여 각 사용 사례에 대한 프로파일을 생성합니다. 이 예에서는 <filename>print.xml</filename>, <filename>engineering.xml</filename> 및 <filename>sales.xml</filename>을 생성합니다.
   </para>
   <para>
    두 번째 단계에서는 세 개의 하드웨어 유형을 서로 구분하고 사용할 프로파일을 AutoYaST에 알려 주기 위한 규칙을 생성합니다. 규칙을 설정하려면 다음과 유사한 알고리즘을 사용하십시오.
   </para>
   <orderedlist spacing="normal">
    <listitem>
     <para>
      시스템의 IP가 <guimenu>192.168.2.253</guimenu>입니까? 그렇다면 이 IP를 인쇄 서버로 설정하십시오.
     </para>
    </listitem>
    <listitem>
     <para>
      시스템에 PCMCIA 하드웨어와 Intel 칩셋 기능이 있습니까? 그렇다면 이 시스템을 Intel 랩톱으로 고려하고 판매 부서 소프트웨어 선택을 설치하십시오.
     </para>
    </listitem>
    <listitem>
     <para>
      위의 모든 항목에 해당되지 않으면 시스템을 개발자 워크스테이션으로 고려하고 그에 따라 설치하십시오.
     </para>
    </listitem>
   </orderedlist>
   <para>
    요약하면, 이 알고리즘은 다음과 같은 컨텐트를 포함한 <filename>rules.xml</filename> 파일로 변환됩니다.
   </para>
<screen>
&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE autoinstall SYSTEM "/usr/share/autoinstall/dtd/rules.dtd"&gt; 
&lt;autoinstall xmlns="http://www.suse.com/1.0/yast2ns" xmlns:config="http://www.suse.com/1.0/configns"&gt;
  &lt;rules config:type="list"&gt;
    &lt;rule&gt;
       &lt;hostaddress&gt;
	    &lt;match&gt;192.168.2.253&lt;/match&gt;
            &lt;match_type&gt;exact&lt;/match_type&gt;
       &lt;/hostaddress&gt;
       &lt;result&gt;
            &lt;profile&gt;print.xml&lt;/profile&gt;
            &lt;continue config:type="boolean"&gt;false&lt;/continue&gt;
        &lt;/result&gt;
    &lt;/rule&gt;
    &lt;rule&gt;
       &lt;haspcmcia&gt;
            &lt;match&gt;1&lt;/match&gt;
            &lt;match_type&gt;exact&lt;/match_type&gt;
       &lt;/haspcmcia&gt;
       &lt;custom1&gt;
           &lt;script&gt;
if grep -i intel /proc/cpuinfo &gt; /dev/null; then
echo -n "intel"
else
echo -n "non_intel"
fi;
           &lt;/script&gt;
           &lt;match&gt;*&lt;/match&gt;
           &lt;match_type&gt;exact&lt;/match_type&gt;
       &lt;/custom1&gt;
       &lt;result&gt;
            &lt;profile&gt;sales.xml&lt;/profile&gt;
            &lt;continue config:type="boolean"&gt;false&lt;/continue&gt;
        &lt;/result&gt;
        &lt;operator&gt;and&lt;/operator&gt;
    &lt;/rule&gt;
    &lt;rule&gt;
        &lt;haspcmcia&gt;
            &lt;match&gt;0&lt;/match&gt;
            &lt;match_type&gt;exact&lt;/match_type&gt;
        &lt;/haspcmcia&gt;
 	&lt;result&gt;
            &lt;profile&gt;engineering.xml&lt;/profile&gt;
            &lt;continue config:type="boolean"&gt;false&lt;/continue&gt;
        &lt;/result&gt;
    &lt;/rule&gt;
  &lt;/rules&gt;
&lt;/autoinstall&gt;
</screen>
   <para>
    규칙 파일을 배포할 경우 <filename>rules</filename> 디렉토리가 <filename>autoyast=</filename>protocol<filename>:<replaceable>serverip</replaceable>/profiles/<replaceable> URL에 지정된 </replaceable>profiles</filename> 디렉토리에 있는지 확인하십시오. AutoYaST는 <filename>rules.xml</filename>이라는 파일이 포함된 <filename>rules</filename> 하위 디렉토리를 먼저 검색한 후 규칙 파일에 지정된 프로파일을 로드하고 병합합니다.
   </para>
   <para>
    나머지 자동 설치 절차는 원래대로 수행됩니다.
   </para>
  </sect2>
 </sect1>
 <sect1 id="sec.deployment.autoinst.moreinfo">
  <title>추가 정보</title>

  <para>

   AutoYaST 기술에 대한 자세한 내용은 소프트웨어와 함께 설치된 <phrase os="sles"><xref linkend="book.autoyast"/> 또는 </phrase> 문서를 참조하십시오(<filename>/usr/share/doc/packages/autoyast2</filename>).
  </para>
 </sect1>
</chapter>
