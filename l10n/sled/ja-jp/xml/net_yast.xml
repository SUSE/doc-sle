<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="net_yast.xml" version="5.0" xml:id="sec-network-yast"> <title>YaSTによるネットワーク接続の設定</title>

 <info>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:bugtracker/>
        <dm:translation>yes</dm:translation>
      </dm:docmanager>
    </info>
    <para>
  Linuxでは多くのタイプのネットワーク接続がサポートされています。その多くは、異なるデバイス名と、ファイルシステム内の複数の場所に分散した設定ファイルを使用しています。手動によるネットワーク設定のさまざまな面についての詳細は、<xref linkend="sec-network-manconf"/>を参照してください。
 </para>

 <para>
  <phrase os="sled"><phrase role="productname"><phrase os="sled"/></phrase>SUSE Linux Enterprise Desktopでは、デフォルトでNetworkManagerがアクティブになっており、すべてのネットワークカードが設定されます。NetworkManagerがアクティブでない場合は、リンクアップしている(つまり、ネットワークケーブルが接続されている)最初のインタフェースだけが自動的に設定されます。</phrase>インストール済みのシステムには、いつでも付加的なハードウェアを設定することができます。以降のセクションでは、<phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>がサポートするすべてのタイプのネットワーク接続について、ネットワークの設定方法を説明します。
 </para>

 

 <sect2 xml:id="sec-network-yast-netcard">
  <title>YaSTでのネットワークカードの設定</title>
  <para>
   YaSTでEthernetカードまたはWi-Fi/Bluetoothカードを設定するには、<menuchoice> <guimenu>システム</guimenu> <guimenu>ネットワーク設定</guimenu>
   </menuchoice>の順に選択します。モジュールの開始後に、YaSTは<guimenu>ネットワーク設定</guimenu>ダイアログを表示します。ダイアログには<guimenu>グローバルオプション</guimenu>、<guimenu>概要</guimenu>、<guimenu>ホスト名/DNS</guimenu>、および<guimenu>ルーティング</guimenu>の4つのタブがあります。
  </para>
  <para>
   <guimenu>グローバルオプション</guimenu>タブでは、ネットワークのセットアップ方法、IPv6、一般的なDHCPオプションの使用など、一般的なネットワークオプションを設定できます。詳細については、<xref linkend="sec-network-yast-netcard-global"/>を参照してください。
  </para>
  <para>
   <guimenu>概要</guimenu>タブには、インストールされたネットワークインタフェースと環境設定に関する情報が含まれています。正しく検出されたネットワークカードの名前が表示されます。このダイアログでは、手動で新しいカードを設定し、それらの設定内容を削除または変更できます。自動検出されなかったカードを手動で設定する場合は、<xref linkend="sec-network-yast-netcard-man"/>を参照してください。すでに設定済みのカードの設定を変更する場合については、<xref linkend="sec-network-yast-netcard-change"/>を参照してください。
  </para>
  <para>
   <guimenu>ホスト名/DNS</guimenu>タブでは、マシンのホスト名を設定し、使用サーバに名前を付けることができます。詳細については、<xref linkend="sec-network-yast-change-host"/>を参照してください。
  </para>
  <para>
   <guimenu>ルーティング</guimenu>タブは、ルーティングの設定で使用します。詳細については、<xref linkend="sec-network-yast-change-route"/>を参照してください。
  </para>
  <figure xml:id="fig-yast2-neticard">
   <title>ネットワーク設定の実行</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_net_icard.png" width="75%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_net_icard.png" width="75%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
  <sect3 xml:id="sec-network-yast-netcard-global">
   <title>グローバルネットワークオプションの設定</title>
   <para>
    YaSTの<guimenu>ネットワーク設定</guimenu>モジュールの<guimenu>グローバルオプション</guimenu>タブを使用して、NetworkManager、IPv6およびDHCPのクライアントオプションの使用など、重要なグローバルネットワークオプションを設定できます。この設定は、すべてのネットワークインタフェースに適用されます。
   </para>
   
   <para>
    <guimenu>ネットワークのセットアップ方法</guimenu>では、ネットワーク接続を管理する方法を選択します。NetworkManagerデスクトップアプレットですべてのインタフェースの接続を管理する場合は、<guimenu>NetworkManagerサービス</guimenu>を選択します。NetworkManagerは、複数の有線ネットワークおよび無線ネットワーク間の切り替えに適しています。デスクトップ環境を実行しない場合、またはコンピュータがXenサーバ(仮想システム)であるか、ネットワーク内でDHCPやDNSなどのネットワークサービスを提供する場合は、<guimenu>Wickedサービス</guimenu>の方法を使用します。NetworkManagerを使用する場合は、<command>nm-applet</command>を使用して、ネットワークオプションを設定する必要があります。<guimenu>ネットワーク設定</guimenu>モジュールのタブである<guimenu>概要</guimenu>、<guimenu>ホスト名/DNS</guimenu>、および<guimenu>ルーティング</guimenu>は無効になります。<phrase os="sled;osuse">NetworkManagerの詳細については、<xref linkend="cha-nm"/>.</phrase>を参照してください。 
   </para>
   <para>
    <guimenu>IPv6プロトコル設定</guimenu>で、IPv6プロトコルを使用するかどうかを選択します。IPv4とともにIPv6を使用できます。デフォルトでは、IPv6は有効です。ただし、IPv6プロトコルを使用しないネットワークでは、IPv6プロトコルを無効にした方が応答時間がより短くなる場合があります。IPv6を無効にするには、<guimenu>IPv6を有効にする</guimenu>を無効にします。IPv6が無効な場合、カーネルはIPv6モジュールを自動的にロードしません。この設定は、再起動後に適用されます。
   </para>
   <para>
    <guimenu>DHCPクライアントオプション</guimenu>では、DHCPクライアントのオプションを設定します。<guimenu>DHCPクライアントID</guimenu>は、単一ネットワーク上の各DHCPクライアントで異なる必要があります。空白のままにした場合は、デフォルトでネットワークインタフェースのハードウェアアドレスになります。ただし、同じネットワークインタフェース、したがって同じハードウェアアドレスを使用して複数の仮想マシンを実行している場合は、ここで自由形式の固有識別子を指定します。
   </para>
   <para>
    <guimenu>送信するホスト名</guimenu>では、DHCPクライアントがDHCPサーバにメッセージを送信するときに、ホスト名オプションフィールドで使用される文字列を指定します。一部のDHCPサーバでは、このホスト名(ダイナミックDNS)に応じて、ネームサーバゾーン(順レコードおよび逆レコード)を更新します。また一部のDHCPサーバでは、クライアントからのDHCPメッセージで、<guimenu>送信するホスト名</guimenu>オプションフィールドに特定の文字列が含まれていることが必要です。現在のホスト名(<literal>/etc/HOSTNAME</literal>で定義されたホスト名)を送信する場合は、<filename>自動</filename>のままにします。ホスト名を送信しない場合は、このオプションフィールドを空のままにします。
   </para>
   <para>
    DHCPからの情報に従ったデフォルトのルートを変更しない場合は、<guimenu>DHCPで既定のルートを変更する</guimenu>をオフにします。
   </para>
  </sect3>
  <sect3 xml:id="sec-network-yast-netcard-change">
   <title>ネットワークカードの設定の変更</title>
   <para>
    ネットワークカードの設定を変更するには、YaSTの<menuchoice> <guimenu>ネットワーク設定</guimenu>
    <guimenu>概要</guimenu> </menuchoice>で検出されたカードのリストから目的のカードを選択し、<guimenu>編集</guimenu>をクリックします。<guimenu>ネットワークカードの設定</guimenu>ダイアログが表示されます。このダイアログの<guimenu>一般</guimenu>、<guimenu>アドレス</guimenu>、および<guimenu>ハードウェア</guimenu>タブを使用してカードの設定を変更します。
   </para>
   <sect4 xml:id="sec-network-yast-change-address">
    <title>IPアドレスの設定</title>

    <para>
     <guimenu>Network Card Setup</guimenu>ダイアログの<guimenu>アドレス</guimenu>タブで、ネットワークカードのIPアドレス、またはそのIPアドレスの決定方法を設定できます。IPv4およびIPv6の両アドレスがサポートされます。ネットワークカードは、<guimenu>IPアドレスなし</guimenu>(ボンドデバイスで有用)の場合や、<guimenu>静的に割り当てられたIPアドレス</guimenu>(IPv4またはIPv6)、あるいは<guimenu>DHCP</guimenu>または<guimenu>Zeroconf</guimenu>のいずれかまたは両方を経由して割り当てられる<guimenu>動的アドレス</guimenu>を持つ場合もあります。
    </para>
    <para>
     <guimenu>Dynamic Address</guimenu>を使用する場合は、<guimenu>DHCP Version 4 Only</guimenu>(IPv4の場合)、<guimenu>DHCP Version 6 Only</guimenu>(IPv6の場合)、または<guimenu>DHCP Both Version 4 and 6</guimenu>のいずれを使用するかを選択します。
    </para>
    <para>
     可能であれば、インストール時に利用可能なリンクを持つ最初のネットワークカードがDHCPによる自動アドレス設定を使用するように自動的に設定されます。<phrase os="sled">SUSE Linux Enterprise Desktopでは、デフォルトでNetworkManagerがアクティブになっており、すべてのネットワークカードが設定されます。</phrase>
    </para>
    
    <para>
     DSL回線を使用していてISP(Internet Service Provider)からスタティックIPが割り当てられていない場合も、DHCPを使用する必要があります。DHCPを使用することを選択する場合は、YaSTネットワークカード設定モジュールの<guimenu>ネットワーク設定</guimenu>ダイアログにある<guimenu>グローバルオプション</guimenu>タブの<guimenu>DHCPクライアントオプション</guimenu>で詳細を設定します。さまざまなホストが同じインタフェースを介して通信するようにバーチャルホストがセットアップされている場合は、各ホストの識別に<guimenu>DHCPクライアントID</guimenu>が必要になります。
    </para>
    <para>
     DHCPは、クライアント設定には適していますが、サーバ設定には適していません。静的なIPアドレスを設定するには、以下の手順に従ってください。
    </para>
    <procedure>
     <step>
      <para>
       YaSTネットワークカード設定モジュールの<guimenu>概要</guimenu>タブの検出されたカードのリストから目的のカードを選択し、<guimenu>編集</guimenu>をクリックします。
      </para>
     </step>
     <step>
      <para>
       <guimenu>アドレス</guimenu>タブで、<guimenu>Statically Assigned IP Address</guimenu>を選択します。
      </para>
     </step>
     <step>
      <para>
       <guimenu>IPアドレス</guimenu>を入力します。IPv4およびIPv6の両アドレスを使用できます。<guimenu>サブネットマスク</guimenu>にネットワークマスクを入力します。IPv6アドレスが使用されている場合は、フォーマット<literal>/64</literal>のプレフィクス長に対する<guimenu>サブネットマスク</guimenu>を使用します。
      </para>
      <para>
       オプションで、このアドレスの完全修飾<guimenu>ホスト名</guimenu>を入力できます。このホスト名は、<filename>/etc/hosts</filename>設定ファイルに書き込まれます。
      </para>
     </step>
     <step>
      <para>
       <guimenu>次へ</guimenu>をクリックします。
      </para>
     </step>
     <step>
      <para>
       環境設定を有効にするには、<guimenu>OK</guimenu>をクリックします。
      </para>
     </step>
    </procedure>
    
    
    <note>
     <title>インタフェースのアクティブ化とリンク検出</title>
     <para>
      ネットワークインタフェースのアクティブ化中に、<command>wicked</command>はキャリアを確認して、リンクが検出された場合にのみIP設定を適用します。リンク状態に関係なく設定を適用する必要がある場合(たとえば、特定のアドレスをリスンしているサービスをテストする場合など)、変数<literal>LINK_REQUIRED=no</literal>を<filename>/etc/sysconfig/network/ifcfg</filename>にあるインタフェースの設定ファイルに追加することで、リンク検出をスキップできます。
     </para>
     <para>
      また、変数<literal>LINK_READY_WAIT=<replaceable>5</replaceable></literal>を使用して、リンクを待機するタイムアウトを秒単位で指定できます。
     </para>
     <para>
      設定ファイル<filename>ifcfg-*</filename>の詳細については、<xref linkend="sec-network-manconf-files-ifcfg"/>および<command>man 5 ifcfg</command>を参照してください。
     </para>
    </note>
    <para>
     静的アドレスを使用する場合、ネームサーバとデフォルトゲートウェイは、自動的には設定されません。ネームサーバを設定するには、<xref linkend="sec-network-yast-change-host"/>に従って手順を進めます。ゲートウェイを設定するには、<xref linkend="sec-network-yast-change-route"/>に従って手順を進めます。
    </para>
   </sect4>
   <sect4 xml:id="sec-network-yast-configure-addresses">
    <title>複数のアドレスの設定</title>
    <para>
     1台のネットワークデバイスに、複数のIPアドレスを割り当てることができます。
    </para>
    <note>
     <title>エイリアスは互換機能</title>
     <para>
      これらのエイリアスまたはラベルはそれぞれIPv4でのみ動作し、IPv6では、無視されます。<command>iproute2</command>ネットワークインタフェースを使用する場合、1つ以上のアドレスを持つことができます。
     </para>
    </note>
    <para>
     YaSTを使用してネットワークカードに追加のアドレスを設定するには、次の手順に従います。
    </para>
    <procedure>
     <step>
      <para>
       YaSTの<guimenu>ネットワーク設定</guimenu>モジュールの<guimenu>概要</guimenu>タブの検出されたカードのリストから目的のカードを選択し、<guimenu>編集</guimenu>をクリックします。
      </para>
     </step>
     <step>
      <para>
       <menuchoice> <guimenu>アドレス</guimenu> <guimenu>追加アドレス</guimenu> </menuchoice>タブで、<guimenu>追加</guimenu>をクリックします。
      </para>
     </step>
     <step>
      <para>
       <guimenu>IPアドレスラベル</guimenu>、<guimenu>IPアドレス</guimenu>、および<guimenu>ネットマスク</guimenu>に適切な値を入力します。エイリアス名にはインタフェース名を含めないでください。
      </para>
     </step>
     <step>
      <para>
       設定内容を有効にするために、設定を確認します。
      </para>
     </step>
    </procedure>
   </sect4>
   <sect4 xml:id="sec-network-yast-change-udev">
    <title>デバイス名およびudevルールの変更</title>
    <para>
     ネットワークカードのデバイス名が使用されている場合、ネットワークカードのデバイス名を変更できます。また、ハードウェア(MAC)アドレスまたはバスIDを介してudevによりネットワークカードを識別するかどうかを選択できます。大型のサーバでは、カードのホットスワッピングを容易にするために後者のオプションが適しています。YaSTを使ってこうしたオプションを設定するには、次の手順に従います。
    </para>
    <procedure>
     <step>
      <para>
       YaSTの<guimenu>ネットワーク設定</guimenu>モジュールの<guimenu>概要</guimenu>タブの検出されたカードのリストから目的のカードを選択し、<guimenu>編集</guimenu>をクリックします。
      </para>
     </step>
     <step>
      <para>
       <guimenu>一般</guimenu>タブを開きます。現在のデバイス名が<guimenu>Udevルール</guimenu>に表示されます。<guimenu>変更</guimenu>をクリックします。
      </para>
     </step>
     <step>
      <para>
       udevで<guimenu>MACアドレス</guimenu>または<guimenu>バスID</guimenu>によりカードを識別するかどうかを選択します。カードの現在のMACアドレスおよびバスIDがダイアログに表示されます。
      </para>
     </step>
     <step>
      <para>
       デバイス名を変更するには、<guimenu>Change Device Name</guimenu>オプションをオンにし、名前を編集します。
      </para>
     </step>
     <step>
      <para>
       設定内容を有効にするために、設定を確認します。
      </para>
     </step>
    </procedure>
   </sect4>
   <sect4 xml:id="sec-network-yast-change-driver">
    <title>ネットワークカードカーネルドライバの変更</title>
    <para>
     一部のネットワークカードには、複数のカーネルドライバを使用できます。カードがすでに設定されている場合は、YaSTで利用可能で適切なドライバのリストから、使用するカーネルドライバを選択できます。また、カーネルドライバのオプションを指定することもできます。YaSTを使ってこうしたオプションを設定するには、次の手順に従います。
    </para>
    <procedure>
     <step>
      <para>
       YaSTのネットワーク設定モジュールの<guimenu>概要</guimenu>タブの検出されたカードのリストから目的のカードを選択し、<guimenu>編集</guimenu>をクリックします。
      </para>
     </step>
     <step>
      <para>
       <guimenu>ハードウェア</guimenu>タブを開きます。
      </para>
     </step>
     <step>
      <para>
       <guimenu>モジュール名</guimenu>で、使用するカーネルドライバを選択します。選択したドライバのオプションを、<guimenu>オプション</guimenu>に「<command>=</command> =<replaceable>VALUE</replaceable>」の形式で入力します。他にもオプションを使用する場合は、スペースで区切る必要があります。
      </para>
     </step>
     <step>
      <para>
       設定内容を有効にするために、設定を確認します。
      </para>
     </step>
    </procedure>
   </sect4>
   <sect4 xml:id="sec-network-yast-change-start">
    <title>ネットワークデバイスの有効化</title>

    <para>
     <command>wicked</command>を使った方法を使用している場合、デバイスをブート時、ケーブル接続時、カード検出時、または手動で起動するように設定したり、起動しないように設定したりすることができます。デバイスの起動方法を変更するには、次の手順に従います。
    </para>
    <procedure>
     <step>
      <para>
       YaSTで、<menuchoice>
       <guimenu>システム</guimenu> <guimenu>ネットワーク設定</guimenu>
       </menuchoice>で検出されたカードの一覧からカードを選択し、<guimenu>編集</guimenu>をクリックします。
      </para>
     </step>
     <step>
      <para>
       <guimenu>一般</guimenu>タブの<guimenu>デバイスの起動</guimenu>から、適切な項目を選択します。
      </para>
      <para>
       システムブート中にデバイスを起動するには、<guimenu>ブート時</guimenu>を選択します。<guimenu>ケーブル接続時</guimenu>では、インタフェースで物理接続が存在するかどうかが監視されます。<guimenu>ホットプラグ時</guimenu>を選択した場合、インタフェースは利用可能になったときに設定されます。これは、<guimenu>ブート時</guimenu>オプションに似ていますが、インタフェースがブート時に存在しない場合にエラーが発生しない点のみが異なります。<guimenu>ifup</guimenu>でインタフェースを手動で制御する場合は、<command>手動</command>を選択します。デバイスを起動しない場合は、<guimenu>起動しない</guimenu>を選択します。<guimenu>NFSrootオン</guimenu>は、<guimenu>ブート時</guimenu>に似ていますが、インタフェースは<command>systemctl stop network</command>コマンドを使用してシャットダウンしません。また、<option>ネットワーク</option>サービスは、<command>wicked</command>がアクティブになっている場合は、<option>wicked</option>サービスも処理します。このオプションは、NFSまたはiSCSIのルートファイルシステムを使用する場合に選択します。
      </para>
     </step>
     <step>
      <para>
       設定内容を有効にするために、設定を確認します。
      </para>
     </step>
    </procedure>
    <tip>
     <title>ルートファイルシステムとしてのNFS</title>
     <para>
      ルートパーティションがネットワーク経由でNFS共有としてマウントされている(ディスクレス)システムでは、NFS共有にアクセス可能なネットワークデバイスの設定を慎重に行う必要があります。
     </para>
     <para>
      システムの停止、システムの再起動時のデフォルトの処理順序は、ネットワーク接続を切断してから、ルートパーティションをアンマウントするという順序になります。NFSルートの場合、この順序では問題が発生します。NFS共有とのネットワーク接続が先に無効にされているため、ルートパーティションを正常にアンマウントできないためです。システムが該当するネットワークデバイスを無効にしないようにするには、[network device configuration(ネットワークデバイスの設定)]タブ(<xref linkend="sec-network-yast-change-start"/>を参照)を開いて、<guimenu>デバイスの起動</guimenu>ペインの<guimenu>NFSrootオン</guimenu>を選択します。
     </para>
    </tip>
   </sect4>
   <sect4 xml:id="sec-network-yast-change-mtu">
    <title>最大転送単位サイズの設定</title>
    <para>
     インタフェースの最大転送単位(MTU)を設定できます。MTUでは、最大許容パケットサイズ(バイト)を参照します。MTUが大きいと、帯域幅の効率が高くなります。ただし、パケットが大きくなると、低速なインタフェースの処理がしばらく阻止され、以降のパケットの遅延が増加する場合があります。
    </para>
    <procedure>
     <step>
      <para>
       YaSTで、<menuchoice>
       <guimenu>システム</guimenu> <guimenu>ネットワーク設定</guimenu>
       </menuchoice>で検出されたカードの一覧からカードを選択し、<guimenu>編集</guimenu>をクリックします。
      </para>
     </step>
     <step>
      <para>
       <guimenu>一般</guimenu>タブの<guimenu>MTUを設定</guimenu>リストから、適切な項目を選択します。
      </para>
     </step>
     <step>
      <para>
       設定内容を有効にするために、設定を確認します。
      </para>
     </step>
    </procedure>
   </sect4>
   <sect4 xml:id="sec-network-yast-change-pciemulti">

    <title>PCIe多機能デバイス</title>
    <para>
     LAN、iSCSI、およびFCoEをサポートする多機能デバイスがサポートされています。YaST FCoEクライアント(<command>yast2 fcoe-client</command>)は、追加の列にプライベートフラグを表示して、ユーザがFCoE用のデバイスを選択できるようにします。YaSTネットワークモジュール(<command>yast2 lan</command>)は、ネットワーク設定の<quote>ストレージ専用デバイス</quote>を除外します。
    </para>
    
   </sect4>
   <sect4 xml:id="sec-network-yast-change-infiniband">

    <title>IPoIB (IP-over-InfiniBand)用のインフィニバンドの設定</title>
    <procedure>
     <step>
      <para>
       YaSTで、<menuchoice>
       <guimenu>システム</guimenu> <guimenu> ネットワーク設定</guimenu>
       </menuchoice>でインフィニバンドデバイスを選択し、<guimenu>編集</guimenu>をクリックします。
      </para>
     </step>
     <step>
      <para>
       <guimenu>一般</guimenu>タブの<guimenu>IP-over-InfiniBand</guimenu>(IPoIB)モードで<guimenu>接続済み</guimenu>(デフォルト)または<guimenu>データグラム</guimenu>を選択します。
      </para>
     </step>
     <step>
      <para>
       設定内容を有効にするために、設定を確認します。
      </para>
     </step>
    </procedure>
    <para>
     インフィニバンドの詳細については、<filename>/usr/src/linux/Documentation/infiniband/ipoib.txt</filename>を参照してください。
    </para>
   </sect4>
   <sect4 xml:id="sec-network-yast-change-fire">
    <title>ファイアウォールの設定</title>
    <para>
     <xref linkend="sec-security-firewall-firewalld"/>で説明しているような詳細なファイアウォール設定を行わずに、デバイスに基本的なファイアウォールを設定することができます。以下に手順を示します。
    </para>
    <procedure>
     <step>
      <para>
       YaSTで、<menuchoice> <guimenu>システム</guimenu> <guimenu> ネットワーク設定</guimenu> </menuchoice> モジュールを開きます。<guimenu>概要</guimenu>タブで、検出されたカードの一覧からカードを選択し、<guimenu>編集</guimenu>をクリックします。
      </para>
     </step>
     <step>
      <para>
       <guimenu>ネットワーク設定</guimenu>ダイアログの<guimenu>一般</guimenu>タブを表示します。
      </para>
     </step>
     <step>
      <para>
       インタフェースを割り当てる<guimenu>ファイアウォールゾーン</guimenu>を指定します。次のオプションを指定できます。
      </para>
      <variablelist>
       <varlistentry>
        <term>ファイアウォール無効</term>
        <listitem>
         <para>
          このオプションは、ファイアウォールが無効であり、ファイアウォールが動作しない場合にのみ利用可能です。コンピュータが、外部ファイアウォールにより保護されている、より規模の大きいネットワークに接続している場合にのみ、このオプションを使用してください。
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>自動割り当てゾーン</term>
        <listitem>
         <para>
          このオプションは、ファイアウォールが有効になっている場合のみ、利用できます。ファイアウォールが実行中であり、インタフェースがファイアウォールゾーンに自動的に割り当てられます。こうしたインタフェースには、<literal>any</literal>キーワードを含むゾーンまたは外部ゾーンが使用されます。
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>内部ゾーン(未保護)</term>
        <listitem>
         <para>
          ファイアウォールを実行しますが、このインタフェースを保護するルールは使いません。コンピュータが、外部ファイアウォールにより保護されている、より規模の大きいネットワークに接続している場合に、このオプションを使用してください。また、マシンに追加ネットワークインタフェースが存在する場合、内部ネットワークに接続するインタフェースで使用できます。
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>非武装地帯(DMZ)</term>
        <listitem>
         <para>
          非武装地帯ゾーンは、内部ネットワークと(悪意のある)インターネットとの中間にあたるゾーンです。このゾーンに割り当てられたホストは、内部ネットワークおよびインターネットからアクセスされますが、ホストから内部ネットワークにアクセスすることはできません。
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>外部ゾーン</term>
        <listitem>
         <para>
          このインタフェースでファイアウォールを実行し、(危険な可能性のある)他のネットワークトラフィックからインタフェースを保護します。これがデフォルトのオプションです。
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
     </step>
     <step>
      <para>
       設定内容を有効にするために、設定を確認します。
      </para>
     </step>
    </procedure>
   </sect4>
  </sect3>
  <sect3 xml:id="sec-network-yast-netcard-man">
   <title>検出されないネットワークカードの設定</title>
   <para>
    ネットワークカードが正しく検出されなかった場合、そのカードは検出されたカードのリストに含まれません。システムにそのカード用のドライバが間違いなく含まれている場合は、そのようなカードを手動で設定することができます。特殊なネットワークデバイスタイプ(ブリッジ、ボンド、TUN、TAPなど)も設定できます。未検出のネットワークカードまたは特殊なデバイスを設定するには、次の手順に従います。
   </para>
   <procedure>
    <step>
     <para>
      YaSTの<menuchoice> <guimenu>システム</guimenu> <guimenu>ネットワーク設定</guimenu> <guimenu> 概要</guimenu> </menuchoice>ダイアログで<guimenu>追加</guimenu>をクリックします。
     </para>
    </step>
    <step>
     <para>
      <guimenu>ハードウェア</guimenu>ダイアログで、使用可能なオプションからインタフェースの<guimenu>デバイスの型</guimenu>と<guimenu>環境設定名</guimenu>を設定します。ネットワークカードが、USBデバイスの場合、それぞれのチェックボックスを選択して、<guimenu>次へ</guimenu>をクリックしダイアログを終了します。それ以外の方法では、必要に応じて、カードとその<guimenu>オプション</guimenu>で使用されるカーネルの<guimenu>モジュール名</guimenu>を定義できます。
     </para>
     <para>
      <guimenu>Ethtoolオプション</guimenu>では、インタフェースの<command>ifup</command>により使用される<command>ethtool</command>オプションを設定できます。使用可能なオプションの詳細については、<command>ethtool</command>のマニュアルページを参照してください。
     </para>
     <para>
      オプション文字列が<literal>-</literal>で始まる場合(たとえば<literal>-K <replaceable>INTERFACE_NAME</replaceable> rx on</literal>)、文字列内の2番目の単語が現在のインタフェースの名前に置換されます。それ以外の場合(たとえば<literal>autoneg off speed 10</literal>)、<command>ifup</command>は<literal>-s <replaceable>INTERFACE_NAME</replaceable></literal>を先頭に追加します。
     </para>
    </step>
    <step>
     <para>
      <guimenu>次へ</guimenu>をクリックします。
     </para>
    </step>
    <step>
     <para>
      <guimenu>一般</guimenu>、<guimenu>アドレス</guimenu>、および<guimenu>ハードウェア</guimenu>タブで、インタフェースのIPアドレス、デバイス起動方法、ファイアウォールゾーンなどの必要なオプションを設定します。環境設定オプションの詳細については、<xref linkend="sec-network-yast-netcard-change"/>を参照してください。
     </para>
    </step>
    <step>
     <para>
      インタフェースのデバイスタイプとして、<guimenu>ワイヤレス</guimenu>を選択した場合は、次のダイアログでワイヤレス接続の設定を行います。
     </para>
    </step>
    <step>
     <para>
      新しいネットワーク設定を有効にするために、設定を確認します。
     </para>
    </step>
   </procedure>
  </sect3>
  <sect3 xml:id="sec-network-yast-change-host">
   <title>ホスト名とDNSの設定</title>
   <para>
    Ethernetカードがすでに利用できる状態で、インストール時にネットワーク設定を変更しなかった場合、コンピュータのホスト名が自動的に生成され、DHCPが有効になります。また、ホストがネットワークに参加するために必要なネームサービス情報も自動的に生成されます。ネットワークアドレス設定にDHCPを使用している場合は、ドメインネームサーバのリストは自動的に記入されます。静的設定を利用する場合は、これらの項目を手動で設定してください。
   </para>
   <para>
    コンピュータ名を変更し、ネームサーバの検索リストを修正するには、以下の手順に従ってください。
   </para>
   <procedure>
    <step>
     <para>
      YaSTの<menuchoice> <guimenu>システム</guimenu>
      <guimenu>モジュールの</guimenu> </menuchoice>ネットワーク設定<guimenu> ホスト名／DNS</guimenu>タブに移動します。
     </para>
    </step>
    <step>
     <para>
      <guimenu>ホスト名</guimenu>を入力します。ホスト名はグローバルであり、すべての設定ネットワークインタフェースに適用されることに注意してください。
     </para>
     <para>
      IPアドレスを取得するためにDHCPを使用している場合、DHCPサーバによりコンピュータのホスト名が自動的に設定されます。異なるネットワークに接続する場合は、異なるホスト名が割り当てられることがあり、ランタイムにホスト名が変更されるとグラフィックデスクトップが混同される可能性があるので、この機能を無効にする必要があります。DHCPを使用したIPアドレスの取得を無効にするには、<guimenu>DHCPでホスト名を変更する</guimenu>をオフにします。
     </para>
    </step>
    <step>
     <para>
      <guimenu>DNS環境設定の変更</guimenu>では、DNS設定(ネームサーバ、検索リスト、<filename>/run/netconfig/resolv.conf</filename>ファイルのコンテンツ)を変更する方法を選択します。
     </para>
     <para>
      <guimenu>既定のポリシーを使用する</guimenu>オプションを選択した場合、(DHCPクライアントまたはNetworkManagerから)動的に取得されたデータと、(YaSTまたは設定ファイルで)静的に定義されたデータをマージする<command>netconfig</command>スクリプトにより設定が処理されます。通常は、このデフォルトポリシーで十分です。
     </para>
     <para>
      <guimenu>手動でのみ</guimenu>オプションを選択した場合、<command>netconfig</command>では<filename>/run/netconfig/resolv.conf</filename>ファイルを変更できません。ただし、このファイルは手動で編集できます。
     </para>
     <para>
      <guimenu>Custom Policy</guimenu>オプションを選択した場合、マージポリシーを定義する<guimenu>Custom Policy Rule</guimenu>文字列を指定する必要があります。この文字列は、設定の有効なソースとみなされるインタフェース名のカンマで区切られたリストから構成されます。完全なインタフェース名以外に、複数のインタフェースに一致する基本的なワイルドカードを使用することもできます。たとえば<literal>eth* ppp? </literal>は、先頭がethであり、以降にppp0-ppp9を含むすべてのインタフェースが対象になります。<filename>/etc/sysconfig/network/config</filename>ファイルで定義された静的な設定を適用する方法を示す次の2つの特別なポリシー値が存在します。
     </para>
     <variablelist>
      <varlistentry>
       <term><literal>STATIC</literal>
       </term>
       <listitem>
        <para>
         静的な設定は、動的な設定とマージされる必要があります。
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term><literal>STATIC_FALLBACK</literal>
       </term>
       <listitem>
        <para>
         静的な設定は、動的設定が利用できない場合のみ使用されます。
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
     <para>
      詳細については、<command>netconfig</command>(8)のマニュアルページ(<command>man 8 netconfig</command>)を参照してください。
     </para>
    </step>
    <step>
     <para>
      <guimenu>ネームサーバ</guimenu>および<guimenu>ドメイン検索</guimenu>リストに入力します。ネームサーバは、ホスト名ではなく、192.168.1.116などのIPアドレスにより指定する必要があります。<guimenu>ドメイン検索</guimenu>タブで指定した名前は、ドメインが指定されていないホスト名の解決のために使用されるドメイン名です。複数の<guimenu>ドメイン検索</guimenu>を使用する場合は、カンマまたは空白でドメインを区切ります。
     </para>
    </step>
    <step>
     <para>
      設定内容を有効にするために、設定を確認します。
     </para>
    </step>
   </procedure>
   <para>
    コマンドラインからYaSTを使用してホスト名を編集することもできます。YaSTによる変更はすぐに有効になります(<filename>/etc/HOSTNAME</filename>ファイルを手動で編集する場合はすぐに有効にはなりません)。ホスト名を変更するには、次のコマンドを実行します。
   </para>
<screen><prompt role="root">root # </prompt>yast dns edit hostname=<replaceable>HOSTNAME</replaceable></screen>
   <para>
    ネームサーバを変更するには、次のコマンドを実行します。
   </para>
<screen><prompt role="root">root # </prompt>yast dns edit nameserver1=192.168.1.116
<prompt role="root">root # </prompt>yast dns edit nameserver2=192.168.1.117
<prompt role="root">root # </prompt>yast dns edit nameserver3=192.168.1.118</screen>
  </sect3>

  <sect3 xml:id="sec-network-yast-change-route">
   <title>ルーティングの設定</title>

   <para>
    コンピュータを他のコンピュータやネットワークと通信させるには、ネットワークトラフィックが正しい経路を通過するように、ルーティング情報を設定する必要があります。DHCPを使用している場合、この情報は自動的に設定されます。静的アドレスを使用する場合は、このデータを手作業で追加する必要があります。
   </para>
   <procedure>
    <step>
     <para>
      YaSTで、<menuchoice> <guimenu>ネットワーク設定</guimenu>
      <guimenu>ルーティング</guimenu> </menuchoice>の順に移動します。
     </para>
    </step>
    <step>
     <para>
      <guimenu>デフォルトゲートウェイ</guimenu>のIPアドレス(IPv4および必要に応じてIPv6)を入力します。デフォルトゲートウェイは、可能性のあるすべての宛先に一致しますが、必要なアドレスに一致するルーティングテーブルエントリが存在する場合は、デフォルトゲートウェイ経由のデフォルトルートの代わりにそのエントリが使用されます。
     </para>
    </step>
    <step>
     <para>
      <guimenu>ルーティングテーブル</guimenu>には、さらに追加エントリを入力できます。<guimenu>宛先</guimenu>のネットワークIPアドレス、<guimenu>ゲートウェイ</guimenu>のIPアドレス、および<guimenu>ネットマスク</guimenu>を入力します。定義されたネットワークにトラフィックがルーティングされる<guimenu>デバイス</guimenu>を選択します(マイナス記号はデバイスを表わします)。<remark>mdejmek: ok, what does the minus exactly do? you are using it here for different things;</remark>このいずれかの値を省略する場合は、マイナス記号(<literal>-</literal>)を使用します。デフォルトゲートウェイをテーブルに入力するには、<guimenu>宛先</guimenu>フィールドを<literal>default</literal>のままにします。
     </para>
     <note>
      <title>ルートの優先度付け</title>
      <para>
       追加のデフォルトルートが使用されている場合、より高い優先度を持つルートを決定するためのメトリックオプションを指定できます。メトリックオプションを指定するには、<guimenu>オプション</guimenu>に<option>- metric <replaceable>NUMBER</replaceable></option>を入力します。最も高いメトリックを持つルートがデフォルトとして使用されます。ネットワークデバイスが切断している場合は、そのルートが削除され、次のルートが使用されます。
      </para>
     </note>
    </step>
    <step>
     <para>
      システムがルータの場合、必要に応じて、<guimenu>ネットワーク設定</guimenu>で<guimenu>IPv4転送</guimenu>および<guimenu>IPv6転送</guimenu>を有効にします。
     </para>
    </step>
    <step>
     <para>
      設定内容を有効にするために、設定を確認します。
     </para>
    </step>
   </procedure>
  </sect3>
 </sect2>

 
</sect1>
