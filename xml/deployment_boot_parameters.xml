<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "generic-entities.ent">
    %entities;
]>
<chapter version="5.0" xml:id="cha-boot-parameters"
  xmlns="http://docbook.org/ns/docbook"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>Boot parameters</title>
 <info>
  <abstract>
   <para>
    &productname; allows setting several parameters during boot, for example
    choosing the source of the installation data or setting the network
    configuration.
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker></dm:bugtracker>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  Using the appropriate set of boot parameters helps simplify your installation
  procedure. Many parameters can also be configured later using the linuxrc
  routines, but using the boot parameters is easier. In some automated setups,
  the boot parameters can be provided with <filename>initrd</filename> or an
  <filename>info</filename> file.
 </para>
 <para>
  The way the system is started for the installation depends on the
  architecture&mdash;system start-up is different for PC (&amd64;/&intel64;) or
  mainframe, for example. If you install &productname; as a &vmguest; on a
  &kvm; or &xen; hypervisor, follow the instructions for the &amd64;/&intel64;
  architecture.
 </para>
 <note>
  <title>Boot options and boot parameters</title>
  <para>
   The terms <emphasis>Boot Parameters</emphasis> and <emphasis>Boot
   Options</emphasis> are often used interchangeably. In this documentation, we
   mostly use the term <emphasis>Boot Parameters</emphasis>.
  </para>
 </note>
 <sect1 xml:id="sec-boot-parameters-default">
  <title>Using the default boot parameters</title>

  <para>
   <phrase os="sles">The boot parameters are described in detail in
   <xref linkend="cha-install"/>.</phrase> Generally, selecting
   <guimenu>Installation</guimenu> starts the installation boot process.
  </para>

  <para>
   If problems occur, use <guimenu>Installation&mdash;ACPI Disabled</guimenu>
   or <guimenu>Installation&mdash;Safe Settings</guimenu>. For more information
   about troubleshooting the installation process, refer to
   <xref linkend="cha-installation-troubleshooting"/>.
  </para>

  <para>
   The menu bar at the bottom of the screen offers some advanced functionality
   needed in some setups. Using the function keys (<keycap>F1</keycap> ...
   <keycap>F12</keycap>), you can specify additional options to pass to the
   installation routines without having to know the detailed syntax of these
   parameters (see <xref
   linkend="cha-boot-parameters"/>). A detailed
   description of the available function keys is available in
   <xref
   linkend="sec-boot-parameters-screen"/>.
  </para>
 </sect1>
 <sect1 xml:id="sec-boot-parameters-start-x86-64" arch="x86_64">
  <title>PC (&amd64;/&intel64;/&arm64;)</title>

  <para>
   This section describes changing the boot parameters for &amd64;, &intel64;,
   and &arm64;.
  </para>

  <sect2 xml:id="sec-boot-parameters-screen">
   <title>The boot screen on machines with traditional BIOS</title>
   <para>
    The boot screen displays several options for the installation procedure.
    <guimenu>Boot from Hard Disk</guimenu> boots the installed system and is
    selected by default. Select one of the other options with the arrow keys and
    press
    <keycap function="enter"/> to boot it. The relevant options are:
   </para>
   <variablelist>
    <varlistentry>
     <term><guimenu>Installation</guimenu></term>
     <listitem>
      <para>
       The normal installation mode. All modern hardware functions are enabled.
       In case the installation fails, see
       <xref linkend="vle-boot-parameters-screen-kernel"/> for boot parameters
       that disable potentially problematic functions.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry os="sles;sled">
     <term><guimenu>Upgrade</guimenu></term>
     <listitem>
      <para>
       Perform a system upgrade. For more information refer to
       <xref os="sles;sled" linkend="cha-upgrade-paths"/><xref os="osuse"
       linkend="cha-update-osuse"/>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry os="sles;sled">
     <term><menuchoice><guimenu>More</guimenu> <guimenu>Rescue System</guimenu></menuchoice></term>
     <listitem>
      <para>
       Starts a minimal Linux system without a graphical user interface. For
       more information, see
       <phrase os="sled;osuse"><xref linkend="sec-trouble-data-recover-rescue"/>.</phrase><phrase os="sled;osuse">
       This option is not available on live CDs.</phrase>
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><menuchoice><guimenu>More</guimenu> <guimenu>Boot Linux System</guimenu></menuchoice></term>
     <listitem>
      <para>
       Boot a Linux system that is already installed. You will be asked from
       which partition to boot the system.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><menuchoice><guimenu>More</guimenu> <guimenu>Check Installation Media</guimenu></menuchoice></term>
     <listitem>
      <para>
       This option is only available when you install from media created from
       downloaded ISOs. In this case it is recommended to check the integrity
       of the installation medium. This option starts the installation system
       before automatically checking the media. In case the check was
       successful, the normal installation routine starts. If a corrupt media
       is detected, the installation routine aborts. Replace the broken medium
       and restart the installation process.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><menuchoice><guimenu>More</guimenu> <guimenu>Memory Test</guimenu></menuchoice></term>
     <listitem>
      <para>
       Tests your system RAM using repeated read and write cycles. Terminate
       the test by rebooting. For more information, see
       <xref linkend="sec-installation-troubleshooting-noboot"/>.<phrase os="sled">
       This option is not available on the live CDs.</phrase>
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <figure>
    <title>The boot screen on machines with a traditional BIOS</title>
    <mediaobject>
     <textobject role="description"><phrase>The Boot Screen on Machines with a Traditional BIOS</phrase>
     </textobject>
     <imageobject os="sles;sled">
      <imagedata fileref="install_boot.png"  width="75%"/>
     </imageobject>
     <imageobject os="osuse">
      <imagedata fileref="install_boot_osuse.png" width="75%"/>
     </imageobject>
     <imageobject os="slemicro">
      <imagedata fileref="install_boot_slemicro.png"  width="75%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Use the function keys shown at the bottom of the screen to change the
    language, screen resolution, installation source or to add an additional
    driver from your hardware vendor:
   </para>
   <variablelist>
    <varlistentry>
     <term><keycap>F1</keycap><guimenu>Help</guimenu></term>
     <listitem>
      <para>
       Get context-sensitive help for the active element of the boot screen.
       Use the arrow keys to navigate, <keycap function="enter"/> to follow a
       link, and <keycap function="escape"/> to leave the help screen.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><keycap>F2</keycap><guimenu>Language</guimenu></term>
     <listitem>
      <para>
       Select the display language and a corresponding keyboard layout for the
       installation. The default language is English (US).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><keycap>F3</keycap><guimenu>Video Mode</guimenu></term>
     <listitem>
      <para>
       Select various graphical display modes for the installation. By
       <guimenu>Default</guimenu> the video resolution is automatically
       determined using KMS (<quote>Kernel Mode Setting</quote>). If this
       setting does not work on your system, choose <guimenu>No KMS</guimenu>
       and, optionally, specify <literal>vga=ask</literal> on the boot command
       line to get prompted for the video resolution. Choose <guimenu>Text
       Mode</guimenu> if the graphical installation causes problems.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><keycap>F4</keycap><guimenu>Source</guimenu></term>
     <listitem>
      <para>
       Normally, the installation is performed from the inserted installation
       medium. Here, select other sources, like FTP or NFS servers, or configure
       a proxy server.
       <phrase os="sles;sled"> If the installation is deployed on a network
        with an SLP server, select an installation source available on the
        server with this option. Find information about setting up an
        installation server with SLP at <xref
        linkend="cha-deployment-instserver"/>.
       </phrase>
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="vle-boot-parameters-screen-kernel">
     <term><keycap>F5</keycap><guimenu>Kernel</guimenu></term>
     <listitem>
      <para>
       If you encounter problems with the regular installation, this menu
       offers to disable a few potentially problematic functions. If your
       hardware does not support ACPI (advanced configuration and power
       interface) select <guimenu>No ACPI</guimenu> to install without ACPI
       support. <guimenu>No local APIC</guimenu> disables support for APIC
       (Advanced Programmable Interrupt Controllers) which may cause problems
       with some hardware. <guimenu>Safe Settings</guimenu> boots the system
       with the DMA mode (for CD/DVD-ROM drives) and power management functions
       disabled.
      </para>
      <para>
       If you are not sure, try the following options first:
       <guimenu>Installation&mdash;ACPI Disabled</guimenu> or
       <guimenu>Installation&mdash;Safe Settings</guimenu>. Experts can also
       use the command line (<guimenu>Boot Options</guimenu>) to enter or
       change kernel parameters.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><keycap>F6</keycap><guimenu>Driver</guimenu></term>
     <listitem>
      <para>
       Press this key to notify the system that you have an optional driver
       update for &productname;. With <guimenu>File</guimenu> or
       <guimenu>URL</guimenu>, load drivers directly before the installation
       starts. If you select <guimenu>Yes</guimenu>, you are prompted to insert
       the update disk at the appropriate point in the installation process.
      </para>
      <tip os="sles;sled">
       <title>Getting driver update disks</title>
       <para>
        Driver updates for &sle; are provided at
        <link xlink:href="http://drivers.suse.com/"/>. These drivers have been
        created via the &suse; SolidDriver Program.
       </para>
      </tip>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="sec-boot-parameters-uefi">
   <title>The boot screen on machines equipped with UEFI</title>
   <para>
    UEFI (Unified Extensible Firmware Interface) is a new industry standard
    which replaces and extends the traditional BIOS. The latest UEFI
    implementations contain the <quote>Secure Boot</quote> extension, which
    prevents booting malicious code by only allowing signed boot loaders to be
    executed.<phrase os="sles;sled"> See <xref linkend="cha-uefi"/> for more
    information.</phrase>
   </para>
   <para>
    The boot manager &grub;, used to boot machines with a traditional BIOS,
    does not support UEFI, therefore &grub; is replaced with &grub-efi;. If
    Secure Boot is enabled, &yast; will automatically select &grub-efi; for
    installation. From an administrative and user perspective, both boot
    manager implementations behave the same and are called
    <literal>&grub;</literal> in the following.
   </para>
   <tip>
    <title>Using additional drivers with Secure Boot</title>
    <para>
     When installing with Secure Boot enabled, you cannot load drivers that are
     not shipped with &productname;. This is also true of drivers shipped via
     SolidDriver, because their signing key is not trusted by default.
    </para>
    <para>
     To load drivers not shipped with &productname;, do either of the
     following:
    </para>
    <itemizedlist>
     <listitem>
      <para>
       Before the installation, add the needed keys to the firmware database
       via firmware/system management tools.
      </para>
     </listitem>
     <listitem>
      <para>
       Use a bootable ISO that will enroll the needed keys in the MOK list on
       the first boot.
      </para>
     </listitem>
    </itemizedlist>
    <para os="sles;sled">
     For more information, see <xref linkend="sec-uefi-secboot"/>.
    </para>
   </tip>
   <para>
    The boot screen displays several options for the installation procedure.
    Change the selected option with the arrow keys and press
    <keycap function="enter"/> to boot it. The relevant options are:
   </para>
   <variablelist>
    <varlistentry>
     <term><guimenu>Installation</guimenu></term>
     <listitem>
      <para>
       The normal installation mode. All modern hardware functions are enabled.
       In case the installation fails, see
       <xref
       linkend="vle-boot-parameters-screen-kernel"/> for boot
       parameters that disable potentially problematic functions.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry os="sles;sled;osuse">
     <term><guimenu>Upgrade</guimenu></term>
     <listitem>
      <para>
       Perform a system upgrade. <phrase os="sles;sled">For more information
       refer to
       <xref os="sles;sled" linkend="cha-upgrade-paths"/><xref os="osuse"
       linkend="cha-update-osuse"/>.</phrase>
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><menuchoice><guimenu>More</guimenu> <guimenu>Rescue System</guimenu></menuchoice></term>
     <listitem>
      <para>
       Starts a minimal Linux system without a graphical user interface. For
       more information, see
       <phrase os="sled;sled"><xref linkend="sec-trouble-data-recover-rescue"/>.</phrase><phrase os="sled;osuse">
       This option is not available on Live CDs.</phrase>
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><menuchoice><guimenu>More</guimenu> <guimenu>Boot Linux System</guimenu></menuchoice></term>
     <listitem>
      <para>
       Boot a Linux system that is already installed. You will be asked from
       which partition to boot the system.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><menuchoice><guimenu>More</guimenu> <guimenu>Check Installation Media</guimenu></menuchoice></term>
     <listitem>
      <para>
       This option is only available when you install from media created from
       downloaded ISOs. In this case it is recommended to check the integrity
       of the installation medium. This option starts the installation system
       before automatically checking the media. In case the check was
       successful, the normal installation routine starts. If a corrupt media
       is detected, the installation routine aborts.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <figure>
    <title>The boot screen on machines with UEFI</title>
    <mediaobject>
     <textobject role="description"><phrase>The Boot Screen on Machines with UEFI</phrase>
     </textobject>
     <imageobject os="sles;sled">
      <imagedata fileref="install_boot_uefi.png" width="75%"/>
     </imageobject>
     <imageobject os="osuse">
      <imagedata fileref="install_boot_uefi_osuse.png" width="75%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    &grub-efi; on &productname; does not support a boot prompt or function keys
    for adding boot parameters. By default, the installation will be started
    with American English and the boot media as the installation source. A DHCP
    lookup will be performed to configure the network. To change these defaults
    or to add boot parameters you need to edit the respective boot entry.
    Highlight it using the arrow keys and press <keycap>E</keycap>. See the
    on-screen help for editing hints (note that only an English keyboard is
    available now). The <guimenu>Installation</guimenu> entry will look similar
    to the following:
   </para>
<screen>setparams 'Installation'

   set gfxpayload=keep
   echo 'Loading kernel ...'
   linuxefi /boot/x86_64/loader/linux splash=silent
   echo 'Loading initial ramdisk ...'
   initrdefi /boot/x86_64/loader/initrd</screen>
   <para>
    Add space-separated parameters to the end of the line starting with
    <literal>linuxefi</literal>. To boot the edited entry, press
    <keycap>F10</keycap>. If you access the machine via serial console, press
    <keycombo><keycap function="escape"/> <keycap>0</keycap></keycombo>. A
    complete list of parameters is available at
    <link xlink:href="https://en.opensuse.org/Linuxrc"/>.
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-boot-parameters-list">
  <title>List of important boot parameters</title>

  <para>
   This section contains a selection of important boot parameters.
  </para>

  <sect2 xml:id="sec-boot-parameters-list-general">
   <title>General boot parameters</title>
   <para/>
   <variablelist>
    <varlistentry>
     <term><option>autoyast=</option><replaceable>URL</replaceable></term>
     <listitem>
      <para>
       The <envar>autoyast</envar> parameter specifies the location of the
       <filename>autoinst.xml</filename> control file for automatic
       installation.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>manual=&lt;0|1&gt;</option></term>
     <listitem>
      <para>
       The <envar>manual</envar> parameter controls whether the other
       parameters are only default values that still must be acknowledged by
       the user. Set this parameter to <literal>0</literal> if all values
       should be accepted and no questions asked. Setting
       <envar>autoyast</envar> implies setting <envar>manual</envar> to
       <literal>0</literal>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>Info=</option><replaceable>URL</replaceable></term>
     <listitem>
      <para>
       Specifies a location for a file from which to read additional options.
      </para>
      <para arch="zseries" os="sles">
       This helps to overcome the limitations of 10 lines (and 80 characters
       per line under z/VM) for the parmfile. <phrase os="sles;sled">More
       documentation on the Info file can be found in
       <xref linkend="invoking-autoinst-linuxrc"/>.</phrase> Since the Info
       file can typically only be accessed through the network on &zseries;,
       you cannot use it to specify options required to set up the network
       (these options are described in
       <xref linkend="sec-boot-parameters-list-network"/>). Also other linuxrc
       specific options such as for debugging need to be specified in the
       parmfile to be effective.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>upgrade=&lt;0|1&gt;</option></term>
     <listitem>
      <para>
       To upgrade &productname;, specify <option>Upgrade=1</option>.
      </para>
      <para os="sles" arch="zseries">
       A custom parmfile is required for upgrading an existing installation of
       &sle;. Without this parameter, the installation provides no upgrade
       option.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>dud=</option><replaceable>URL</replaceable></term>
     <listitem>
      <para>
       Load driver updates from <replaceable>URL</replaceable>.
      </para>
      <para>
       Set <literal>dud=ftp://ftp.example.com/PATH_TO_DRIVER</literal> or
       <literal>dud=http://www.example.com/PATH_TO_DRIVER </literal> to load
       drivers from a URL. When <literal>dud=1</literal> you will be asked for
       the URL during boot.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>language=</option><replaceable>LANGUAGE</replaceable></term>
     <listitem>
      <para>
       Set the installation language. Some supported values are
       <literal>cs_CZ</literal>, <literal>de_DE</literal>,
       <literal>es_ES</literal>, <literal>fr_FR</literal>,
       <literal>ja_JP</literal>, <literal>pt_BR</literal>,
       <literal>pt_PT</literal>, <literal>ru_RU</literal>,
       <literal>zh_CN</literal>, and <literal>zh_TW</literal>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>acpi=off</option></term>
     <listitem>
      <para>
       Disable ACPI support.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>noapic</option></term>
     <listitem>
      <para>
       No logical APIC.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>nomodeset</option></term>
     <listitem>
      <para>
       Disable KMS.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>textmode=1</option></term>
     <listitem>
      <para>
       Start installer in text mode.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>console=</option><replaceable>SERIAL_DEVICE</replaceable>[,<replaceable>MODE</replaceable>]</term>
     <listitem>
      <para>
       <replaceable>SERIAL_DEVICE</replaceable> can be an actual serial or
       parallel device (for example <literal>ttyS0</literal>) or a virtual
       terminal (for example <literal>tty1</literal>).
       <replaceable>MODE</replaceable> is the baud rate, parity and stop bit
       (for example <literal>9600n8</literal>). The default for this setting is
       set by the mainboard firmware. If you do not see output on your monitor,
       try setting <literal>console=tty1</literal>. It is possible to define
       multiple devices.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="sec-boot-parameters-list-network">
   <title>Configuring the network interface</title>
   <important>
    <title>Configuring the network interface</title>
    <para>
     The settings discussed in this section apply only to the network interface
     used during installation.<phrase os="sles"> Configure additional network
     interfaces in the installed system by following the instructions in <xref
     linkend="sec-network-manconf"/>.</phrase>
    </para>
   </important>
   <para>
    The network will only be configured if it is required during the
    installation. To force the network to be configured, use the
    <literal>netsetup</literal> or <literal>ifcfg</literal> parameters.
   </para>
   <variablelist>
    <varlistentry>
     <term><option>netsetup=<replaceable>VALUE</replaceable></option></term>
     <listitem>
      <para>
       <literal>netsetup=dhcp</literal> forces a configuration via DHCP. Set
       <literal>netsetup=-dhcp</literal> when configuring the network with the
       boot parameters <literal>hostip</literal>, <literal>gateway</literal>
       and <literal>nameserver</literal>. With the option
       <literal>netsetup=hostip,netmask,gateway,nameserver</literal> the
       installer asks for the network settings during boot.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option> ifcfg=<replaceable>INTERFACE</replaceable>[.<replaceable>VLAN</replaceable>]=[.try,]<replaceable>SETTINGS</replaceable> </option></term>
     <listitem>
      <para>
       <replaceable>INTERFACE</replaceable> can be <literal>*</literal> to
       match all interfaces or, for example, <literal>eth*</literal> to match
       all interfaces that start with <literal>eth</literal>. It is also
       possible to use MAC addresses as values.
      </para>
      <para>
       Optionally, a VLAN can be set behind the interface name, separated by a
       period.
      </para>
      <para>
       If <replaceable>SETTINGS</replaceable> is <literal>dhcp</literal>, all
       matching interfaces will be configured with DHCP. If you add the
       <literal>try</literal> option, configuration will stop when the
       installation repository can be reached via one of the configured
       interfaces.
      </para>
      <para>
       Alternatively, you can use static configuration. With static parameters,
       only the first matching interface will be configured, unless you add the
       <literal>try</literal> option. This will configure all interfaces until
       the repository can be reached.
      </para>
      <para>
       The syntax for the static configuration is:
      </para>
<screen>ifcfg=*="<replaceable>IPS_NETMASK</replaceable>,<replaceable>GATEWAYS</replaceable>,<replaceable>NAMESERVERS</replaceable>,<replaceable>DOMAINS</replaceable>"</screen>
      <para>
       Each comma separated value can in turn contain a list of space character
       separated values. <replaceable>IPS_NETMASK</replaceable> is in the
       <emphasis>CIDR notation</emphasis>, for example
       <literal>10.0.0.1/24</literal>. The quotes are only needed when using
       space character separated lists. Example with two name servers:
      </para>
<screen>ifcfg=*="<replaceable>10.0.0.10/24</replaceable>,<replaceable>10.0.0.1</replaceable>,<replaceable>10.0.0.1 10.0.0.2</replaceable>,<replaceable>example.com</replaceable>"</screen>
      <tip>
       <title>Other networking parameters</title>
       <para>
        The <literal>ifcfg</literal> boot parameter is very powerful and allows
        you to set almost all networking parameters. In addition to the
        parameters mentioned above, you can set values for all configuration
        options (comma separated) from
        <filename>/etc/sysconfig/network/ifcfg.template </filename> and
        <filename>/etc/sysconfig/network/config</filename>. The following
        example sets a custom MTU size on an interface otherwise configured via
        DHCP:
       </para>
<screen>ifcfg=eth0=dhcp,MTU=1500</screen>
      </tip>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>hostname=host.&exampledomain;</option></term>
     <listitem>
      <para>
       Enter the fully qualified host name.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>domain=&exampledomain;</option></term>
     <listitem>
      <para>
       Domain search path for DNS. Allows you to use short host names instead
       of fully qualified ones.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>hostip=&exampledomain1ip;.2[/24]</option></term>
     <listitem>
      <para>
       Enter the IP address of the interface to configure. The IP can contain
       the subnet mask, for example
       <literal>hostip=&exampledomain1ip;.2/24</literal>. This setting is only
       evaluated if the network is required during the installation.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>gateway=&exampledomain1ip;.3</option></term>
     <listitem>
      <para>
       Specify the gateway to use. This setting is only evaluated if the
       network is required during the installation.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>nameserver=&exampledomain1ip;.4</option></term>
     <listitem>
      <para>
       Specify the DNS server in charge. This setting is only evaluated if the
       network is required during the installation.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>domain=&exampledomain;</option></term>
     <listitem>
      <para>
       Domain search path. This setting is only evaluated if the network is
       required during the installation.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="sec-boot-parameters-list-install-source">
   <title>Specifying the installation source</title>
   <para>
    If you are not using DVD or &usbflashdrive; for installation, specify an
    alternative installation source.
   </para>
   <variablelist>
    <varlistentry>
     <term><option>install=SOURCE</option></term>
     <listitem>
      <para>
       Specify the location of the installation source to use. Possible
       protocols are <literal>cd</literal>, <literal>hd</literal>,
       <literal>slp</literal>, <literal>nfs</literal>, <literal>smb</literal>
       (Samba/CIFS), <literal>ftp</literal>, <literal>tftp</literal>,
       <literal>http</literal>, and <literal>https</literal>.
       <phrase os="sles">Not all source types are available on all platforms.
       For example &zseries; does not support <literal>cd</literal> and
       <literal>hd</literal>.</phrase>
       The default option is <literal>cd</literal>.
      </para>
      <para>
       To install over an encrypted connection, use an <literal>https</literal>
       URL. If the certificate cannot be verified, disable certificate
       checking with the <literal>sslcerts=0</literal> boot parameter.
      </para>
      <para>
       If an <literal>http</literal>, <literal>https</literal>,
       <literal>ftp</literal>, <literal>tftp</literal>, or
       <literal>smb</literal> URL is given, you can authenticatate by specifying
       the user name and password with the URL. Example:
      </para>
<screen>install=https://<replaceable>USER</replaceable>:<replaceable>PASSWORD</replaceable>@<replaceable>SERVER</replaceable>/<replaceable>DIRECTORY</replaceable>/DVD1/</screen>
      <para>
       In case of a Samba or CIFS installation, you can also specify the domain
       that should be used:
      </para>
<screen>install=smb://<replaceable>WORKDOMAIN</replaceable>;<replaceable>USER</replaceable>:<replaceable>PASSWORD</replaceable>@<replaceable>SERVER</replaceable>/<replaceable>DIRECTORY</replaceable>/DVD1/</screen>
      <para>
       To use <literal>cd</literal>, <literal>hd</literal> or
       <literal>slp</literal>, set them as the following example:
      </para>
<screen>install=cd:/
install=hd:/?device=<replaceable>sda/PATH_TO_ISO</replaceable>
install=slp:/</screen>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="sec-boot-parameters-list-remote-access">
   <title>Specifying remote access</title>
   <para>
    Only one of the different remote control methods should be specified at a
    time. The different methods are: SSH, VNC, remote X server.
    <phrase os="sles;sled;slemicro">For information about how to use the
    parameters listed in this section, see
    <xref linkend="cha-remote-installation" />.</phrase>
   </para>
   <variablelist>
    <varlistentry>
     <term><option>display_ip=</option><replaceable>IP_ADDRESS</replaceable></term>
     <listitem>
      <para>
       <envar>Display_IP</envar> causes the installing system to try to connect
       to an X server at the given address.
      </para>
      <important>
       <title>X authentication mechanism</title>
       <para>
        The direct installation with the X Window System relies on a primitive
        authentication mechanism based on host names. This mechanism is
        disabled on current &productname; versions. Installation with SSH or
        VNC is preferred.
       </para>
      </important>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>vnc=1</option></term>
     <listitem>
      <para>
       Enables a VNC server during the installation.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>vncpassword=</option><replaceable>PASSWORD</replaceable></term>
     <listitem>
      <para>
       Sets the password for the VNC server.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>ssh=1</option></term>
     <listitem>
      <para>
       <envar>ssh</envar> enables SSH installation.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>ssh.password=</option><replaceable>PASSWORD</replaceable></term>
     <listitem>
      <para>
       Specifies an SSH password for the root user during installation.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-boot-parameters-advanced">
  <title>Advanced setups</title>

  <para>
   To configure access to a local &rmt; or <command>supportconfig</command>
   server for the installation, you can specify boot parameters to set up these
   services during installation. The same applies if you need IPv6 support
   during the installation.
  </para>

  <sect2 xml:id="sec-boot-parameters-advanced-smt" os="sles;sled">
   <title>Providing data to access a &rmtool; server</title>
   <para>
    By default, updates for &productname; are delivered by the &scc;. If your
    network provides a &rmtool; (&rmt;) server to provide a local update
    source, you need to equip the client with the server's URL. Client and
    server communicate solely via HTTPS protocol, therefore you also need to
    enter a path to the server's certificate if the certificate was not issued
    by a certificate authority.
   </para>
   <note>
    <title>Non-interactive installation only</title>
    <para>
     Providing parameters for accessing an &rmt; server is only needed for
     non-interactive installations. During an interactive installation the data
     can be provided during the installation (see
     <xref linkend="sec-yast-install-scc-registration"/> for details).
    </para>
   </note>
   <variablelist>
    <varlistentry>
     <term><option>regurl</option></term>
     <listitem>
      <para>
       URL of the &rmt; server. This URL has a fixed format of
       <literal>https://<replaceable>FQN</replaceable>/center/regsvc/</literal>.
       <replaceable>FQN</replaceable> needs to be a fully qualified host name
       of the &rmt; server. Example:
      </para>
<screen>regurl=https://smt.&exampledomain;/center/regsvc/</screen>
      <para>
       Make sure the values you enter are correct. If <literal>regurl</literal>
       has not been specified correctly, the registration of the update source
       will fail.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>regcert</option></term>
     <listitem>
      <para>
       Location of the &rmt; server's certificate. Specify one of the following
       locations:
      </para>
      <variablelist>
       <varlistentry>
        <term>URL</term>
        <listitem>
         <para>
          Remote location (HTTP, HTTPS or FTP) from which the certificate can
          be downloaded. In case regcert is not specified, it will default to
          <literal>http://<replaceable>FQN</replaceable>/smt.crt</literal> with
          <literal>FQN</literal> being the name of the &rmt; server. Example:
         </para>
<screen>regcert=http://rmt.&exampledomain;/smt-ca.crt</screen>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>local path</term>
        <listitem>
         <para>
          Absolute path to the certificate on the local machine. Example:
         </para>
<screen>regcert=/data/inst/smt/smt-ca.cert</screen>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Interactive</term>
        <listitem>
         <para>
          Use <literal>ask</literal> to open a pop-up menu during the
          installation where you can specify the path to the certificate. Do
          not use this option with &ay;. Example
         </para>
<screen>regcert=ask</screen>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Deactivate certificate installation</term>
        <listitem>
         <para>
          Use <literal>done</literal> if the certificate will be installed by
          an add-on product, or if you are using a certificate issued by an
          official certificate authority. For example:
         </para>
<screen>regcert=done</screen>
        </listitem>
       </varlistentry>
      </variablelist>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="sec-boot-parameters-advanced-supportconfigurl" os="sles;sled">
   <title>Configuring an alternative data server for <command>supportconfig</command></title>
   <para>
    The data that supportconfig (see <xref linkend="cha-adm-support"/> for more
    information) gathers is sent to the &scc; by default. It is also possible
    to set up a local server to collect this data. If such a server is
    available on your network, you need to set the server's URL on the client.
    This information needs to be entered at the boot prompt.
   </para>
   <formalpara>
    <title><literal>supporturl</literal></title>
    <para>
     URL of the server. The URL has the format
     <literal>http://<replaceable>FQN</replaceable>/<replaceable>Path</replaceable>/</literal>,
     where <replaceable>FQN</replaceable> is the fully qualified host name of
     the server and <replaceable>Path</replaceable> is the location on the
     server. For example:
    </para>
   </formalpara>
<screen>supporturl=http://support.&exampledomain;/supportconfig/data/</screen>
  </sect2>

  <sect2 xml:id="sec-boot-parameters-advanced-ipv6">
   <title>Using IPv6 for the installation</title>
   <para>
    By default you can only assign IPv4 network addresses to your machine. To
    enable IPv6 during installation, enter one of the following parameters at
    the boot prompt:
   </para>
   <variablelist>
    <varlistentry>
     <term>Accept IPv4 and IPv6</term>
     <listitem>
<screen>ipv6=1</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Accept IPv6 only</term>
     <listitem>
<screen>ipv6only=1</screen>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="sec-boot-parameters-advanced-proxy">
   <title>Using a proxy for the installation</title>
   <para>
    In networks enforcing the usage of a proxy server for accessing remote Web
    sites, registration during installation is only possible when configuring a
    proxy server.
   </para>
   <para>
    To use a proxy during the installation, press <keycap>F4</keycap> on the
    boot screen and set the required parameters in the <guimenu>HTTP
    Proxy</guimenu> dialog.
   </para>
   <para>
    Alternatively, provide the kernel parameter <literal>proxy</literal> at the
    boot prompt:
   </para>
   <procedure>
    <step>
     <para>
      On the installation screen, press <keycap>E</keycap> to open the editor
      of boot parameters.
     </para>
    </step>
    <step>
     <para>
      Add a new line with the following syntax:
     </para>
<screen>https://&proxyname;:<replaceable>PORT</replaceable></screen>
     <para>
      If the server certificate cannot be verified, disable certificate
      checking with the <literal>sslcerts=0</literal> boot parameter.
     </para>
     <para>
      If the server requires authentication, specify
      <replaceable>USER</replaceable> and <replaceable>PASSWORD</replaceable>:
     </para>
<screen>proxy=https://<replaceable>USER</replaceable>:<replaceable>PASSWORD</replaceable>@&proxyname;:<replaceable>PORT</replaceable></screen>
     <para>
      The outcome will be similar to the following:
     </para>
     <figure>
      <title>GRUB options editor</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="grub_cmdline_proxy.png" width="40%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="grub_cmdline_proxy.png" width="40%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      Press <keycap>F10</keycap> to boot with the new proxy setting.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-boot-parameters-advanced-selinux">
   <title>Enabling &selnx; support</title>
   <para>
    Enabling &selnx; upon installation start-up enables you to configure it
    after the installation has been finished without having to reboot. Use the
    following parameters:
   </para>
<screen>security=selinux selinux=1</screen>
  </sect2>

  <sect2 os="sles;sled;osuse" xml:id="sec-boot-parameters-advanced-self-update">
   <title>Enabling the installer self-update</title>
   <para>
    During installation and upgrade, &yast; can update itself as described in
    <xref linkend="sec-yast-install-self-update"/> to solve potential bugs
    discovered after release. The <literal>self_update</literal> parameter can
    be used to modify the behavior of this feature.
   </para>
   <para>
    To enable the installer self-update, set the parameter to
    <literal>1</literal>:
   </para>
<screen>self_update=1</screen>
   <para>
    To use a user-defined repository, specify a URL:
   </para>
<screen>self_update=https://updates.example.com/</screen>
  </sect2>

  <sect2 xml:id="sec-boot-parameters-advanced-high-dpi">
   <title>Scale user interface for high DPI</title>
   <para>
    If your screen uses a very high DPI, use the boot parameter
    <literal>QT_AUTO_SCREEN_SCALE_FACTOR</literal>. This scales font and user
    interface elements to the screen DPI.
   </para>
<screen>QT_AUTO_SCREEN_SCALE_FACTOR=1</screen>
  </sect2>

  <sect2 xml:id="sec-boot-parameters-advanced-cpu-mitigations">
   <title>Using CPU mitigations</title>
   <para>
    The boot parameter <literal>mitigations</literal> lets you control
    mitigation options for side-channel attacks on affected CPUs. Its possible
    values are:
   </para>
   <formalpara>
    <title><literal>auto</literal></title> &kernel_cpu_mitigations_auto;
   </formalpara>
   <formalpara>
    <title><literal>nosmt</literal></title> &kernel_cpu_mitigations_nosmt;
   </formalpara>
   <formalpara>
    <title><literal>off</literal></title> &kernel_cpu_mitigations_off;
   </formalpara>
   <para>
    Each value comes with a set of specific parameters, depending on the CPU
    architecture, the kernel version, and on the vulnerabilities that need to
    be mitigated. Refer to the kernel documentation for details.
   </para>
  </sect2>
  <sect2 xml:id="sec-boot-parameters-luks" os="sles;sled">
   <!-- FIXME cwickert 2022-09-09: SLE-18822 in SLE 15 SP4
    Rework this section with it's no longer a tech-preview but officially
    supported. Either remove the tech-preview statement or the whole section if
    the boot parameter is no longer be required.
   -->
   <title>Unlocking LUKS volumes with TPM 2.0 or FIDO2 key</title>
   <para>
    Unlocking of encrypted devices using TPM 2.0 or FIDO2 in the installer is
    supported as of &sle; 15 SP4. To enable this feature, add:
   </para>
<screen>luks2preview=1</screen>
   <para>
    Please note that you need a separate, unencrypted boot partition in order to
    encrypt the root file system.
   </para>
   <important>
    <title>Technology Preview</title>
    <para>
     Please note that in &slea;15 SP4 this feature is a technology preview and
     therefor not fully supported. For more information, refer to
     <!-- the support statement in the preface of this guide. -->
     <link xlink:href="https://documentation.suse.com/sles/15-SP4/html/SLES-all/preface-deployment.html"></link>.
    </para>
   </important>
   <para>
    For more information on configuring device encryption with LUKS, refer to
    <xref linkend="cha-configure-cryptctl"/>.
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-boot-parameters-zseries" os="sles">
  <title>&zseries;</title>

  <para>
   For &zseries; platforms, the system is booted (IPL, Initial Program Load) as
   described in <xref linkend="sec-prep-ipling"/>. &productname; does not show
   a splash screen on these systems. During the installation, load the kernel,
   initrd, and parmfile manually. &yast; starts with its installation screen
   when a connection has been established to the installation system via VNC,
   X, or SSH. Because there is no splash screen, kernel or boot parameters
   cannot be entered on screen, but must be specified in a parmfile (see
   <xref linkend="sec-appdendix-parm"/>).
  </para>

  <variablelist>
   <varlistentry>
    <term><option>InstNetDev=osa</option></term>
    <listitem>
     <para>
      Enter the type of interface to configure. Possible values are
      <literal>osa</literal>, <literal>hsi</literal>, <literal>ctc</literal>,
      <literal>escon</literal>, and <literal>iucv</literal> (CTC, ESCON, and
      IUCV are no longer officially supported).
     </para>
     <para>
      For the interfaces of type <literal>hsi</literal> and
      <literal>osa</literal>, specify an appropriate netmask and an optional
      broadcast address:
     </para>
<screen>Netmask=255.255.255.0
Broadcast=192.168.255.255</screen>
     <para>
      For the interfaces of type <literal>ctc</literal>,
      <literal>escon</literal>, and <literal>iucv</literal> (CTC, ESCON, and
      IUCV are no longer officially supported), enter the IP address of the
      peer:
     </para>
<screen>Pointopoint=192.168.55.20</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>OsaInterface=&lt;lcs|qdio&gt;</option></term>
    <listitem>
     <para>
      For <literal>osa</literal> network devices, specify the host interface
      (<literal>qdio</literal> or <literal>lcs</literal>).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>Layer2=&lt;0|1&gt;</option></term>
    <listitem>
     <para>
      For <literal>osa</literal> QDIO Ethernet and <literal>hsi</literal>
      devices, specify whether to enable (<literal>1</literal>) or disable
      (<literal>0</literal>) OSI Layer 2 support.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>OSAHWAddr=02:00:65:00:01:09</option></term>
    <listitem>
     <para>
      For Layer 2-enabled <literal>osa</literal> QDIO Ethernet devices, either
      specify a MAC address manually or state <literal>OSAHWADDR= </literal>
      (with trailing white space) for the system default.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>PortNo=&lt;0|1&gt;</option></term>
    <listitem>
     <para>
      For <literal>osa</literal> network devices, specify the port number
      (provided the device supports this feature). The default value is 0.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   Each of the interfaces requires certain setup options:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     Interfaces <literal>ctc</literal> and <literal>escon</literal> (CTC and
     ESCON are no longer officially supported):
    </para>
<screen>ReadChannel=0.0.0600
WriteChannel=0.0.0601</screen>
    <para>
     <envar>ReadChannel</envar> specifies the READ channel to use.
     <envar>WriteChannel</envar> specifies the WRITE channel.
    </para>
   </listitem>
   <listitem>
    <para>
     For the <literal>ctc</literal> interface (no longer officially supported),
     specify the protocol that should be used for this interface:
    </para>
<screen>CTCProtocol=&lt;0/1/2&gt;</screen>
    <para>
     Valid entries would be:
    </para>
    <informaltable>
     <tgroup cols="2">
      <tbody>
       <row>
        <entry>
         <para>
          <literal>0</literal>
         </para>
        </entry>
        <entry>
         <para>
          Compatibility mode, also for non-Linux peers other than OS/390 and
          z/OS (this is the default mode)
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>1</literal>
         </para>
        </entry>
        <entry>
         <para>
          Extended mode
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>2</literal>
         </para>
        </entry>
        <entry>
         <para>
          Compatibility mode with OS/390 and z/OS
         </para>
        </entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </listitem>
   <listitem>
    <para>
     Network device type <literal>osa</literal> with interface
     <literal>lcs</literal>:
    </para>
<screen>ReadChannel=0.0.0124</screen>
    <para>
     <envar>ReadChannel</envar> stands for the channel number used in this
     setup. A second port number can be derived from this by adding one to
     <envar>ReadChannel</envar>. <envar>Portnumber</envar> is used to specify
     the relative port.
    </para>
   </listitem>
   <listitem>
    <para>
     Interface <literal>iucv</literal>:
    </para>
<screen>IUCVPeer=PEER</screen>
    <para>
     Enter the name of the peer machine.
    </para>
   </listitem>
   <listitem>
    <para>
     Network device type <literal>osa</literal> with interface
     <literal>qdio</literal> for OSA-Express Gigabit Ethernet:
    </para>
<screen>ReadChannel=0.0.0700
WriteChannel=0.0.0701
DataChannel=0.0.0702</screen>
    <para>
     For <envar>ReadChannel</envar>, enter the number of the READ channel. For
     <envar>WriteChannel</envar>, enter the number of the WRITE channel.
     <envar>DataChannel</envar> specifies the DATA channel. Make sure that the
     READ channel carries an even device number.
    </para>
   </listitem>
   <listitem>
    <para>
     Interface <literal>hsi</literal> for HiperSockets and VM guest LANs:
    </para>
<screen>ReadChannel=0.0.0800
WriteChannel=0.0.0801
DataChannel=0.0.0802</screen>
    <para>
     For <envar>ReadChannel</envar>, enter the appropriate number for the READ
     channel. For <envar>WriteChannel</envar> and <envar>DataChannel</envar>,
     enter the WRITE and DATA channel numbers.
    </para>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 xml:id="sec-boot-parameters-more-information">
  <title>More information</title>

  <para>
   You can find more information about boot parameters in the &opensuse; wiki
   at
   <link xlink:href="https://en.opensuse.org/SDB:Linuxrc#Parameter_Reference"/>.
  </para>
 </sect1>
</chapter>
