<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_ncurses.xml" version="5.0" xml:id="cha-yast-text">

 <title>テキストモードのYaST</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  このセクションは、システムでXサーバを実行せずに、テキストベースのインストールツールを使用しているシステム管理者や専門家の方を対象にしています。ここでは、YaSTをテキストモードで起動して操作するための基本的な情報を説明しています。
 </para>
 <para>
  テキストモードのYaSTは、ncursesライブラリを使用して、使いやすい擬似グラフィカルユーザインタフェースを提供します。ncursesライブラリは、デフォルトでインストールされています。YaSTを実行するためのターミナルエミュレータの最小サポートサイズは、80x25文字です。
 </para>
 <figure xml:id="fig-yast2-ncurses">
  <title>テキストモードのYaSTのメインウィンドウ</title>
  <mediaobject>
   <imageobject role="fo">
    <imagedata fileref="yast2_ncurses_main.png" width="70%"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="yast2_ncurses_main.png" width="75%"/>
   </imageobject>
  </mediaobject>
 </figure>
 <para>
  YaSTをテキストモードで起動すると、YaSTコントロールセンターが表示されます(<xref linkend="fig-yast2-ncurses" xrefstyle="select:label nopage"/>を参照してください)。このメインウィンドウは、以下の3つの主要領域で構成されています。左側のフレームのカテゴリには、さまざまなモジュールがあります。このフレームはYaSTが起動したときにアクティブになり、白い太線でマークされます。アクティブなカテゴリが選択されています。右側のフレームには、アクティブなカテゴリで使用できるモジュールの概要が表示されます。下方のフレームには、<guimenu>ヘルプ</guimenu>および<guimenu>終了</guimenu>用ボタンがあります。
 </para>
 <para>
  YaSTコントロールセンターを起動すると、カテゴリ<guimenu>Software (ソフトウェア)</guimenu>が自動的に選択されます。カテゴリを変更するには、<keycap function="down"/>と<keycap function="up"/>を使用します。カテゴリからモジュールを選択するには、<keycap function="right"/>で右側のフレームをアクティブにして、<keycap function="down"/>と<keycap function="up"/>を使用してモジュールを選択します。矢印キーを押したままにして、使用可能なモジュールのリストをスクロールします。モジュールを選択したら、<keycap function="enter"/>を押して起動します。
 </para>
 <para>
  モジュールのさまざまなボタンまたは選択フィールドで、文字がハイライト表示されています(デフォルトは黄色)。そのまま<keycap function="tab"/>キーでナビゲートするする代わりに、直接ボタンを選択するには、<keycombo action="press"><keycap function="alt"/><keycap>highlighted_letter</keycap></keycombo>のキーを使用します。<keycombo action="press"><keycap function="alt"/><keycap>Q</keycap></keycombo>を押すか、または<guimenu>終了</guimenu>を選択して<keycap function="enter"/>を押して、YaSTコントロールセンターを終了します。
 </para>
 <tip>

  <title>YaSTダイアログの更新</title>
  <para>
   ウィンドウのサイズを変更した場合など、YaSTのダイアログの表示が乱れたり変形したりした場合は、<keycombo action="press"><keycap function="control"/><keycap>L</keycap></keycombo>を押すとコンテンツを更新し復元できます。
  </para>
 </tip>

 <sect1 xml:id="sec-yast-navi-ncurses-modul">
  <title>モジュールでのナビゲーション</title>

  <para>
   以降のYaSTモジュール内のコントロール要素の説明では、ファンクションキーと<keycap function="alt"/>キーの組み合わせがすべて有効で、別のグローバル機能に割り当てられていないことを前提としています。可能性のある例外事項については、<xref linkend="sec-yast-ncurses-tasten"/>を参照してください。
  </para>

  <variablelist>
   <varlistentry>
    <term>ボタンおよび選択リスト間のナビゲーター</term>
    <listitem>
     <para>
      選択リストを含むボタンおよびフレーム間をナビゲートするには、<keycap function="tab"/>キーを使用します。逆の順序でナビゲートするには、<keycombo action="press"> <keycap function="alt"/>
      <keycap function="tab"/> </keycombo>または<keycombo action="press">
      <keycap function="shift"/> <keycap function="tab"/> </keycombo>の組み合わせを使用します。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>選択リストでのナビゲーション</term>
    <listitem>
     <para>
      選択リストを含むアクティブフレーム内の個々の要素間をナビゲートするには、矢印キー(<keycap function="up"/>と<keycap function="down"/>)を使用します。フレーム内の個別エントリがその幅を超える場合は、<keycombo action="press"><keycap function="shift"/>
      <keycap function="right"/></keycombo>または<keycombo action="press">
      <keycap function="shift"/> <keycap function="left"/></keycombo>を使用して、右または左にスクロールします。代わりに<keycombo action="press"> <keycap function="control"/> <keycap>E</keycap>
      </keycombo>または<keycombo action="press"> <keycap function="control"/>
      <keycap>A</keycap> </keycombo>を使用することもできます。この組み合わせは、コントロールセンターの場合のように、<keycap function="right"/>または<keycap function="left"/>を使用すると、アクティブフレームまたは現在の選択リストが変更されてしまう場合に使用できます。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>ボタン、ラジオボタン、およびチェックボックス</term>
    <listitem>
     <para>
      ［］が付いているボタン(チェックボックス)または()が付いているボタン(ラジオボタン)を選択するには、<keycap function="space"/>キーまたは<keycap function="enter"/>キーを押します。または、<keycombo action="press">
      <keycap function="alt"/> <keycap>highlighted_letter</keycap></keycombo>でラジオボタンおよびチェックボックスを直接選択することもできます。この場合、<keycap function="enter"/>キーによる確認は不要です。<keycap function="tab"/>キーで項目にナビゲートする場合は、<keycap function="enter"/>キーを押して、選択したアクションを実行するか、対応するメニュー項目をアクティブにします。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>ファンクションキー</term>
    <listitem>
     <para>
      ファンクションキー(<keycap>F1</keycap> ... <keycap>F12</keycap>)を使用すると、さまざまなボタンの機能を素早く利用できます。使用可能なファンクションキーの組み合わせ(<literal>F<replaceable>X</replaceable></literal>)は、YaST画面の一番下の行に表示されます。どのファンクションキーが実際にどのボタンにマップされているかは、アクティブになっているYaSTモジュールによります。提供されるボタン(<guimenu>詳細</guimenu>、<guimenu>情報</guimenu>、<guimenu>追加</guimenu>、<guimenu>削除</guimenu>など)は、モジュールごとに異なるからです。<keycap>F10</keycap>は、<guimenu>受諾</guimenu>、<guimenu>OK</guimenu>、<guimenu>次へ</guimenu>、および<guimenu>完了</guimenu>の代わりに使用します。<keycap>F1</keycap>を押して、YaSTヘルプにアクセスします。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>ncursesモードのナビゲーションツリーの使用</term>
    <listitem>
     <para>
      一部のYaSTモジュールでは、ウィンドウの左部分にあるナビゲーションツリーを使用して、設定ダイアログを選択します。矢印キー(<keycap function="up"/>と<keycap function="down"/>)を使用して、ツリー内を移動します。<keycap function="space"/>を使用して、ツリー項目を開閉します。ncursesモードでは、ナビゲーションツリーでの選択後、選択したダイアログを表示するには<keycap function="enter"/>を押す必要があります。これは意図的な動作であり、これによって、ナビゲーションツリーのブラウズ時に時間のかかる再表示を節約できます。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>ソフトウェアインストールモジュールでのソフトウェアの選択</term>
    <listitem>
     <para>
      表示されるパッケージの量を制限するには、左側のフィルタを使用します。インストール済みパッケージには、文字<literal>i</literal>のマークが付いています。パッケージのステータスを変更するには、<keycap function="space"/>キーまたは<keycap function="enter"/>キーを押します。または、<guimenu>Actions (アクション)</guimenu>メニューを使用して、必要なステータスの変更(インストール、削除、更新、タブー、またはロック)を選択します。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <figure xml:id="fig-yast2-ncurses-inst">
   <title>ソフトウェアインストールモジュール</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_ncurses_inst.png" width="70%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_ncurses_inst.png" width="75%"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>

 <sect1 xml:id="sec-yast-ncurses-advanced-hotkeys">
  <title>高度なキーの組み合わせ</title>
  <para>テキストモードのYaSTでは一連の高度なキーの組み合わせを使用できます。</para>
  <variablelist>
   <varlistentry>
    <term>
     <keycombo action="press"><keycap function="shift"/><keycap>F1</keycap></keycombo>
    </term>
    <listitem>
     <para>
      高度なホットキーのリストを表示します。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
     <keycombo action="press"><keycap function="shift"/><keycap>F4</keycap></keycombo>
    </term>
    <listitem>
     <para>
      配色を変更します。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
     <keycombo action="press"><keycap function="control"/><keycap>\</keycap></keycombo>
    </term>
    <listitem>
     <para>
      アプリケーションを終了します。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
     <keycombo action="press"><keycap function="control"/><keycap>L</keycap></keycombo>
    </term>
    <listitem>
     <para>
      画面を更新します。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
     <keycombo action="press"><keycap function="control"/><keycap>D</keycap></keycombo>
     <keycap>F1</keycap>
    </term>
    <listitem>
     <para>
      高度なホットキーのリストを表示します。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
     <keycombo action="press"><keycap function="control"/><keycap>D</keycap></keycombo>
     <keycombo action="press"><keycap function="shift"/><keycap>D</keycap></keycombo>
    </term>
    <listitem>
     <para>
      ダイアログをスクリーンショットとしてログファイルにダンプします。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
     <keycombo action="press"><keycap function="control"/><keycap>D</keycap></keycombo>
     <keycombo action="press"><keycap function="shift"/><keycap>Y</keycap></keycombo>
    </term>
    <listitem>
     <para>
      YDialogSpyを開いてウィジェット階層を表示します。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>

 <sect1 xml:id="sec-yast-ncurses-tasten">
  <title>キーの組み合わせの制約</title>

  <para>
   ウィンドウマネージャがグローバルな<keycap function="alt"/>キーの組み合わせを使用していると、YaSTでの<keycap function="alt"/>キーの組み合わせが機能しない場合があります。<keycap function="shift"/>や<keycap function="alt"/>などのキーは、端末の設定で使用されている場合もあります。
  </para>

  <variablelist>
   <varlistentry>
    <term><keycap function="alt"/>キーの<keycap function="escape"/>キーでの置き換え
    </term>
    <listitem>
     <para>
      <keycap function="alt"/>ショートカットは<keycap function="alt"/>の代わりに<keycap function="escape"/>キーでも実行できます。たとえば、<keycombo action="seq">
      <keycap function="escape"/><keycap>H</keycap></keycombo>は、<keycombo action="press">
      <keycap function="alt"/><keycap>H</keycap></keycombo>の代わりとなります。(まず<keycap function="escape"/>を押して、<emphasis>次に</emphasis><keycap>H</keycap>を押します)
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term> <keycombo action="press"><keycap function="control"/><keycap>F</keycap></keycombo>と<keycombo action="press"><keycap function="control"/><keycap>B</keycap></keycombo>による前後のナビゲーション
    </term>
    <listitem>
     <para>
      <keycap function="alt"/>と<keycap function="shift"/>の組み合わせがウィンドウマネージャまたは端末に専有されている場合は、<keycombo action="press"> <keycap function="control"/>
      <keycap>F</keycap></keycombo>(進む)と<keycombo action="press">
      <keycap function="control"/><keycap>B</keycap></keycombo>(戻る)を代わりに使用できます。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>ファンクションキーの制約</term>
    <listitem>
     <para>
      ファンクションキー(<keycap>F1</keycap> ... <keycap>F12</keycap>)は各種機能にも使用されます。一部のファンクションキーは、端末で使用済みで、YaSTで使用できない場合があります。ただし、<keycap function="alt"/>キーのキーの組み合わせとファンクションキーは、ピュアテキストコンソールでは常に完全に使用できます。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec-yast-ncurses-commands">
  <title>YaSTコマンドラインオプション</title>

  <para>
   テキストモードのインタフェースのほか、YaSTには、シンプルなコマンドラインインタフェースがあります。YaSTコマンドラインオプションのリストを表示するには、次のように入力します。
  </para>

<screen>yast -h</screen>

  <sect2 xml:id="sec-yast-ncurses-modulaufruf">
   <title>個別モジュールの起動</title>
   <para>
    時間節約のため、個別のYaSTモジュールを直接起動できます。モジュールを起動するには、次のように入力します。
   </para>
<screen>yast &lt;module_name&gt;</screen>
   <para>
    「<command>yast -l</command>」または「<command>yast --list</command>」と入力して、システムで使用可能になっているすべてのモジュールのリストを表示します。たとえば、「<command>yast lan</command>」と入力して、ネットワークモジュールを起動します。
   </para>
  </sect2>

  <sect2 xml:id="sec-yast-ncurses-cmdl">
   <title>コマンドラインからのパッケージのインストール</title>
   <para>
    パッケージ名が既知であり、パッケージが有効なインストールリポジトリに用意されている場合は、コマンドラインオプション<option>-i</option>を使用してパッケージをインストールできます。
   </para>
<screen>yast -i &lt;package_name&gt;</screen>
   <para>
    または
   </para>
<screen>yast --install &lt;package_name&gt;</screen>
   <para>
    <replaceable>PACKAGE_NAME</replaceable>には、(<systemitem class="resource">gvim</systemitem>などの)1つの短いパッケージ名を指定するか(この場合、依存関係を確認してインストールされます)、RPMパッケージのフルパスを指定できます(この場合、依存関係を確認せずにインストールされます)。
   </para>
   <para>
    YaSTから提供される機能を超える機能を持つコマンドラインベースのソフトウェア管理ユーティリティを必要とする場合は、Zypperの使用をご検討ください。このユーティリティは、YaSTパッケージマネージャの基礎でもある同じソフトウェア管理ライブラリを使用します。Zypperの基本的使用法については、<xref linkend="sec-zypper"/>で説明されています。
   </para>
  </sect2>

  <sect2 xml:id="sec-yast-ncurses-modulaufruf-installing">
   <title>YaSTモジュールのコマンドラインパラメータ</title>
   <para>
    スクリプトでYaST機能を使用するため、YaSTでは、個々のモジュールにコマンドラインサポートを提供しています。ただし、すべてのモジュールにコマンドラインサポートがあるわけではありません。モジュールで利用できるオプションを表示するには、次のように入力します。
   </para>
<screen>yast &lt;module_name&gt; help</screen>
   <para>
    モジュールにコマンドラインサポートがない場合、モジュールはテキストモードで起動され、次のメッセージが表示されます。
   </para>
<screen>This YaST module does not support the command line interface.</screen>
  </sect2>
 </sect1>
</chapter>
