<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_yast_installer.xml" version="5.0" xml:id="cha-install">
 <title>安装步骤</title>
 <info>
  <abstract>
   <para>
    本章介绍将 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的数据复制到目标设备的过程。在此过程中，将会设置新安装的系统的某些基本配置参数。会有一个图形用户界面引导您完成整个安装过程。<phrase os="sles;sled">下面所述的过程同样适用于<xref linkend="cha-remote-installation"/>中所述的远程安装过程。</phrase>文本模式安装的步骤相同，只是形式上有所不同。<phrase os="sles;osuse">有关执行非交互式自动安装的信息，请参见<xref linkend="book-autoyast"/>。</phrase>
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>是</dm:translation>
  </dm:docmanager>
 </info>

 <para os="sles">
  运行安装程序之前，请阅读<xref linkend="part-prep"/>。该部分根据您系统的体系结构，介绍了开始安装前需要执行的步骤。
 </para>

 <para>
  如果您是第一次使用 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>，多数情况下应该遵循默认的 YaST 提议操作，但也可以根据自己的偏好，按本章所述调整设置，以便优化您的系统。单击<guimenu>帮助</guimenu>可以获得每个安装步骤的帮助。
 </para>

 <tip>
  <title>无鼠标安装</title>
  <para>
   如果安装程序没有正确检测到您的鼠标，请用 <keycap function="tab"/> 键进行导航，滚动箭头键并按 <keycap function="enter"/> 键确认选择。不同的按钮或选择字段包含带下划线的字母。使用 <keycombo><keycap function="alt"/><keycap>字母</keycap></keycombo> 可选择按钮或不使用 <keycap function="tab"/> 键导航而改为直接选择。
  </para>
 </tip>

 <sect1 xml:id="sec-yast-install-overview">
  <title>概览</title>
  <para>
   本节提供所有安装步骤的概述。每个步骤包含更详细说明的链接。
  </para>
  <procedure>
   <step>
    <para>
     在开始安装之前，安装程序会自行更新。有关详细信息，请参见<xref linkend="sec-yast-install-self-update"/>。
    </para>
   </step>
   <step>
    <para>
     <phrase os="sles;sled">选择语言和产品后，将真正开始安装。</phrase>有关详细信息，请参见<xref linkend="sec-yast-install-welcome"/>。
    </para>
   </step>
   <step os="sles;sled">
    <para>
     接受许可协议。有关详细信息，请参见<xref linkend="sec-yast-install-license-agreement"/>。
    </para>
   </step>
   <step arch="zseries" os="sles">
    <para>
     IBM Z 计算机需要激活磁盘。有关详细信息，请参见<xref linkend="sec-yast-install-s390-part"/>。
    </para>
   </step>
   <step>
    <para>
     配置网络。仅当您在安装期间需要访问网络，而通过 DHCP 自动配置网络失败时，才需要执行此操作。如果自动配置网络成功，则可以跳过此步骤。有关详细信息，请参见<xref linkend="sec-yast-install-network"/>。
    </para>
   </step>
   <step os="sles;sled">
    <para>
     配置了有效的网络连接后，您可以在 SUSE Customer Center 或 RMT 服务器中注册计算机。有关详细信息，请参见<xref linkend="sec-yast-install-scc-registration"/>。
    </para>
   </step>
   <step os="sles;sled">
    <para>
     选择要为计算机启用的模块。这会影响下一步骤中所述系统角色的可用性以及后文所述的软件包。有关详细信息，请参见<xref linkend="sec-yast-install-modules"/>。
    </para>
   </step>
   <step os="sles;sled">
    <para>
     您可以手动添加储存库。有关详细信息，请参见<xref linkend="sec-yast-install-addons"/>。
    </para>
   </step>
   
   <step>
    <para>
     选择系统的角色。这会定义要安装的默认软件包列表，提出有关将硬盘分区的建议，并执行其他操作。有关详细信息，请参见<xref linkend="sec-yast-install-system-role"/>。
    </para>
   </step>
   <step>
    <para>
     将系统硬盘分区。有关详细信息，请参见<xref linkend="sec-yast-install-partitioning"/>。
    </para>
   </step>
   <step>
    <para>
     选择时区。有关详细信息，请参见<xref linkend="sec-yast-install-date-time"/>。
    </para>
   </step>
   <step>
    <para>
     创建用户。有关详细信息，请参见<xref linkend="sec-yast-install-user"/>。
    </para>
   </step>
   <step>
    <para>
     （可选）为系统管理员 <systemitem class="username">root</systemitem> 设置不同的口令。有关详细信息，请参见<xref linkend="sec-yast-install-user-root"/>。
    </para>
   </step>
   <step>
    <para>
     在最后一步中，安装程序会显示所有设置的概览。您可以根据需要更改设置。有关详细信息，请参见<xref linkend="sec-yast-install-proposal"/>。
    </para>
   </step>
   <step>
    <para>
     安装程序复制全部所需的数据，并告知进度。有关详细信息，请参见<xref linkend="sec-yast-install-perform"/>。
    </para>
   </step>
  </procedure>
 </sect1>

 <sect1 xml:id="sec-yast-install-self-update">
  <title>安装程序自我更新</title>

  <para>
   在安装和升级期间，YaST 可以自行更新，以解决发布后所发现的安装程序 Bug。此功能默认处于启用状态；要禁用此功能，请将引导参数 <option>self_update</option> 设置为 <literal>0</literal>。有关详细信息，请参见<xref linkend="sec-boot-parameters-advanced-self-update"/>。
  </para>


  <important>
   <title>每季度媒体更新：已禁用自我更新</title>
   <para>
    仅当您使用统一安装程序的 <literal>GM</literal> 映像和软件包 ISO 时，才能使用安装程序自我更新。如果您从作为每季度更新发布的 ISO（可以根据名称中的字符串 <literal>QU</literal> 来识别）进行安装，则安装程序无法自我更新，因为此功能在更新媒体中已禁用。
   </para>
  </important>

  <important>
   <title>自我更新期间的网络</title>
   <para>
    要下载安装程序更新，YaST 需要访问网络。YaST 默认在所有网络接口上都尝试使用 DHCP。如果网络中存在 DHCP 服务器，该服务器即会自动工作。
   </para>
   <para>
    如果您需要静态 IP 设置，可以使用 <literal>ifcfg</literal> 引导参数。有关更多细节，请参见 <link xlink:href="https://en.opensuse.org/Linuxrc"/> 上的 linuxrc 文档。
   </para>
  </important>

  <tip>
   <title>语言选择</title>
   <para>
    安装程序自我更新的执行时间先于语言选择步骤。这意味着安装进度以及此过程中发生的错误默认以英语显示。
   </para>
   <para>
    要在安装程序的此部分使用其他语言，请使用 <literal>language</literal> 引导参数（如果适用于您的体系结构），例如 <literal>language=de_DE</literal>。或者，在配有传统 BIOS 的计算机上，在引导菜单中按 <keycap>F2</keycap>，并从列表中选择语言。
   </para>
  </tip>

  <para>
   虽然此功能的运行无需用户干预，但了解它的工作原理会对您有所帮助。若不感兴趣，您可以跳过本节的其余内容，直接跳到<xref linkend="sec-yast-install-welcome"/>。
  </para>

  <sect2 xml:id="sec-yast-install-self-update-process">
   <title>自我更新过程</title>

   <para>
    自我更新过程可分为两个不同部分：
   </para>

   <orderedlist spacing="normal">
    <listitem>
     <para>
      确定更新储存库位置。
     </para>
    </listitem>
    <listitem>
     <para>
      下载更新并将更新应用到安装系统。
     </para>
    </listitem>
   </orderedlist>

   <sect3 xml:id="sec-yast-install-self-update-determine-repo">
    <title>确定更新储存库位置</title>

    <para>
     安装程序自我更新通过专用储存库以普通 RPM 软件包的形式分发，因此第一步就是确定储存库 URL。
    </para>
    <important>
     <title>仅指定安装程序自我更新储存库</title>
     <para>
      无论您使用以下哪个选项，请只提供安装程序自我更新储存库 URL，例如：
     </para>
<screen>self_update=https://www.example.com/my_installer_updates/</screen>
     <para>
      不要提供任何其他储存库 URL，例如软件更新储存库 URL。
     </para>
    </important>
    <para>
     YaST 将尝试使用以下信息来源：
    </para>

    <orderedlist spacing="normal">
     <listitem>
      <para>
       <literal>self_update</literal> 引导参数（有关细节，请参见<xref linkend="sec-boot-parameters-advanced-self-update"/>）。如果您指定了 URL，则该 URL 将优先于任何其他方法。
      </para>
     </listitem>
     <listitem>
      <para>
       <literal>/general/self_update_url</literal> 配置文件元素（如果您使用的是 AutoYaST）。
      </para>
     </listitem>
     <listitem os="sles;sled">
      <para>
       注册服务器。YaST 会向注册服务器查询 URL。要使用的服务器将按以下顺序来确定：
      </para>
      <orderedlist spacing="normal">
       <listitem>
        <para>
         评估 <literal>regurl</literal> 引导参数（<xref linkend="sec-boot-parameters-advanced-smt"/>）。
        </para>
       </listitem>
       <listitem os="sles;sled">
        <para>
         评估 <literal>/suse_register/reg_server</literal> 配置文件元素（如果您使用的是 AutoYaST）。
        </para>
       </listitem>
       <listitem>
        <para>
         执行 SLP 查找。如果找到了 SLP 服务器，YaST 将会询问您是否应使用该服务器，因为其不要求进行身份验证，且本地网络上的所有人都可以通告注册服务器。
        </para>
       </listitem>
       <listitem os="sles;sled">
        <para>
         查询 SUSE Customer Center。
        </para>
       </listitem>
      </orderedlist>
     </listitem>
     <listitem>
      <para>
       如果之前的任何尝试都不起作用，则会使用回退 URL（定义见安装媒体）。
      </para>
     </listitem>
    </orderedlist>
   </sect3>

   <sect3 xml:id="sec-yast-install-self-update-apply-updates">
    <title>下载并应用更新</title>

    <para>
     确定更新储存库后，YaST 会检查是否有可用更新。如有，即会下载所有更新并应用到安装系统。
    </para>

    <para>
     最后，YaST 将重启动以装载新版本，并会显示欢迎屏幕。如无可用更新，则会继续安装，而不重启动 YaST。
    </para>

    <note>
     <title>更新完整性</title>
     <para>
      系统会检查更新签名以确保完整性和著作权。签名缺失或无效时，将会询问您是否要应用更新。
     </para>
    </note>
   </sect3>

   <sect3 xml:id="sec-yast-install-self-update-temporary-addon-repo">
    <title>临时自我更新附加储存库</title>

    <para>
     自我更新储存库中分发的某些软件包为安装程序提供附加的数据，例如安装默认值、系统角色定义，等等。如果安装程序在自我更新储存库中找到此类软件包，则会创建一个本地的临时储存库，这些软件包将会复制到其中。安装过程中会使用这些软件包，但安装结束时，会去除临时本地储存库。该储存库中的软件包<emphasis>不会</emphasis>安装到目标系统。
    </para>

    <para>
     此附加储存库不会显示在附加产品列表中，但在安装过程中，它仍可能作为 <literal>SelfUpdate0</literal> 储存库显示在软件包管理中。
    </para>
   </sect3>
  </sect2>

  <sect2 xml:id="sec-yast-install-self-update-custom">
   <title>自定义自我更新储存库</title>

   <para>
    YaST 可以使用用户定义的储存库取代官方储存库，只需通过 <literal>self_update</literal> 引导参数指定相应 URL 即可。不过，应注意以下事项：
   </para>

   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      仅支持 HTTP/HTTPS 和 FTP 储存库。
     </para>
    </listitem>
    <listitem>
     <para>
      仅支持 RPM-MD 储存库（RMT 需要）。
     </para>
    </listitem>
    <listitem>
     <para>
      软件包的安装方式与常规方式不同：只会解压缩软件包，而不会执行脚本。
     </para>
    </listitem>
    <listitem>
     <para>
      不会执行依赖项检查。将按字母顺序安装软件包。
     </para>
    </listitem>
    <listitem>
     <para>
      软件包中的文件会覆盖来自原始安装媒体的文件。也就是说，更新软件包可能不需要包含所有文件，仅包含发生更改的文件即可。将会省略未发生更改的文件，以节约内存和下载带宽。
     </para>
    </listitem>
   </itemizedlist>

   <note>
    <title>仅可使用一个储存库</title>
    <para>
     目前不能使用一个以上储存库作为安装程序自我更新源。
    </para>
   </note>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-yast-install-welcome">
  <title>
   <phrase os="sles;sled">语言、键盘和产品选择</phrase>
   
  </title>
  <figure>
  <title>
   <phrase os="sles;sled">语言、键盘和产品选择</phrase>
   
  </title>
   <mediaobject>
    <textobject role="description">
     <phrase>语言、键盘和产品选择</phrase>
    </textobject>
    <imageobject role="fo">
     
     <imagedata os="sles" fileref="install_product_sles.png" width="100%"/>
     
    </imageobject>
    <imageobject role="html">
     
     <imagedata os="sles" fileref="install_product_sles.png" width="100%"/>
     
    </imageobject>
   </mediaobject>
  </figure>
  <para>
   <guimenu>语言</guimenu>和<guimenu>键盘布局</guimenu>设置会根据您在引导屏幕上选择的语言进行初始化。如果您之前未更改默认设置，则语言为“英语（美国）”。如果需要，可在此处更改设置。
  </para>
  <para>
   更改语言将自动预选相应的键盘布局。从下拉框中选择其他键盘布局可覆盖此建议。使用<guimenu>键盘测试</guimenu>文本框可测试布局。在此选择的语言还将用于假定系统时钟的时区。以后，您可在安装好的系统中修改此设置，如<xref linkend="cha-yast-lang"/>中所述。
  </para>
  <para os="sles;sled">
   使用统一安装程序可以安装所有 SUSE Linux Enterprise 基础产品：
  </para>
  <itemizedlist os="sles;sled">
   <listitem>
    <para>
     SUSE Linux Enterprise Server <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase>（<phrase os="sles">本文所述产品</phrase>）
    </para>
   </listitem>
   <listitem>
    <para>
     SUSE Linux Enterprise Desktop <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase>（<phrase os="sles">有关安装指导，请参见 <link xlink:href="https://documentation.suse.com/sled/"/></phrase>）
    </para>
   </listitem>
   <listitem>
    <para>
     SUSE Linux Enterprise High Performance Computing <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase> 
    </para>
   </listitem>
   <listitem>
    <para>
     SUSE Linux Enterprise Real Time <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase>（有关安装指导，请参见 <link xlink:href="https://documentation.suse.com/sle-rt/"/>）
    </para>
   </listitem>
   <listitem>
    <para>
     SUSE Linux Enterprise Server for SAP Applications <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase>（有关安装指导，请参见 <link xlink:href="https://documentation.suse.com/sles-sap"/>）
    </para>
   </listitem>
   <listitem>
    <para>
     <remark>
      cwickert 2019-11-21: Omit version in name and URL once SUMA 3.2 is EOL
      all SUMA versions can be installed with the unified installer. According
      to https://www.suse.com/lifecycle EOL will be 2025-03-31.
     </remark> SUSE Manager Server 4.2（有关安装指导，请参见 <link xlink:href="https://documentation.suse.com/suma/"/>）
    </para>
   </listitem>
   <listitem>
    <para>
     <remark>
      cwickert 2019-11-21: Omit version in name and URL once SUMA 3.2 is EOL
      all SUMA versions can be installed with the unified installer. According
      to https://www.suse.com/lifecycle EOL will be 2025-03-31.
     </remark> SUSE Manager Proxy 4.2（有关安装指导，请参见 <link xlink:href="https://documentation.suse.com/suma/"/>）
    </para>
   </listitem>
   <listitem>
    <para>
     <remark>
      cwickert 2019-11-21: Omit version in name and URL once SUMA 3.2 is EOL
      all SUMA versions can be installed with the unified installer. According
      to https://www.suse.com/lifecycle EOL will be 2025-03-31.
     </remark> SUSE Manager Retail Branch Server 4.2（有关安装指导，请参见 <link xlink:href="https://documentation.suse.com/suma-retail"/>）
    </para>
   </listitem>
  </itemizedlist>
  <para os="sles;sled">
   选择要安装的产品。您需有相应产品的注册码。本文档假设您已选择 <phrase os="sles">SUSE Linux Enterprise Server</phrase>。单击<guimenu>下一步</guimenu>继续。
  </para>
  
 </sect1>

 <sect1 xml:id="sec-yast-install-license-agreement" os="sles;sled">
  <title>许可协议</title>
  <figure os="sles;sled">
   <title>许可协议</title>
   <mediaobject>
    <textobject role="description">
     <phrase>许可证协议</phrase>
    </textobject>
    <imageobject role="fo">
     
     <imagedata os="sles" fileref="install_license_sles.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     
     <imagedata os="sles" fileref="install_license_sles.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>
   阅读许可协议。此内容以您在引导屏幕上选择的语言显示。可以通过<guimenu>许可证语言</guimenu>下拉框获取翻译。<phrase os="sles;sled">如果您接受条款，请选择<guimenu>我接受许可条款</guimenu>，然后单击<guimenu>下一步</guimenu>继续安装。如果不接受许可协议，您将无法安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。单击<guimenu>中止</guimenu>可终止安装。</phrase>
  </para>
 </sect1>

 <sect1 xml:id="sec-yast-install-s390-part" arch="zseries" os="sles">
  <title>IBM Z：磁盘激活</title>
  <para>
   在 IBM Z 平台上安装时，在语言选择对话框之后出现的是一个用来配置所挂接硬盘的对话框。
  </para>
  <figure>
   <title>磁盘激活</title>
   <mediaobject>
    <textobject role="description">
     <phrase>磁盘激活</phrase>
    </textobject>
    <imageobject role="fo">
     <imagedata fileref="install_zseries_disk_activation.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="install_zseries_disk_activation.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>
   选择 DASD、光纤通道挂接式 SCSI 磁盘 (zFCP) 或 iSCSI 来安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。DASD 和 zFCP 配置按钮仅在挂接了相应设备时方可使用。有关如何配置 iSCSI 磁盘的指导，请参见<xref linkend="sec-iscsi-initiator"/>。
  </para>
  <para>
   您还可以在此屏幕中起动<guimenu>网络设置</guimenu>对话框来更改<guimenu>网络配置</guimenu>。在列表中选择一个网络接口，然后单击<guimenu>编辑</guimenu>更改其设置。使用相应的选项卡配置 DNS 和路由。有关详细信息，请参见<xref linkend="sec-network-yast"/>。
  </para>

  <sect2 xml:id="sec-yast-install-s390-part-dasd">
   <title>配置 DASD 磁盘</title>
   <para>
    如果不是在 IBM Z 硬件上安装，请跳过此步骤。
   </para>
   <figure xml:id="fig-s390-yast2-i-y2-sel-dasd">
    <title>DASD 磁盘管理</title>
    <mediaobject>
     <textobject role="description">
      <phrase>DASD 磁盘管理</phrase>
     </textobject>
     <imageobject role="fo">
      <imagedata width="100%" fileref="install_zseries_dasd.png"/>
     </imageobject>
     <imageobject role="html">
      <imagedata width="100%" fileref="install_zseries_dasd.png"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    选择<guimenu>配置 DASD 磁盘</guimenu>后，概述列出了所有可用的 DASD。要获得更详细的可用设备信息，可使用列表上方的文本框指定要显示的通道范围。要根据这一范围过滤此列表，请选择<guimenu>过滤器</guimenu>。
   </para>
   <para>
    通过在列表中选择相应的条目，指定要用于安装的 DASD。使用<guimenu>全选</guimenu>可选择当前显示的所有 DASD。选择<menuchoice> <guimenu>执行操作</guimenu> <guimenu>激活</guimenu> </menuchoice>来激活所选 DASD 并使其可用于安装。要格式化 DASD，请选择<menuchoice> <guimenu>执行操作</guimenu>
    <guimenu>格式化</guimenu> </menuchoice>。也可以稍后使用 YaST 分区程序，如<xref linkend="sec-expert-partitioner"/>中所述。
   </para>
  </sect2>
  <sect2 xml:id="sec-yast-install-s390-part-zfcp">
   <title>配置 zFCP 磁盘</title>
   <para>
    如果不是在 IBM Z 硬件上安装，请跳过此步骤。
   </para>
   <figure xml:id="fig-install-zseries-zfcp">
    <title>配置的 zFCP 设备</title>
    <mediaobject>
     <textobject role="description">
      <phrase>配置的 zFCP 设备</phrase>
     </textobject>
     <imageobject role="fo">
      <imagedata width="100%" fileref="install_zseries_zfcp.png"/>
     </imageobject>
     <imageobject role="html">
      <imagedata width="100%" fileref="install_zseries_zfcp.png"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    选择<guimenu>配置 zFCP 磁盘</guimenu>后，一个对话框即会打开，列出系统上可用的 zFCP 磁盘。在此对话框中，选择<guimenu>添加</guimenu>打开另一个对话框，然后在该对话框中输入 zFCP 参数。
   </para>
   <para>
    要使 zFCP 磁盘可用于 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 安装，请从下拉框中选择一个可用的<guimenu>通道号</guimenu>。<guimenu>获取 WWPN</guimenu>（全球端口号）和<guimenu>获取 LUN</guimenu>（逻辑单元号）分别返回可用 WWPN 和 FCP-LUN 的列表，以供选择。只有启用了 NPIV 时，自动 LUN 扫描才能正常工作。
   </para>
   <para>
    完成后，选择<guimenu>下一步</guimenu>退出 zFCP 对话框，然后选择<guimenu>完成</guimenu>退出常规硬盘配置对话框，接下来继续进行其他配置。
   </para>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-yast-install-network">
  <title>网络设置</title>
  <para>
   引导到安装后，系统会设置安装例程。在此设置期间，系统会尝试使用 DHCP 来至少配置一个网络接口。如果此尝试失败，<guimenu>网络设置</guimenu>对话框会立即起动。
  </para>
  <figure>
   <title>网络设置</title>
   <mediaobject>
    <textobject role="description">
     <phrase>网络设置</phrase>
    </textobject>
    <imageobject role="fo">
     <imagedata os="sles;sled" fileref="install_network.png" width="100%"/>
     
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles;sled" fileref="install_network.png" width="100%"/>
     
    </imageobject>
   </mediaobject>
  </figure>
  <para>
   在列表中选择一个网络接口，然后单击<guimenu>编辑</guimenu>更改其设置。使用相应的选项卡配置 DNS 和路由。有关详细信息，请参见<xref linkend="sec-network-yast"/>。<phrase os="sles" arch="zseries">在 IBM Z 上，此对话框不会自动启动。在<guimenu>磁盘激活</guimenu>步骤可以启动该对话框。</phrase>
  </para>
  <para>
   如果安装设置期间成功配置了 DHCP，您也可以在 <phrase os="sles;sled"><guimenu>SUSE Customer Center 注册</guimenu>和</phrase><guimenu>安装设置</guimenu>步骤中单击<guimenu>网络配置</guimenu>来访问此对话框。它可让您更改自动提供的设置。
  </para>
  <note>
   <title>使用引导参数的网络配置</title>
   <para>
    如果通过引导参数至少配置了一个网络接口（请参见<xref linkend="sec-boot-parameters-list-network"/>），则会禁用自动 DHCP 配置，并导入和使用引导参数配置。
   </para>
  </note>
  <tip>
   <title>访问网络储存或本地 RAID</title>
   <para>
    要在安装期间访问 SAN 或本地 RAID，可以使用 libstorage 命令行客户端来实现此目的：
   </para>
   <orderedlist>
    <listitem>
     <para>
      按 <keycombo><keycap function="control"/>
      <keycap function="alt"/> <keycap>F2</keycap></keycombo> 切换到控制台。
     </para>
    </listitem>
    <listitem>
     <para>
      运行 <command>extend libstoragemgmt</command> 安装 libstoragemgmt 扩展。
     </para>
    </listitem>
    <listitem>
     <para>
      现在，您便可访问 <command>lsmcli</command> 命令了。有关详细信息，请运行 <command>lsmcli --help</command>。
     </para>
    </listitem>
    <listitem>
     <para>
      要返回安装程序，请按 <keycombo><keycap function="alt"/>
      <keycap>F7</keycap></keycombo>
     </para>
    </listitem>
   </orderedlist>
   <para>
    支持的有 Netapp Ontap、所有 SMI-S 兼容的 SAN 提供程序，以及 LSI MegaRAID。
   </para>
  </tip>
 </sect1>

 <sect1 xml:id="sec-yast-install-scc-registration" os="sles;sled">
  <title>注册</title>
  <para>
   要获取技术支持和产品更新，需要在 SUSE Customer Center 或本地注册服务器中注册并激活 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。在此阶段注册产品还可让您立即获得访问更新储存库的权限。如此，您便可以将最新的更新和可用补丁随系统一起安装。
  </para>
  <para>
   注册时，将从注册服务器装载您下一步要安装的模块和扩展的储存库与依赖项。
  </para>
  <para>
   在此对话框中，可以单击<guimenu>网络配置</guimenu>切换到 YaST <guimenu>网络设置</guimenu>模块。有关详细信息，请参见<xref linkend="sec-network-yast"/>。
  </para>
  <para>
   如果您处于脱机状态，或想跳过注册，请激活<guimenu>跳过注册</guimenu>。有关指导，请参见<xref linkend="sec-yast-install-scc-registration-none"/>。
  </para>

  <sect2 xml:id="sec-yast-install-scc-registration-manually">
   <title>手动注册</title>
   <para>
    要注册到 SUSE Customer Center 中，请输入与您的 SCC 帐户关联的<guimenu>电子邮件地址</guimenu>，以及 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的<guimenu>注册代码</guimenu>。
   </para>
   <para>
    如果您的组织提供了本地注册服务器，您也可以在该服务器中注册。激活<guimenu>通过本地 SMT 服务器注册系统</guimenu>，然后从下拉框中选择 URL，或者键入地址。单击<guimenu>下一步</guimenu>继续。
   </para>
   <para>
    要注册到 SUSE Customer Center，请输入 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的<guimenu>注册码</guimenu>。如果您的组织提供了本地注册服务器，您也可以在该服务器中注册。激活<guimenu>通过本地 RMT 服务器注册系统</guimenu>，然后从下拉框中选择 URL，或者键入地址。
   </para>
   <para>
    单击<guimenu>下一步</guimenu>启动注册过程。
   </para>
   <figure>
    <title>SUSE Customer Center 注册</title>
    <mediaobject>
     <textobject role="description">
      <phrase>SUSE Customer Center 注册</phrase>
     </textobject>
     <imageobject role="fo">
      <imagedata os="sles" fileref="install_registration_sles.png" width="100%"/>
      
     </imageobject>
     <imageobject role="html">
      <imagedata os="sles" fileref="install_registration_sles.png" width="100%"/>
      
     </imageobject>
    </mediaobject>
   </figure>

   

   <tip>
    <title>在安装时安装产品补丁</title>
    <para>
     成功注册 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 后，系统会在安装期间询问您是否安装最新的可用联机更新。如果您选择<guimenu>是</guimenu>，最新的软件包将随系统一起安装，如此便不必在安装后应用更新。建议激活此选项。
    </para>
   </tip>

   <para>
    如果系统在安装期间已成功注册，YaST 将会在安装完成后禁用本地安装媒体（例如 CD/DVD 或闪存盘）中的储存库。这样做可防止安装源不再可用时出现问题，并确保您始终从联机储存库获取最新更新。
   </para>
  </sect2>
  <sect2 xml:id="sec-yast-install-scc-registration-usb">
   <title>从 USB 储存装载注册代码</title>
   <para>
    为了使注册过程更便捷，您还可以将注册码储存到闪存盘等 USB 储存设备中。YaST 会自动预填相应的文本框。当测试安装或需要注册许多系统或扩展时，此功能特别有用。
   </para>
   <para>
    在 USB 磁盘上创建名为 <filename>regcodes.txt</filename> 或 <filename>regcodes.xml</filename> 的文件。如果这两个文件都存在，XML 的优先级更高。
   </para>
   <para>
    在该文件中，使用 <command>zypper search --type product</command> 返回的名称识别产品，并按以下方式为其指派一个注册码：
   </para>
   <example xml:id="ex-i-yast2-conf-manual-cc-usb-txt">
    <title><filename>regcodes.txt</filename></title>
<screen>SLES    cc36aae1
SLED    309105d4

sle-we  5eedd26a
sle-live-patching 8c541494</screen>
   </example>
   <example xml:id="ex-i-yast2-conf-manual-cc-usb-xml">
    <title><filename>regcodes.xml</filename></title>
<screen language="xml">
&lt;?xml version="1.0"?&gt;
&lt;profile xmlns="http://www.suse.com/1.0/yast2ns"
 xmlns:config="http://www.suse.com/1.0/configns"&gt;
  &lt;suse_register&gt;
    &lt;addons config:type="list"&gt;
      &lt;addon&gt;
&lt;name&gt;SLES&lt;/name&gt;
&lt;reg_code&gt;cc36aae1&lt;/reg_code&gt;
      &lt;/addon&gt;
      &lt;addon&gt;
&lt;name&gt;SLED&lt;/name&gt;
&lt;reg_code&gt;309105d4&lt;/reg_code&gt;
      &lt;/addon&gt;
      &lt;addon&gt;
&lt;name&gt;sle-we&lt;/name&gt;
&lt;reg_code&gt;5eedd26a&lt;/reg_code&gt;
      &lt;/addon&gt;
      &lt;addon&gt;
&lt;name&gt;sle-live-patching&lt;/name&gt;
&lt;reg_code&gt;8c541494&lt;/reg_code&gt;
      &lt;/addon&gt;
    &lt;/addons&gt;
  &lt;/suse_register&gt;
&lt;/profile&gt;</screen>
   </example>
   <para>
    请注意，<literal>SLES</literal> 和 <literal>SLED</literal> 都不是扩展，但将它们列为附加产品可将多个基础产品注册码合并到一份文件中。<phrase os="sles">有关详细信息，请参见<xref linkend="CreateProfile-Register-Extension"/>。</phrase>
   </para>

   <note>
    <title>限制</title>
    <para>
     目前，只有在安装或升级期间会扫描闪存盘，注册运行中的系统时不会扫描。
    </para>
   </note>
  </sect2>

  <sect2 xml:id="sec-yast-install-scc-registration-none">
   <title>安装但不注册</title>
   <para>
    如果您处于脱机状态，或想跳过注册，请激活<guimenu>跳过注册</guimenu>。单击<guimenu>确定</guimenu>接受警告，然后单击<guimenu>下一步</guimenu>继续。
   </para>
   <important>
    <title>跳过注册</title>
    <para>
     需要注册您的系统和扩展才能检索更新以及获得支持资格。仅当从 <filename>SLE-15-SP3-Full-<replaceable>ARCH</replaceable>-GM-media1.iso</filename> 映像安装时，才能跳过注册。
    </para>
   </important>

   <figure>
    <title>安装但不注册</title>
    <mediaobject>
     <textobject role="description">
      <phrase>安装但不注册</phrase>
     </textobject>
     <imageobject role="fo">
      <imagedata os="sles" fileref="install_registration_offline_sles.png" width="100%"/>
      
     </imageobject>
     <imageobject role="html">
      <imagedata os="sles" fileref="install_registration_offline_sles.png" width="100%"/>
      

     </imageobject>
    </mediaobject>
   </figure>

   <note>
    <title>注册 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></title>
    <para>
     需要注册您的系统和扩展才能检索更新以及获得支持资格。如果在安装期间未注册，以后随时可以从运行中的系统上注册。要进行此操作，请运行 <menuchoice><guimenu>YaST</guimenu> <guimenu>产品注册</guimenu></menuchoice>。
    </para>
   </note>

   
   

   <tip>
    <title>
     将安装媒体映像复制到可卸闪存盘
    </title>
    <para>
     使用以下命令将安装映像的内容复制到可卸闪存盘。
    </para>
    <screen><prompt>tux &gt; </prompt><command>sudo</command> dd if=<replaceable>IMAGE</replaceable> of=<replaceable>FLASH_DISK</replaceable> bs=4M &amp;&amp; sync</screen>
    <para>
     需将 <replaceable>IMAGE</replaceable> 替换为 <filename>SLE-15-SP3-Online-<replaceable>ARCH</replaceable>-GM-media1.iso</filename> 或 <filename>SLE-15-SP3-Full-<replaceable>ARCH</replaceable>-GM-media1.iso</filename> 映像文件的路径。需将 <replaceable>FLASH_DISK</replaceable> 替换为闪存设备。要识别设备，请插入该设备并运行：
    </para>
    <screen><prompt role="root">root # </prompt>grep -Ff &lt;(hwinfo --disk --short) &lt;(hwinfo --usb --short)
     disk:
     /dev/sdc             General USB Flash Disk</screen>
    <para>
     确保设备的大小足以容纳所需的映像。可使用以下命令检查设备的大小：
    </para>
    <screen><prompt role="root">root # </prompt>fdisk -l /dev/sdc | grep -e "^/dev"
     /dev/sdc1  *     2048 31490047 31488000  15G 83 Linux</screen>
    <para>
     在此示例中，设备的容量为 15 GB。对于 <filename>SLE-15-SP3-Full-<replaceable>ARCH</replaceable>-GM-media1.iso</filename> 使用的命令是：
    </para>
    <screen>dd if=SLE-15-SP3-Full-<replaceable>ARCH</replaceable>-GM-media1.iso of=/dev/sdc1 bs=4M &amp;&amp; sync</screen>
    <para>
     在运行 <command>dd</command> 命令时，不得装入该设备。请注意，分区中的所有数据都将被删除！
    </para>
   </tip>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-yast-install-modules" os="sles;sled">
  <title>扩展和模块选择</title>
  <para>
   在此对话框中，安装程序会列出适用于 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的模块和扩展。模块是用于根据需要定制产品功能的组件。它们是免费提供的。扩展可在产品中添加功能。它们以订阅的形式提供，需要注册密钥，因此需付费才能使用。
  </para>
  <para>
   有哪些模块或扩展可用取决于在安装的第一步中选择的产品。有关模块及其生命周期的说明，请选择一个模块查看附带的文本。<link xlink:href="https://www.suse.com/releasenotes/x86_64/SUSE-SLES/15/#Intro.Module">发行说明</link>中提供了更多详细信息。
  </para>
  <para>
   模块的选择会间接影响安装范围，因为该选择定义了哪些软件源（储存库）可用于安装，以及可用于运行中的系统。
  </para>

  <figure>
   <title>扩展和模块选择</title>
   <mediaobject>
    <textobject role="description">
     <phrase>扩展和模块选择</phrase>
    </textobject>
    <imageobject role="fo">
     
     <imagedata os="sles" fileref="install_extensions_sles.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     
     <imagedata os="sles" fileref="install_extensions_sles.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
      以下模块和扩展适用于 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>：
     </para>
     <variablelist>
      <varlistentry>
       <term>Basesystem Module</term>
       <listitem>
        <para>
         此模块在统一安装程序的基础上添加一个基本系统。其他所有模块和扩展都需要此模块。只包含基础系统的安装其范围相当于旧版 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的<citetitle>最小系统</citetitle>安装模式。系统默认已选择安装此模块，不应将其取消选择。
        </para>
        <para>
         <emphasis>依赖项：</emphasis>无
        </para>
       </listitem>
      </varlistentry>
      <varlistentry os="sles">
       <term>Certifications Module</term>
       <listitem>
        <para>
         包含 FIPS 140-2 认证软件包。
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem
        </para>
       </listitem>
      </varlistentry>
      <varlistentry os="sles">
       <term>Containers Module</term>
       <listitem>
        <para>
         包含容器的支持和工具。
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term>Desktop Applications Module</term>
       <listitem>
        <para>
         向系统添加图形用户界面和最基本的桌面应用程序。
         
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>Development Tools Module</term>
       <listitem>
        <para>
         包含编译器（包括 <package>gcc</package>）以及编译和调试应用程序所需的库。取代了以前的 Software Development Kit (SDK)。
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem、Desktop Applications
        </para>
       </listitem>
      </varlistentry>
      <varlistentry os="sles">
       <term>Legacy Module</term>
       <listitem>
        <para>
         通过提供 SUSE Linux Enterprise 中已停产的软件包，帮助您将应用程序从 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 早期版本和其他系统迁移到 SLES <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase>。根据迁移要求和配置的复杂性级别选择此模块中的软件包。
        </para>
        <para>
         从旧版产品迁移时，建议使用此模块。
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem、Server Applications
        </para>
       </listitem>
      </varlistentry>
      <varlistentry os="sles">
       <term>NVIDIA Compute Module</term>
       <listitem>
        <para>
         包含 NVIDIA CUDA（Compute Unified Device Architecture，统一计算设备架构）驱动程序。
        </para>
        <para>
         此模块中的软件由 NVIDIA 根据 <link xlink:href="http://docs.nvidia.com/cuda/eula/">CUDA 最终用户许可协议</link>提供，不受 SUSE 支持。
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem
        </para>
       </listitem>
      </varlistentry>
      <varlistentry os="sles">
       <term>Public Cloud Module</term>
       <listitem>
        <para>
         包含创建映像所需的全部工具，这些映像用于在云环境（例如 Amazon Web Services (AWS)、Microsoft Azure、Google Compute Platform 或 SUSE OpenStack Cloud）中部署 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem、Server Applications
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>Python 2 Module</term>
       <listitem>
        <para>SUSE Linux Enterprise 15 SP3 使用 Python 版本 3。此模块包含 Python 2 运行时与模块。 
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem
        </para>
       </listitem>
      </varlistentry>
      <varlistentry os="sles">
       <term>Server Applications Module</term>
       <listitem>
        <para>
         通过提供 DHCP 服务器、名称服务器或 Web 服务器等网络服务来添加服务器功能。<phrase os="sles">系统默认已选择安装此模块；不建议将其取消选择。</phrase>
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>SUSE Cloud Application Platform Tools Module</term>
       <listitem>
        <para>
         添加用来与 SUSE Cloud Application Platform 产品交互的工具。
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem
        </para>
       </listitem>
      </varlistentry>
      <varlistentry os="sles">
       <term>SUSE Linux Enterprise High Availability Extension</term>
       <listitem>
        <para>
         向 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 添加任务关键型设置的群集支持。此扩展需要单独的许可证密钥。
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem、Server Applications
        </para>
       </listitem>
      </varlistentry>
      <varlistentry os="sles">
       <term>SUSE Linux Enterprise Live Patching</term>
       <listitem>
        <para>
         添加无需关闭系统即可执行关键增补的支持。此扩展需要单独的许可证密钥。
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem、Server Applications
        </para>
       </listitem>
      </varlistentry>
      <varlistentry os="sles">
       <term>SUSE Linux Enterprise Workstation Extension</term>
       <listitem>
        <para>
         使用 SUSE Linux Enterprise Desktop 中与其他桌面应用程序（如办公套件、电子邮件客户端、图形编辑器等）类似的软件包和库，扩展 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的功能。使用该扩展可以将这两个产品相结合来打造功能完备的工作站。此扩展需要单独的许可证密钥。
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem、Desktop Applications
        </para>
       </listitem>
      </varlistentry>
      
      <varlistentry>
       <term>SUSE Package Hub</term>
       <listitem>
        <para>
         用于访问 openSUSE 社区维护的各个 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 软件包。提供的这些软件包没有 L3 支持，且不影响 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的支持。有关详细信息，请参见<link xlink:href="https://packagehub.suse.com/"/>。
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem
        </para>
       </listitem>
      </varlistentry>
      <varlistentry os="sles">
       <term>Transactional Server Module</term>
       <listitem>
        <para>
         添加了对事务更新的支持。更新将以单个事务的形式统一应用到系统，或者不应用。这种方式不会影响正在运行的系统。如果某项更新失败，或者成功应用的更新被视为不兼容或者存在其他错误，可以丢弃该更新，使系统立即恢复到以前的正常运行状态。
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem
        </para>
       </listitem>
      </varlistentry>
      <varlistentry os="sles">
       <term>Web and Scripting Module</term>
       <listitem>
        <para>
         包含用于运行中 Web 服务器的软件包。
        </para>
        <para>
         <emphasis>依赖项：</emphasis>Basesystem、Server Applications
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
     <para>
      某些模块需要已安装其他模块。因此，在选择某个模块时，可能会自动选择其他模块来满足依赖关系。
     </para>
     <para>
      根据具体的产品，注册服务器可能会将模块和扩展标记为建议安装。系统会将建议的模块和扩展预先选为要加以注册和安装。如要避免安装这些建议的项目，请手动取消选择。
     </para>
     <para>
      选择要安装的模块和扩展，然后单击<guimenu>下一步</guimenu>继续。如果您选择了一个或多个扩展，系统会提示您提供相应的注册码。根据所做的选择，您可能还需要接受附加的许可协议。
     </para>
     <important>
      <title>脱机安装默认选择的模块</title>
      <para>
       使用 SLE-15-SP3-Full-<replaceable>ARCH</replaceable>-GM-media1.iso 执行脱机安装时，默认只会选择 <guimenu>Basesystem Module</guimenu>。<phrase os="sles">要安装 SUSE Linux Enterprise Server 的完整默认软件包集，另外还需选择 <guimenu>Server Applications Module</guimenu>。</phrase>
       
      </para>
     </important>


 </sect1>

 <sect1 xml:id="sec-yast-install-addons" os="sles;sled">
  <title>附加产品</title>
  <para>
   <guimenu>附加产品</guimenu>对话框可让您向 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 添加不是由 SUSE Customer Center 提供的其他软件源（即<quote>储存库</quote>）。此类附加产品可以包括第三方产品和驱动程序，或适用于您系统的其他软件。
  </para>
  <figure>
   <title>附加产品</title>
   <mediaobject>
    <textobject role="description">
     <phrase>附加产品</phrase>
    </textobject>
    <imageobject role="fo">
     <imagedata fileref="install_addon.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="install_addon.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>
   在此对话框中，可以单击<guimenu>网络配置</guimenu>切换到 YaST <guimenu>网络设置</guimenu>模块。有关详细信息，请参见<xref linkend="sec-network-yast"/>。
  </para>
  <tip>
   <title>在安装期间添加驱动程序</title>
   <para>
    您还可以通过<guimenu>附加产品</guimenu>对话框添加驱动程序更新储存库。<link xlink:href="http://drivers.suse.com/"/> 上会提供 SUSE Linux Enterprise 的驱动程序更新。这些驱动程序已通过 SUSE SolidDriver Program 创建。
   </para>
  </tip>
  <para>
   如果不想安装附加产品，请单击<guimenu>下一步</guimenu>继续。否则，请激活<guimenu>我要安装其他附加产品</guimenu>。选择 CD、DVD、硬盘、USB 大容量储存设备、本地目录或本地 LSO 映像中的一个指定媒体类型。如果已经配置了网络访问，您可以选择某个其他远程来源，例如 HTTP、SLP、FTP 等。或者，您还可以直接指定一个 URL。选中<guimenu>下载储存库说明文件</guimenu>可立即下载用于描述储存库的文件。如果不激活，系统将在安装启动后下载它们。单击<guimenu>下一步</guimenu>继续，并插入 CD 或 DVD（如果需要）。
  </para>
  <para>
   根据外接式附件内容的不同，您可能必须接受附加许可协议。
  </para>
 </sect1>

 

 <sect1 xml:id="sec-yast-install-system-role">
  <title>系统角色</title>
  <para>
   <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 支持的功能非常广泛。为简化安装，安装程序提供了一些预定义的用例，这些用例会调整要安装的系统以便适用于选定的方案。
  </para>
  <figure>
   <title>系统角色</title>
   <mediaobject>
    <textobject role="description">
     <phrase>系统角色</phrase>
     </textobject>
    <imageobject role="fo">
     <imagedata os="sles" fileref="install_system_role_sles.png" width="100%"/>
     
     
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles" fileref="install_system_role_sles.png" width="100%"/>
     
     
    </imageobject>
   </mediaobject>
  </figure>
  <para>
   选择最符合您要求的<guimenu>系统角色</guimenu>。可用的系统角色取决于所选的模块和扩展。因此，在以下情况下，不会显示该对话框：
  </para>
  <itemizedlist>
   <listitem>
    <para>
     如果在启用的模块中，<emphasis>没有任何角色</emphasis>适用于相应的基础产品。在这种情况下，将使用此产品的默认设置继续安装。
    </para>
   </listitem>
   <listitem>
    <para>
     如果在启用的模块中，<emphasis>只有一个角色</emphasis>适用于相应的基础产品。在这种情况下，将使用此特定角色的设置继续安装。
    </para>
   </listitem>
  </itemizedlist>

  <para>
   使用默认选择时，可以使用以下系统角色：
  </para>
  <variablelist os="sles">
   <varlistentry>
    <term><guimenu>文本方式</guimenu>
    </term>
    <listitem>
     <para>
      此选项会安装不带桌面环境、但包含多种命令行工具的基本 SLES。
     </para>
     <para>
      <emphasis>依赖项：</emphasis>Basesystem
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>极简</guimenu>
    </term>
    <listitem>
     <para>
      如果您只希望安装基本的命令行工具以尽量精简安装，请选择此选项。
     </para>
     <para>
      <emphasis>依赖项：</emphasis>无
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>KVM 虚拟化主机</guimenu>
    </term>
    <listitem>
     <para>
      在应充当可运行其他虚拟机的 KVM 主机的计算机上安装时，请选择此方案。<filename>/var/lib/libvirt</filename> 将放置在单独的分区中，并且防火墙和 Kdump 将处于禁用状态。
     </para>
     <para>
      <emphasis>依赖项：</emphasis>Basesystem、Server Applications
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Xen 虚拟化主机</guimenu>
    </term>
    <listitem>
     <para>
      在应充当可运行其他虚拟机的 Xen 主机的计算机上安装时，请选择此方案。<filename>/var/lib/libvirt</filename> 将放置在单独的分区中，并且防火墙和 Kdump 将处于禁用状态。
     </para>
     <para>
      <emphasis>依赖项：</emphasis>Basesystem、Server Applications
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  
  
 </sect1>

 <sect1 xml:id="sec-yast-install-partitioning">
  <title>分区</title>
  <sect2 xml:id="sec-yast-install-partitioning-important">
   <title>重要信息</title>
   <warning>
    <title>请仔细阅读本节内容</title>
    <para>
     在继续<xref linkend="sec-yast-install-partitioning-suggested"/>之前，请认真阅读本节。
    </para>
   </warning>
   <variablelist>
    <varlistentry>
     <term>在 UEFI 计算机上自定义分区</term>
     <listitem>
      <para>
       UEFI 计算机<emphasis>需要具备</emphasis>一个装入 <filename>/boot/efi</filename> 的 EFI 系统分区。必须使用 <literal>FAT32</literal> 文件系统格式化此分区。
      </para>
      <para>
       如果您的系统上已存在 EFI 系统分区（例如源自以前安装的 Windows），可以将其装入 <filename>/boot/efi</filename> 加以利用，并不需要格式化。
      </para>
      <para>
       如果您的 UEFI 计算机上没有 EFI 系统分区，请务必创建该分区。EFI 系统分区必须是物理分区或 RAID 1。不支持其他 RAID 级别、LVM 和其他技术。需要使用 FAT32 文件系统将其格式化。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>自定义分区和 <systemitem>Snapper</systemitem></term>
     <listitem>
      <para os="sles;osuse">
       如果根分区大于 16 GB，<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 默认会启用文件系统快照。
      </para>
      
      <para>
       <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 将 Snapper 与 Btrfs 结合使用来实现此功能。Btrfs 需设置为对根分区启用快照。
      </para>
      <para>
       如果磁盘小于 16 GB，则会禁用所有 Snapper 功能和自动快照，以防系统分区 <filename>/</filename> 出现空间不足情况。
      </para>
      <para>
       要创建支持回滚的系统快照，需将重要系统目录（例如 <filename>/usr</filename> 和 <filename>/var</filename>）装入单个分区。只有从快照中排除的目录（例如 <filename>/usr/local</filename>、<filename>/var/log</filename> 和 <filename>/tmp</filename>）才能驻留在单独的分区中。
      </para>
      <para>
       如果启用了快照，安装程序将在安装期间以及紧接在安装之后创建<literal>单个</literal>快照。
      </para>
      <para>
       有关详细信息，请参见<xref linkend="cha-snapper"/>。
      </para>

      <important>
       <title>Btrfs 快照和根分区大小</title>
       <para>
        快照占用其所在分区的空间。经验法则是，快照越旧，或其涵盖的更改集越大，则快照就越大。另外，保留的快照越多，所需的磁盘空间也越多。
       </para>
       <para>
        为了防止快照数据填满根分区，需确保根分区足够大。如果您要经常执行更新或其他安装，请考虑至少为根分区提供 30 GB 空间。如果您打算保留激活的快照用于系统升级<phrase os="sles;sled">或服务包迁移</phrase>（以便能够回滚），请考虑提供 40 GB 或更多空间。
       </para>
      </important>

     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Btrfs 数据卷</term>
     <listitem>
      <para>
       <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>
       <phrase role="productnumber"><phrase os="sles;sled">15 SP3</phrase></phrase> 支持对数据卷使用 Btrfs。对于需要将 Btrfs 用作数据卷的应用程序，请考虑创建单独的文件系统并禁用定额组。非根文件系统默认已使用此设置。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>加密的根分区上的 Btrfs</term>
     <listitem>
      <para>
       默认的分区设置建议使用根分区作为 Btrfs。要加密根分区，请务必使用 GPT 分区表类型，而不要使用 MSDOS 类型。否则，GRUB2 引导加载程序可能没有足够的空间供第二阶段的加载程序使用。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry os="sles" arch="zseries">
     <term>IBM Z：使用 z/VM 中的迷你磁盘</term>
     <listitem>
      <para>
       如果 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 安装在 z/VM 中驻留在同一物理磁盘上的几个迷你磁盘中，则迷你磁盘的访问路径 (/dev/disk/by-id/) 将不唯一。这是因为，该路径代表物理磁盘的 ID。如果同一物理磁盘上有两个或更多迷你磁盘，它们的 ID 都相同。
      </para>
      <para>
       要避免在装入迷你磁盘时发生问题，请始终<emphasis>按路径</emphasis>或<emphasis>按 UUID</emphasis> 装入它们。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry os="sles" arch="zseries">
     <term>IBM Z：LVM 根文件系统</term>
     <listitem>
      <para>
       如果您在 LVM 或软件 RAID 阵列中为系统配置了根文件系统，则必须将 <filename>/boot</filename> 置于单独的非 LVM 或非 RAID 分区上，否则系统将无法引导。此类分区的建议大小为 500 MB，建议的文件系统为 Ext4。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry os="sles" arch="power">
     
     <term>IBM POWER：在包含多个光纤通道磁盘的系统上安装</term>
     <listitem>
      <para>
       如果有多个可用磁盘，在安装期间建议的分区模式会将 PReP 和 BOOT 分区放置到不同的磁盘上。如果这些磁盘是光纤通道磁盘，GRUB 引导加载程序将无法找到 BOOT 分区，系统也就无法引导。
      </para>
      <para>
       在安装期间当系统提示您选择分区模式时，请选择<guimenu>引导性配置</guimenu>，并确认是否仅选择了一个磁盘进行安装。或者，运行<guimenu>专家分区程序</guimenu>，然后手动设置在单个磁盘上配置 PReP 和 BOOT 的分区模式。
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>支持的软件 RAID 卷</term>
     <listitem>
      <para>
       磁盘数据格式 (DDF) 卷和 Intel Matrix Storage Manager (IMSM) 卷支持安装到现有软件 RAID 卷以及从该现有卷进行引导。IMSM 也称为：
      </para>
      <itemizedlist mark="bullet" spacing="normal">
       <listitem>
        <para>
         Intel 快速储存技术
        </para>
       </listitem>
       <listitem>
        <para>
         Intel 矩阵储存技术
        </para>
       </listitem>
       <listitem>
        <para>
         Intel 应用程序加速器/Intel 应用程序加速器 RAID 版本
        </para>
       </listitem>
       <listitem>
        <para>
         Intel Virtual RAID on CPU（Intel VROC，有关更多细节，请参见 <link xlink:href="https://www.intel.com/content/www/us/en/support/articles/000024498/memory-and-storage/ssd-software.html"/>）
        </para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>适用于 FCoE 和 iSCSI 设备的安装点</term>
     <listitem>
      <para>
       引导期间，FCoE 和 iSCSI 设备将异步显示。虽然 initrd 可确保为根文件系统正确设置这些设备，但对于任何其他文件系统或安装点（例如 <filename>/usr</filename>），并无此类保证。因此，任何系统安装点（例如 <filename>/usr</filename> 或 <filename>/var</filename>）都不受支持。要使用这些设备，请确保正确同步相应的服务和设备。
      </para>
     </listitem>
    </varlistentry>
    
    
   </variablelist>
  </sect2>
  <sect2 xml:id="sec-yast-install-partitioning-suggested">
   <title>建议的分区</title>
   <para>
    在此步骤定义 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的分区设置。
   </para>
   <figure>
    <title>建议的分区</title>
    <mediaobject>
     <textobject role="description">
      <phrase>建议的分区</phrase>
     </textobject>
     <imageobject role="fo">
      <imagedata os="sles;sled" fileref="install_partitioner.png" width="100%"/>
      
     </imageobject>
     <imageobject role="html">
      <imagedata os="sles;sled" fileref="install_partitioner.png" width="100%"/>
      
     </imageobject>
    </mediaobject>
   </figure>
   
   <para os="sles">
    根据系统角色的不同，安装程序会创建针对其中一个可用磁盘的建议。所有建议都包含一个格式化为 Btrfs 的根分区（启用了快照）和一个交换分区。GNOME 桌面和文本模式建议将在大于 20 GB 的磁盘上创建单独的主分区。虚拟化主机的系统角色将为 <filename>/var/lib/libvirt</filename>（默认托管映像文件的目录）创建单独的分区。如果在可用硬盘上检测到一个或多个交换分区，将会使用这些现有分区（而不是建议一个新的交换分区）。您有以下几种选择来继续后面的步骤：
   </para>
   <variablelist>
    <varlistentry>
     <term><guimenu>下一步</guimenu>
     </term>
     <listitem>
      <para>
       要接受建议而不做任何变动，请单击<guimenu>下一步</guimenu>继续安装工作流程。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>引导性配置</guimenu>
     </term>
     <listitem>
      <para>
       要调整建议，请选择<guimenu>引导性配置</guimenu>。首先，选择要使用的硬盘和分区。在<guimenu>分区方案</guimenu>屏幕中，可以启用逻辑卷管理 (LVM) 并激活磁盘加密。然后指定<guimenu>文件系统选项</guimenu>。您可以调整根分区的文件系统，并创建单独的主分区和交换分区。如果您打算挂起计算机，请务必创建一个单独的交换分区，并选中<guimenu>增大用于挂起的内存大小</guimenu>。如果根文件系统格式为 Btrfs，您还可以在此处启用或禁用 Btrfs 快照。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>专家分区程序</guimenu>
     </term>
     <listitem>
      <para>
       要创建自定义分区设置，请单击<guimenu>专家分区程序</guimenu>。如果您想从建议的磁盘布局开始，请选择<guimenu>从当前提案开始</guimenu>；要忽略建议的布局并从磁盘上的现有布局开始，请选择<guimenu>从现有分区开始</guimenu>。您可对分区执行<guimenu>添加</guimenu>、<guimenu>编辑</guimenu>、<guimenu>调整大小</guimenu>或<guimenu>删除</guimenu>操作。
      </para>
      <para>
       借助<guimenu>专家分区程序</guimenu>，还可以设置逻辑卷管理 (LVM)、配置软件 RAID 和设备映射 (DM)、加密分区、装入 NFS 共享，以及管理 tmpfs 卷。要微调每个 Btrfs 分区的子卷和快照处理等设置，请选择 <guimenu>Btrfs</guimenu>。关于自定义分区和配置高级功能的更多信息，请参见<xref linkend="sec-expert-partitioner"/>。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <warning>
    <title>磁盘空间单位</title>
    <para>
     请注意，在分区时，磁盘空间的计量单位是二进制而不是十进制。例如，如果您输入 <literal>1GB</literal>、<literal>1GiB</literal> 或 <literal>1G</literal> 作为大小，这些数字全部表示 1 GiB（千兆二进制字节），而不是 1 GB（千兆字节）。
    </para>
    <variablelist>
     <varlistentry>
      <term>二元</term>
      <listitem>
       <para>
        1 GiB = 1 073 741 824 字节。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       十进制
      </term>
      <listitem>
       <para>
        1 GB = 1 000 000 000 字节。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       差异
      </term>
      <listitem>
       <para>
        1 GiB ≈ 1.07 GB。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </warning>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-yast-install-date-time">
  <title>时钟和时区</title>
  <para>
   在此对话框中，请选择区域和时区。这两项会根据安装语言预先选定。
  </para>
  <figure>
   <title>时钟和时区</title>
   <mediaobject>
    <textobject role="description">
     <phrase>时钟和时区</phrase>
    </textobject>
    <imageobject role="fo">
     <imagedata os="sles;sled" fileref="install_timezone.png" width="100%"/>
     
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles;sled" fileref="install_timezone.png" width="100%"/>
     
    </imageobject>
   </mediaobject>
  </figure>
  <para>
   要更改预先选定的值，请使用地图或<guimenu>区域</guimenu>和<guimenu>时区</guimenu>下拉框。使用地图时，请将光标指向区域的大概方向，并单击左键进行缩放。现在请单击左键选择您的国家/地区或区域。单击右键以返回到世界地图。
  </para>
  <para>
   要设置时钟，请选择是否<guimenu>将硬件时钟设置为 UTC</guimenu>。如果在计算机上运行其他操作系统，如 Microsoft Windows，您的系统可能会改为使用本地时间。如果在计算机上运行 Linux，请将硬件时钟设置为 UTC，并让系统自动在标准时间与夏令时之间切换。
  </para>
  <important>
   <title>将硬件时钟设置为 UTC</title>
   <para>
    如果要从标准时间自动切换到夏令时（反之亦然），则前提条件是硬件时钟（CMOS 时钟）设置为 UTC。这同样适用于借助 NTP 使用自动时间同步的情况，因为系统只有在硬件与系统时钟之间的时差少于 15 分钟时才会执行自动同步。
   </para>
   <para>
    由于错误的系统时间可能导致严重问题（错过备份、丢弃邮件、无法在远程文件系统上装入，等等），因此强烈建议您<emphasis>始终</emphasis>将硬件时钟设置为 UTC。
   </para>
  </important>
  <para arch="power;x86_64" os="sles">
   如果已配置网络，您可以配置与 NTP 服务器的时间同步。单击<guimenu>其他设置</guimenu>改变 NTP 设置或<guimenu>手动</guimenu>设置时间。有关配置 NTP 服务的更多信息，请参见<xref linkend="cha-ntp"/>。完成后，请单击<guimenu>接受</guimenu>继续安装。
  </para>
  <para arch="power;x86_64" os="sles">
   如果在未配置 NTP 的情况下运行，请考虑设置 <literal>SYSTOHC=no</literal>（<literal>sysconfig</literal> 变量），以免将未同步的时间保存到硬件时钟。
  </para>
  
  
  <note arch="zseries" os="sles">
   <title>在 IBM Z 上无法更改时间</title>
   <para>
    由于操作系统不能直接更改时间和日期，<guimenu>其他设置</guimenu>选项在 IBM Z 上不可用。
   </para>
  </note>
 </sect1>

 <sect1 xml:id="sec-yast-install-user">
  <title>创建新用户</title>
  <para>
   在此步骤中创建本地用户。
  </para>
  <figure>
   <title>创建新用户</title>
   <mediaobject>
    <textobject role="description">
     <phrase>创建新用户</phrase>
    </textobject>
    <imageobject role="fo">
     <imagedata os="sles;sled" fileref="install_user.png" width="100%"/>
     
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles;sled" fileref="install_user.png" width="100%"/>
     
    </imageobject>
   </mediaobject>
  </figure>
  <para>
   输入姓和名后，接受建议或指定将用于登录的新<guimenu>用户名</guimenu>。请只使用小写字母 (a-z)、数字 (0-9) 及 <literal>.</literal>（点）、<literal>-</literal>（破折号）和 <literal>_</literal>（下划线）这些字符。不允许使用特殊字符、元音变音符和重音字符。
  </para>
  <para>
   最后，输入此用户的密码。再次输入以进行确认（目的是确保您的输入无误）。要提供有效的安全性，口令应至少由 6 个字符组成，并且需包含大小写字母、数字和特殊字符（7 位 ASCII 码）。不允许使用元音符或重音符。将检查所输入密码的强度。如果输入的密码很容易猜出（如字典单词或名称），系统会显示一则警告。确保安全的好做法是使用强密码。
  </para>
  <important>
   <title>用户名和口令</title>
   <para>
    请牢记您的用户名和口令，因为每次登录系统时都需要使用它们。
   </para>
  </important>
  <para>
   如果在已经装有一个或多个 Linux 系统的计算机上安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>，YaST 允许您导入用户名和口令等用户数据。依次选择<guimenu>从先前的安装导入用户数据</guimenu>和<guimenu>选择用户</guimenu>导入数据。
  </para>
  <para>如果您不想配置任何本地用户（例如，在集中进行用户身份验证的网络上设置客户端时），请选择<guimenu>下一步</guimenu>并确认警告跳过此步骤。以后，您可随时在安装好的系统中配置网络用户身份验证，相关指导，请参见<xref linkend="cha-yast-userman"/>。
  </para>
  <para>
   有两个附加选项可用：
  </para>
  <variablelist>
   <varlistentry>
    <term><guimenu>对系统管理员使用此口令</guimenu>
    </term>
    <listitem>
     <para>
      如果选中此选项，则系统管理员 <systemitem class="username">root</systemitem> 将使用您为该用户输入的相同密码。此选项适用于独立工作站或由单个用户管理的家庭网络中的计算机。如果没有选中此选项，系统将在安装工作流程的下一步骤中提示您输入系统管理员密码（请参阅<xref linkend="sec-yast-install-user-root"/>）。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>自动登录</guimenu>
    </term>
    <listitem>
     <para>
      此选项可在启动时自动将当前用户登录到系统。如果计算机只由一个用户操作，此选项很有用。<phrase os="sles">为了能够自动登录，必须明确启用此选项。</phrase>
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <warning>
   <title>自动登录</title>
   <para>
    启用自动登录后，系统在引导时不进行身份验证就直接进入桌面。当您在系统上储存敏感数据时，如果其他用户也可以访问此计算机，则不应启用此选项。
   </para>
  </warning>
  <para>
   在集中管理用户的环境中（例如，通过 NIS 或 LDAP 进行管理），应跳过本地用户的创建过程。在这种情况下，请选择<guimenu>跳过用户创建</guimenu>。
  </para>
 </sect1>

 <sect1 xml:id="sec-yast-install-user-root">
  <title>系统管理员 <systemitem class="username">root</systemitem> 的身份验证</title>
  <para>
   如果您在上一步骤中未选择<guimenu>对系统管理员使用此口令</guimenu>，系统会提示您输入系统管理员 <systemitem class="username">root</systemitem> 的口令，或提供公共 SSH 密钥。否则，将跳过此配置步骤。
  </para>
  <figure>
   <title>系统管理员 <systemitem class="username">root</systemitem> 的身份验证</title>
   <mediaobject>
    <textobject role="description">
     <phrase>系统管理员 <systemitem class="username">root</systemitem></phrase>
    </textobject>
    <imageobject role="fo">
     <imagedata os="sles;sled" fileref="install_root.png" width="100%"/>
     
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles;sled" fileref="install_root.png" width="100%"/>
     
    </imageobject>
   </mediaobject>
  </figure>
  <para>
   <systemitem class="username">root</systemitem> 是超级用户（即系统管理员）的名称。与普通用户不同，<systemitem class="username">root</systemitem> 拥有不受限制的权限，可更改系统配置、安装程序和设置新硬件。如果用户忘记他们的口令或遇到其他有关系统的问题，<systemitem class="username">root</systemitem> 用户可以提供帮助。<systemitem class="username">root</systemitem> 帐户应只用于系统管理、维护和修复工作。以 <systemitem class="username">root</systemitem> 用户的身份登录来进行日常工作相当危险，因为一个错误操作就可能导致系统文件丢失，而且无法挽回。
  </para>
  <para>
   为了进行校验，必须两次输入 <systemitem class="username">root</systemitem> 用户的密码。切勿忘记 <systemitem class="username">root</systemitem> 口令。此口令输入后即无法检索。
  </para>
  <tip>
   <title>口令和键盘布局</title>
   <para>
    建议您只使用英语键盘上可用的字符。如果发生系统错误，或者您需要以救援模式启动系统时，本地化键盘可能会无法使用。
   </para>
  </tip>
  <para>
   以后，您可随时在安装好的系统中更改 <systemitem class="username">root</systemitem> 口令。要实现此目的，请运行 YaST，并启动<menuchoice> <guimenu>安全和用户</guimenu> <guimenu> 用户和组管理</guimenu> </menuchoice>。
  </para>
  <important>
   <title><systemitem class="username">root</systemitem> 用户</title>
   <para>
    用户 <systemitem class="username">root</systemitem> 拥有更改系统所需的所有权限。要执行这样的任务，需要有 <systemitem class="username">root</systemitem> 口令。没有此密码就不能执行任何管理任务。
   </para>
  </important>

  <para>
   如果您要使用公共密钥通过 SSH 远程访问系统，请从可卸储存设备或现有分区导入密钥。
  </para>
  <procedure xml:id="pro-yast-install-user-root-sshkey">
   <title>添加 <systemitem class="username">root</systemitem> 用户的 SSH 公共密钥</title>
   <para>
    要从媒体分区导入 SSH 公共密钥，请执行以下步骤：
   </para>
   <step>
    <para>
     SSH 公共密钥位于您的 <filename class="directory">~/.ssh</filename> 目录中，文件扩展名为 <filename class="extension">.pub</filename>。请将其复制到可卸储存设备或安装期间未格式化的现有分区中。
    </para>
   </step>
   <step>
    <para>
     如果您的密钥存放在可卸储存设备中，请将设备插入您的计算机并单击<guimenu>刷新</guimenu>。<guimenu>导入公共密钥</guimenu>下面的下拉框中应该会显示该设备。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>浏览</guimenu>，选择 SSH 公共密钥，然后单击<guimenu>打开</guimenu>确认。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>下一步</guimenu>继续。
    </para>
   </step>
  </procedure>
  <para>
   不要忘记在<guimenu>安装设置</guimenu>摘要的<guimenu>安全</guimenu>部分打开 SSH 端口。安装完成后，您可以使用提供的公共 SSH 密钥通过 SSH 登录。
  </para>
 </sect1>

 <sect1 xml:id="sec-yast-install-proposal">
  <title>安装设置</title>
  <para>
   在实际安装开始前的最后一步，您可以改变安装程序建议的安装设置。要修改建议的设置，请单击相应的标题。对特定设置进行更改后，您始终都会返回到“安装设置”窗口，其中的内容会相应更改。
  </para>
  <para>
   如果您已按<xref linkend="pro-yast-install-user-root-sshkey" xrefstyle="select:label"/>中所述为 <systemitem class="username">root</systemitem> 添加了 SSH 密钥，请务必在<guimenu>安全</guimenu>设置中打开 SSH 端口。
  </para>
  <figure>
   <title>安装设置</title>
   <mediaobject>
    <textobject role="description">
     <phrase>安装设置</phrase>
    </textobject>
    <imageobject role="fo">
     <imagedata os="sles" fileref="install_summary_sles.png" width="100%"/>
     
     
    </imageobject>
    <imageobject role="html">
     <imagedata os="sles" fileref="install_summary_sles.png" width="100%"/>
     
     
    </imageobject>
   </mediaobject>
  </figure>
  <sect2 xml:id="sec-yast-install-proposal-sofware">
   <title><guimenu>软件</guimenu></title>
   <para>
    <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 中包含多个可满足各种应用目的的软件模式。可选择的模式和软件包取决于所选的模块和扩展。
   </para>
   <para>
    单击<guimenu>软件</guimenu>打开<guimenu>软件选择和系统任务</guimenu>屏幕，您可以在此处根据需要修改所做的模式选择。从列表中选择模式，并在窗口右侧查看说明。
   </para>
   <para>
    每个模式都包含特定功能（例如，<phrase os="sles">Web 和 LAMP 服务器或打印服务器</phrase>）所需的几个软件包。如果想查看要安装软件包的更为详细的选择，请选择<guimenu>细节</guimenu>切换到 YaST 软件管理器。
   </para>
   <figure>
    <title>软件选择和系统任务</title>
    <mediaobject>
     <textobject role="description">
      <phrase>软件选择和系统任务</phrase>
     </textobject>
     <imageobject role="fo">
      <imagedata os="sles" fileref="install_software_sles.png" width="100%"/>
      
      
     </imageobject>
     <imageobject role="html">
      <imagedata os="sles" fileref="install_software_sles.png" width="100%"/>
      
      
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    以后，您也可以随时使用 YaST 软件管理器安装其他软件包或从系统中去除软件包。有关详细信息，请参见<xref linkend="cha-yast-software"/>。
   </para>
   <para os="sles">
    如果您选择安装 GNOME，则 X.org 显示服务器会随 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 一起安装。可以安装轻量级窗口管理器 IceWM 来替代 GNOME。在<guimenu>软件选择和系统任务</guimenu>屏幕中选择<guimenu>细节</guimenu>，然后搜索 <literal>icewm</literal>。
   </para>
   
   <tip os="sles" arch="zseries">
    <title>IBM Z：硬件加密支持</title>
    <para>
     默认情况下不会安装硬件加密堆栈。要安装该堆栈，请在<guimenu>软件选择和系统任务</guimenu>屏幕中选择 <guimenu>System z HW crypto 支持</guimenu>。
    </para>
   </tip>
   <tip xml:id="ann-sec-yast-install-proposal-sofware-language">
    <title>添加次要语言</title>
    <para>
     您在安装过程的第一步中选择的语言将作为系统的主要（默认）语言。您可以在<guimenu>软件</guimenu>对话框中选择<menuchoice> <guimenu>细节</guimenu> <guimenu> 查看</guimenu>
     <guimenu> 语言</guimenu></menuchoice>来添加次要语言。
    </para>
   </tip>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-booting">
   <title><guimenu>引导</guimenu></title>
   <para>
    安装程序会针对您的系统提供引导配置建议。将自动检测在计算机上找到的其他操作系统（如 Microsoft Windows 或其他 Linux 安装），并将其添加到引导加载程序。但 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 会按默认设置引导。通常，您可以保持这些设置不变。如果您需要自定义设置，请根据需要修改建议。有关信息，请参见<xref linkend="sec-grub2-yast2-config"/>。
   </para>
   <important>
    <title>软件 RAID 1</title>
    <para>
     系统支持引导 <filename>/boot</filename> 驻留在软件 RAID 1 设备上的配置，但这需要在 MBR 中安装引导加载程序（<menuchoice> <guimenu> 引导加载程序位置</guimenu>
     <guimenu> 从主引导记录引导</guimenu> </menuchoice> ）。不支持在非 RAID 1 级别的软件 RAID 设备上存放 <filename>/boot</filename>。<phrase os="sles">另请参见<xref linkend="cha-raidroot"/>。</phrase>
    </para>
   </important>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-security">
   <title><guimenu>安全性</guimenu></title>
   <para>
    <guimenu>CPU 缓解措施</guimenu>是指为防御 CPU 边信道攻击而部署的软件缓解措施对应的内核引导命令行参数。单击选定的项可选择其他选项。有关详细信息，请参见<xref linkend="vle-grub2-yast2-cpu-mitigations"/>。
   </para>
   <para>
    系统默认会对所有配置的网络接口启用 <systemitem class="daemon">firewalld</systemitem>。要对此计算机全局禁用防火墙，请单击<guimenu>禁用</guimenu>（不建议如此）。
   </para>
   <note>
    <title>防火墙设置</title>
    <para>
     如果激活了防火墙，则所有接口都配置为位于<literal>公共</literal>区域，在该区域中，所有端口默认都处于关闭状态，确保提供最高的安全性。安装期间，您可以打开的唯一一个端口是端口 22 (SSH)，它用于允许远程访问。所有需要网络访问的其他服务（如 FTP、Samba、Web 服务器等）只有在防火墙设置调整后才可正常工作。有关更多信息，请参考<xref linkend="cha-security-firewall"/>。
    </para>
   </note>
   <para>
    要通过安全外壳 (SSH) 启用远程访问，请确保 <literal>SSH 服务</literal>处于启用状态，且 <literal>SSH 端口</literal>已打开。
   </para>
   <tip>
    <title>现有的 SSH 主机密钥</title>
    <para>
     如果您在已装有 Linux 的计算机上安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>，安装例程会导入 SSH 主机密钥。它默认会选择访问时间最近的主机密钥。<phrase os="sles;sled">另请参见 <xref linkend="sec-yast-install-proposal-sshimport"/>.</phrase>
    </para>
   </tip>
   <para>
    如果您要通过 VNC 进行远程管理，则还可以指定在安装后是否可通过 VNC 访问计算机。请注意，要启用 VNC，您需要将<guimenu>默认 systemd 目标</guimenu>设置为<guimenu>图形</guimenu>。
   </para>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-network">
   <title><guimenu>网络配置</guimenu></title>
   <para>
    此类别显示当前网络设置，它们是引导进入安装后自动配置的设置（请参见<xref linkend="sec-yast-install-network" xrefstyle="select:label"/>），或者在执行安装过程的相关步骤期间，通过<guimenu>注册</guimenu>或<guimenu>附加产品</guimenu>对话框手动配置的设置。如果您要在此阶段（执行安装之前）检查或调整网络设置，请单击<guimenu>网络配置</guimenu>。随后您会转到 YaST <guimenu>网络设置</guimenu>模块。有关详细信息，请参见<xref linkend="sec-network-yast"/>。
   </para>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-kdump" os="sles">
   <title><guimenu>Kdump</guimenu></title>
   <para>
    使用 Kdump，您可以在发生崩溃的情况下保存内核的转储，以分析问题出在哪里。使用此对话框可启用和配置 Kdump。有关详细信息，请参见<xref linkend="cha-tuning-kexec"/>。
   </para>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-blacklist" os="sles" arch="zseries">
   <title><guimenu>IBM Z：将设备加入黑名单</guimenu></title>
   <para>
    为了节省内存，系统默认会将所有当前不使用的设备通道列入黑名单（未列入黑名单的每个通道大约会占用 50 KB 的内存）。要在安装好的系统中配置其他使用当前列入黑名单的通道的硬件，请先运行相应的 YaST 模块启用相应的通道。<remark condition="clarity">
     2014-06-05 - fs: FIXME What's the name of the yast module?
    </remark>
   </para>
   <para>
    要禁用黑名单，请单击<guimenu>禁用</guimenu>。
   </para>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-runlevel">
   <title><guimenu>默认 systemd 目标</guimenu></title>
   <para>
    <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 可以引导至两个不同的目标（以前称为<quote>运行级别</quote>）。<guimenu>图形</guimenu>目标会启动一个显示管理器，而<guimenu>多用户</guimenu>目标会启动命令行界面。
   </para>
   <para>
    默认目标是<guimenu>图形</guimenu>。如果您尚未安装 <guimenu>X Window System</guimenu> 模式，则需要将其更改为<guimenu>多用户</guimenu>。如果系统应当可以通过 VNC 访问，您需要选择<guimenu>图形</guimenu>。
   </para>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-sshimport">
   <title><guimenu>导入 SSH 主机密钥和配置</guimenu></title>
   <para>
    如果检测到计算机上已经装有 Linux 系统，YaST 默认会导入 <filename>/etc/ssh</filename> 中找到的最新 SSH 主机密钥，您还可以选择包含该目录中的其他文件。如此，您可以重用现有安装的 SSH 身份，以免在首次连接时出现<literal>远程主机标识已更改</literal>的警告。请注意，如果 YaST 未发现任何其他安装，则此项不会显示在安装摘要中。您有以下选择：
   </para>
   <variablelist>
    <varlistentry>
     <term><guimenu>我要从先前的安装导入 SSH 密钥：</guimenu>
     </term>
     <listitem>
      <para>
       选择此选项可以导入已安装系统的 SSH 主机密钥和配置（可选）。您可以在下面的选项列表中选择要从中导入密钥的安装。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>导入 SSH 配置</guimenu>
     </term>
     <listitem>
      <para>
       启用此项还会将 <filename>/etc/ssh</filename> 中主机密钥以外的其他文件复制到已安装系统。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
  <sect2 xml:id="sec-yast-install-proposal-system">
   <title><guimenu>系统</guimenu></title>
   <para>
    此屏幕列出了安装程序可以获得的有关您计算机的所有硬件信息。该屏幕第一次打开时，系统会启动硬件检测。根据系统情况，可能需要一些时间。可在列表中选择任意项，然后单击<guimenu>详细信息</guimenu>以查看关于所选项的详细信息。单击<guimenu>保存到文件</guimenu>可将详细的列表保存到本地文件系统或可移动设备中。
   </para>
   <para>
    高级用户还可通过选择<guimenu>内核设置</guimenu>来更改 <guimenu>PCI ID 设置</guimenu>和内核设置。一个含有两个选项卡的屏幕即会打开：
   </para>
   <variablelist>
    <varlistentry>
     <term><guimenu>PCI ID 设置</guimenu>
     </term>
     <listitem>
      <para>
       所有内核驱动器支持的设备 ID 列表包含在该驱动器内。一个不在驱动程序数据库中的新设备，即使能用现有某个驱动程序，也不被视为对该设备的支持。您可以在此处为设备驱动程序添加 PCI ID。只有高级用户才可尝试这么做。
      </para>
      <para>
       要添加 ID，请单击<guimenu>添加</guimenu>并选择是要<guimenu>手动</guimenu>输入数据，还是从列表中选择。输入必需的数据。<guimenu>SysFS 目录</guimenu>是 <filename>/sys/bus/pci/drivers</filename> 的目录名称；如果该字段为空，则<guimenu>驱动程序</guimenu>名称会用作目录名称。现有的项可使用<guimenu>编辑</guimenu>和<guimenu>删除</guimenu>来管理。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>内核设置</guimenu>
     </term>
     <listitem>
      <para>
       在此处更改<guimenu>全局 I/O 调度程序</guimenu>。如果选择<guimenu>未配置</guimenu>，将会使用相应体系结构的默认设置。以后，您也可随时在安装好的系统中更改此设置。有关调节 I/O 的详细信息，请参见<xref linkend="cha-tuning-io"/>。
      </para>
      <para>
       另外，在此处激活<guimenu>启用 SysRq 键</guimenu>。这些键可让您在系统崩溃时发出基本命令（例如重引导系统或写入内核转储）。建议您在进行内核开发时启用这些键。有关细节，请参考<link xlink:href="https://www.kernel.org/doc/html/latest/admin-guide/sysrq.html"/>。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
 </sect1>

 <sect1 xml:id="sec-yast-install-perform">
  <title>执行安装</title>
  <para>
   在配置所有安装设置后，在“安装设置”窗口中单击<guimenu>安装</guimenu>开始安装。某些软件可能需要许可证确认。如果您选择的软件包括此类软件，则将显示许可证确认对话框。单击<guimenu>接受</guimenu>以安装软件包。如果不同意许可证，则单击<guimenu>我不同意</guimenu>，将不会安装软件包。在随后的对话框中，选择<guimenu>安装</guimenu>再次确认。
  </para>
  <para>
   根据系统性能和所选的软件范围，安装通常需要 15 到 30 分钟。准备好硬盘并且保存和恢复用户设置后，软件安装开始。选择<guimenu>细节</guimenu>可切换到安装日志，选择<guimenu>发行说明</guimenu>可读取最新的重要信息，这些信息在手册印刷之时尚未提供。
  </para>
  <para>
   软件安装完成后，系统会重引导至新安装，您可以在此处登录。要自定义系统配置或安装其他软件包，请启动 YaST。
  </para>

  <sect2 xml:id="sec-s390-inst-reipl" arch="zseries" os="sles">
   <title>IBM Z：对安装的系统执行 IPL</title>
   <para>
    YaST 通常会重引导至 IBM Z 平台上的已安装系统。例外情况是在计算机上 LPAR 版本早于 z196 或 z/VM 版本早于 5.4 的环境中进行的安装，其中的引导加载程序位于 FCP 设备上。对于这种情况，引导加载程序会写入作为 <filename>/boot/zipl/</filename> 装入的单独分区。
   </para>
   <para>
    如果无法进行自动重引导，YaST 将显示一个对话框，其中包含关于从哪个设备进行 IPL 的信息。接受关机选项，并在关机后执行 IPL。此过程将随安装类型的不同而有所不同：
   </para>
   <variablelist>
    <varlistentry>
     <term>LPAR 安装</term>
     <listitem>
      <para>
       在 IBM Z HMC 中，依次选择<guimenu>装载</guimenu>和<guimenu>清除</guimenu>，然后输入装载地址（包含引导加载程序的 <filename>/boot/zipl</filename> 目录所在设备的地址）。如果使用 zFCP 磁盘作为引导设备，请选择<guimenu>从 SCSI 装载</guimenu>，并指定 FCP 适配器的装载地址，以及引导设备的 WWPN 和 LUN。现在启动装载进程。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>z/VM 安装</term>
     <listitem>
      <para>
       以 <systemitem class="username">LINUX1</systemitem> 身份登录到 VM Guest（关于配置，请参见<xref linkend="ex-prep-prep-ipl-vm-linux-guest-config"/>），然后继续对安装好的系统执行 IPL：
      </para>
      <screen>IPL 151 CLEAR</screen>
      <para>
       <literal>151</literal> 是 DASD 引导设备的地址示例，请用正确的地址替换该值。
      </para>
      <para>
       如果将 zFCP 磁盘用作引导设备，请在启动 IPL 之前指定引导设备的 zFCP WWPN 和 LUN。参数长度不得超过 8 个字符。较长的数字必须用空格隔开：
      </para>
      <screen>SET LOADDEV PORT 50050763 00C590A9 LUN 50010000 00000000 </screen>
      <para>
       最后，启动初始程序装载：
      </para>
      <screen>IPL FC00</screen>
      <para>
       <literal>FC00</literal> 是 zFCP 适配器的地址示例，请用正确的地址替换该值。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>KVM Guest 安装</term>
     <listitem>
      <para>
       安装完成后，虚拟机将会关闭。此时，请登录 KVM 主机，编辑虚拟机的说明文件，然后将虚拟机重启动，以执行 IPL 装载到已安装系统：
      </para>
      <procedure>
       <step>
        <para>
        登录 KVM 主机。
        </para>
       </step>
       <step>
        <para>
        运行以下命令编辑域 XML 文件
        </para>
        <screen><prompt>tux &gt; </prompt><command>sudo</command> <command>virsh edit s12-1</command></screen>
        <para>
        并去除下面几行：
        </para>
<screen>  &lt;!-- Boot kernel - remove 3 lines after successfull installation --&gt;
  &lt;kernel&gt;/var/lib/libvirt/images/s12-kernel.boot&lt;/kernel&gt;
  &lt;initrd&gt;/var/lib/libvirt/images/s12-initrd.boot&lt;/initrd&gt;
  &lt;cmdline&gt;linuxrcstderr=/dev/console&lt;/cmdline&gt;</screen>
       </step>
       <step>
        <para>
        重启动 VM Guest 以执行 IPL 装载到已安装系统：
        </para>
        <screen><prompt>tux &gt; </prompt><command>sudo</command> <command>virsh start s12-1 --console</command></screen>
       </step>
      </procedure>
      <note>
       <title><literal>cio_ignore</literal> 已对 KVM 安装禁用</title>
       <para>
        内核参数 <literal>cio_ignore</literal> 会阻止内核查看所有可用的硬件设备。不过，对于 KVM Guest，超级管理程序已注意仅提供对正确的设备的访问权限。因此，在安装 KVM Guest 时，<literal>cio_ignore</literal> 默认处于禁用状态（对于 z/VM 和 LPAR 安装，默认处于激活状态）。
       </para>
      </note>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
  <sect2 xml:id="sec-s390-inst-reipl-reconnect" arch="zseries" os="sles">
   <title>IBM Z：连接安装的系统</title>
   <para>
    对系统执行 IPL 后，通过 VNC、SSH 或 X 建立连接以登录安装好的系统。建议使用 VNC 或 SSH。要自定义系统配置或安装其他软件包，请启动 YaST。
   </para>
   <sect3 xml:id="sec-s390-inst-reipl-reconnect-vnc">
    <title>使用 VNC 连接</title>
    <para>
     3270 终端中有一条消息要求您使用 VNC 客户端连接到 Linux 系统。但您很容易忽略此讯息，因为它与内核讯息混杂在一起，而且终端进程可能在您注意到此讯息前就已退出。如果在 5 分钟内无任何反应，请尝试使用 VNC 查看器来启动与 Linux 系统的连接。
    </para>
    <para>
     如果使用支持 JavaScript 的浏览器进行连接，请采用以下格式输入完整的 URL，其中包括已安装系统的 IP 地址和端口号：
    </para>
<screen>http://<replaceable>IP_OF_INSTALLED_SYSTEM</replaceable>:5801/</screen>
   </sect3>
   <sect3 xml:id="sec-s390-inst-reipl-reconnect-ssh">
    <title>使用 SSH 连接</title>
    <para>
     3270 终端中有一条消息要求您使用 SSH 客户端连接到 Linux 系统。但您很容易忽略此消息，因为它与内核消息混杂在一起，而且在您注意到此消息时终端进程可能已退出。
    </para>
    <para>
     一旦出现该讯息，请以 <systemitem class="username">root</systemitem> 身份使用 SSH 登录 Linux 系统。如果连接被拒绝或超时，请在超过登录超时时限后重试（此时间因服务器设置而异）。
    </para>
   </sect3>
   <sect3 xml:id="sec-s390-inst-reipl-reconnect-x">
    <title>使用 X 连接</title>
    <para>
     对已安装系统执行 IPL 时，请确保在安装第一阶段使用的 X 服务器已启动，并在从 DASD 引导之前仍然可用。YaST 会在此 X 服务器上打开以完成安装。如果系统已引导但无法及时连接到 X 服务器，情况就比较复杂。
    </para>
   </sect3>
  </sect2>
 </sect1>
</chapter>
