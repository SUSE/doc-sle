<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="deployment_remote.xml" role="General" id="cha.deployment.remoteinst">
 <title>リモートインストール</title>
 <para>
  <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase>は複数の方法でインストールすることができます。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>をインストールするには、<xref linkend="cha.inst"/>で説明されている通常のメディアによるインストールの他に、ネットワークベースのさまざまなアプローチや、完全自動のアプローチも選択できます。
 </para>
 <para>
  それぞれの方法は、前提条件を記載したリストと、基本手順を記載したリストの2つのチェックリストを使用します。その後、これらのインストールシナリオの中で用いられているすべての方式についての詳細を説明します。
 </para>
 <note>
  <para>
   以降のセクションでは、<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>を新たにインストールするシステムのことを「ターゲットシステム」または「インストールターゲット」と呼びます。<emphasis/><emphasis/><emphasis>リポジトリ</emphasis>(以前は<quote>インストールソース</quote>と呼ぶ)という言葉は、インストールデータのすべてのソースを表すために使用されます。これには、CDやDVDなどの物理メディアや、ネットワーク内でインストールデータを配布するネットワークサーバが含まれます。
  </para>
 </note>
 <sect1 id="sec.deployment.remoteinst.scenario">
  <title>リモートインストールのインストールシナリオ</title>

  <para>
   このセクションでは、リモートインストールを行う場合の、最も一般的なインストールシナリオについて説明します。それぞれのシナリオについて、前提条件のリストを注意深くチェックし、シナリオで説明されている手順に従ってください。特定のステップについての詳細な説明が必要な場合には、用意されているリンクを参照してください。
  </para>

  <sect2 id="sec.deployment.remoteinst.scenario.vncstat">
   <title>VNCによる単純なリモートインストール—静的なネットワーク設定</title>
   <para>
    このタイプのインストールでは、インストール時のブートのため、ターゲットシステムにある程度物理的にアクセスすることが必要となります。インストール自体は、VNCを使用してインストールプログラムに接続することにより、リモートのワークステーションによって完全に制御されます。<xref linkend="cha.inst"/>で説明されている手動インストールの場合と同様に、ユーザ操作も必要です。
   </para>
   <para>
    このタイプのインストールでは、以下の必要条件を満たしていることを確認してください。
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      リモートリポジトリ:稼働中のネットワーク接続を持つHTTP、FTP、またはSMB
     </para>
    </listitem>
    <listitem>
     <para>
      ターゲットシステムでネットワーク接続が動作していること
     </para>
    </listitem>
    <listitem>
     <para>
      稼働中のネットワーク接続を持つ制御システムと、VNCビューアソフトウェアまたはJava対応ブラウザ(Firefox、Chromium、Internet Explorer、Operaなど)
     </para>
    </listitem>
    <listitem>
     <para>
      ターゲットシステムのブート用物理ブートメディア(CD、DVD、またはUSBフラッシュドライブ)
     </para>
    </listitem>
    <listitem>
     <para>
      リポジトリおよび制御システムに割り当て済みの有効な静的IPアドレス
     </para>
    </listitem>
    <listitem>
     <para>
      ターゲットシステムに割り当てる有効な静的IPアドレス
     </para>
    </listitem>
   </itemizedlist>
   <procedure id="proc.deployment.remoteinst.scenario.vncstat">
    <para>
     このタイプのインストールを実行するには、以下の手順に従います。
    </para>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.remoteinst.instserver"/>で説明されている方法でリポジトリを設定します。NFS、HTTP、またはFTPのネットワークサーバを選択します。SMBリポジトリの場合は、<xref linkend="sec.deployment.remoteinst.instserver.smb"/>を参照してください。
     </para>
    </step>
    <step performance="required">
     <para>
      <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>メディアキットのDVD1を使用して、ターゲットシステムをブートします。
     </para>
    </step>
    <step performance="required">
     <para>
      ターゲットシステムのブート画面が表示されたら、ブートオプションのプロンプトで、適切なVNCオプションとリポジトリのアドレスを設定します。この詳細は、<xref linkend="sec.deployment.remoteinst.bootinst"/>で説明しています。
     </para>
     <para>
      ターゲットシステムはテキストベースの環境でブートします。VNCビューアアプリケーションまたはブラウザで使用するための、グラフィックインストール環境用のネットワークアドレスとディスプレイ番号が表示されます。VNCインストールのアナウンス自体はOpenSLPによって行われ(ファイアウォールの設定で許容される場合)、<xref linkend="proc.deployment.remoteinst.monitor.vnc.prep"/>の説明のとおり、<command>slptool</command>で表示できます。
     </para>
    </step>
    <step performance="required">
     <para>
      制御用のワークステーションで、VNC表示アプリケーションまたはWebブラウザを開き、<xref linkend="sec.deployment.remoteinst.monitor.vnc"/>に説明されている方法でターゲットシステムに接続します。
     </para>
    </step>
    <step performance="required">
     <para>
      <xref linkend="cha.inst"/>に説明されている方法でインストールを実行します。再起動後、ターゲットシステムに再接続して、インストールの最終作業を行います。
     </para>
    </step>
    <step performance="required">
     <para>
      インストールを完了します。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.scenario.vncdyn">
   <title>VNCによる単純なリモートインストール—動的なネットワーク設定</title>
   <para>
    このタイプのインストールでは、インストール時のブートのため、ターゲットシステムにある程度物理的にアクセスすることが必要となります。ネットワーク設定はDHCPによって行われます。インストール自体は、VNCを使用してインストーラに接続することにより、リモートのワークステーションによって完全に制御されます。しかし、実際の設定のためにユーザ操作も必要です。
   </para>
   <para>
    このタイプのインストールでは、以下の必要条件を満たしていることを確認してください。
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      リモートリポジトリ:稼働中のネットワーク接続を持つHTTP、FTP、またはSMB
     </para>
    </listitem>
    <listitem>
     <para>
      ターゲットシステムでネットワーク接続が動作していること
     </para>
    </listitem>
    <listitem>
     <para>
      動作しているネットワーク接続およびVNCビューアソフトウェアまたはJava対応のブラウザ(Firefox、Chromium、Internet Explorer、またはOpera)を備えた制御システム
     </para>
    </listitem>
    <listitem>
     <para>
      <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>メディアキットのDVD1を使用して、ターゲットシステムをブートします。
     </para>
    </listitem>
    <listitem>
     <para>
      IPアドレスを提供するDHCPサーバが動作していること
     </para>
    </listitem>
   </itemizedlist>
   <procedure id="proc.deployment.remoteinst.scenario.vncdyn">
    <para>
     このタイプのインストールを実行するには、以下の手順に従います。
    </para>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.remoteinst.instserver"/>で説明されている方法でリポジトリを設定します。NFS、HTTP、またはFTPのネットワークサーバを選択します。SMBリポジトリの場合は、<xref linkend="sec.deployment.remoteinst.instserver.smb"/>を参照してください。
     </para>
    </step>
    <step performance="required">
     <para>
      <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>メディアキットのDVD1を使用して、ターゲットシステムをブートします。
     </para>
    </step>
    <step performance="required">
     <para>
      ターゲットシステムのブート画面が表示されたら、ブートオプションのプロンプトで、適切なVNCオプションとリポジトリのアドレスを設定します。この詳細は、<xref linkend="sec.deployment.remoteinst.bootinst"/>で説明しています。
     </para>
     <para>
      ターゲットシステムはテキストベースの環境でブートします。VNCビューアアプリケーションまたはブラウザで使用するための、グラフィックインストール環境用のネットワークアドレスとディスプレイ番号が表示されます。VNCインストールのアナウンス自体はOpenSLPによって行われ(ファイアウォールの設定で許容される場合)、<xref linkend="proc.deployment.remoteinst.monitor.vnc.prep"/>の説明のとおり、<command>slptool</command>で表示できます。
     </para>
    </step>
    <step performance="required">
     <para>
      制御用のワークステーションで、VNC表示アプリケーションまたはWebブラウザを開き、<xref linkend="sec.deployment.remoteinst.monitor.vnc"/>に説明されている方法でターゲットシステムに接続します。
     </para>
    </step>
    <step performance="required">
     <para>
      <xref linkend="cha.inst"/>に説明されている方法でインストールを実行します。再起動後、ターゲットシステムに再接続して、インストールの最終作業を行います。
     </para>
    </step>
    <step performance="required">
     <para>
      インストールを完了します。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.scenario.vncpxe">
   <title>VNCによるリモートインストール—PXEブートとWake on LAN</title>
   <para>
    このタイプのインストールは、完全に無人で行えます。ターゲットマシンは、リモートで起動され、ブートされます。ユーザ操作は、実際のインストールで必要となるだけです。このアプローチは、遠隔サイト間での導入に適しています。
   </para>
   <para>
    このタイプのインストールでは、以下の必要条件を満たしていることを確認してください。
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      リモートリポジトリ:稼働中のネットワーク接続を持つHTTP、FTP、またはSMB
     </para>
    </listitem>
    <listitem>
     <para>
      TFTPサーバ
     </para>
    </listitem>
    <listitem>
     <para>
      ネットワークでDHCPサーバが動作していること
     </para>
    </listitem>
    <listitem>
     <para>
      ターゲットシステムにPXEブート、ネットワーク、およびWake on LANの機能があり、プラグインとしてインストールされ、ネットワークに接続されていること
     </para>
    </listitem>
    <listitem>
     <para>
      動作しているネットワーク接続およびVNCビューアソフトウェアまたはJava対応のブラウザ(Firefox、Chromium、Internet Explorer、またはOpera)を備えた制御システム
     </para>
    </listitem>
   </itemizedlist>
   <procedure id="proc.deployment.remoteinst.scenario.vncpxe">
    <para>
     このタイプのインストールを実行するには、以下の手順に従います。
    </para>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.remoteinst.instserver"/>で説明されている方法でリポジトリを設定します。NFS、HTTP、またはFTPのネットワークサーバを選択するか、<xref linkend="sec.deployment.remoteinst.instserver.smb"/>で説明されている方法でSMBリポジトリを設定します。
     </para>
    </step>
    <step performance="required">
     <para>
      ターゲットシステムから取得するためのブートイメージを保持するTFTPサーバをセットアップします。これは<xref linkend="sec.deployment.remoteinst.boot.tftp"/>で説明されています。
     </para>
    </step>
    <step performance="required">
     <para>
      すべてのマシンにIPアドレスを提供し、ターゲットシステムにTFTPサーバの場所を知らせるためのDHCPサーバをセットアップします。これは<xref linkend="sec.deployment.remoteinst.boot.dhcp"/>で説明されています。
     </para>
    </step>
    <step performance="required">
     <para>
      ターゲットシステムでPXEブートの準備をします。この詳細は、<xref linkend="sec.deployment.remoteinst.boot.pxeprep"/>で説明しています。
     </para>
    </step>
    <step performance="required">
     <para>
      Wake on LAN機能を使って、ターゲットシステムでブートプロセスを開始します。これは<xref linkend="sec.deployment.remoteinst.boot.wol"/>で説明されています。
     </para>
    </step>
    <step performance="required">
     <para>
      制御用のワークステーションで、VNC表示アプリケーションまたはWebブラウザを開き、<xref linkend="sec.deployment.remoteinst.monitor.vnc"/>に説明されている方法でターゲットシステムに接続します。
     </para>
    </step>
    <step performance="required">
     <para>
      <xref linkend="cha.inst"/>に説明されている方法でインストールを実行します。再起動後、ターゲットシステムに再接続して、インストールの最終作業を行います。
     </para>
    </step>
    <step performance="required">
     <para>
      インストールを完了します。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.scenario.sshstat">
   <title>SSHによる単純なリモートインストール—静的なネットワーク設定</title>
   <para>
    このタイプのインストールでは、インストール時のブートと、インストールターゲットのIPアドレスの決定のため、ターゲットシステムにある程度物理的にアクセスすることが必要となります。インストール自体は、SSHを使用してインストーラに接続することにより、リモートのワークステーションによって完全に制御されます。<xref linkend="cha.inst"/>で説明されている通常のインストールの場合と同様に、ユーザ操作も必要です。
   </para>
   <para>
    このタイプのインストールでは、以下の必要条件を満たしていることを確認してください。
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      リモートリポジトリ:稼働中のネットワーク接続を持つHTTP、FTP、またはSMB
     </para>
    </listitem>
    <listitem>
     <para>
      ターゲットシステムでネットワーク接続が動作していること
     </para>
    </listitem>
    <listitem>
     <para>
      ネットワーク接続が動作しており、現在使用中のSSHクライアントソフトウェアがある制御システム
     </para>
    </listitem>
    <listitem>
     <para>
      <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>メディアキットのDVD1を使用して、ターゲットシステムをブートします。
     </para>
    </listitem>
    <listitem>
     <para>
      リポジトリおよび制御システムに割り当て済みの有効な静的IPアドレス
     </para>
    </listitem>
    <listitem>
     <para>
      ターゲットシステムに割り当てる有効な静的IPアドレス
     </para>
    </listitem>
   </itemizedlist>
   <procedure id="proc.deployment.remoteinst.scenario.sshstat">
    <para>
     このタイプのインストールを実行するには、以下の手順に従います。
    </para>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.remoteinst.instserver"/>で説明されている方法でリポジトリを設定します。NFS、HTTP、またはFTPのネットワークサーバを選択します。SMBリポジトリの場合は、<xref linkend="sec.deployment.remoteinst.instserver.smb"/>を参照してください。
     </para>
    </step>
    <step performance="required">
     <para>
      <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>メディアキットのDVD1を使用して、ターゲットシステムをブートします。
     </para>
    </step>
    <step performance="required">
     <para>
      ターゲットシステムのブート画面が表示されたら、ブートオプションプロンプトで、ネットワーク接続、リポジトリのアドレス、およびSSH有効化に関する適切なパラメータを設定します。この詳細は、<xref linkend="sec.deployment.remoteinst.bootinst.custom"/>で説明しています。
     </para>
     <para>
      ターゲットシステムはテキストベースの環境でブートします。SSHクライアントで使用するための、グラフィックインストール環境用のネットワークアドレスが表示されます。
     </para>
    </step>
    <step performance="required">
     <para>
      制御用のワークステーションで、ターミナルウィンドウを開いて、<xref linkend="sec.deployment.remoteinst.monitor.ssh.connect"/>で説明されている方法でターゲットシステムに接続します。
     </para>
    </step>
    <step performance="required">
     <para>
      <xref linkend="cha.inst"/>に説明されている方法でインストールを実行します。再起動後、ターゲットシステムに再接続して、インストールの最終作業を行います。
     </para>
    </step>
    <step performance="required">
     <para>
      インストールを完了します。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.scenario.sshdyn">
   <title>SSHによる単純なリモートインストール—動的なネットワーク設定</title>
   <para>
    このタイプのインストールでは、インストール時のブートと、インストールターゲットのIPアドレスの決定のため、ターゲットシステムにある程度物理的にアクセスすることが必要となります。インストール自体は、VNCを使用してインストーラに接続することにより、リモートのワークステーションによって完全に制御されます。しかし、実際の設定のためにユーザ操作も必要です。
   </para>
   <note>
    <title>2番目のステップの後に接続が失われないようにする(インストール)</title>
    <para>
     ネットワーク設定ダイアログで、<guimenu>ifupでの従来の方法</guimenu>をオンにして、NetworkManagerを使用しないようにします。このように設定しなかった場合、インストール中にSSH接続が失われます。インストール完了後、設定を<guimenu>User Controlled with NetworkManager (NetworkManagerでユーザが制御)</guimenu>にリセットします。
    </para>
   </note>
   <para>
    このタイプのインストールでは、以下の必要条件を満たしていることを確認してください。
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      リモートリポジトリ:稼働中のネットワーク接続を持つHTTP、FTP、またはSMB
     </para>
    </listitem>
    <listitem>
     <para>
      ターゲットシステムでネットワーク接続が動作していること
     </para>
    </listitem>
    <listitem>
     <para>
      ネットワーク接続が動作しており、現在使用中のSSHクライアントソフトウェアがある制御システム
     </para>
    </listitem>
    <listitem>
     <para>
      ターゲットシステムのブート用物理ブートメディア(CD、DVD、またはUSBフラッシュドライブ)
     </para>
    </listitem>
    <listitem>
     <para>
      IPアドレスを提供するDHCPサーバが動作していること
     </para>
    </listitem>
   </itemizedlist>
   <procedure id="proc.deployment.remoteinst.scenario.sshdyn">
    <para>
     このタイプのインストールを実行するには、以下の手順に従います。
    </para>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.remoteinst.instserver"/>で説明されている方法でリポジトリソースを設定します。NFS、HTTP、またはFTPのネットワークサーバを選択します。SMBリポジトリの場合は、<xref linkend="sec.deployment.remoteinst.instserver.smb"/>を参照してください。
     </para>
    </step>
    <step performance="required">
     <para>
      <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>メディアキットのDVD1を使用して、ターゲットシステムをブートします。
     </para>
    </step>
    <step performance="required">
     <para>
      ターゲットシステムのブート画面が表示されたら、ブートオプションプロンプトで、ネットワーク接続、インストールソースの場所、SSHの有効化のための適切なパラメータを設定します。これらのパラメータの使用方法についての詳細は、<xref linkend="sec.deployment.remoteinst.bootinst.custom"/>を参照してください。
     </para>
     <para>
      ターゲットシステムはテキストベースの環境でブートします。SSHクライアントで使用するための、グラフィックインストール環境用のネットワークアドレスが表示されます。
     </para>
    </step>
    <step performance="required">
     <para>
      制御用のワークステーションで、ターミナルウィンドウを開いて、<xref linkend="sec.deployment.remoteinst.monitor.ssh.connect"/>で説明されている方法でターゲットシステムに接続します。
     </para>
    </step>
    <step performance="required">
     <para>
      <xref linkend="cha.inst"/>に説明されている方法でインストールを実行します。再起動後、ターゲットシステムに再接続して、インストールの最終作業を行います。
     </para>
    </step>
    <step performance="required">
     <para>
      インストールを完了します。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.scenario.sshpxe">
   <title>SSHによるリモートインストール—PXEブートとWake on LAN</title>
   <para>
    このタイプのインストールは、完全に無人で行えます。ターゲットマシンは、リモートで起動され、ブートされます。
   </para>
   <para>
    このタイプのインストールでは、以下の必要条件を満たしていることを確認してください。
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      リモートリポジトリ:稼働中のネットワーク接続を持つHTTP、FTP、またはSMB
     </para>
    </listitem>
    <listitem>
     <para>
      TFTPサーバ
     </para>
    </listitem>
    <listitem>
     <para>
      インストールを行うホストに静的IPアドレスを提供する、DHCPサーバがネットワークで動作していること
     </para>
    </listitem>
    <listitem>
     <para>
      ターゲットシステムにPXEブート、ネットワーク、およびWake on LANの機能があり、ネットワークに配線されて接続していること
     </para>
    </listitem>
    <listitem>
     <para>
      ネットワーク接続が動作しており、SSHクライアントソフトウェアがある、制御システム.
     </para>
    </listitem>
   </itemizedlist>
   <procedure id="proc.deployment.remoteinst.scenario.sshpxe">
    <para>
     このタイプのインストールを実行するには、以下の手順に従います。
    </para>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.remoteinst.instserver"/>で説明されている方法でリポジトリを設定します。NFS、HTTP、またはFTPのネットワークサーバを選択します。SMBリポジトリの設定については、<xref linkend="sec.deployment.remoteinst.instserver.smb"/>を参照してください。
     </para>
    </step>
    <step performance="required">
     <para>
      ターゲットシステムから取得するためのブートイメージを保持するTFTPサーバをセットアップします。これは<xref linkend="sec.deployment.remoteinst.boot.tftp"/>で説明されています。
     </para>
    </step>
    <step performance="required">
     <para>
      すべてのマシンにIPアドレスを提供し、ターゲットシステムにTFTPサーバの場所を知らせるためのDHCPサーバをセットアップします。これは<xref linkend="sec.deployment.remoteinst.boot.dhcp"/>で説明されています。
     </para>
    </step>
    <step performance="required">
     <para>
      ターゲットシステムでPXEブートの準備をします。この詳細は、<xref linkend="sec.deployment.remoteinst.boot.pxeprep"/>で説明しています。
     </para>
    </step>
    <step performance="required">
     <para>
      Wake on LAN機能を使って、ターゲットシステムでブートプロセスを開始します。これは<xref linkend="sec.deployment.remoteinst.boot.wol"/>で説明されています。
     </para>
    </step>
    <step performance="required">
     <para>
      制御用のワークステーションで、SSHクライアントを起動して、<xref linkend="sec.deployment.remoteinst.monitor.ssh"/>で説明されている方法でターゲットシステムに接続します。
     </para>
    </step>
    <step performance="required">
     <para>
      <xref linkend="cha.inst"/>に説明されている方法でインストールを実行します。再起動後、ターゲットシステムに再接続して、インストールの最終作業を行います。
     </para>
    </step>
    <step performance="required">
     <para>
      インストールを完了します。
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 id="sec.deployment.remoteinst.instserver">
  <title>インストールソースを保持するサーバのセットアップ</title>

  <para>
   <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>用のネットワークインストールソースとして使用するマシンで動作しているオペレーティングシステムに応じて、サーバ設定にはいくつかのオプションがあります。インストールサーバを設定する最も簡単な方法は、SUSE Linux Enterprise Server 11またはopensuse; 11.1以降でYaSTを使うことです。
  </para>

  <tip>
   <para>
    Linux展開用インストールサーバとしては、Microsoft Windowsコンピュータも使用できます。詳細については、<xref linkend="sec.deployment.remoteinst.instserver.smb"/>を参照してください。
   </para>
  </tip>

  <sect2 id="sec.deployment.remoteinst.instserver.sles9">
   <title>YaSTを使ったインストールサーバのセットアップ</title>
   <para>
    YaSTでは、ネットワークリポジトリ作成用のグラフィックツールを提供しています。HTTP、FTP、およびNFSによるネットワークインストールサーバをサポートしています。
   </para>
   <procedure id="proc.deployment.remoteinst.instserver.sles9">
    <step performance="required">
     <para>
      インストールサーバにするマシンに<systemitem class="username">root</systemitem>としてログインします。
     </para>
    </step>
    <step performance="required">
     <para>
      <menuchoice><guimenu>YaST</guimenu><guimenu>その他</guimenu><guimenu>インストールサーバ</guimenu></menuchoice>の順に選択します。
     </para>
    </step>
    <step performance="required">
     <para>
      リポジトリのタイプを選択します(HTTP、FTP、またはNFS)選択したサービスは、システム起動時に、毎回、自動的に開始されます。選択したタイプのサービスがシステム上ですでに動作していて、サーバ用に手動で設定する場合には、<guimenu>Do Not Configure Any Network Services</guimenu>をオンにして、サーバサービスの自動設定を無効にします。どちらの場合でも、サーバ上のインストールデータを保管するディレクトリを設定してください。
     </para>
    </step>
    <step performance="required">
     <para>
      必要なリポジトリタイプを設定します。このステップは、サーバサービスの自動設定と関係しています。自動設定を無効にした場合にはスキップされます。
     </para>
     <para>

      インストールデータを置くFTPまたはHTTPサーバのルートディレクトリのエイリアスを定義してください。リポジトリは、<literal>ftp://<replaceable>Server-IP</replaceable>/<replaceable>Alias</replaceable>/<replaceable>Name</replaceable></literal>(FTPの場合)または<literal>http://<replaceable>Server-IP</replaceable>/<replaceable>Alias</replaceable>/<replaceable>Name</replaceable></literal>(HTTPの場合)に格納されます。<replaceable>Name</replaceable>には、リポジトリの名前を指定します。リポジトリ名は、次のステップで定義します。前のステップでNFSを選択した場合には、ワイルドカードとエクスポートオプションを指定します。NFSサーバは、<literal>nfs://<replaceable>Server-IP</replaceable>/<replaceable>Name</replaceable></literal>でアクセスできます。NFSとエクスポートについての詳細は、<xref linkend="cha.nfs"/>を参照してください。
     </para>
     <tip>
      <title>ファイアウォールの設定</title>
      <para>
       サーバシステムのファイアウォール設定が、HTTP、NFS、およびFTPポートのトラフィックを許可していることを確認します。現在、そうでない場合は、まず、<guimenu>ファイアウォールでポートを開く</guimenu>を有効にするか、<guimenu>ファイアウォールの詳細</guimenu>をチェックします。
      </para>
     </tip>
    </step>
    <step performance="required">
     <para>
      リポジトリを設定します。インストール用メディアを宛先にコピーする前に、リポジトリの名前を定義します(製品とバージョンを示し、容易に覚えられる略語が望ましい)。YaSTでは、インストールDVDのコピーの代わりに、メディアのISOイメージを利用できます。そうする場合には、対応するチェックボックスをオンにして、ISOファイルをローカルに保管するディレクトリのパスを指定します。このインストールサーバで配布する製品によっては、さらにアドオンCDやサービスパックCDが必要になり、リポジトリとして追加しなければならない場合があります。ネットワーク内のインストールサーバについて知らせるためにOpenSLPを使う場合には、適切なオプションをオンにします。
     </para>
     <tip>
      <para>
       このオプションがネットワーク設定でサポートされている場合は、OpenSLPを介してリポジトリをアナウンスすることを検討してください。そうすれば、すべてのターゲットマシンでネットワークインストールパスを入力しなくてもよくなります。SLPブートオプションでブートされたターゲットシステムは、これ以上の設定を行わなくても、ネットワークリポジトリを検出します。このオプションについての詳細は、<xref linkend="sec.deployment.remoteinst.bootinst"/>を参照してください。
      </para>
     </tip>
    </step>
    <step performance="required">
     <para>
      インストールデータをアップロードします。インストールサーバの設定で最も時間がかかるステップは、実際のインストールメディアのコピーです。メディアをYaSTが要求する順序で挿入し、コピーの手順が終わるまで待ってください。ソースのコピーがすべて完了したら、既存リポジトリの概要に戻り、<guimenu>完了</guimenu>を選択して設定を終了します。
     </para>
     <para>
      インストールサーバは完全に設定されて、使用する準備ができました。これはシステムが起動するたびに、自動的に開始します。それ以上の操作は必要ありません。必要なのは、YaSTの最初のステップで選択したネットワークサービスの自動設定を無効にしていた場合に、サービスを手動で正しく設定し、開始することだけです。
     </para>
    </step>
   </procedure>
   <para>
    リポジトリを無効にするには、削除するリポジトリを選択してから、<guimenu>削除</guimenu>を選択します。システムからインストールデータが削除されます。ネットワークサービスを無効にする場合は、適切なYaSTモジュールを使用します。
   </para>
   <para>
    インストールサーバから製品バージョンの複数の製品に対してインストールデータを提供する必要がある場合には、YaSTインストールサーバモジュールを起動し、既存リポジトリの概要で<guimenu>追加</guimenu>を選択して、新しいリポジトリを設定します。
   </para>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.instserver.nfs">
   <title>NFSリポジトリの手動設定</title>
   
   <para>
    インストール用のNFSソースのセットアップは、主に2つのステップで行えます。最初のステップでは、インストールデータを保持するディレクトリ構造を作成して、インストールメディアをその構造にコピーします。2番目のステップでは、インストールデータを保持しているディレクトリをネットワークにエクスポートします。
   </para>
   <procedure id="proc.deployment.remoteinst.instserver.nfs.cdir">
    <para>
     インストールデータを保持するディレクトリを作成するには、次の手順に従います。
    </para>
    <step performance="required">
     <para>
      <systemitem class="username">root</systemitem>としてログインします。
     </para>
    </step>
    <step performance="required">
     <para>
      すべてのインストールデータを保持することになるディレクトリを作成し、このディレクトリに移動します。たとえば、次のようにします。
     </para>
<screen>mkdir install/<replaceable>product</replaceable>/<replaceable>productversion</replaceable>
cd install/<replaceable>product</replaceable>/<replaceable>productversion</replaceable></screen>
     <para>
      <replaceable>product</replaceable>は製品名の略語、<replaceable>productversion</replaceable>は製品名とバージョンを含む文字列で置き換えます。
     </para>
    </step>
    <step performance="required">
     <para>
      メディアキットに含まれているCDごとに、次のコマンドを実行します。
     </para>
     <substeps performance="required">
      <step performance="required">
       <para>
        インストールDVDの内容全体を、インストールサーバのディレクトリにコピーします。
       </para>
<screen>cp -a /media/<replaceable>path_to_your_DVD_drive .</replaceable></screen>
       <para>
        <replaceable>path_to_your_DVD_drive</replaceable>をDVDドライブの実際のパスで置き換えます。これは、使用しているシステムのドライブのタイプに応じて、<filename>cdrom</filename>、<filename>cdrecorder</filename>、<filename>dvd</filename>、または<filename>dvdrecorder</filename>になります。
       </para>
      </step>
      <step performance="required">
       <para>
        ディレクトリの名前をDVD番号に変更します。
       </para>
<screen>mv <replaceable>path_to_your_DVD_drive</replaceable> DVD<replaceable>x</replaceable></screen>
       <para>
        <replaceable>x</replaceable>は、DVDの実際の番号で置き換えてください。
       </para>
      </step>
     </substeps>
    </step>
   </procedure>
   <procedure id="proc.deployment.remoteinst.instserver.nfs.export">
    <para>
     <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>では、YaSTを使用してNFSでリポジトリをエクスポートできます。次の手順に従います。
    </para>
    <step performance="required">
     <para>
      <systemitem class="username">root</systemitem>としてログインします。
     </para>
    </step>
    <step performance="required">
     <para>
      <menuchoice><guimenu>YaST</guimenu><guimenu>ネットワークサービス</guimenu><guimenu>NFSサーバ</guimenu></menuchoice>の順に選択します。
     </para>
    </step>
    <step performance="required">
     <para>
      <guimenu>開始</guimenu>および<guimenu>ファイアウォール内でポートを開く</guimenu>をオンにして、<guimenu>次へ</guimenu>をクリックします。
     </para>
    </step>
    <step performance="required">
     <para>
      <guimenu>Add Directory</guimenu>を選択して、インストールソースのあるディレクトリ(この場合、<filename><replaceable>［productversion］</replaceable></filename>)に移動します。
     </para>
    </step>
    <step performance="required">
     <para>
      <guimenu>ホストの追加</guimenu>をクリックして、インストールデータのエクスポート先になるマシンのホスト名を入力します。ここでホスト名を指定する代わりに、ワイルドカード、ネットワークアドレス、またはネットワークのドメイン名を使用することもできます。適切なエクスポートオプションを入力するか、デフォルトのままにします。デフォルトでもほとんどのセットアップでは正しく動作します。NFS共有のエクスポートで私用される構文の詳細については<systemitem>exports</systemitem>の「man」ページを参照してください。
     </para>
    </step>
    <step performance="required">
     <para>
      <guimenu>完了</guimenu>をクリックします。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>のリポジトリを保持しているNFSサーバが自動的に起動し、ブートプロセスに統合されます。
     </para>
    </step>
   </procedure>
   <procedure id="proc.deployment.remoteinst.instserver.nfs.exportman">
    <para>
     YaST NFSサーバモジュールを使用する代わりに、NFSでリポジトリを手動でエクスポートする場合には、次の手順に従います。
    </para>
    <step performance="required">
     <para>
      <systemitem class="username">root</systemitem>としてログインします。
     </para>
    </step>
    <step performance="required">
     <para>
      <filename>/etc/exports</filename>ファイルを開いて、次の行を入力します。
     </para>
<screen>/<replaceable>productversion</replaceable> *(ro,root_squash,sync)</screen>
     <para>
      これにより、ディレクトリ<filename>/<replaceable>productversion</replaceable></filename>は、ネットワークに属している任意のホスト、またはこのサーバに接続している任意のホストにエクスポートされます。このサーバへのアクセスを制限するには、一般的なワイルドカード<literal>*</literal>の代わりにネットマスクまたはドメイン名を使用してください。詳細は、<systemitem>export</systemitem>のmanページを参照してください。設定ファイルを保存して終了します。
     </para>
    </step>
    <step performance="required">
     <para>
      NFSサービスを、システムブート時に起動するサーバのリストに追加するには、次のコマンドを実行します。
     </para>
<screen>systemctl enable nfsserver.service</screen>
    </step>
    <step performance="required">
     <para>
      <command>systemctl start nfsserver.service</command>を実行してNFSサーバを起動します。 後ほど、NFSサーバの設定を変更することが必要になった場合には、設定ファイルを修正して、<command>systemctl restart nfsserver.service</command>コマンドでNFSデーモンを再起動してください。
     </para>
    </step>
   </procedure>
   <procedure id="proc.deployment.remoteinst.instserver.nfs.slpann">
    <para>
     OpenSLPを使用してNFSサーバについてアナウンスし、ネットワーク内のすべてのクライアントにそのアドレスを知らせます。
    </para>
    <step performance="required">
     <para>
      <systemitem class="username">root</systemitem>としてログインします。
     </para>
    </step>
    <step performance="required">
     <para>
      次の行を使用して、<filename>/etc/slp.reg.d/install.suse.nfs.reg</filename>環境設定ファイルを作成します。
     </para>
<screen><?dbsuse-fo font-size="7pt"?>

# Register the NFS Installation Server
service:install.suse:nfs://$HOSTNAME/<replaceable>path_to_repository</replaceable>/DVD1,en,65535 
description=NFS Repository</screen>
     <para>
      <replaceable>path_to_instsource</replaceable>は、サーバ上のインストールソースへの実際のパスで置き換えます。
     </para>
    </step>
    <step performance="required">
     <para>
      <command>systemctl start slpd.service</command>で、OpenSLPデーモンを起動します。
     </para>
    </step>
   </procedure>
   <para os="sles">
    OpenSLPについての詳細は、<filename>/usr/share/doc/packages/openslp/</filename>のパッケージのドキュメント、または<xref linkend="cha.slp"/>を参照してください。NFSの詳細については、<xref linkend="cha.nfs"/>を参照してください。
   </para>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.instserver.ftp">
   <title>FTPリポジトリの手動設定</title>
   <para>
    FTPリポジトリの作成は、NFSリポジトリの作成と非常に似ています。FTPリポジトリも、OpenSLPを使用してネットワーク上にアナウンスすることができます。
   </para>
   <procedure id="proc.deployment.remoteinst.instserver.ftp">
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.remoteinst.instserver.nfs"/>で説明されているように、インストールソースを保持するディレクトリを作成します。
     </para>
    </step>
    <step performance="required">
     <para>
      インストールディレクトリの内容を配布するためのFTPサーバを設定します。
     </para>
     <substeps performance="required">
      <step performance="required">
       <para>
        <systemitem class="username">root</systemitem>としてログインし、YaSTソフトウェア管理を使用して<systemitem>vsftpd</systemitem>パッケージをインストールします。
       </para>
      </step>
      <step performance="required">
       <para>
        FTPサーバのルートディレクトリに入ります。
       </para>
<screen>cd <option>/srv/ftp</option></screen>
      </step>
      <step performance="required">
       <para>
        FTPのルートディレクトリに、インストールソースを保持するサブディレクトリを作成します。
       </para>
<screen>mkdir <replaceable>repository</replaceable></screen>
       <para>
        <replaceable>repository</replaceable>は、製品名で置き換えてください。
       </para>
      </step>
      <step performance="required">
       <para>
        既存のインストールリポジトリの内容を、FTPサーバのルート環境にマウントします。
       </para>
<screen>mount --bind <replaceable>path_to_repository</replaceable> /srv/ftp/<replaceable>repository</replaceable></screen>
       <para>
        <replaceable>path_to_repository</replaceable>と<replaceable>repository</replaceable>は、設定に合致する値で置き換えてください。この変更を永続的にする必要がある場合には、<filename>/etc/fstab</filename>に追加します。
       </para>
      </step>
      <step performance="required">
       <para>
        「<command>vsftpd</command>」と入力して、vsftpdを開始します。
       </para>
      </step>
     </substeps>
    </step>
    <step performance="required">
     <para>
      ネットワーク設定でサポートされている場合は、OpenSLPを使用してリポジトリをアナウンスします。
     </para>
     <substeps performance="required">
      <step performance="required">
       <para>
        次の行を使用して、<filename>/etc/slp.reg.d/install.suse.ftp.reg</filename>環境設定ファイルを作成します。
       </para>
<screen><?dbsuse-fo font-size="7pt"?>

# Register the FTP Installation Server
service:install.suse:ftp://$HOSTNAME/<replaceable>repository</replaceable>/DVD1,en,65535 
description=FTP Repository</screen>
       <para>
        <replaceable>repository</replaceable>は、サーバ上のリポジトリディレクトリの実際の名前で置き換えてください。<literal>service:</literal>の行は、連続した行として入力する必要があります。
       </para>
      </step>
      <step performance="required">
       <para>
        <command>systemctl start slpd.service</command>で、OpenSLPデーモンを起動します。
       </para>
      </step>
     </substeps>
    </step>
   </procedure>
   <tip os="sles">
    <title>YaSTによるFTPサーバの設定</title>
    <para>
     FTPインストールサーバを手動でなく、YaSTで設定する場合は、<xref linkend="cha.ftp"/>で、YaST FTPサーバモジュールの使用方法を参照してください。
    </para>
   </tip>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.instserver.http">
   <title>HTTPリポジトリの手動設定</title>
   <para>
    HTTPリポジトリの作成は、NFSリポジトリの作成と非常に似ています。HTTPリポジトリも、OpenSLPを使用してネットワーク上でアナウンスできます。
   </para>
   <procedure id="proc.deployment.remoteinst.instserver.http">
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.remoteinst.instserver.nfs"/>で説明されているように、インストールソースを保持するディレクトリを作成します。
     </para>
    </step>
    <step performance="required">
     <para>
      インストールディレクトリの内容を配布するためのHTTPサーバを設定します。
     </para>
     <substeps performance="required">
      <step performance="required">
       <para>
        <phrase os="sles"><xref linkend="sec.apache2.quickstart.installation"/>の説明に従って、WebサーバのApacheをインストールします。</phrase>
       </para>
      </step>
      <step performance="required">
       <para>
        HTTPサーバのルートディレクトリ(<filename>/srv/www/htdocs</filename>)に移動し、インストールソースを保持するサブディレクトリを作成します。
       </para>
<screen>mkdir <replaceable>repository</replaceable></screen>
       <para>
        <replaceable>repository</replaceable>は、製品名で置き換えてください。
       </para>
      </step>
      <step performance="required">
       <para>
        インストールソースの場所からWebサーバのルートディレクリ(<filename>/srv/www/htdocs</filename>)への、シンボリックリンクを作成します。
       </para>
<screen>ln -s <replaceable>/path_to_repository </replaceable>/srv/www/htdocs/<replaceable>repository</replaceable></screen>
      </step>
      <step performance="required">
       <para>
        HTTPサーバの設定ファイル(<filename>/etc/apache2/default-server.conf</filename>)を変更して、シンボリックリンクをたどるようにします。以下のように変更します。
       </para>
<screen>Options None</screen>
       <para>
        方法
       </para>
<screen>Options Indexes FollowSymLinks</screen>
      </step>
      <step performance="required">
       <para>
        <command>systemctl reload apache2.service</command>を使用して、HTTPサーバ設定を再ロードします。
       </para>
      </step>
     </substeps>
    </step>
    <step performance="required">
     <para>
      ネットワーク設定でサポートされている場合は、OpenSLPを使用してリポジトリをアナウンスします。
     </para>
     <substeps performance="required">
      <step performance="required">
       <para>
        次の行を使用して、<filename>/etc/slp.reg.d/install.suse.http.reg</filename>環境設定ファイルを作成します。
       </para>
<screen><?dbsuse-fo font-size="6.5pt"?>

# Register the HTTP Installation Server
service:install.suse:http://$HOSTNAME/<replaceable>repository</replaceable>/DVD1/,en,65535 
description=HTTP Repository</screen>
       <para>
        <replaceable>repository</replaceable>は、サーバ上のリポジトリへの実際のパスで置き換えてください。<literal>service:</literal>の行は、連続した行として入力する必要があります。
       </para>
      </step>
      <step performance="required">
       <para>
        <command>systemctl start slpd.service</command>で、OpenSLPデーモンを起動します。
       </para>
      </step>
     </substeps>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.instserver.smb">
   <title>SMBリポジトリの管理</title>
   <para>
    SMBを使用すれば、Linuxコンピュータがなくても、Microsoft Windowsサーバからインストールソースをインポートして、Linuxの導入を開始することができます。
   </para>
   <procedure id="proc.deployment.remoteinst.instserver.smb.export">
    <para>
     <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>リポジトリを保持する、エクスポートされたWindows共有を設定するには、次の手順に従います。
    </para>
    <step performance="required">
     <para>
      Windowsマシンにログインします。
     </para>
    </step>
    <step performance="required">
     <para>
      インストールツリー全体を保持する新しいディレクトリを作成し、名前(たとえば、<filename>INSTALL</filename>)を付けます。
     </para>
    </step>
    <step performance="required">
     <para>
      この共有を、Windowsのドキュメントで説明されている方法に従ってエクスポートします。
     </para>
    </step>
    <step performance="required">
     <para>
      この共有を入力し、「<filename><replaceable>product</replaceable></filename>」という名前のサブフォルダを作成します。<replaceable>product</replaceable>は、実際の製品名と置き換えます。
     </para>
    </step>
    <step performance="required">
     <para>
      <filename>INSTALL/<replaceable>product</replaceable></filename>ディレクトリに移動し、各DVDを個別のディレクトリ(たとえば、<literal>DVD1</literal>や<literal>DVD2</literal>)にコピーします。
     </para>
    </step>
   </procedure>
   <para>
    SMBをマウントした共有をリポジトリとして使用するには、次の手順に従います。
   </para>
   <procedure id="proc.deployment.remoteinst.instserver.smb.use">
    <step performance="required">
     <para>
      インストールターゲットをブートします。
     </para>
    </step>
    <step performance="required">
     <para>
      <guimenu>インストール</guimenu>を選択します。
     </para>
    </step>
    <step performance="required">
     <para>
      <keycap>F4</keycap>キーを押して、リポジトリを選択します。
     </para>
    </step>
    <step performance="required">
     <para>
      SMBを選択し、Windowsマシンの名前またはIPアドレス、共有名(この例では<filename>INSTALL/<replaceable>product</replaceable>/DVD1</filename>)、ユーザ名、およびパスワードを入力します。構文は次のとおりです。
     </para>
<screen>smb://workdomain;user:password@server/INSTALL/DVD1</screen>
     <para>
      &lt;<keycap function="enter">Enter</keycap>キーを押すと、YaSTが起動して、インストールを実行します。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.iso">
   <title>サーバ上のインストールメディアのISOイメージの使用</title>
   <para>
    サーバディレクトリに手動で物理メディアをコピーする代わりに、インストールサーバにインストールメディアのISOイメージをマウントして、リポジトリとして使用することもできます。メディアコピーの代わりに、ISOイメージを使用するHTTP、NFS、またはFTPサーバを設定するには、以下の手順に従ってください。
   </para>
   <procedure>
    <step performance="required">
     <para>
      ISOイメージをダウンロードして、それをインストールサーバとして使用するコンピュータに保存します。
     </para>
    </step>
    <step performance="required">
     <para>
      <systemitem class="username">root</systemitem>としてログインします。
     </para>
    </step>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.remoteinst.instserver.nfs"/>、<xref linkend="sec.deployment.remoteinst.instserver.ftp"/>、または<xref linkend="sec.deployment.remoteinst.instserver.http"/>の説明に従って、インストールデータの場所を選択、作成します。
     </para>
    </step>
    <step performance="required">
     <para>
      DVDごとにサブディレクトリを作成します。
     </para>
    </step>
    <step performance="required">
     <para>
      各ISOイメージを最終的な場所にマウントし、パックを解除するには、次のコマンドを実行します。
     </para>
<screen>mount -o loop <replaceable>path_to_iso</replaceable><replaceable>path_to_repository</replaceable>/<replaceable>product</replaceable>/<replaceable>mediumx</replaceable></screen>
     <para>
      <replaceable>path_to_iso</replaceable>をISOイメージのローカルコピーへのパスで置き換え、<replaceable>path_to_repository</replaceable>をサーバのソースディレクトリで置き換え、<replaceable>product</replaceable>を製品名で置き換え、<replaceable>mediumx</replaceable>を使用するメディアの種類(CDまたはDVD)と数で置き換えます。
     </para>
    </step>
    <step performance="required">
     <para>
      前のステップを繰り返して、製品に必要なすべてのISOイメージをマウントします。
     </para>
    </step>
    <step performance="required">
     <para>
      <xref linkend="sec.deployment.remoteinst.instserver.nfs"/>、<xref linkend="sec.deployment.remoteinst.instserver.ftp"/>、または<xref linkend="sec.deployment.remoteinst.instserver.http"/>の説明に従って、インストールサーバを開始します。
     </para>
    </step>
   </procedure>
   <para>
    ブート時にISOイメージを自動的にマウントするには、それぞれのマウントエントリを<filename>/etc/fstab</filename>に追加します。前の例のエントリは、次のようになります。
   </para>
<screen><replaceable>path_to_iso</replaceable> <replaceable>path_to_repository</replaceable>/<replaceable>product</replaceable><replaceable>medium</replaceable> auto loop</screen>
  </sect2>
 </sect1>
 <sect1 id="sec.deployment.remoteinst.boot">
  <title>ターゲットシステムのブートの準備</title>

  <para>
   このセクションでは、複雑なブートシナリオで必要となる設定タスクについて説明します。DHCP、PXEブート、TFTP、およびWake on LAN用の、すぐに使用できる設定例も含まれています。
  </para>

  <sect2 id="sec.deployment.remoteinst.boot.dhcp">
   <title>DHCPサーバのセットアップ</title>
   <para>
    DHCPサーバを設定するには、2種類の方法があります。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>のYaSTには、操作に使用するGUIが用意されています。設定ファイルは、手動で編集することもできます。<phrase os="sles">DHCPサーバの詳細については、<xref linkend="cha.dhcp"/>も参照してください。</phrase>
   </para>
   <sect3 id="sec.deployment.remoteinst.boot.dhcp.yast">
    <title>YaSTを使ったDHCPサーバのセットアップ</title>
    <para>
     TFTPサーバの場所をネットワーククライアントにアナウンスし、インストールターゲットが使用するブートイメージファイルを指定するには、DHCPサーバの設定に2つの宣言を追加します。
    </para>
    <procedure id="proc.deployment.remoteinst.boot.dhcp.yast">
     <step performance="required">
      <para>
       DHCPサーバのホストとなるマシンに<systemitem class="username">root</systemitem>としてログインします。
      </para>
     </step>
     <step performance="required">
      <para>
       <menuchoice><guimenu>YaST</guimenu><guimenu>ネットワークサービス</guimenu><guimenu>DHCPサーバ</guimenu></menuchoice>の順に選択します。
      </para>
     </step>
     <step performance="required">
      <para>
       基本的なDHCPサーバのセットアップウィザードを完了します。
      </para>
     </step>
     <step id="st.deployment.remoteinst.boot.dhcp.yast.expert" performance="required">
      <para>
       <guimenu>エキスパート設定</guimenu>を選択し、起動ダイアログ終了の警告メッセージが表示されたら、<guimenu>はい</guimenu>を選択します。
      </para>
     </step>
     <step performance="required">
      <para>
       <guimenu>設定済みの宣言</guimenu>ダイアログで、新しいシステムを配置するサブネットを選択して、<guimenu>編集</guimenu>をクリックします。
      </para>
     </step>
     <step performance="required">
      <para>
       <guimenu>サブネットの設定</guimenu>ダイアログで、<guimenu>追加</guimenu>を選択して、サブネットの設定に新しいオプションを追加します。
      </para>
     </step>
     <step performance="required">
      <para>
       <option>filename</option>を選択して、値に<literal>pxelinux.0</literal>を入力します。
      </para>
     </step>
     <step performance="required">
      <para>
       他のオプション(<option>next-server</option>)を追加して、TFTPサーバのアドレスを値に設定します。
      </para>
     </step>
     <step performance="required">
      <para>
       <guimenu>OK</guimenu>をクリックした後、<guimenu>完了</guimenu>を選択して、DHCPサーバの設定を完了します。
      </para>
     </step>
    </procedure>
    <para>
     特定のホストに静的IPアドレスを提供するようにDHCPを設定するには、DHCPサーバ設定モジュールの<guimenu>エキスパート設定</guimenu><xref linkend="st.deployment.remoteinst.boot.dhcp.yast.expert" xrefstyle="StepOnPage"/>から、ホストタイプの新たな宣言を追加します。このホスト宣言には、<option>hardware</option>および<option>fixed-address</option>オプションを追加して、適切な値を指定してください。
    </para>
   </sect3>
   <sect3 id="sec.deployment.remoteinst.boot.dhcp.man">
    <title>DHCPサーバの手動セットアップ</title>
    <para>
     すべてのDHCPサーバは、ネットワーククライアントへの自動アドレス割り当てのほか、TFTPサーバのIPアドレスとターゲットマシン上のインストールルーチンで取得する必要のあるファイルをアナウンスする必要があります。
    </para>
    <procedure id="proc.deployment.remoteinst.boot.dhcp.man">
     <step performance="required">
      <para>
       DHCPサーバのホストとなるマシンに<systemitem class="username">root</systemitem>としてログインします。
      </para>
     </step>
     <step performance="required">
      <para>
       <filename>/etc/dhcpd.conf</filename>にあるDHCPサーバの設定ファイルのサブネット設定に、次の行を追加します。
      </para>
<screen>subnet 192.168.1.0 netmask 255.255.255.0 { 
  range dynamic-bootp 192.168.1.200 192.168.1.228;
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <replaceable>ip_tftp_server</replaceable>;
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename  "pxelinux.0";
}</screen>
      <para>
       <replaceable>ip_of_the_tftp_server</replaceable>は、TFTPサーバの実際のIPアドレスで置き換えてください。<filename>dhcpd.conf</filename>で利用可能なオプションの詳細については、<systemitem>dhcpd.conf</systemitem>のマニュアルページを参照してください。
      </para>
     </step>
     <step performance="required">
      <para>
       <command>systemctl restart dhcpd.service</command>を実行して、DHCPサーバをリスタートします。
      </para>
     </step>
    </procedure>
    <para>
     PXEおよびWake on LANインストールのリモート制御にSSHを使う場合には、DHCPがインストールターゲットに提供するIPアドレスを明示的に指定してください。そのためには、上記のDHCP設定を、以下の例に従って修正します。
    </para>
<screen>group {
  # PXE related settings
  # 
  # "next-server" defines the TFTP server that will be used 
  next-server <replaceable>ip_tftp_server</replaceable>:
  # 
  # "filename" specifies the pxelinux image on the TFTP server 
  # the server runs in chroot under /srv/tftpboot
  filename "pxelinux.0";
  host test {
    hardware ethernet <replaceable>mac_address</replaceable>; 
    fixed-address <replaceable>some_ip_address</replaceable>;
    }
}
</screen>
    <para>
     host文は、インストールターゲットのホスト名になります。ホスト名とIPアドレスを特定のホストにバインドするには、そのシステムのハードウェア(MAC)アドレスを調べ、これを指定する必要があります。この例で使用されているすべての変数を、使用する環境にマッチする実際の値で置き換えてください。
    </para>
    <para>
     DHCPサーバをリスタートすると、サーバは指定されたホストに静的なIPを提供するので、そのシステムにSSHで接続することが可能になります。
    </para>
   </sect3>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.boot.tftp">
   <title>TFTPサーバのセットアップ</title>
   <para>
    SUSEベースのインストールを使用している場合は、YaSTを使用してTFTPサーバをセットできます。また、手動でTFTPサーバをセットアップすることもできます。TFTPサーバは、ターゲットシステムがブートして要求を送ったときに、ブートイメージを提供します。
   </para>
   <sect3 id="sec.deployment.remoteinst.boot.tftp.yast">
    <title>YaSTによるTFTPサーバのセットアップ</title>
    <procedure id="proc.deployment.remoteinst.boot.tftp.yast">
     <step performance="required">
      <para>
       <systemitem class="username">root</systemitem>としてログインします。
      </para>
     </step>
     <step performance="required">
      <para>
       <menuchoice><guimenu>YaST</guimenu><guimenu>ネットワークサービス</guimenu><guimenu>TFTPサーバ</guimenu></menuchoice>の順に選択して、要求されたパッケージをインストールします。
      </para>
     </step>
     <step performance="required">
      <para>
       <guimenu>有効にする</guimenu>をクリックして、サーバが起動し、ブートルーチンに含まれるようにします。この. xinetdがブート時にtftpdを起動するようにするために必要なユーザ操作はありません。
      </para>
     </step>
     <step performance="required">
      <para>
       <guimenu>ファイアウォール内でポートを開く</guimenu>をクリックして、マシンで動作しているファイアウォールで適切なポートを開きます。サーバでファイアウォールが動作していない場合には、このオプションは利用できません。
      </para>
     </step>
     <step performance="required">
      <para>
       <guimenu>参照</guimenu>をクリックして、ブートイメージのディレクトリを参照します。デフォルトのディレクトリ<filename>/tftpboot</filename>が作成され、自動的に選択されます。
      </para>
     </step>
     <step performance="required">
      <para>
       <guimenu>完了</guimenu>をクリックして、設定内容を適用し、サーバを起動します。
      </para>
     </step>
    </procedure>
   </sect3>
   <sect3 id="sec.deployment.remoteinst.boot.tftp.man">
    <title>TFTPサーバの手動セットアップ</title>
    <procedure id="proc.deployment.remoteinst.boot.tftp.man">
     <step performance="required">
      <para>
       <systemitem class="username">root</systemitem>としてログインして、<systemitem>tftp</systemitem>および<systemitem>xinetd</systemitem>パッケージをインストールします。
      </para>
     </step>
     <step performance="required">
      <para>
       もしまだ存在していなければ、<filename>/srv/tftpboot</filename>および<filename>/srv/tftpboot/pxelinux.cfg</filename>ディレクトリを作成します。
      </para>
     </step>
     <step performance="required">
      <para>
       <xref linkend="sec.deployment.remoteinst.boot.pxe"/>で説明されているように、ブートイメージに必要な、適切なファイルを追加します。
      </para>
     </step>
     <step performance="required">
      <para>
       /etc/xinetd.d/<filename>にあるxinetdの設定ファイルを変更して、ブート時にTFTPサーバが起動するようにします。</filename>
      </para>
      <substeps performance="required">
       <step performance="required">
        <para>
         もしまだ存在していなければ、<filename>touch tftp</filename>コマンドで、このディレクトリに<command>tftp</command>というファイルを作成します。それから<command>chmod 755 tftp</command>を実行します。
        </para>
       </step>
       <step performance="required">
        <para>
         <filename>tftp</filename>ファイルを開いて、次の行を入力します。
        </para>
<screen>service tftp 
{ 
        socket_type            = dgram
        protocol               = udp 
        wait                   = yes 
        user                   = root 
        server                 = /usr/sbin/in.tftpd 
        server_args            = -s /srv/tftpboot 
        disable                = no 
}
</screen>
       </step>
       <step performance="required">
        <para>
         このファイルを保存し、<command>rcxinetd restart</command>でxinetdをリスタートします。

        </para>
       </step>
      </substeps>
     </step>
    </procedure>
   </sect3>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.boot.pxe">
   <title>PXEブートの使用</title>
   <para>
    PXE (Preboot Execution Environment)の仕様書(<ulink url="http://www.pix.net/software/pxeboot/archive/pxespec.pdf"/>)では、いくらかの技術的な背景情報と、PXEの完全な仕様について知ることができます。
   </para>
   <procedure id="proc.deployment.remoteinst.boot.pxe">
    <step performance="required">
     <para>
      インストールリポジトリのディレクトリ<filename>boot/&lt;architecture&gt;/loader</filename>に移動し、次のコマンドの入力により、<filename>linux</filename>、<filename>initrd</filename>、<filename>message</filename>、<filename>biostest</filename>、および<filename>memtest</filename>の各ファイルを<filename>/srv/tftpboot</filename>ディレクトリにコピーします。
     </para>
<screen>cp -a linux initrd message biostest memtest /srv/tftpboot</screen>
    </step>
    <step performance="required">
     <para>
      YaSTで、インストールDVDから<systemitem>syslinux</systemitem>パッケージを直接インストールします。
     </para>
    </step>
    <step performance="required">
     <para>
      次のコマンドを入力して、<filename>/usr/share/syslinux/pxelinux.0</filename>ファイルを<filename>/srv/tftpboot</filename>ディレクトリにコピーします。
     </para>
<screen>cp -a /usr/share/syslinux/pxelinux.0 /srv/tftpboot
     </screen>
    </step>
    <step performance="required">
     <para>
      インストールリポジトリにディレクトリに移動し、次のコマンドを入力して、<filename>isolinux.cfg</filename>ファイルを<filename>/srv/tftpboot/pxelinux.cfg/default</filename>にコピーします。
     </para>
<screen>cp -a boot/&lt;architecture&gt;/loader/isolinux.cfg /srv/tftpboot/pxelinux.cfg/default
     </screen>
    </step>
    <step performance="required">
     <para>
      <filename>/srv/tftpboot/pxelinux.cfg/default</filename>ファイルを編集し、<literal>readinfo</literal>と<literal>framebuffer</literal>で始まる行を削除します。
     </para>
    </step>
    <step performance="required">
     <para>

      デフォルトの<option>failsafe</option>および<option>apic</option>ラベルのappend行に、以下のエントリを挿入します。
     </para>
     <variablelist>
      <varlistentry>
       <term><option>insmod=<replaceable>kernel module</replaceable></option>
       </term>
       <listitem>
        <para>
         このエントリを使用して、PXEクライアントでネットワークインストールを行うために必要なネットワークカーネルモジュールを指定します。<replaceable>kernel module</replaceable>には、ネットワークデバイスの適切なモジュール名を指定してください。
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term><option>netdevice=<replaceable>interface</replaceable></option>
       </term>
       <listitem>
        <para>
         このエントリは、ネットワークインストールで使用する、クライアントのネットワークインタフェースを定義します。これは、クライアントに複数のネットワークカードが装着されている場合にのみ必要です。適切に調整してください。ネットワークカードが1枚の場合には、このエントリは省略できます。
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>
<option>install=nfs://<replaceable>ip_instserver</replaceable>/<replaceable>path_to_repository</replaceable>/DVD1</option>
       </term>
       <listitem>
        <para>
         このエントリは、クライアントインストール用のNFSサーバとリポジトリを定義します。ip_instserver<replaceable>は、インストールサーバの実際のIPアドレスで置き換えてください。</replaceable><replaceable>path_to_repository</replaceable>は、リポジトリへの実際のパスで置き換える必要があります。HTTP、FTP、またはSMBのリポジトリについても、同様に指定します。ただし、プロトコルのプレフィックスは、<literal>http</literal>、<literal>ftp</literal>、または<literal>smb</literal>にする必要があります。
        </para>
        <important>
         <title>ブートオプションの追加</title>
         <para>
          SSHまたはVNCブートパラメータなどの、他のブートオプションをインストールルーチンに渡す必要がある場合には、それらを<option>install</option>エントリに追加します。パラメータの概要といくつかの例は、<xref linkend="sec.deployment.remoteinst.bootinst"/>を参照してください。
         </para>
        </important>
       </listitem>
      </varlistentry>
     </variablelist>
     <tip>
      <title>カーネルとInitrdのファイル名の変更</title>
      <para>
       カーネルとinitrdのイメージに異なるファイル名を使用することは可能です。これは、同じブートサーバから異なるオペレーティングシステムを提供する場合に便利です。ただし、PXE Boot用にTFTPによって設定されるファイル名にドットは1つしか許可されないので注意してください。
      </para>
     </tip>
     <para>
      <option>/srv/tftpboot/pxelinux.cfg/default</option>ファイルの例は、次のようなものです。リポジトリのプロトコルプレフィックスをネットワークの設定と一致するように調整し、<literal>install</literal>エントリに、オプション<literal>vnc</literal>と<literal>vncpassword</literal>、またはオプション<literal>usessh</literal>と<literal>sshpassword</literal>を追加することによって、インストーラの接続に適した方法を指定します。<literal>\</literal>で区切られている行は、改行や<literal>\</literal>なしに、連続する1行として入力する必要があります。
     </para>
<screen>default harddisk 
        
# default
label linux 
  kernel linux 
  append initrd=initrd ramdisk_size=65536 \
     install=nfs://<replaceable>ip_instserver</replaceable>/<replaceable>path_to_repository</replaceable>/<replaceable>product</replaceable>/DVD1 
	    
# repair
label repair
  kernel linux
  append initrd=initrd splash=silent repair=1 showopts

# rescue 
label rescue 
  kernel linux 
  append initrd=initrd ramdisk_size=65536 rescue=1 

# bios test
label firmware
  kernel linux
  append initrd=biostest,initrd splash=silent install=exec:/bin/run_biostest showopts

#  memory test 
label memtest 
  kernel memtest 

#  hard disk 
label harddisk
  localboot 0

implicit     0 
display      message
prompt       1 
timeout      100</screen>
    </step>
    <step performance="required">
     <para>
      <replaceable>ip_instserver</replaceable>と<replaceable>path_to_repository</replaceable>を設定で使用されている値で置き換えてください。
     </para>
     <para>
      以下のセクションは、このセットアップで使用するPXELINUXオプションの簡単なリファレンスとなっています。使用可能なオプションの詳細については、<filename>/usr/share/doc/packages/syslinux/</filename>にある、<systemitem>syslinux</systemitem>パッケージのドキュメントを参照してください。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.boot.pxeopts">
   <title>PXELINUXの設定オプション</title>
   <para>
    ここに記されているのは、PXELINUX設定ファイルで利用可能なオプションの一部です。
   </para>
   <variablelist>
    <varlistentry>
     <term><option>APPEND <replaceable>options... </replaceable></option>
     </term>
     <listitem>
      <para>
       カーネルコマンドラインに1つまたは複数のオプションを追加します。これらは、自動ブートと手動ブートのどちらの場合でも追加されます。オプションはカーネルコマンドラインの先頭に追加されるので、通常は、明示的に入力したカーネルオプションで上書きできます。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>APPEND -</option>
     </term>
     <listitem>
      <para>
       何も追加しません。<option>LABEL</option>セクション内で、<option>APPEND</option>に引数として1つのハイフンを付ければ、グローバルな<option>APPEND</option>を上書きすることができます。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>DEFAULT <replaceable>kernel options</replaceable>...</option>
     </term>
     <listitem>
      <para>
       デフォルトのカーネルコマンドラインを設定します。PXELINUXが自動的にブートする場合には、DEFAULTの後のエントリがブートプロンプトに対して入力されたときのように動作します。加えて、自動ブートであることを示すautoオプションも自動的に追加されます。
      </para>
      <para>
       設定ファイルが存在しない、または設定ファイル内にDEFAULTエントリが存在しない場合には、オプションの付かないカーネル名<quote>linux</quote>がデフォルトとなります。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>

     <term><option>IFAPPEND <replaceable>FLAG</replaceable></option>
     </term>
     <listitem>
      <para>
       <replaceable>FLAG</replaceable>値に応じて、特定のオプションをカーネルコマンドラインに追加します。<option>IFAPPEND</option>オプションは、PXELINUXでのみ使用可能です。<replaceable>FLAG</replaceable>では、<xref linkend="tab.deployment.boot.pxeopts.ifappend"/>で説明されている値が必要です:
      </para>
      <table id="tab.deployment.boot.pxeopts.ifappend">
       <title><option>IFAPPEND</option>から生成され、追加されたカーネルコマンドラインオプション</title>
       <tgroup cols="2">
        <colspec colwidth="1*"/>
        <colspec colwidth="4*"/>
        <thead>
         <row>
          <entry valign="middle">
           <para>
            引数
           </para>
          </entry>
          <entry>
           <para>
            生成されたカーネルコマンドライン/記述
           </para>
          </entry>
         </row>
        </thead>
        <tbody>
         <row>
          <entry>
           <para>
            <option>1</option>
           </para>
          </entry>
          <entry>
<screen>ip=<replaceable>CLIENT_IP</replaceable>:<replaceable>BOOT_SERVER_IP</replaceable>:<replaceable>GW_IP</replaceable>:<replaceable>NETMASK</replaceable></screen>
           <para>
            プレースホルダは、DHCP/BOOTPまたはPXEブートサーバからの入力に基づいて置換されます。
           </para>
           <para>
            このオプションは、ブートされたシステムでDHCPクライアントを実行するための代替品ではないことに注意してください。定期的な更新がない場合、PXE BIOSによって取得されたリースは期限切れになり、IPアドレスはDHCPサーバによる再使用で使用可能になります。
           </para>
          </entry>
         </row>
         <row>
          <entry>
           <para>
            <option>2</option>
           </para>
          </entry>
          <entry>
<screen>BOOTIF=<replaceable>MAC_ADDRESS_OF_BOOT_INTERFACE</replaceable></screen>
           <para>
            このオプションは、インストールサーバが、DHCPサーバからの返信を受け取るまで、LANインタフェースを交互に検索する場合に、タイムアウトを回避する場合に有用です。このオプションを使用すると、initrdプログラムはシステムがブートされたインタフェースから断定することができます。linuxrcではこのオプションを読み込み、このネットワークインタフェースを使用します。
           </para>
          </entry>
         </row>
         <row>
          <entry>
           <para>
            <option>4</option>
           </para>
          </entry>
          <entry>
<screen>SYSUUID=<replaceable>SYSTEM_UUID</replaceable></screen>
           <para>
            小文字16進数でUUIDを追加します。<filename>/usr/share/doc/packages/syslinux/pxelinux.txt</filename>を参照してください。
           </para>
          </entry>
         </row>
        </tbody>
       </tgroup>
      </table>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>LABEL <replaceable>label</replaceable> KERNEL <replaceable>image</replaceable> APPEND <replaceable>options</replaceable>...</option>
     </term>
     <listitem>
      <para>
       ブートするカーネルとして<replaceable>label</replaceable>が入力された場合、PXELINUXは代わりに<replaceable>image</replaceable>をブートし、ファイルのグローバルセクション(最初の<option>LABEL</option>コマンドの前)で指定されたものの代わりに、指定された<option>APPEND</option>オプションを使用します。<replaceable>image</replaceable>のデフォルトは<replaceable>label</replaceable>と同じです。また、<option>APPEND</option>が指定されなかった場合には、グローバルエントリがデフォルトとして使用されます(あれば)。最大で128の<option>LABEL</option>エントリが使用できます。
      </para>

      <para>
       PXELINUXは次の構文を使用します。
      </para>
<screen>label <replaceable>mylabel</replaceable> 
  kernel <replaceable>mykernel</replaceable> 
  append <replaceable>myoptions</replaceable></screen>
      <para>
       ラベルは、ファイル名の場合のように切り詰められるので、切り詰められた後も固有性が保たれるように決める必要があります。たとえば、<quote/>「v2.6.30」と<quote/>「v2.6.31」という2つのラベルは、PXELINUXでは区別できません。これらは切り詰められるとどちらも同じDOSファイル名になるからです。
      </para>
      <para>
       カーネルは、Linuxカーネルである必要はなく、ブートセクタやCOMBOOTファイルであっても構いません。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>LOCALBOOT <replaceable>type</replaceable></option>
     </term>
     <listitem>
      <para>
       PXELINUXでは、<option>KERNEL</option>オプションの代わりに<option>LOCALBOOT 0</option>を指定すると、 この特定のラベルが呼び出されて、カーネルブートの代わりにローカルディスクのブートが行われます。
      </para>
      <informaltable frame="topbot" rowsep="0">
       <tgroup cols="2">

        <thead>
         <row>
          <entry colname="1">
           <para>
            引数
           </para>
          </entry>
          <entry colname="2">
           <para>
            説明
           </para>
          </entry>
         </row>
        </thead>
        <tbody>
         <row>
          <entry colname="1">
           <para>
            <literal>0</literal>
           </para>
          </entry>
          <entry colname="2">
           <para>
            通常のブートを行う
           </para>
          </entry>
         </row>
         <row>
          <entry colname="1">
           <para>
            <literal>4</literal>
           </para>
          </entry>
          <entry colname="2">
           <para>
            まだメモリ上に常駐しているUNDI (Universal Network Driver Interface)ドライバを使用して、ローカルブートを行う
           </para>
          </entry>
         </row>
         <row>
          <entry colname="1">
           <para>
            <literal>5</literal>
           </para>
          </entry>
          <entry colname="2">
           <para>
            まだメモリ上に常駐しているUNDIドライバを含め、PXEスタック全体でローカルブートを行う
           </para>
          </entry>
         </row>
        </tbody>
       </tgroup>
      </informaltable>
      <para>
       他の値は定義されていません。UNDIやPXEスタックについて知らない場合は、<literal>0</literal>を指定してください。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>TIMEOUT <replaceable>time-out</replaceable></option>
     </term>
     <listitem>
      <para>
       自動的にブートする前に、ブートプロンプトをどれくらいの時間表示するかを指定します。単位は1/10秒です。タイムアウトは、ユーザがキーボードで何か入力するとキャンセルされます。この場合、ユーザがコマンドを入力するものとみなされます。タイムアウトの値を0に設定すると、タイムアウトは無効になります(これがデフォルトです)。タイムアウトの最大値は35996です(1時間よりほんの少しだけ短い時間です)。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>PROMPT<replaceable> flag_val</replaceable></option>
     </term>
     <listitem>
      <para>
       flag_val<option>を 0に設定すると、</option>Shift<keycap function="shift">か</keycap>Alt<keycap function="alt">キーが押された場合、または</keycap>Caps Lock<keycap>か</keycap>Scroll Lock<keycap>キーがセットされている場合にのみ、ブートプロンプトを表示します(デフォルト)。</keycap>flag_val<option>を1に設定すると、常にブートプロンプトを表示します。</option>
      </para>
<screen>F2  <replaceable>filename</replaceable>
F1  <replaceable>filename</replaceable> 
..etc... 
F9  <replaceable>filename</replaceable>
F10 <replaceable>filename</replaceable></screen>
      <para>
       ブートプロンプトでファンクションキーを押したときに、指定されたファイルを表示します。これは、ブート前のオンラインヘルプ(おそらく、カーネルコマンドラインオプションのヘルプ)の実装に使用できます。以前のリリースとの後方互換性のために、<keycap>F10</keycap>を<keycap>F0</keycap>として入力することもできます。現在のところ、<keycap>F11</keycap>と<keycap>F12</keycap>にファイル名を関連付けることはできないことに注意してください。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.boot.pxeprep">
   <title>ターゲットシステムでPXEブートの準備をする</title>
   <para>
    システムのBIOSで、PXEブートの準備をします。これには、BIOSのブート順でのPXEオプションの設定も含まれます。
   </para>
   <warning>
    <title>BIOSブートオーダー</title>
    <para>
     BIOSで、PXEオプションをハードディスクブートオプションの前に指定しないでください。さもないと、システムはブートのたびに再インストールを行おうとします。
    </para>
   </warning>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.boot.wolprep">
   <title>ターゲットシステムでWake on LANの準備をする</title>
   <para>
    Wake on LAN (WOL)では、インストールの前に適切なBIOSオプションを有効にすることが必要です。また、ターゲットシステムのMACアドレスを記録しておいてください。このデータは、Wake on LANを開始するために必要です。
   </para>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.boot.wol">
   <title>Wake on LAN</title>
   <para>
    Wake on LANを使えば、コンピュータのMACアドレスを含む特別なネットワークパケットを使って、コンピュータの電源を入れることができます。世界中のすべてのコンピュータは固有のMAC識別子を持っているので、間違って別のコンピュータの電源を入れてしまう心配はありません。
   </para>
   <important>
    <title>異なるネットワークセグメントにまたがるWake on LAN</title>
    <para>
     制御用のマシンが、起動すべきインストールターゲットと同じネットワークセグメント内にない場合には、WOL要求がマルチキャストとして送信されるように設定するか、またはそのネットワークセグメント内にあるマシンをリモートに制御して、要求の送信元として作動させてください。
    </para>
   </important>
   <para>
    SUSE Linux Enterprise Serverのユーザは、WOLと呼ばれるYaSTモジュールを使って、簡単にWake on LANを設定することができます。他のバージョンのSUSE LinuxベースのOSユーザは、コマンドラインツールを使用してください。
   </para>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.boot.wolyast">
   <title>YaSTを使ったWake on LAN</title>
   <procedure id="proc.deployment.remoteinst.boot.wolyast">
    <step performance="required">
     <para>
      <systemitem class="username">root</systemitem>としてログインします。
     </para>
    </step>
    <step performance="required">
     <para>
      <menuchoice><guimenu>YaST</guimenu><guimenu>ネットワークサービス</guimenu><guimenu>WOL</guimenu></menuchoice>の順に選択します。
     </para>
    </step>
    <step performance="required">
     <para>
      <guimenu>追加</guimenu>をクリックして、ターゲットシステムのホスト名とMACアドレスを入力します。
     </para>
    </step>
    <step performance="required">
     <para>
      このコンピュータの電源を入れるには、適切な項目を選択して、<guimenu>起動</guimenu>をクリックします。
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 id="sec.deployment.remoteinst.bootinst">
  <title>ターゲットシステムをインストールのためにブートする</title>

  <para>
   <xref linkend="sec.deployment.remoteinst.boot.wol"/>と<xref linkend="sec.deployment.remoteinst.boot.pxe"/>で説明されているものを別にして、インストール用のブートプロセスをカスタマイズする方法は2通りあります。デフォルトのブートオプションとファンクションキーを使用したり、インストールブート画面のブートオプションプロンプトを使用して、この特定のハードウェアでインストールカーネルが必要とするブートオプションを渡すことができます。
  </para>

  <sect2 id="sec.deployment.remoteinst.bootinst.opts">
   <title>デフォルトのブートオプションを使う</title>
   <para>
    ブートオプションの詳細については、<xref linkend="cha.inst"/>を参照してください。一般に、<guimenu>インストール</guimenu>を選択すると、インストールブートプロセスが開始します。
   </para>
   <para>
    問題が発生した場合は、<guimenu>インストール—ACPI無効</guimenu>または<guimenu>インストール—セーフ設定</guimenu>を使用します。インストールプロセスでのトラブルシューティングについての詳細は、<xref linkend="sec.trouble.install"/>を参照してください。
   </para>
   <para>
    画面の下部にあるメニューバーには、セットアップで必要になる、いくつかの高度な機能が用意されています。Fキーを使えば、これらのパラメータの構文の詳細を知らなくても、インストールルーチンに渡す付加オプションを指定できます(<xref linkend="sec.deployment.remoteinst.bootinst.custom"/>を参照)。使用可能な機能ｷｰの詳細については、<xref linkend="sec.i.yast2.bootscreen"/>を参照してください。
   </para>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.bootinst.custom">
   <title>カスタムブートオプションの使用</title>
   <para>
    適切なブートオプションのセットを使えば、インストールの手順を容易にすることができます。多くのパラメータは、後ほどlinuxrcルーチンを使って設定することもできますが、ブートオプションを使用するほうが簡単です。いくつかのの自動セットアップでは、ブートオプションを<filename>initrd</filename>または<filename>info</filename>ファイルで設定することもできます。
   </para>
   <para>
    次のテーブルでは、この章で説明したすべてのインストールシナリオと、ブートに必要なパラメータ、および対応するブートオプションを示します。インストールルーチンに渡すブートオプション文字列を決めるには、このテーブルに表示されている順序で、それらをすべてつなげてください。たとえば次のようになります(すべてを1行で記述します)。
   </para>
<screen>install=<replaceable>xxx</replaceable> netdevice<replaceable>=xxx</replaceable> hostip=<replaceable>xxx</replaceable> netmask=<replaceable>xxx</replaceable> vnc=<replaceable>xxx</replaceable> vncpassword=<replaceable>xxx</replaceable></screen>

   <para>
    この文字列内の値<replaceable>xxx</replaceable>は、すべて、設定に適した値で置き換えます。
   </para>
   <variablelist id="tab.deployment.remoteinst.bootinst.custom">
    <varlistentry>
     <term><xref linkend="cha.inst"/>
     </term>
     <listitem>
      <formalpara>
       <title>ブートに必要なパラメータ</title>
       <para>
        なし
       </para>
      </formalpara>
      <formalpara>
       <title>ブートオプション</title>
       <para>
        必要なし
       </para>
      </formalpara>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><xref linkend="sec.deployment.remoteinst.scenario.vncstat"/>
     </term>
     <listitem>
      <itemizedlist spacing="compact" mark="bullet">
       <title>ブートに必要なパラメータ</title>
       <listitem>
        <para>
         インストールサーバの場所
        </para>
       </listitem>
       <listitem>
        <para>
         ネットワークデバイス
        </para>
       </listitem>
       <listitem>
        <para>
         IPアドレス
        </para>
       </listitem>
       <listitem>
        <para>
         ネットマスク
        </para>
       </listitem>
       <listitem>
        <para>
         ゲートウェイ
        </para>
       </listitem>
       <listitem>
        <para>
         VNCの有効化
        </para>
       </listitem>
       <listitem>
        <para>
         VNCのパスワード
        </para>
       </listitem>
      </itemizedlist>
      <itemizedlist spacing="compact" mark="bullet">
       <title>ブートオプション</title>
       <listitem>
        <para>
         <filename>install=(nfs,http, ftp,smb)://<replaceable>path_to_instmedia</replaceable></filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>netdevice=<replaceable>some_netdevice</replaceable></filename> (複数のネットワークデバイスが利用可能な場合にのみ必要)
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>hostip=<replaceable>some_ip</replaceable> </filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>netmask=<replaceable>some_netmask</replaceable> </filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>gateway=<replaceable>ip_gateway</replaceable> </filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>vnc=1</filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>vncpassword=<replaceable>some_password</replaceable> </filename>
        </para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><xref linkend="sec.deployment.remoteinst.scenario.vncdyn"/>
     </term>
     <listitem>
      <itemizedlist spacing="compact" mark="bullet">
       <title>ブートに必要なパラメータ</title>
       <listitem>
        <para>
         インストールサーバの場所
        </para>
       </listitem>
       <listitem>
        <para>
         VNCの有効化
        </para>
       </listitem>
       <listitem>
        <para>
         VNCのパスワード
        </para>
       </listitem>
      </itemizedlist>
      <itemizedlist spacing="compact" mark="bullet">
       <title>ブートオプション</title>
       <listitem>
        <para>
         <filename>install=(nfs,http, ftp,smb)://<replaceable>path_to_instmedia</replaceable></filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <literal>vnc=1</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>vncpassword=<replaceable>some_password</replaceable> </filename>
        </para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><xref linkend="sec.deployment.remoteinst.scenario.vncpxe"/>
     </term>
     <listitem>
      <itemizedlist spacing="compact" mark="bullet">
       <title>ブートに必要なパラメータ</title>
       <listitem>
        <para>
         インストールサーバの場所
        </para>
       </listitem>
       <listitem>
        <para>
         TFTPサーバの場所
        </para>
       </listitem>
       <listitem>
        <para>
         VNCの有効化
        </para>
       </listitem>
       <listitem>
        <para>
         VNCのパスワード
        </para>
       </listitem>
      </itemizedlist>
      <formalpara>
       <title>ブートオプション</title>
       <para>
        適用されない。プロセスはPXEとDHCPによって管理される
       </para>
      </formalpara>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><xref linkend="sec.deployment.remoteinst.scenario.sshstat"/>
     </term>
     <listitem>
      <itemizedlist spacing="compact" mark="bullet">
       <title>ブートに必要なパラメータ</title>
       <listitem>
        <para>
         インストールサーバの場所
        </para>
       </listitem>
       <listitem>
        <para>
         ネットワークデバイス
        </para>
       </listitem>
       <listitem>
        <para>
         IPアドレス
        </para>
       </listitem>
       <listitem>
        <para>
         ネットマスク
        </para>
       </listitem>
       <listitem>
        <para>
         ゲートウェイ
        </para>
       </listitem>
       <listitem>
        <para>
         SSHの有効化
        </para>
       </listitem>
       <listitem>
        <para>
         SSHのパスワード
        </para>
       </listitem>
      </itemizedlist>
      <itemizedlist spacing="compact" mark="bullet">
       <title>ブートオプション</title>
       <listitem>
        <para>
         <filename>install=(nfs,http, ftp,smb)://<replaceable>path_to_instmedia</replaceable></filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>netdevice=<replaceable>some_netdevice</replaceable></filename> (複数のネットワークデバイスが利用可能な場合にのみ必要)
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>hostip=<replaceable>some_ip</replaceable> </filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>netmask=<replaceable>some_netmask</replaceable> </filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>gateway=<replaceable>ip_gateway</replaceable> </filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <literal>usessh=1</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>sshpassword=<replaceable>some_password</replaceable> </filename>
        </para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><xref linkend="sec.deployment.remoteinst.scenario.sshdyn"/>
     </term>
     <listitem>
      <itemizedlist spacing="compact" mark="bullet">
       <title>ブートに必要なパラメータ</title>
       <listitem>
        <para>
         インストールサーバの場所
        </para>
       </listitem>
       <listitem>
        <para>
         SSHの有効化
        </para>
       </listitem>
       <listitem>
        <para>
         SSHのパスワード
        </para>
       </listitem>
      </itemizedlist>
      <itemizedlist spacing="compact" mark="bullet">
       <title>ブートオプション</title>
       <listitem>
        <para>
         <filename>install=(nfs,http, ftp,smb)://<replaceable>path_to_instmedia</replaceable></filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>usessh=1</filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>sshpassword=<replaceable>some_password</replaceable> </filename>
        </para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><xref linkend="sec.deployment.remoteinst.scenario.sshpxe"/>
     </term>
     <listitem>
      <itemizedlist spacing="compact" mark="bullet">
       <listitem>
        <para>
         インストールサーバの場所
        </para>
       </listitem>
       <listitem>
        <para>
         TFTPサーバの場所
        </para>
       </listitem>
       <listitem>
        <para>
         SSHの有効化
        </para>
       </listitem>
       <listitem>
        <para>
         SSHのパスワード
        </para>
       </listitem>
      </itemizedlist>
      <formalpara>
       <title>ブートオプション</title>
       <para>
        適用されない。プロセスはPXEとDHCPによって管理される
       </para>
      </formalpara>
     </listitem>
    </varlistentry>
   </variablelist>
   <tip>
    <title>linuxrcブートオプションの詳細情報</title>
    <para>
     Linuxシステムのブートに使用するlinuxrcブートオプションの詳細については、<ulink url="http://en.opensuse.org/SDB:Linuxrc"/>を参照してください。
    </para>
   </tip>
   <sect3 id="sec.deployment.remoteinst.bootinst.custom.addon">
    <title>アドオン製品およびドライバの更新のインストール</title>
    <para>
     <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>は、拡張機能を提供するアドオン製品(たとえば、SUSE Linux Enterprise High Availability Extension)、サードパーティ製品、およびドライバまたは追加のソフトウェアのインストールをサポートしています。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>をリモートで展開する場合に、アドオン製品を自動的にインストールするには、<literal>addon=<replaceable>REPOSITORY</replaceable></literal>パラメータを指定します。
    </para>
    <para>
     <replaceable>REPOSITORY</replaceable>は、YaST (YaST2またはYUM　(rpm-md))により読み込み可能なホストされたリポジトリである必要があります。現在、ISOイメージはサポートされていません。
    </para>
    <tip>
     <title>ドライバの更新</title>
     <para>
      ドライバの更新については、<ulink url="http://drivers.suse.com/"/>を参照できます。必ずしもすべてのドライバの更新がリポジトリとして提供されているとは限らず、一部はISOイメージとしてのみ使用可能なので、<literal>addon</literal>パラメータでインストールすることはできません。ISOイメージによるドライバの更新のインストール方法の手順については、<ulink url="http://drivers.suse.com/doc/SolidDriver/Driver_Kits.html"/>から入手可能です。
     </para>
    </tip>
   </sect3>
  </sect2>
 </sect1>
 <sect1 id="sec.deployment.remoteinst.monitor">
  <title>インストールプロセスのモニタ</title>

  <para>
   インストールプロセスをリモートにモニタするには、いくつかの方法があります。インストールのためのブートで、適切なブートオプションを選択すれば、VNCまたはSSHを使って、リモートのワークスレーションからインストールとシステム設定を制御することができます。
  </para>

  <sect2 id="sec.deployment.remoteinst.monitor.vnc">
   <title>VNCによるインストール</title>
   <para>
    VNCビューアソフトウェアを使えば、事実上どのオペレーティングシステムからでも、<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>のインストールをリモートで制御することができます。このセクションでは、VNCビューアアプリケーションまたはWebブラウザを使うセットアップについて説明します。
   </para>
   <sect3 id="sec.deployment.remoteinst.monitor.vnc.prep">
    <title>VNCによるインストールの準備</title>
    <para>
     VNCによるインストールを準備するために、インストールターゲット上で行う必要のあることは、インストールのための初期ブートで適切なブートオプションを選択することだけです(<xref linkend="sec.deployment.remoteinst.bootinst.custom"/>を参照)。ターゲットシステムはテキストベースの環境にブートして、VNCクライアントがインストールプログラムに接続するのを待ちます。
    </para>
    <para>
     インストールプログラムは、インストーラに接続するために必要なIPアドレスとディスプレイ番号をアナウンスします。ターゲットシステムに物理的にアクセスしている場合には、この情報はシステムがインストールのためにブートした直後に表示されます。VNCソフトウェアが要求してきたときにこのデータを入力し、VNCパスワードを入力してください。
    </para>
    <para>
     インストールターゲットはOpenSLPによってアナウンスを行うので、ネットワークセットアップ、およびすべてのマシンがOpenSLPをサポートしていれば、物理的にアクセスしなくても、SLPブラウザによってインストールターゲットのアドレス情報を取得できます。
    </para>
    <procedure id="proc.deployment.remoteinst.monitor.vnc.prep">
     <title>OpenSLPを介してVNCインストールを見つける</title>
     <step performance="required">
      <para>
       <command>slptool findsrvtypes | grep vnc</command>を実行して、vncを提供するすべてのサービスのリストを取得します。vncインストールターゲットは、<literal>YaST.installation.suse</literal>という名前のサービスの下に表示されます。
      </para>
     </step>
     <step performance="required">
      <para>
       <command>slptool findsrvs <replaceable>YaST.installation.suse</replaceable></command>を実行して、使用可能なインストールのリストを取得します。VNCビューアで提供されているIPアドレスとポート(通常は<systemitem>5901</systemitem>)を使用します。
      </para>
     </step>
    </procedure>
   </sect3>
   <sect3 id="sec.deployment.remoteinst.monitor.vnc.connect">
    <title>インストールプログラムへの接続</title>
    <para>
     VNCサーバ(この場合はインストールターゲット)に接続するには2通りの方法があります。任意のオペレーティングシステムで独立したVNCビューアアプリケーションを起動することもできますし、Java対応のWebブラウザを使って接続することもできます。
    </para>
    <para>
     VNCを使えば、Linuxシステムのインストールを、他のLinux、Windows、Mac OSなど、他の任意のオペレーティングシステムから制御できます。
    </para>
    <para>
     Linuxマシンでは、<systemitem>tightvnc</systemitem>パッケージがインストールされていることを確認してください。Windowsマシンでは、このソフトウェアのWindows移植版をインストールしてください。これは、TightVNCのホームページから入手できます(<ulink url="http://www.tightvnc.com/download.html"/>)。
    </para>
    <procedure id="proc.deployment.remoteinst.monitor.vnc.connect.app">
     <para>
      ターゲットマシンで動作しているインストールプログラムに接続するには、以下の手順に従います。
     </para>
     <step performance="required">
      <para>
       VNCビューアを起動します。
      </para>
     </step>
     <step performance="required">
      <para>
       SLPブラウザ、またはインストールプログラム自体から提供された、インストールターゲットのIPアドレスとディスプレイ番号を入力します。

      </para>
<screen><replaceable>ip_address</replaceable>:<replaceable>display_number</replaceable></screen>
      <para>
       デスクトップにウインドウが開き、その中に、通常のローカルインストールの場合と同様に、YaSTの画面が表示されます。
      </para>
     </step>
    </procedure>
    <para>
     インストールプログラムに接続するためにWebブラウザを使えば、VNCソフトウェアや、基になるオペレーティングシステムに依存しなくてすみます。ブラウザアプリケーションでJavaのサポートが有効になっているものであれば、Linuxシステムのインストールのために、どのブラウザでも使用できます(Firefox、Internet Explorer、Chromium、Operaなど)。
    </para>
    <para>
     VNCによるインストールを実行する場合、以下の手順に従います。
    </para>
    <procedure id="proc.deployment.remoteinst.monitor.vnc.connect.brow">
     <step performance="required">
      <para>
       使用しているWebブラウザを起動します。
      </para>
     </step>
     <step performance="required">
      <para>
       アドレスに以下のように入力します。

      </para>
<screen>http://<replaceable>ip_address_of_target</replaceable>:5801</screen>
     </step>
     <step performance="required">
      <para>
       要求されたときにはVNCパスワードを入力します。ブラウザウィンドウに、通常のローカルインストールの場合のように、YaSTの画面が表示されます。
      </para>
     </step>
    </procedure>
   </sect3>
  </sect2>

  <sect2 id="sec.deployment.remoteinst.monitor.ssh">
   <title>SSHによるインストール</title>
   <para>
    SSHを使えば、任意のSSHクライアントソフトウェアによって、Linuxマシンのインストールを制御することができます。
   </para>
   <sect3 id="sec.deployment.remoteinst.monitor.ssh.prep">
    <title>SSHによるインストールの準備</title>
    <para>
     ソフトウェアパッケージ(LinuxではOpenSSH、WindowsではPuTTY)のインストールの他に、SSHによるインストールのために適切なブートオプションを渡す必要があります。詳細については、<xref linkend="sec.deployment.remoteinst.bootinst.custom"/>を参照してください。OpenSSHは、SUSE Linuxベースのオペレーティングシステムであれば、デフォルトでインストールされています。
    </para>
   </sect3>
   <sect3 id="sec.deployment.remoteinst.monitor.ssh.connect">
    <title>インストールプログラムへの接続</title>
    <procedure id="proc.deployment.remoteinst.monitor.ssh.connect">
     <step performance="required">
      <para>
       インストールターゲットのIPアドレスを取得します。ターゲットマシンに物理的にアクセスできる場合には、初期ブート後のコンソールにインストールプログラムが表示するIPアドレスを記録してください。または、DHCPサーバ設定によって特定のホストに割り当てられたIPアドレスを調べてください。
      </para>
     </step>
     <step performance="required">
      <para>
       コマンドラインで次のコマンドを入力します。
      </para>
<screen>ssh -X root@<replaceable>
ip_address_of_target</replaceable></screen>
      <para>
       <replaceable>ip_address_of_target</replaceable>は、インストールターゲットの実際のIPアドレスで置き換えてください。
      </para>
     </step>
     <step performance="required">
      <para>
       ユーザ名を求められたら、「<literal>root</literal>」と入力します。
      </para>
     </step>
     <step performance="required">
      <para>
       パスワードを求められたら、SSHのブートオプションで設定したパスワードを入力します。正しく認証されると、インストールターゲットのコマンドプロンプトが表示されます。
      </para>
     </step>
     <step performance="required">
      <para>
       「<command>yast</command>」と入力して、インストールプログラムを起動します。<xref linkend="cha.inst"/>で説明されているように、ウィンドウが開いて、通常のYaSTの画面が表示されます。
      </para>
     </step>
    </procedure>
   </sect3>
  </sect2>
 </sect1>
</chapter>
