<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_sound.xml" version="5.0" xml:id="sec-yast-hw-sound">
 <title>サウンドカードの設定</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  YaSTでは、ほとんどのサウンドカードが自動的に検出され、適切な値で設定されます。デフォルト設定を変更する場合や自動設定できなかったサウンドカードを設定する場合は、YaSTのサウンドモジュールを使用します。このモジュールでは、追加のサウンドカードを設定したり、サウンドカードの順序を切り替えることもできます。
 </para>

 <para>
  サウンドモジュールを起動するには、YaSTを起動し、<menuchoice>
  <guimenu>ハードウェア</guimenu> <guimenu>サウンド</guimenu> </menuchoice>の順にクリックします。<systemitem class="username">root</systemitem>ユーザとしてコマンドラインで<command>yast2 sound &amp;</command>を実行して、<guimenu>サウンド設定</guimenu>ダイアログを直接起動することもできます。サウンドモジュールが使用できない場合は、<command>sudo zypper install yast2-sound</command>コマンドを使用してインストールします。
 </para>

 <procedure xml:id="pro-yast2-sound-add">
  <title>サウンドカードの設定</title>
  <para>
   新しいサウンドカードを追加した場合または既存のサウンドカードをYaSTで自動設定できなかった場合は、以下の手順を実行します。新しいサウンドカードを設定するには、サウンドカードのベンダとモデルを知っている必要があります。不確かな場合は、サウンドカードのマニュアルを参照して、必要な情報を取得してください。ALSAでサポートされているサウンドカードとその対応サウンドモジュールの参照リストについては、<link xlink:href="http://www.alsa-project.org/main/index.php/Matrix:Main"/>を参照してください
  </para>
  <para>
   設定時には、次のセットアップオプションから選択できます。
  </para>
  <variablelist>
   <varlistentry>
    <term><guimenu>簡易自動設定</guimenu>
    </term>
    <listitem>
     <para>
      設定手順をこれ以上実行する必要はありません。サウンドカードは自動的に設定されます。後で変更できるボリュームなどのオプションを設定できます。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>標準の設定</guimenu>
    </term>
    <listitem>
     <para>
      設定中に、出力音量を調整し、テストサウンドを再生できます。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>詳細設定</guimenu>
    </term>
    <listitem>
     <para>
      熟練者専用。サウンドカードのすべてのパラメータをカスタマイズできます。
     </para>
     <important>
      <title>詳細設定</title>
      <para>
       やるべきことを正確に知っている場合のみ、このオプションを使用してください。そうでない場合は、ここのパラメータをいじらず、標準設定か簡易設定のオプションを使用します。
      </para>
     </important>
    </listitem>
   </varlistentry>
  </variablelist>
  <step>
   <para>
    YaSTのサウンドモジュールを起動します。
   </para>
  </step>
  <step>
   <para>
    検出済みだが、<guimenu>まだ設定されていません</guimenu>が選択されているサウンドカードを設定するには、リストから各エントリを選択して<guimenu>編集</guimenu>をクリックします。
   </para>
   <para>
    新しいサウンドカードを設定するには、<guimenu>追加</guimenu>をクリックします。サウンドカードのベンダとモデルを選択し、<guimenu>次へ</guimenu>をクリックします。
   </para>
  </step>
  <step>
   <para>
    設定オプションの1つを選択し、<guimenu>次へ</guimenu>をクリックします。
   </para>
  </step>
  <step>
   <para>
    <guimenu>標準の設定</guimenu>を選択した場合は、<guimenu>テスト</guimenu>でサウンド設定をテストし、音量を調整できます。耳やスピーカーを傷めないよう、ボリュームの調整は10%程度から開始します。
   </para>
  </step>
  <step>
   <para>
    すべてのオプションが希望どおりに設定されたら、<guimenu>次へ</guimenu>をクリックします。
   </para>
   <para>
    <guimenu>サウンド設定</guimenu>ダイアログに、新しく設定されたか、または変更されたサウンドカードが表示されます。
   </para>
  </step>
  <step>
   <para>
    必要のなくなったサウンドカードの設定を削除するには、そのエントリを選択して、<guimenu>削除</guimenu>をクリックします。
   </para>
  </step>
  <step>
   <para>
    <guimenu>OK</guimenu>をクリックして、変更内容を保存し、YaSTのサウンドモジュールを終了します。
   </para>
  </step>
 </procedure>

 <procedure>
  <title>サウンドカードの設定を変更する</title>
  <step>
   <para>
    個々のサウンドカードの設定を変更する場合は(熟練者専用)、<guimenu>サウンド設定</guimenu>ダイアログでサウンドカードのエントリを選択し、<guimenu>編集</guimenu>をクリックします。
   </para>
   <para>
    これによって、<guimenu>サウンドカードの高度なオプション</guimenu>画面が開き、そこで、さまざまなパラメータを微調整できます。詳細については、<guimenu>ヘルプ</guimenu>をクリックします。
   </para>
  </step>
  <step>
   <para>
    設定済みのサウンドカードの音量を調節したり、サウンドカードをテストするには、<guimenu>サウンド設定</guimenu>ダイアログでサウンドカードのエントリを選択し、<guimenu>その他</guimenu>をクリックします。各メニュー項目を選択します。
   </para>
   <note>
    <title>YaSTのミキサー</title>
    <para>
     YaSTのミキサーの設定では、基本オプションのみを提供します。それらのオプションは、トラブルシューティング用です(たとえば、テストサウンドが聞こえるかどうかなど)。<menuchoice>
     <guimenu>その他</guimenu> <guimenu>音量</guimenu> </menuchoice>の順にクリックしてYaSTのミキサーの設定にアクセスします。サウンドオプションの日常的な使用と微調整には、デスクトップからミキサーアプレットを使用するか、または <command>alsasound</command>コマンドラインツールを使用します。
    </para>
   </note>
  </step>
  <step>
   <para>
    MIDIファイルを再生する場合は、<menuchoice> <guimenu>その他</guimenu>
    <guimenu>シーケンサの実行</guimenu> </menuchoice>の順に選択します。
   </para>
  </step>
  <step>
   <para>
    サポートされているサウンドカードが検出された場合は、MIDIファイルの再生用にサウンドフォントをインストールできます。
   </para>
   <substeps performance="required">
    <step>
     <para>
      元のドライバCD-ROMをCDまたはDVDのドライブに挿入します。
     </para>
    </step>
    <step>
     <para>
      <menuchoice> <guimenu>その他</guimenu> <guimenu>サウンドフォントのインストール</guimenu> </menuchoice>の順に選択して、SF2 SoundFonts™ をハードディスクにコピーします。このサウンドフォントは、<filename>/usr/share/sfbank/creative/ </filename>ディレクトリに保存されます。
     </para>
    </step>
   </substeps>
  </step>
  <step>
   <para>
    システムに複数のサウンドカードを設定した場合は、サウンドカードの順序を調節できます。サウンドカードをプライマリデバイスとして設定するには、<guimenu>サウンド設定</guimenu>でサウンドカードを選択し、<menuchoice> <guimenu>その他</guimenu> <guimenu>プライマリカードとして設定する</guimenu> </menuchoice>の順にクリックします。インデックス<literal>0</literal>のサウンドデバイスがデフォルトデバイスになり、システムとアプリケーションによって使用されます。
   </para>
  </step>
  <step>

   <para>
    <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>では、デフォルトでPulseAudioサウンドシステムが使用されます。このシステムは、複数のオーディオストリームのミックスを容易にする抽象レイヤであり、ハードウェアのどのような制限もバイパスします。PulseAudioサウンドシステムを有効または無効にするには、<menuchoice> <guimenu>その他</guimenu>
    <guimenu>PulseAudio設定</guimenu> </menuchoice>の順にクリックします。有効にした場合は、PulseAudioデーモンがサウンドの再生に使用されます。システム全体で別の設定を使用するには、<guimenu>PulseAudio Support (PulseAudioサポート)</guimenu>を無効にします。
   </para>
  </step>
 </procedure>

 <para>
  <guimenu>OK</guimenu>をクリックしてYaSTのサウンドモジュールを終了すると、すべてのサウンドカードの音量と設定が保存されます。ミキサーの設定は、<filename>/etc/asound.state</filename>ファイルに保存されます。ALSA設定データは、<filename>/etc/modprobe.d/sound</filename>ファイルの末尾に付加され、<filename>/etc/sysconfig/sound</filename>に書き込まれます。
 </para>
</chapter>
