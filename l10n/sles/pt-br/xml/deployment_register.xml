<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_register.xml" version="5.0" xml:id="cha-register-sle">
 <title>Registrando o SUSE Linux Enterprise e gerenciando módulos/extensões</title>
 <info>
  <abstract>
   <para>
    Para obter suporte técnico e atualizações de produtos, você precisa se registrar e ativar o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> no SUSE Customer Center. É recomendável o registro durante a instalação, pois isso permitirá instalar o sistema com as últimas atualizações e patches disponíveis. Contudo, se você estiver offline ou quiser ignorar a etapa de registro, poderá registrar a qualquer momento após a instalação do sistema.
   </para>
   <para>
    Os módulos e as extensões adicionam recursos ao sistema e permitem personalizá-lo de acordo com as suas necessidades. Esses componentes também precisam ser registrados e podem ser gerenciados com o YaST ou as ferramentas de linha de comando. Para obter mais detalhes, consulte também <xref linkend="article-modules"/>.
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>sim</dm:translation>
  </dm:docmanager>
 </info>

 <note>
  <title>Conta da SUSE</title>
  <para>
   O registro no SUSE Customer Center requer uma conta da SUSE. Se você ainda não tem uma conta da SUSE, vá para a home page do SUSE Customer Center (<link xlink:href="https://scc.suse.com/"/>) para criar uma.
  </para>
 </note>

 <tip>
  <title>Cancelando o registro de um sistema</title>
  <para>
   Para cancelar completamente o registro de um sistema, incluindo todos os módulos e as extensões, use a ferramenta de linha de comando <command>SUSEConnect</command>. O cancelamento do registro de um sistema remove sua entrada do servidor de registro e todos os repositórios de módulos, extensões e do próprio produto.
  </para>
  <screen><prompt>tux &gt; </prompt>sudo SUSEConnect -d</screen>
 </tip>

 <sect1 xml:id="sec-register-sle-installation">
  <title>Registrando durante a instalação</title>
  <para>
   A maneira mais fácil e recomendada de efetuar o registro é durante a instalação. Não apenas você instala o nível mais recente do patch do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, como também pode acessar todos os módulos e extensões sem ter que fornecer outra mídia de instalação. Isso também se aplica a todos os módulos ou extensões que você instalar. Para obter detalhes sobre o processo de registro, consulte a <xref linkend="sec-yast-install-scc-registration"/>.
  </para>
  <para>
   Se o sistema foi registrado com êxito durante a instalação, o YaST adiciona repositórios online fornecidos pelo SUSE Customer Center. Isso evitará problemas se as fontes de instalação locais não estiverem mais disponíveis e garantirá que você sempre obtenha as atualizações mais recentes dos repositórios online.
  </para>
 </sect1>

 <sect1 os="sles" xml:id="sec-register-sle-ay">
  <title>Registrando durante a implantação automatizada</title>
  <para>
   Se você implantar as instâncias automaticamente usando o AutoYaST, poderá registrar o sistema durante a instalação, fornecendo as respectivas informações no arquivo de controle do AutoYaST. Consulte a <xref linkend="CreateProfile-Register"/> para obter os detalhes.
  </para>
 </sect1>
 <sect1 xml:id="sec-register-sle-system">
  <title>Efetuando o registro do sistema instalado</title>
  <para>
   Se você ignorou o registro durante a instalação ou deseja registrar novamente o sistema, pode fazer isso a qualquer momento usando o módulo <guimenu>Registro de Produto</guimenu> do YaST ou a ferramenta de linha de comando <command>SUSEConnect</command>.
  </para>

  <sect2 xml:id="sec-register-sle-system-yast">
   <title>Registrando no YaST</title>
   <para>
    Para registrar o sistema, inicie <menuchoice><guimenu>YaST</guimenu>
    <guimenu>Software</guimenu> <guimenu>Registro de Produto</guimenu></menuchoice>. Primeiramente, registre o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> e, em seguida, escolha os módulos e as extensões que deseja disponibilizar.
   </para>

   <important>
    <title>Módulos e extensões</title>
    <para>
     Se você instalou o sistema ignorando o registro e fazendo a instalação usando a mídia SLE-15-SP3-Full-<replaceable>ARCH</replaceable>-GM-media1.iso, registre todos os módulos e as extensões escolhidos durante a instalação. Você receberá apenas atualizações e patches de segurança para os módulos e extensões já registrados.
    </para>
   </important>

   <procedure>
    <title>Registro de produto com o YaST</title>
    <step>
     <para>
      Inicie <menuchoice><guimenu>YaST</guimenu>
       <guimenu>Software</guimenu>  <guimenu>Registro de Produto</guimenu></menuchoice>.
     </para>
     <informalfigure>
      <mediaobject>
       <textobject role="description">
        <phrase>Caixa de diálogo <guimenu>Registro</guimenu> </phrase>
       </textobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="yast2_register_sles.png" width="75%" format="png"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="yast2_register_sles.png" width="100%" format="png"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Informe o endereço de <guimenu/>E-mail associado à conta do SUSE que você ou sua organização usa para gerenciar inscrições. Digite também o <guimenu>Código de registro</guimenu> que você recebeu com a cópia do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>.
     </para>
    </step>
    <step>
     <para>
      Por padrão, o sistema é registrado no SUSE Customer Center. Vá para a próxima etapa para realizar esse procedimento.
     </para>
     <para>
      Se a sua organização incluir servidores de registro locais, você poderá escolher um na lista de servidores detectados automaticamente ou inserir o URL em <guimenu>Registrar Sistema por meio do Servidor SMT local</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Escolha <guimenu>Próximo</guimenu> para iniciar o processo de registro. O <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> é registrado com o servidor escolhido, e os repositórios associados são adicionados ao sistema. A caixa de diálogo <guimenu>Seleção de Extensão e Módulo</guimenu> é aberta.
     </para>
     <informalfigure>
      <mediaobject>
       <textobject role="description">
        <phrase>Caixa de diálogo <guimenu>Seleção de Extensão e Módulo</guimenu> </phrase>
       </textobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="yast2_extension_list_sles.png" width="75%" format="png"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="yast2_extension_list_sles.png" width="100%" format="png"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Selecione todos os módulos e as extensões que você deseja disponibilizar no sistema. Você deve escolher pelo menos os módulos pré-selecionados (<guimenu>Módulo Basesystem</guimenu> <phrase os="sles"> e <guimenu>Módulo Server Applications</guimenu></phrase>). Escolha também qualquer outro módulo ou extensão que você adicionou durante a instalação. Observe que todas as extensões requerem códigos de registro adicionais, que podem incorrer em custos. Continue com <guimenu>Próximo</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Dependendo da sua seleção, você precisa aceitar um ou mais contratos de licença neste momento. Todos os componentes são registrados com o servidor escolhido, e os repositórios associados são adicionados ao sistema.
     </para>
    </step>
    <step>
     <para>
      O instalador de pacote do YaST é aberto para instalar pacotes de versão para cada módulo e, dependendo da sua seleção de módulos e extensões, pacotes adicionais. É altamente recomendado <emphasis>não desmarcar</emphasis> nenhum dos pacotes pré-selecionados. No entanto, você pode adicionar outros pacotes.
     </para>
     <informalfigure>
      <mediaobject>
       <textobject role="description">
        <phrase>Tela <guimenu>Resumo da Instalação</guimenu> </phrase>
       </textobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="yast2_extension_install_sles.png" width="75%" format="png"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="yast2_extension_install_sles.png" width="100%" format="png"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
     <para>
      Escolha <guimenu>Aceitar</guimenu> e <guimenu>Concluir</guimenu> para concluir o processo de registro.
     </para>
    </step>
   </procedure>
   </sect2>

  <sect2 xml:id="sec-register-sle-system-suseconnect">
   <title>Registrando no SUSEConnect</title>
   <para>
    É possível também registrar o sistema e os módulos e extensões pela linha de comando usando o <command>SUSEConnect</command>. Para obter informações que não fazem parte do escopo desta seção, consulte a documentação incluída no <command>man 8 SUSEConnect</command>
   </para>
   <procedure>
    <title>Registro de produto com o SUSEConnect</title>
    <step>
     <para>
      Para registrar o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> no SUSE Customer Center, execute o <command>SUSEConnect</command> da seguinte maneira:
     </para>
     <screen><prompt>tux &gt; </prompt>sudo SUSEConnect -r <replaceable>REGISTRATION_CODE</replaceable> -e <replaceable>EMAIL_ADDRESS</replaceable></screen>
     <para>
      Para o registro com um servidor de registro local, especifique também o URL para o servidor:
     </para>
     <screen><prompt>tux &gt; </prompt>sudo SUSEConnect -r <replaceable>REGISTRATION_CODE</replaceable> -e <replaceable>EMAIL_ADDRESS</replaceable> \
--url "https://suse_register.example.com/"</screen>
     <para>
      Substitua <replaceable>REGISTRATION_CODE</replaceable><phrase role="productname"><phrase os="sles"> pelo código de registro que você recebeu com a cópia do SUSE Linux Enterprise Server</phrase></phrase>. Substitua <replaceable>EMAIL_ADDRESS</replaceable> pelo endereço de E-mail associado à conta da SUSE que você ou sua organização usa para gerenciar assinaturas.
     </para>
     <para>
      Esse processo registrará o <guimenu>Módulo Basesystem</guimenu>
      <phrase os="sles"> e o <guimenu>Módulo Server Applications</guimenu></phrase> e adicionará os repositórios associados ao sistema.
     </para>
    </step>
    <step>
     <para>
      O <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> agora está registrado, incluindo os dois repositórios padrão. Para registrar mais módulos ou extensões, siga os procedimentos descritos na <xref linkend="sec-register-sle-add-modules"/>.
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-register-sle-add-modules">
  <title>Gerenciando módulos e extensões em um sistema em execução</title>
  <para>
   Mesmo depois que um sistema é instalado e registrado, ainda é possível adicionar e remover módulos e extensões. Você pode usar o YaST ou o <command>SUSEConnect</command> para essa tarefa. Para obter mais detalhes, consulte também o <xref linkend="article-modules"/>.
  </para>
  <sect2 xml:id="sec-register-sle-add-modules-yast">
   <title>Adicionando módulos e extensões com o YaST</title>
   <procedure>
    <step>
     <para>
      Iniciar <menuchoice><guimenu>YaST</guimenu>
      <guimenu>Software</guimenu> <guimenu>Extensões do sistema</guimenu></menuchoice>.
     </para>
     <informalfigure>
      <mediaobject>
       <textobject role="description">
        <phrase>Caixa de diálogo <guimenu>Seleção de Extensão e Módulo</guimenu> </phrase>
       </textobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="yast2_extension_list_sles.png" width="75%" format="png"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="yast2_extension_list_sles.png" width="100%" format="png"/>
        

       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Para adicionar módulos ou extensões, selecione todos os componentes que deseja instalar. Observe que todas as extensões requerem códigos de registro adicionais, que podem incorrer em custos.
     </para>
    </step>
    <step>
     <para>
      Todos os componentes adicionais são registrados com o servidor de registro, e os repositórios associados são adicionados ao sistema.
     </para>
    </step>
    <step>
     <para>
      O instalador de pacote do YaST é aberto para instalar pacotes de versão para cada módulo e, dependendo da sua seleção de módulos e extensões, pacotes adicionais. É altamente recomendado <emphasis>não desmarcar</emphasis> nenhum dos pacotes pré-selecionados. No entanto, você pode adicionar outros pacotes.
     </para>
     <para>
      Escolha <guimenu>Aceitar</guimenu> e <guimenu>Concluir</guimenu> para concluir o processo.
     </para>
    </step>
   </procedure>
   <tip>
    <title>Dependências dos módulos</title>
    <para>
     Assim como os pacotes de software, que podem depender de outros pacotes para funcionar, um módulo pode depender de outros módulos. Se este for o caso, os módulos dos quais ele depende são automaticamente selecionados para instalação.
    </para>
   </tip>

  </sect2>

  <sect2 xml:id="sec-register-sle-delete-modules-yast">
   <title>Apagando módulos e extensões com o YaST</title>
   <procedure>
    <step>
     <para>
      Inicie <menuchoice><guimenu>YaST</guimenu>
       <guimenu>Software</guimenu>  <guimenu>Produtos Complementares</guimenu></menuchoice>.
     </para>
     <informalfigure>
      <mediaobject>
       <textobject role="description">
        <phrase>Caixa de diálogo <guimenu>Produtos Complementares Instalados</guimenu> </phrase>
       </textobject>
       <imageobject role="fo">
        <imagedata os="sles" fileref="yast2_addon_installed_sles.png" width="75%" format="png"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles" fileref="yast2_addon_installed_sles.png" width="100%" format="png"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Escolha o módulo ou a extensão que deve ser removido e clique em <guimenu>Remover</guimenu>. Confirme o aviso informando que todos os pacotes do componente selecionado serão removidos.
     </para>
    </step>
    <step>
     <para>
      O Gerenciador de Software do YaST é aberto e lista todos os pacotes instalados da extensão ou do módulo apagado. Clique em <guimenu>Aceitar</guimenu> para remover todos eles. É altamente recomendável fazer isso, porque você não receberá mais atualizações para pacotes de módulos ou extensões apagados. Se você mantiver os pacotes, remova pelo menos o pacote <literal>*-release</literal> de cada módulo ou extensão apagado.
     </para>
     <para>
      Clique em <guimenu>Aceitar</guimenu> e, em seguida, em <guimenu>OK</guimenu> para prosseguir.
     </para>
    </step>
   </procedure>
   <warning>
    <title>Apagando módulos</title>
    <para>
     Nunca apague o <guimenu>Módulo Basesystem</guimenu>. Também não é recomendável apagar o <phrase os="sles"><guimenu>Módulo Server Applications</guimenu></phrase>.
    </para>
   </warning>

   <warning>
    <title>Não há atualizações para pacotes de módulos e extensões apagados</title>
    <para>
     Se você mantiver os pacotes dos módulos ou extensões apagados, não receberá mais atualizações para esses pacotes. Como isso inclui as correções de segurança, manter esses pacotes pode representar um risco à segurança do seu sistema.
    </para>
   </warning>

  </sect2>

  <sect2 xml:id="sec-register-sle-add-modules-cmd">
   <title>Adicionando/Apagando módulos e extensões com o SUSEConnect</title>
   <procedure>
    <step>
     <para>
      Execute <command>SUSEConnect -list-extensions</command> para obter uma visão geral das extensões disponíveis:
     </para>
     <screen os="sles"><prompt>tux &gt; </prompt>sudo SUSEConnect -list-extensions
AVAILABLE EXTENSIONS AND MODULES

  Basesystem Module 15 SP3 x86_64 (Installed)
  Deactivate with: SUSEConnect -d -p sle-module-basesystem/15.3/x86_64

    Containers Module 15 SP3 x86_64
    Activate with: SUSEConnect -p sle-module-containers/15.3/x86_64

    Desktop Applications Module 15 SP3 x86_64
    Activate with: SUSEConnect -p sle-module-desktop-applications/15.3/x86_64

      Development Tools Module 15 SP3 x86_64
      Activate with: SUSEConnect -p sle-module-development-tools/15.3/x86_64

      SUSE Linux Enterprise Workstation Extension 15 SP3 x86_64
      Activate with: SUSEConnect -p sle-we/15.3/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

    SUSE Cloud Application Platform Tools Module 15 SP3 x86_64
    Activate with: SUSEConnect -p sle-module-cap-tools/15.3/x86_64

    SUSE Linux Enterprise Live Patching 15 SP3 x86_64
    Activate with:
      SUSEConnect -p sle-module-live-patching/15.3/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

    SUSE Package Hub 15 SP3 x86_64
    Activate with: SUSEConnect -p PackageHub/15.3/x86_64

    Server Applications Module 15 SP3 x86_64 (Installed)
    Deactivate with: SUSEConnect -d -p sle-module-server-applications/15.3/x86_64

      Legacy Module 15 SP3 x86_64
      Activate with: SUSEConnect -p sle-module-legacy/15.3/x86_64

      Public Cloud Module 15 SP3 x86_64
      Activate with: SUSEConnect -p sle-module-public-cloud/15.3/x86_64

      SUSE Enterprise Storage 6 x86_64
      Activate with: SUSEConnect -p ses/6/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

      SUSE Linux Enterprise High Availability Extension 15 SP3 x86_64
      Activate with: SUSEConnect -p sle-ha/15.3/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

      Web and Scripting Module 15 SP3 x86_64
      Activate with: SUSEConnect -p sle-module-web-scripting/15.3/x86_64

MORE INFORMATION

You can find more information about available modules here:
https://www.suse.com/products/server/features/modules.html</screen>


    </step>
    <step>
     <para>
      Execute os comandos na listagem para ativar/desativar um módulo ou extensão a fim de adicionar ou apagar um componente. Observe que a adição de extensões requer códigos de registro extras, que podem incorrer em custos.
     </para>
    </step>
   </procedure>

   <warning>
    <title>Apagando módulos</title>
    <para>
     Nunca apague o <guimenu>Módulo Basesystem</guimenu>. Também não é recomendável apagar o <phrase os="sles"><guimenu>Módulo Server Applications</guimenu></phrase>.
    </para>
   </warning>

   <important>
    <title>Sem instalação/remoção automatizada de pacotes</title>
    <para>
     Ao usar o <command>SUSEConnect</command> para adicionar ou apagar módulos e extensões, o registro dos componentes é cancelado, e os respectivos repositórios ou serviços são removidos do sistema. Não será feita nenhuma instalação ou remoção dos pacotes. Para que isso seja feito automaticamente, use o YaST para adicionar ou apagar os módulos e as extensões.
    </para>
    <para>
     Ao adicionar um módulo ou uma extensão, isso significa que não será feita nenhuma instalação automática dos pacotes padrão ou dos padrões. Você precisa efetuar esse procedimento manualmente com o Zypper na linha de comando ou executando <menuchoice><guimenu>YaST</guimenu>  <guimenu>Gerenciamento de Software</guimenu></menuchoice>.
    </para>
    <para>
     Ao apagar um módulo ou uma extensão, isso significa que não será feita nenhuma limpeza automática. Todos os pacotes que pertenciam ao módulo ou extensão permanecem instalados no sistema; porém, não estão mais associados a um repositório e, portanto, não recebem mais atualizações. Para remover esses pacotes denominados <quote>órfãos</quote>, use o Zypper na linha de comando. <command>zypper packages --orphaned</command> lista esses pacotes, e <command>zypper remove</command> apaga um ou mais pacotes. Se preferir, use <menuchoice><guimenu>YaST</guimenu> <guimenu>Gerenciamento de Software</guimenu></menuchoice> para listar e apagar pacotes órfãos.
    </para>
   </important>

   <warning>
    <title>Não há atualizações para pacotes de módulos e extensões apagados</title>
    <para>
     Se você mantiver os pacotes dos módulos ou extensões apagados, não receberá mais atualizações para esses pacotes. Como isso inclui as correções de segurança, manter esses pacotes pode representar um risco à segurança do seu sistema.
    </para>
   </warning>

  </sect2>
 </sect1>
</chapter>
