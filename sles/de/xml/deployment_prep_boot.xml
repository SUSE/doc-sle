<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_prep_boot.xml" version="5.0" role="General" xml:id="cha.deployment.prep_boot">
 <title>Vorbereitung des Bootvorgangs für das Zielsystem</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>Ja</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  Für die Installation von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> stehen zahlreiche Verfahren zur Auswahl. Abgesehen von der normalen Medieninstallation, die in <xref linkend="cha.inst"/> beschrieben wird, können Sie aus mehreren netzwerkbasierten Ansätzen auswählen oder eine vollautomatische Installation von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> ausführen.
 </para>
 <para>
  Die einzelnen Methoden werden über zwei kurze Checklisten eingeführt: In einer werden die Voraussetzungen für diese Methoden aufgeführt, in der anderen die grundlegenden Verfahren dargestellt. Anschließend werden alle in diesen Installationsszenarien verwendeten Techniken ausführlicher erläutert.
 </para>
 <note>
  <title>Terminologie</title>
  <para>
   In den folgenden Abschnitten wird das System, auf dem Ihre neue <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-Installation ausgeführt wird, als <emphasis>Zielsystem</emphasis> oder <emphasis>Installationsziel</emphasis> bezeichnet. Der Begriff <emphasis>Repository</emphasis> (früher <quote>Installationsquelle</quote> genannt) wird für alle Quellen der Installationsdaten verwendet. Dazu gehören physische Medien, z. B. CD und DVD, sowie Netzwerkserver, die die Installationsdaten im Netzwerk verteilen.
  </para>
 </note>
 <para>
  In diesem Abschnitt werden die für komplexe Boot-Szenarien erforderlichen Konfigurationsschritte beschrieben. Er enthält zudem Konfigurationsbeispiele für DHCP, PXE-Boot, TFTP und Wake-on-LAN.
 </para>
 <sect1 xml:id="sec.deployment.prep_boot.dhcp">
  <title>Einrichten eines DHCP-Servers</title>

  <para>
   Es gibt zwei Möglichkeiten zum Einrichten eines DHCP-Servers. Für <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> bietet YaST eine grafische Schnittstelle für den Prozess. Benutzer können die Konfigurationsdateien auch manuell bearbeiten.<phrase os="sles"> Für weitere Informationen über DHCP-Server siehe auch <xref linkend="cha.dhcp"/>.</phrase>
  </para>

  <sect2 xml:id="sec.deployment.prep_boot.dhcp.yast">
   <title>Einrichten eines DHCP-Servers mit YaST</title>
   <para>
    Fügen Sie Ihrer DHCP-Serverkonfiguration zwei Deklarationen hinzu, um den Netzwerk-Clients den Standort des TFTP-Servers mitzuteilen und die Boot-Image-Datei für das Installationsziel anzugeben.
   </para>
   <procedure xml:id="proc.deployment.prep_boot.dhcp.yast">
    <step>
     <para>
      Melden Sie sich als <systemitem class="username">root</systemitem> auf dem Computer an, der den DHCP-Server bereitstellt.
     </para>
    </step>
    <step>
     <para>
      Starten Sie <menuchoice><guimenu>YaST</guimenu><guimenu>Netzwerkdienste</guimenu><guimenu>DHCP-Server</guimenu></menuchoice>.
     </para>
    </step>
    <step>
     <para>
      Schließen Sie den Installationsassistenten für die Einrichtung des grundlegenden DHCP-Server ab.
     </para>
    </step>
    <step xml:id="st.deployment.prep_boot.dhcp.yast.expert">
     <para>
      Wenn Sie eine Warnmeldung zum Verlassen des Start-Dialogfelds erhalten, wählen Sie <guimenu>Einstellungen für Experten</guimenu> und <guimenu>Ja</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Im Dialogfeld <guimenu>Konfigurierte Deklarationen</guimenu> wählen Sie das Subnetz aus, indem sich das neue System befinden soll und klicken Sie auf <guimenu>Bearbeiten</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Im Dialogfeld <guimenu>Konfiguration des Subnetzes</guimenu> wählen Sie <guimenu>Hinzufügen</guimenu>, um eine neue Option zur Subnetz-Konfiguration hinzuzufügen.
     </para>
    </step>
    <step>
     <para>
      Wählen Sie <option>Dateiname</option> und geben Sie <literal>pxelinux.0</literal> als Wert ein.
     </para>
    </step>
    <step>
     <para>
      Fügen Sie eine andere Option (<option>next-server</option>) hinzu und setzen Sie deren Wert auf die Adresse des TFTP-Servers.
     </para>
    </step>
    <step>
     <para>
      Wählen Sie <guimenu>OK</guimenu> und <guimenu>Verlassen</guimenu>, um die DHCP-Serverkonfiguration abzuschließen.
     </para>
    </step>
   </procedure>
   <para>
    Wenn Sie DHCP zum Angeben einer statischen IP-Adresse für einen bestimmten Host konfigurieren möchten, fügen Sie unter <guimenu>Einstellungen für Experten</guimenu> im DHCP-Serverkonfigurationsmodul (<xref linkend="st.deployment.prep_boot.dhcp.yast.expert" xrefstyle="StepOnPage"/>) eine neue Deklaration für den Hosttyp hinzu. Fügen Sie dieser Hostdeklaration die Optionen <option>hardware</option> und <option>fixed-address</option> hinzu und bieten Sie die entsprechenden Werte an.
   </para>
  </sect2>

  <sect2 xml:id="sec.deployment.prep_boot.dhcp.man">
   <title>Manuelles Einrichten eines DHCP-Servers</title>
   <para>
    Die einzige Aufgabe des DHCP-Servers ist neben der Bereitstellung der automatischen Adresszuweisung für die Netzwerk-Clients die Bekanntgabe der IP-Adresse des TFTP-Servers und der Datei, die von den Installationsroutinen auf dem Zielcomputer abgerufen werden muss.
   </para>
   <procedure xml:id="proc.deployment.prep_boot.dhcp.man">
    <step>
     <para>
      Melden Sie sich als <systemitem class="username">root</systemitem> auf dem Computer an, der den DHCP-Server bereitstellt.
     </para>
    </step>
    <step>
     <para>
      Fügen Sie einer Subnetzkonfiguration in der Konfigurationsdatei des DHCP-Servers, die sich unter <filename>/etc/dhcpd.conf</filename> befindet, folgende Zeilen hinzu:
     </para>
<screen>subnet 192.168.1.0 netmask 255.255.255.0 {
  range dynamic-bootp 192.168.1.200 192.168.1.228;
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <replaceable>ip_tftp_server</replaceable>;
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename  "pxelinux.0";
}</screen>
     <para>
      Ersetzen Sie <replaceable>ip_tftp_server</replaceable> durch die IP-Adresse des TFTP-Servers. Weitere Informationen zu den in <filename>dhcpd.conf</filename> verfügbaren Optionen finden Sie auf der man-Seite <systemitem>dhcpd.conf</systemitem>.
     </para>
    </step>
    <step>
     <para>
      Starten Sie den DHCP-Server mit <command>systemctl restart dhcpd</command> neu.
     </para>
    </step>
   </procedure>
   <para>
    Wenn Sie SSH für die Fernsteuerung einer PXE- und Wake-on-LAN-Installation verwenden möchten, müssen Sie die IP-Adresse, die der DHCP-Server dem Installationsziel zur Verfügung stellen soll, explizit angeben. Ändern Sie hierzu die oben erwähnte DHCP-Konfiguration gemäß dem folgenden Beispiel:
   </para>
<screen>group {
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <replaceable>ip_tftp_server</replaceable>:
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename "pxelinux.0";
  host test {
    hardware ethernet <replaceable>mac_address</replaceable>;
    fixed-address <replaceable>some_ip_address</replaceable>;
    }
}
</screen>
   <para>
    Die Host-Anweisung gibt den Hostnamen des Installationsziels an. Um den Hostnamen und die IP-Adresse an einen bestimmten Host zu binden, müssen Sie die Hardware-Adresse (MAC) des Systems kennen und angeben. Ersetzen Sie alle in diesem Beispiel verwendeten Variablen durch die in Ihrer Umgebung verwendeten Werte.
   </para>
   <para>
    Nach dem Neustart weist der DHCP-Server dem angegebenen Host eine statische IP-Adresse zu, damit Sie über SSH eine Verbindung zum System herstellen können.
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.tftp">
  <title>Einrichten eines TFTP-Servers</title>

  <para>
   Während einer SUSE-basierten Installation können Sie zur Einrichtung eines TFTP-Servers YaST verwenden. Alternativ können Sie diesen Server aber auch manuell einrichten. Der TFTP-Server übergibt das Boot-Image an das Zielsystem, sobald dieses gebootet ist und eine entsprechende Anforderung sendet.
  </para>

  <sect2 xml:id="sec.deployment.prep_boot.tftp.yast">
   <title>Einrichten eines TFTP-Servers mit YaST</title>
   <procedure xml:id="proc.deployment.prep_boot.tftp.yast">
    <step>
     <para>
      Melden Sie sich als <systemitem class="username">root</systemitem>-Benutzer an.
     </para>
    </step>
    <step>
     <para>
      Starten Sie <menuchoice><guimenu>YaST</guimenu><guimenu>Netzwerkdienste</guimenu><guimenu>TFTP-Server</guimenu></menuchoice> und installieren Sie das erforderliche Paket.
     </para>
    </step>
    <step>
     <para>
      Klicken Sie auf <guimenu>Aktivieren</guimenu>, um sicherzustellen, dass der Server gestartet und in die Boot-Routine aufgenommen wird. Ihrerseits sind hierbei keine weiteren Aktionen erforderlich. tftpd wird zur Boot-Zeit von xinetd gestartet.
     </para>
    </step>
    <step>
     <para>
      Klicken Sie auf <guimenu>Firewall-Port öffnen</guimenu>, um den entsprechenden Port in der Firewall zu öffnen, die auf dem Computer aktiv ist. Diese Option ist nur verfügbar, wenn auf dem Server eine Firewall installiert ist.
     </para>
    </step>
    <step>
     <para>
      Klicken Sie auf <guimenu>Durchsuchen</guimenu>, um nach dem Verzeichnis mit dem Boot-Image zu suchen. Das Standardverzeichnis <filename>/tftpboot</filename> wird erstellt und automatisch ausgewählt.
     </para>
    </step>
    <step>
     <para>
      Klicken Sie auf <guimenu>Verlassen</guimenu>, um die Einstellungen zu übernehmen und den Server zu starten.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec.deployment.prep_boot.tftp.man">
   <title>Manuelles Einrichten eines TFTP-Servers</title>
   <procedure xml:id="proc.deployment.prep_boot.tftp.man">
    <step>
     <para>
      Melden Sie sich als <systemitem class="username">root</systemitem> an und installieren Sie die Pakete <systemitem>tftp</systemitem> und <systemitem>xinetd</systemitem>.
     </para>
    </step>
    <step>
     <para>
      Erstellen Sie die Verzeichnisse <filename>/srv/tftpboot</filename> und <filename>/srv/tftpboot/pxelinux.cfg</filename>, sofern sie noch nicht vorhanden sind.
     </para>
    </step>
    <step>
     <para>
      Fügen Sie wie in <xref linkend="sec.deployment.prep_boot.pxe"/> beschrieben die für das Boot-Image erforderlichen Dateien hinzu.
     </para>
    </step>
    <step>
     <para>
      Ändern Sie die Konfiguration von xinetd, die sich unter <filename>/etc/xinetd.d/</filename> befindet, um sicherzustellen, dass der TFTP-Server beim Booten gestartet wird:
     </para>
     <substeps performance="required">
      <step>
       <para>
        Erstellen Sie, sofern noch nicht vorhanden, in diesem Verzeichnis eine Datei namens <filename>tftp</filename>, indem Sie <command>touch tftp</command> eingeben. Führen Sie anschließend folgenden Befehl aus: <command>chmod 755 tftp</command>.
       </para>
      </step>
      <step>
       <para>
        Öffnen Sie die Datei <filename>tftp</filename> und fügen Sie die folgenden Zeilen hinzu:
       </para>
<screen>service tftp
{
        socket_type            = dgram
        protocol               = udp
        wait                   = yes
        user                   = root
        server                 = /usr/sbin/in.tftpd
        server_args            = -s /srv/tftpboot
        disable                = no
}
</screen>
      </step>
      <step>
       <para>
        Speichern Sie die Datei und starten Sie xinetd mit <command>systemctl restart xinetd</command> neu.
       </para>
      </step>
     </substeps>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxe">
  <title>Verwenden von PXE Boot</title>

  <para>
   Einige technische Hintergrundinformationen sowie die vollständigen PXE-Spezifikationen finden Sie in der „Preboot Execution Environment (PXE) Specification“ (<link xlink:href="http://www.pix.net/software/pxeboot/archive/pxespec.pdf"/>).
  </para>

  <procedure xml:id="proc.deployment.prep_boot.pxe">
   <step>
    <para>
     Wechseln Sie in das Verzeichnis <filename>boot/&lt;architecture&gt;/loader</filename> des Installations-Repositorys und kopieren Sie die Dateien <filename>linux</filename>, <filename>initrd</filename>, <filename>message</filename>, <filename>biostest</filename> und <filename>memtest</filename> in das Verzeichnis <filename>/srv/tftpboot</filename>, indem Sie folgendes Kommando eingeben:
    </para>
<screen>cp -a linux initrd message biostest memtest /srv/tftpboot</screen>
   </step>
   <step>
    <para>
     Installieren Sie das Paket <systemitem>syslinux</systemitem> mithilfe von YaST direkt von den Installations-DVDs.
    </para>
   </step>
   <step>
    <para>
     Kopieren Sie die Datei <filename>/usr/share/syslinux/pxelinux.0</filename> in das Verzeichnis <filename>/srv/tftpboot</filename>, indem Sie folgenden Befehl eingeben:
    </para>
<screen>cp -a /usr/share/syslinux/pxelinux.0 /srv/tftpboot
     </screen>
   </step>
   <step>
    <para>
     Wechseln Sie in das Verzeichnis des Installations-Repositorys und kopieren Sie die Datei <filename>isolinux.cfg</filename> in das Verzeichnis <filename>/srv/tftpboot/pxelinux.cfg/default</filename>, indem Sie folgenden Befehl eingeben:
    </para>
<screen>cp -a boot/&lt;architecture&gt;/loader/isolinux.cfg /srv/tftpboot/pxelinux.cfg/default
     </screen>
   </step>
   <step>
    <para>
     Bearbeiten Sie die Datei <filename>/srv/tftpboot/pxelinux.cfg/default </filename> und entfernen Sie die Zeilen, die mit <literal>readinfo</literal> und <literal>framebuffer</literal> beginnen.
    </para>
   </step>
   <step>
    <para>

     Fügen Sie die folgenden Einträge in die append-Zeilen der standardmäßigen Kennungen <option>failsafe</option> und <option>apic</option> ein:
    </para>
    <variablelist>
     <varlistentry>
      <term><option>insmod=<replaceable>kernel module</replaceable></option>
      </term>
      <listitem>
       <para>
        Durch diesen Eintrag geben Sie das Netzwerk-Kernelmodul an, das zur Unterstützung der Netzwerkinstallation auf dem PXE-Client erforderlich ist. Ersetzen Sie <replaceable>kernel module</replaceable> durch den entsprechenden Modulnamen Ihres Netzwerkgeräts.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><option>netdevice=<replaceable>interface</replaceable></option>
      </term>
      <listitem>
       <para>
        Dieser Eintrag definiert die Schnittstelle des Client-Netzwerks, die für die Netzwerkinstallation verwendet werden muss. Dieser Eintrag ist jedoch nur erforderlich und muss entsprechend angepasst werden, wenn der Client mit mehreren Netzwerkkarten ausgestattet ist. Falls nur eine Netzwerkkarte verwendet wird, kann dieser Eintrag ausgelassen werden.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
<option>install=nfs://<replaceable>ip_instserver</replaceable>/<replaceable>path_to_repository</replaceable>/DVD1</option>
      </term>
      <listitem>
       <para>
        Dieser Eintrag gibt den NFS-Server und das Repository für die Client-Installation an. Ersetzen Sie <replaceable>ip_instserver</replaceable> durch die tatsächliche IP-Adresse Ihres Installationsservers. <replaceable>path_to_repository</replaceable> muss durch den tatsächlichen Pfad des Repositorys ersetzt werden. HTTP-, FTP- oder SMB-Repositorys werden auf ähnliche Weise adressiert. Eine Ausnahme ist das Protokollpräfix, das wie folgt lauten sollte: <literal>http</literal>, <literal>ftp</literal> oder <literal>smb</literal>.
       </para>
       <important>
        <title>Hinzufügen von Bootoptionen</title>
        <para>
         Wenn den Installationsroutinen weitere Boot-Optionen, z. B. SSH- oder VNC-Boot-Parameter, übergeben werden sollen, hängen Sie sie an den Eintrag<option> install</option> an. Einen Überblick über die Parameter sowie einige Beispiele finden Sie in <xref linkend="sec.deployment.remoteinst.bootinst"/>.
        </para>
       </important>
      </listitem>
     </varlistentry>
    </variablelist>
    <tip>
     <title>Ändern der Kernel- und initrd-Dateinamen</title>
     <para>
      Es ist möglich, unterschiedliche Dateinamen für Kernel- und initrd-Images zu verwenden. Dies ist nützlich, wenn Sie am selben Bootserver unterschiedliche Betriebssysteme bereitstellen möchten. Sie sollten sich jedoch dessen bewusst sein, dass in den Dateinamen, die von TFTP für den PXE-Boot angegeben werden, nur ein Punkt erlaubt ist.
     </para>
    </tip>
    <para>
     Im Folgenden finden Sie die Beispieldatei <option>/srv/tftpboot/pxelinux.cfg/default.</option> Passen Sie das Protokollpräfix für das Repository gemäß der Netzwerkkonfiguration an und geben Sie die bevorzugte Methode an, mit der die Verbindung zum Installationsprogramm hergestellt werden soll, indem Sie die Optionen <literal>vnc</literal> und <literal>VNCPassword</literal> oder <literal>ssh</literal> und <literal>ssh.password</literal> zum Eintrag <literal>install</literal> hinzufügen. Die durch <literal>\</literal> getrennten Zeilen müssen als fortlaufenden Zeile ohne Zeilenumbruch und ohne den <literal>\</literal> eingegeben werden.
    </para>
<screen>default harddisk

# default
label linux
  kernel linux
  append initrd=initrd ramdisk_size=65536 \
     install=nfs://<replaceable>ip_instserver</replaceable>/<replaceable>path_to_repository</replaceable>/<replaceable>product</replaceable>/DVD1

# repair
label repair
  kernel linux
  append initrd=initrd splash=silent repair=1 showopts

# rescue
label rescue
  kernel linux
  append initrd=initrd ramdisk_size=65536 rescue=1

# bios test
label firmware
  kernel linux
  append initrd=biostest,initrd splash=silent install=exec:/bin/run_biostest showopts

#  memory test
label memtest
  kernel memtest

#  hard disk
label harddisk
  localboot 0

implicit     0
display      message
prompt       1
timeout      100</screen>
   </step>
   <step>
    <para>
     Ersetzen Sie <replaceable>ip_instserver</replaceable> und <replaceable>path_to_repository</replaceable> durch die in Ihrer Konfiguration verwendeten Werte.
    </para>
    <para>
     Der folgende Abschnitt dient als Kurzreferenz für die in dieser Konfiguration verwendeten PXELINUX-Optionen. Weitere Informationen zu den verfügbaren Optionen finden Sie in der Dokumentation des Pakets <systemitem>syslinux</systemitem>, die sich im Verzeichnis <filename>/usr/share/doc/packages/syslinux/</filename> befindet.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxeopts">
  <title>PXELINUX-Konfigurationsoptionen</title>

  <para>
   Die hier aufgeführten Optionen sind eine Teilmenge der für die PXELINUX-Konfigurationsdatei verfügbaren Optionen.
  </para>

  <variablelist>
   <varlistentry>
    <term><option>APPEND <replaceable>Optionen... </replaceable></option>
    </term>
    <listitem>
     <para>
      Fügt der Kernel-Kommandozeile eine oder mehrere Optionen hinzu. Diese werden sowohl bei automatischen als auch bei manuellen Bootvorgängen hinzugefügt. Die Optionen werden an den Beginn der Kernel-Kommandozeile gesetzt und ermöglichen, dass explizit eingegebene Kernel-Optionen sie überschreiben können.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>APPEND -</option>
    </term>
    <listitem>
     <para>
      Es wird nichts angehängt. <option>APPEND</option> mit einem Bindestrich als Argument in einem <option>LABEL</option>-Abschnitt kann zum Überschreiben einer globalen <option>APPEND</option>-Option verwendet werden.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>DEFAULT <replaceable>Kernel Optionen</replaceable>...</option>
    </term>
    <listitem>
     <para>
      Legt die standardmäßige Kernel-Kommandozeile fest. Wenn PXELINUX automatisch gebootet wird, agiert es, als wären die Einträge nach DEFAULT in der Booteingabeaufforderung eingegeben worden, außer, dass die Option für das automatische Booten (boot) automatisch hinzugefügt wird.
     </para>
     <para>
      Wenn keine Konfigurationsdatei vorhanden oder der DEFAULT-Eintrag in der Konfigurationsdatei nicht definiert ist, wird standardmäßig der Kernel-Name <quote>linux</quote> ohne Optionen verwendet.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><option>IFAPPEND <replaceable>FLAG</replaceable></option>
    </term>
    <listitem>
     <para>
      Fügt eine bestimmte Option in die Kernel-Kommandozeile ein, abhängig vom Wert für <replaceable>FLAG</replaceable>. Die Option <option>IFAPPEND</option> ist nur unter PXELINUX verfügbar. Für <replaceable>FLAG</replaceable> ist ein Wert erforderlich, siehe <xref linkend="tab.deployment.boot.pxeopts.ifappend"/>:
     </para>
     <table xml:id="tab.deployment.boot.pxeopts.ifappend">
      <title>Generierte und hinzugefügte Optionen für Kernel-Kommandozeilen von <option>IFAPPEND</option></title>
      <tgroup cols="2">
       <colspec colwidth="1*"/>
       <colspec colwidth="4*"/>
       <thead>
        <row>
         <entry valign="middle">
          <para>
           Argument
          </para>
         </entry>
         <entry>
          <para>
           Generierte Kernel-Kommandozeile/Beschreibung
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>
          <para>
           <option>1</option>
          </para>
         </entry>
         <entry>
<screen>ip=<replaceable>CLIENT_IP</replaceable>:<replaceable>BOOT_SERVER_IP</replaceable>:<replaceable>GW_IP</replaceable>:<replaceable>NETMASK</replaceable></screen>
          <para>
           Die Platzhalter werden auf der Grundlage der Eingaben vom DHCP/BOOTP- oder PXE-Boot-Server ersetzt.
          </para>
          <para>
           Diese Option ist kein Ersatz für das Ausführen eines DHCP-Clients im gebooteten System. Ohne regelmäßige Verlängerung läuft die vom PXE BIOS erworbene Lease ab, sodass die IP-Adresse zur erneuten Verwendung durch den DHCP-Server verfügbar wird.
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>2</option>
          </para>
         </entry>
         <entry>
<screen>BOOTIF=<replaceable>MAC_ADDRESS_OF_BOOT_INTERFACE</replaceable></screen>
          <para>
           Mit dieser Option lässt sich eine Zeitüberschreitung vermeiden, wenn der Installationsserver die LAN-Schnittstellen einzeln nacheinander abfragt, bis er eine Antwort von einem DHCP-Server erhält. Ein initrd-Programm kann dabei ermitteln, von welcher Schnittstelle das System gebootet wurde. linuxrc liest diese Option aus und verwendet die erkannte Netzwerkschnittstelle.
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>4</option>
          </para>
         </entry>
         <entry>
<screen>SYSUUID=<replaceable>SYSTEM_UUID</replaceable></screen>
          <para>
           Fügt UUIDs im Hexadezimalformat mit Kleinbuchstaben hinzu, siehe <filename>/usr/share/doc/packages/syslinux/pxelinux.txt</filename>
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </table>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LABEL <replaceable>Kennung</replaceable> KERNEL <replaceable>Image</replaceable> APPEND <replaceable>Optionen</replaceable>...</option>
    </term>
    <listitem>
     <para>
      Gibt an, dass, wenn <replaceable>Kennung</replaceable> als zu bootender Kernel eingegeben wird, PXELINUX stattdessen <replaceable>Image</replaceable> booten soll und die angegebenen <option>APPEND</option>-Optionen an Stelle der im globalen Abschnitt der Datei (vor dem ersten <option>LABEL</option>-Kommando) angegebenen Optionen verwendet werden sollen. Die Vorgabe für <replaceable>Image</replaceable> ist dieselbe wie für <replaceable>Kennung</replaceable> und wenn keine <option>APPEND</option>-Optionen angegeben sind, wird standardmäßig der globale Eintrag verwendet (sofern vorhanden). Es sind bis zu 128 <option>LABEL</option>-Einträge zulässig.
     </para>

     <para>
      PXELINUX verwendet die folgende Syntax:
     </para>
<screen>label <replaceable>mylabel</replaceable>
  kernel <replaceable>mykernel</replaceable>
  append <replaceable>myoptions</replaceable></screen>
     <para>
      Kennungen werden wie Dateinamen umgesetzt und müssen nach der Umsetzung (sogenanntes Mangling) eindeutig sein. Die beiden Kennungen <quote>v2.6.30</quote> und <quote>v2.6.31</quote> wären beispielsweise unter PXELINUX nicht unterscheidbar, da beide auf denselben DOS-Dateinamen umgesetzt würden.
     </para>
     <para>
      Der Kernel muss kein Linux-Kernel, sondern kann ein Bootsektor oder eine COMBOOT-Datei sein.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LOCALBOOT <replaceable>Typ</replaceable></option>
    </term>
    <listitem>
     <para>
      Wenn Sie unter PXELINUX <option>LOCALBOOT 0</option> an Stelle einer <option>KERNEL</option>-Option angeben, bedeutet dies, dass diese bestimmte Kennung aufgerufen und die lokale Festplatte an Stelle eines Kernels gebootet wird.
     </para>
     <informaltable frame="topbot" rowsep="0">
      <tgroup cols="2">

       <thead>
        <row>
         <entry colname="1">
          <para>
           Argument
          </para>
         </entry>
         <entry colname="2">
          <para>
           Beschreibung
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry colname="1">
          <para>
           <literal>0</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           Führt einen normalen Bootvorgang aus
          </para>
         </entry>
        </row>
        <row>
         <entry colname="1">
          <para>
           <literal>4</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           Führt einen lokalen Bootvorgang mit dem noch im Arbeitsspeicher vorhandenen UNDI-Treiber (Universal Network Driver Interface) aus
          </para>
         </entry>
        </row>
        <row>
         <entry colname="1">
          <para>
           <literal>5</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           Führt einen lokalen Bootvorgang mit dem gesamten PXE-Stack, einschließlich des UNDI-Treibers aus, der sich im Arbeitsspeicher befindet
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </informaltable>
     <para>
      Alle anderen Werte sind nicht definiert. Wenn Sie die Werte für die UNDI- oder PXE-Stacks nicht wissen, geben Sie <literal>0</literal> an.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>TIMEOUT <replaceable>Zeitlimit</replaceable></option>
    </term>
    <listitem>
     <para>
      Gibt in Einheiten von 1/10 Sekunde an, wie lange die Booteingabeaufforderung angezeigt werden soll, bevor der Bootvorgang automatisch gestartet wird. Das Zeitlimit wird aufgehoben, sobald der Benutzer eine Eingabe über die Tastatur vornimmt, da angenommen wird, dass der Benutzer die Eingabe des Kommandos abschließt. Mit einem Zeitlimit von Null wird das Zeitüberschreitungsoption deaktiviert (dies ist die Vorgabe). Der größtmögliche Wert für das Zeitlimit ist 35996 (etwas weniger als eine Stunde).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>PROMPT<replaceable> flag_val</replaceable></option>
    </term>
    <listitem>
     <para>
      Wenn <option>flag_val</option> auf 0 gesetzt ist, wird die Booteingabeaufforderung nur angezeigt, wenn die Taste <keycap function="shift"/> oder <keycap function="alt"/> gedrückt wird oder die <keycap>Feststelltaste</keycap> oder die Taste <keycap>Rollen</keycap> gesetzt ist (dies ist die Standardeinstellung). Wenn <option>flag_val</option> 1 ist, wird die Booteingabeaufforderung immer angezeigt.
     </para>
<screen>F2  <replaceable>filename</replaceable>
F1  <replaceable>filename</replaceable>
..etc...
F9  <replaceable>filename</replaceable>
F10 <replaceable>filename</replaceable></screen>
     <para>
      Zeigt die angegebene Datei auf dem Bildschirm an, wenn an der Booteingabeaufforderung eine Funktionstaste gedrückt wird. Mithilfe dieser Option kann auch die Preboot-Online-Hilfe implementiert werden (für die Kernel-Kommandozeilenoptionen). Aus Gründen der Kompabilität mit früheren Versionen kann <keycap>F10</keycap> auch als <literal>F0</literal> verwendet werden. Beachten Sie, dass derzeit keine Möglichkeit besteht, Dateinamen an <keycap>F11</keycap> und <keycap>F12</keycap> zu binden.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxeprep">
  <title>Vorbereiten des Zielsystems für PXE-Boot</title>

  <para>
   Bereiten Sie das System-BIOS für PXE-Boot vor, indem Sie die PXE-Option in die BIOS-Boot-Reihenfolge aufnehmen.
  </para>

  <warning>
   <title>BIOS-Bootreihenfolge</title>
   <para>
    Die PXE-Option darf im BIOS nicht vor der Boot-Option für die Festplatte stehen. Andernfalls würde dieses System versuchen, sich selbst bei jedem Booten neu zu installieren.
   </para>
  </warning>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wolprep">
  <title>Vorbereiten des Zielsystems für Wake-on-LAN</title>

  <para>
   Wake-on-LAN (WOL) erfordert, dass die entsprechende BIOS-Option vor der Installation aktiviert wird. Außerdem müssen Sie sich die MAC-Adresse des Zielsystems notieren. Diese Daten sind für das Initiieren von Wake-on-LAN erforderlich.
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wol">
  <title>Wake-on-LAN</title>

  <para>
   Mit Wake-on-LAN kann ein Computer über ein spezielles Netzwerkpaket, das die MAC-Adresse des Computers enthält, gestartet werden. Da jeder Computer einen eindeutigen MAC-Bezeichner hat, ist es nicht möglich, dass versehentlich ein falscher Computer gestartet wird.
  </para>

  <important>
   <title>Wake-on-LAN über verschiedene Netzwerksegmente</title>
   <para>
    Wenn sich der Steuercomputer nicht im selben Netzwerksegment wie das zu startende Installationsziel befindet, konfigurieren Sie die WOL-Anforderungen entweder so, dass sie als Multicasts verteilt werden, oder steuern Sie einen Computer in diesem Netzwerksegment per entferntem Zugriff so, dass er als Absender dieser Anforderungen agiert.
   </para>
  </important>

  <para>
   Benutzer von SUSE Linux Enterprise können zur einfachen Konfiguration von Wake-on-LAN ein YaST-Modul namens WOL verwenden. Die Benutzer anderer Betriebssysteme mit der Basis SUSE Linux können ein Kommandozeilenwerkzeug verwenden.
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wolyast">
  <title>Wake-on-LAN mit YaST</title>

  <procedure xml:id="proc.deployment.prep_boot.wolyast">
   <step>
    <para>
     Melden Sie sich als <systemitem class="username">root</systemitem>-Benutzer an.
    </para>
   </step>
   <step>
    <para>
     Starten Sie <menuchoice><guimenu>YaST</guimenu><guimenu>Netzwerkdienste</guimenu><guimenu>WOL</guimenu></menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Klicken Sie auf <guimenu>Hinzufügen </guimenu>, und geben Sie den Hostnamen und die MAC-Adresse des Zielsystems ein.
    </para>
   </step>
   <step>
    <para>
     Wählen Sie zum Einschalten dieser Maschine den entsprechenden Eintrag und klicken Sie auf <guimenu>Wake up</guimenu> (Aufwachen).
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
