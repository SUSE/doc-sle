<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_register.xml" version="5.0" xml:id="cha-register-sle">
 <title>Enregistrement de SUSE Linux Enterprise et gestion des modules/extensions</title>
 <info>
  <abstract>
   <para>
    Pour obtenir un support technique et les mises à jour des produits, vous devez enregistrer et activer <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> auprès du SUSE Customer Center. Il est recommandé de vous enregistrer pendant l&apos;installation, car cela vous permettra d&apos;installer le système avec les mises à jour et les correctifs les plus récents. Toutefois, si vous êtes hors ligne ou que vous souhaitez ignorer l&apos;étape d&apos;enregistrement, vous pouvez vous enregistrer à tout moment ultérieurement sur le système installé.
   </para>
   <para>
    Les modules et les extensions ajoutent des fonctions à votre système et vous permettent de le personnaliser selon de vos besoins. Ces composants doivent également être enregistrés et peuvent être gérés à l&apos;aide de YaST ou des outils de ligne de commande.<phrase os="sles;sled"> Pour plus d&apos;informations, reportez-vous également à l&apos;<xref linkend="article-modules"/>.</phrase>
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <note>
  <title>compte SUSE</title>
  <para>
   L&apos;enregistrement auprès du SUSE Customer Center requiert un compte SUSE. Si vous ne disposez pas encore de compte SUSE, rendez-vous sur la page d&apos;accueil du SUSE Customer Center (<link xlink:href="https://scc.suse.com/"/>) pour en créer un.
  </para>
 </note>

 <tip>
  <title>annulation de l&apos;enregistrement d&apos;un système</title>
  <para>
   Pour annuler complètement l&apos;enregistrement d&apos;un système, y compris tous les modules et extensions, utilisez l&apos;outil de ligne de commande <command>SUSEConnect</command>. L&apos;annulation de l&apos;enregistrement d&apos;un système supprime son entrée sur le serveur d&apos;enregistrement et supprime également tous les dépôts des modules, des extensions et du produit lui-même.
  </para>
  <screen><prompt>&gt; </prompt>sudo SUSEConnect -d</screen>
 </tip>

 <sect1 xml:id="sec-register-sle-installation">
  <title>Enregistrement au cours de l&apos;installation</title>
  <para>
   Le moyen le plus simple et recommandé de s&apos;enregistrer consiste à le faire lors de l&apos;installation. Cela vous permettra non seulement d&apos;installer le dernier niveau de correctif de <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, mais vous donne également accès à tous les modules et extensions sans avoir à fournir un support d&apos;installation supplémentaire. Cela s&apos;applique également à tous les modules ou à l&apos;extension que vous installez. Pour plus de détails sur le processus d&apos;enregistrement, reportez-vous à la <xref linkend="sec-yast-install-scc-registration"/>.
  </para>
  <para>
   Si le système a été enregistré avec succès lors de l&apos;installation, YaST ajoute des dépôts en ligne fournis par le SUSE Customer Center. Cela évite des problèmes si les sources d&apos;installation locales ne sont plus disponibles et vous permet de toujours obtenir les mises à jour les plus récentes à partir des dépôts en ligne.
  </para>
 </sect1>

 <sect1 os="sles" xml:id="sec-register-sle-ay">
  <title>Enregistrement au cours du déploiement automatisé</title>
  <para>
   Si vous déployez vos instances automatiquement à l&apos;aide d&apos;AutoYaST, vous pouvez enregistrer le système pendant l&apos;installation en fournissant les informations correspondantes dans le fichier de contrôle AutoYaST.<phrase os="sles;sled;osuse"> Reportez-vous au document <xref linkend="CreateProfile-Register"/> pour obtenir des informations détaillées.</phrase>
  </para>
 </sect1>
 <sect1 xml:id="sec-register-sle-system">
  <title>Enregistrement à partir du système installé</title>
  <para>
   Si vous avez ignoré l&apos;enregistrement lors de l&apos;installation ou si vous souhaitez réenregistrer votre système, vous pouvez le faire à tout moment à l&apos;aide du module YaST <guimenu>Enregistrement de produit</guimenu> ou de l&apos;outil de ligne de commande <command>SUSEConnect</command>.
  </para>

  <sect2 os="sles" xml:id="sec-register-sle-system-yast">
   <title>Enregistrement avec YaST</title>
   <para>
    Pour enregistrer le système, démarrez <menuchoice><guimenu>YaST</guimenu>
    <guimenu> Logiciels</guimenu> <guimenu> Enregistrement du produit</guimenu></menuchoice>. Tout d&apos;abord, enregistrez <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, puis choisissez les modules et extensions que vous souhaitez rendre disponibles.
   </para>

   <important>
    <title>modules et extensions</title>
    <para>
     Si vous avez installé le système à partir du support SLE-15-SP4-Full-<replaceable>ARCH</replaceable>-GM-media1.iso en ignorant l&apos;enregistrement, assurez-vous d&apos;enregistrer tous les modules et l&apos;extension que vous avez choisis lors de l&apos;installation. Vous recevrez uniquement les mises à jour de sécurité et les correctifs pour les modules et extensions qui ont été enregistrés.
    </para>
   </important>

   <procedure>
    <title>enregistrement du produit avec YaST</title>
    <step>
     <para>
      Démarrez <menuchoice><guimenu>YaST</guimenu>
      <guimenu>Logiciels</guimenu> <guimenu> Enregistrement du produit</guimenu></menuchoice>.
     </para>
     <informalfigure>
      <mediaobject>
       <textobject role="description">
        <phrase><guimenu>Registration</guimenu> dialog</phrase>
       </textobject>
       <imageobject role="fo">
        <imagedata os="sles;slemicro" fileref="yast2_register_sles.png" width="75%"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles;slemicro" fileref="yast2_register_sles.png" width="100%"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Indiquez l&apos;Adresse électronique associée au compte SUSE que vous ou votre entreprise utilisez pour gérer les abonnements. Entrez également le <guimenu>code d&apos;enregistrement</guimenu> que vous avez reçu avec votre exemplaire de <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>.
     </para>
    </step>
    <step>
     <para>
      Par défaut, le système est enregistré auprès du SUSE Customer Center. Passez à l&apos;étape suivante pour procéder à l&apos;enregistrement.
     </para>
     <para>
      Si votre entreprise propose des serveurs d&apos;enregistrement locaux, vous pouvez en choisir un dans la liste des serveurs détectés automatiquement ou fournir l&apos;URL dans l&apos;option <guimenu>Enregistrer le système via un serveur RMT local</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Sélectionnez <guimenu>Suivant</guimenu> pour lancer la procédure d&apos;enregistrement. <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> est enregistré auprès du serveur sélectionné et les dépôts associés sont ajoutés à votre système. La boîte de dialogue <guimenu>Sélection des modules et extensions</guimenu> s&apos;ouvre.
     </para>
     <informalfigure>
      <mediaobject>
       <textobject role="description">
        <phrase><guimenu>Extension and Module Selection</guimenu> dialog</phrase>
       </textobject>
       <imageobject role="fo">
        <imagedata os="sles;slemicro" fileref="yast2_extension_list_sles.png" width="75%"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles;slemicro" fileref="yast2_extension_list_sles.png" width="100%"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Sélectionnez tous les modules et extensions que vous souhaitez rendre disponibles sur le système. Vous devez choisir au moins les modules présélectionnés (<guimenu>Module Basesystem</guimenu> <phrase os="sles"> et <guimenu>Module Server Applications</guimenu></phrase>). Assurez-vous également de choisir les modules ou extensions supplémentaires que vous avez ajoutés lors de l&apos;installation. Notez que toutes les extensions nécessitent des codes d&apos;enregistrement supplémentaires qui peuvent être payants. Cliquez ensuite sur <guimenu>Suivant</guimenu>.
     </para>
    </step>
    <step>
     <para>
      En fonction de votre sélection, vous devrez peut-être accepter maintenant un ou plusieurs contrats de licence. Tous les composants sont enregistrés auprès du serveur sélectionné et les dépôts associés sont ajoutés au système.
     </para>
    </step>
    <step>
     <para>
      Le programme d&apos;installation de paquetage YaST s&apos;ouvre pour installer les paquetages de version pour chaque module et, en fonction de votre sélection de modules et d&apos;extensions, des paquetages supplémentaires. Il est vivement recommandé <emphasis>de ne pas désélectionner</emphasis> un des paquetages présélectionnés. Vous pouvez toutefois ajouter des paquetages supplémentaires.
     </para>
     <informalfigure>
      <mediaobject>
       <textobject role="description">
        <phrase><guimenu>Installation Summary</guimenu> screen</phrase>
       </textobject>
       <imageobject role="fo">
        <imagedata os="sles;slemicro" fileref="yast2_extension_install_sles.png" width="75%"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles;slemicro" fileref="yast2_extension_install_sles.png" width="100%"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
     <para>
      Sélectionnez <guimenu>Accepter</guimenu> et <guimenu>Terminer</guimenu> pour conclure le processus d&apos;enregistrement.
     </para>
    </step>
   </procedure>
   </sect2>

  <sect2 xml:id="sec-register-sle-system-suseconnect">
   <title>Enregistrement avec SUSEConnect</title>
   <para>
    L&apos;enregistrement du système, ainsi que des modules et extensions, est également possible à partir de la ligne de commande à l&apos;aide de <command>SUSEConnect</command>. Pour plus d&apos;informations qui dépassent le cadre de cette section, reportez-vous à la documentation en ligne à l&apos;aide de <command>man 8 SUSEConnect</command>.
   </para>
   <procedure>
    <title>enregistrement du produit avec SUSEConnect</title>
    <step>
     <para>
      Pour enregistrer <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> auprès du SUSE Customer Center, exécutez <command>SUSEConnect</command> comme suit :
     </para>
     <screen><prompt>&gt; </prompt>sudo SUSEConnect -r <replaceable>REGISTRATION_CODE</replaceable> -e <replaceable>EMAIL_ADDRESS</replaceable></screen>
     <para>
      Pour effectuer l&apos;enregistrement sur un serveur d&apos;enregistrement local, fournissez également l&apos;URL du serveur :
     </para>
     <screen><prompt>&gt; </prompt>sudo SUSEConnect -r <replaceable>REGISTRATION_CODE</replaceable> -e <replaceable>EMAIL_ADDRESS</replaceable> \
--url "https://suse_register.example.com/"</screen>
     <para>
      Remplacez <replaceable>REGISTRATION_CODE</replaceable><phrase role="productname"><phrase os="sles"> (CODE_ENREGISTREMENT) par le code d&apos;enregistrement que vous avez reçu avec votre exemplaire de SUSE Linux Enterprise Server</phrase></phrase>. Remplacez <replaceable>EMAIL_ADDRESS</replaceable> (ADRESSE_ÉLECTRONIQUE) par l&apos;adresse électronique associée au compte SUSE que vous ou votre entreprise utilisez pour gérer les abonnements.
     </para>
     <para>
      Ce processus enregistre le <guimenu>Module Basesystem</guimenu><phrase os="sles"> ainsi que le <guimenu>Module Server Applications</guimenu></phrase>, et ajoute les dépôts associés à votre système.
     </para>
    </step>
    <step>
     <para>
      <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> est désormais enregistré (y compris les deux dépôts par défaut). Si vous voulez enregistrer des modules ou des extensions supplémentaires, procédez comme décrit à la <xref linkend="sec-register-sle-add-modules"/>.
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-register-sle-add-modules">
  <title>Gestion des modules et extensions dans un système en cours d&apos;exécution</title>
  <remark>No YaST and just one module for SLE Micro (Live patching).</remark>
  <para>
   Une fois un système installé et enregistré, l&apos;ajout et la suppression de modules et d&apos;extensions sont toujours possibles. Vous pouvez utiliser YaST ou <command>SUSEConnect</command> pour cette tâche.<phrase os="sles;sled"> Pour plus d&apos;informations, reportez-vous également à l&apos;<xref linkend="article-modules"/>.</phrase>
  </para>
  <sect2 xml:id="sec-register-sle-add-modules-yast">
   <title>Ajout de modules et d&apos;extensions à l&apos;aide de YaST</title>
   <procedure>
    <step>
     <para>
      Démarrez <menuchoice><guimenu>YaST</guimenu>
      <guimenu>Logiciels</guimenu> <guimenu>System Extensions</guimenu></menuchoice> (Extensions système).
     </para>
     <informalfigure>
      <mediaobject>
       <textobject role="description">
        <phrase><guimenu>Extension and Module Selection</guimenu> dialog</phrase>
       </textobject>
       <imageobject role="fo">
        <imagedata os="sles;slemicro" fileref="yast2_extension_list_sles.png" width="75%"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles;slemicro" fileref="yast2_extension_list_sles.png" width="100%"/>
        

       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Pour ajouter des modules ou extensions, sélectionnez tous les composants que vous souhaitez installer. Notez que toutes les extensions nécessitent des codes d&apos;enregistrement supplémentaires qui peuvent être payants.
     </para>
    </step>
    <step>
     <para>
      Tous les composants supplémentaires sont enregistrés auprès du serveur d&apos;enregistrement et les dépôts associés sont ajoutés au système.
     </para>
    </step>
    <step>
     <para>
      Le programme d&apos;installation de paquetage YaST s&apos;ouvre pour installer les paquetages de version pour chaque module et, en fonction de votre sélection de modules et d&apos;extensions, des paquetages supplémentaires. Il est vivement recommandé <emphasis>de ne pas désélectionner</emphasis> un des paquetages présélectionnés. Vous pouvez toutefois ajouter des paquetages supplémentaires.
     </para>
     <para>
      Choisissez <guimenu>Accepter</guimenu> et <guimenu>Terminer</guimenu> pour conclure le processus.
     </para>
    </step>
   </procedure>
   <tip>
    <title>dépendances des modules</title>
    <para>
     Tout comme les paquetages logiciels qui peuvent dépendre d&apos;autres paquetages pour fonctionner, un module peut avoir des dépendances envers d&apos;autres modules. Si tel est le cas, les modules dont il dépend sont automatiquement sélectionnés pour l&apos;installation.
    </para>
   </tip>

  </sect2>

  <sect2 xml:id="sec-register-sle-delete-modules-yast">
   <title>Suppression de modules et d&apos;extensions à l&apos;aide de YaST</title>
   <procedure>
    <step>
     <para>
      Démarrez <menuchoice><guimenu>YaST</guimenu>
      <guimenu> Logiciels</guimenu> <guimenu> Produits complémentaires</guimenu></menuchoice>.
     </para>
     <informalfigure>
      <mediaobject>
       <textobject role="description">
        <phrase><guimenu>Installed Add-on Products</guimenu> dialog</phrase>
       </textobject>
       <imageobject role="fo">
        <imagedata os="sles;slemicro" fileref="yast2_addon_installed_sles.png" width="75%"/>
        
       </imageobject>
       <imageobject role="html">
        <imagedata os="sles;slemicro" fileref="yast2_addon_installed_sles.png" width="100%"/>
        
       </imageobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Choisissez le module ou l&apos;extension à supprimer, puis cliquez sur <guimenu>Supprimer</guimenu>. Confirmez le message d&apos;avertissement indiquant que tous les paquetages du composant sélectionné seront supprimés.
     </para>
    </step>
    <step>
     <para>
      Le gestionnaire de logiciels YaST s&apos;ouvre et répertorie tous les paquetages installés à partir de l&apos;extension ou du module supprimé. Cliquez sur <guimenu>Accepter</guimenu> pour les supprimer tous. Il est fortement recommandé de le faire, car vous ne recevrez plus de mises à jour pour les paquetages de modules ou d&apos;extensions supprimées. Dans le cas où vous conservez les paquetages, veillez à supprimer au moins le paquetage <literal>*-release</literal> pour chaque module ou extension supprimée.
     </para>
     <para>
      Cliquez ensuite sur <guimenu>Accepter</guimenu>, puis sur <guimenu>OK</guimenu>.
     </para>
    </step>
   </procedure>
   <warning>
    <title>suppression de modules</title>
    <para>
     Notez que vous ne devez jamais supprimer <guimenu>Basesystem Module</guimenu>. Il est également déconseillé de supprimer <phrase os="sles"><guimenu>Server Applications Module</guimenu></phrase>.
    </para>
   </warning>

   <warning>
    <title>aucune mise à jour des paquetages de modules ou d&apos;extensions supprimées</title>
    <para>
     Si vous choisissez de conserver les paquetages de modules ou d&apos;extensions supprimées, vous ne recevrez plus de mises à jour pour ces paquetages. Comme cela inclut les correctifs de sécurité, la conservation de ces paquetages peut introduire un risque de sécurité sur votre système.
    </para>
   </warning>

  </sect2>

  <sect2 xml:id="sec-register-sle-add-modules-cmd">
   <title>Ajout ou suppression de modules et d&apos;extensions avec SUSEConnect</title>
   <procedure>
    <step>
     <para>
      Exécutez <command>SUSEConnect -list-extensions</command> pour obtenir une présentation des extensions disponibles :
     </para>
     <screen os="sles"><prompt>&gt; </prompt>sudo SUSEConnect -list-extensions
AVAILABLE EXTENSIONS AND MODULES

  Basesystem Module 15 SP4 x86_64 (Installed)
  Deactivate with: SUSEConnect -d -p sle-module-basesystem/15.4/x86_64

    Containers Module 15 SP4 x86_64
    Activate with: SUSEConnect -p sle-module-containers/15.4/x86_64

    Desktop Applications Module 15 SP4 x86_64
    Activate with: SUSEConnect -p sle-module-desktop-applications/15.4/x86_64

      Development Tools Module 15 SP4 x86_64
      Activate with: SUSEConnect -p sle-module-development-tools/15.4/x86_64

      SUSE Linux Enterprise Workstation Extension 15 SP4 x86_64
      Activate with: SUSEConnect -p sle-we/15.4/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

    SUSE Cloud Application Platform Tools Module 15 SP4 x86_64
    Activate with: SUSEConnect -p sle-module-cap-tools/15.4/x86_64

    SUSE Linux Enterprise Live Patching 15 SP4 x86_64
    Activate with:
      SUSEConnect -p sle-module-live-patching/15.4/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

    SUSE Package Hub 15 SP4 x86_64
    Activate with: SUSEConnect -p PackageHub/15.4/x86_64

    Server Applications Module 15 SP4 x86_64 (Installed)
    Deactivate with: SUSEConnect -d -p sle-module-server-applications/15.4/x86_64

      Legacy Module 15 SP4 x86_64
      Activate with: SUSEConnect -p sle-module-legacy/15.4/x86_64

      Public Cloud Module 15 SP4 x86_64
      Activate with: SUSEConnect -p sle-module-public-cloud/15.4/x86_64

      SUSE Enterprise Storage 6 x86_64
      Activate with: SUSEConnect -p ses/6/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

      SUSE Linux Enterprise High Availability Extension 15 SP4 x86_64
      Activate with: SUSEConnect -p sle-ha/15.4/x86_64 -r <replaceable>ADDITIONAL REGCODE</replaceable>

      Web and Scripting Module 15 SP4 x86_64
      Activate with: SUSEConnect -p sle-module-web-scripting/15.4/x86_64

MORE INFORMATION

You can find more information about available modules here:
https://www.suse.com/products/server/features/modules.html</screen>


    </step>
    <step>
     <para>
      Exécutez les commandes de la liste pour activer/désactiver un module ou une extension afin d&apos;ajouter ou de supprimer un composant. Notez que l&apos;ajout d&apos;une extension nécessite des codes d&apos;enregistrement supplémentaires qui peuvent être payants.
     </para>
    </step>
   </procedure>

   <warning>
    <title>suppression de modules</title>
    <para>
     Notez que vous ne devez jamais supprimer <guimenu>Basesystem Module</guimenu>. Il est également déconseillé de supprimer <phrase os="sles"><guimenu>Server Applications Module</guimenu></phrase>.
    </para>
   </warning>

   <important>
    <title>aucune installation/suppression automatisée de paquetages</title>
    <para>
     Lorsque vous utilisez <command>SUSEConnect</command> pour ajouter ou supprimer des modules et des extensions, l&apos;enregistrement de ces composants est annulé et les dépôts ou services respectifs sont supprimés du système. Aucune installation ou suppression de paquetage ne sera effectuée. Si vous souhaitez que cela soit effectué automatiquement, utilisez YaST pour ajouter ou supprimer des modules et des extensions.
    </para>
    <para>
     Lorsque vous ajoutez un module ou une extension, cela signifie qu&apos;aucune installation automatique des paquetages ou des modèles par défaut n&apos;est effectuée. Vous devez le faire manuellement avec Zypper sur la ligne de commande ou en exécutant <menuchoice><guimenu>YaST</guimenu> <guimenu>Gestion des logiciels</guimenu></menuchoice>.
    </para>
    <para>
     Lorsque vous supprimez un module ou une extension, cela signifie qu&apos;aucun nettoyage automatique ne sera effectué. Tous les paquetages appartenant au module ou à l&apos;extension restent installés sur le système, mais ne sont plus associés à un dépôt et ne reçoivent donc plus de mises à jour. Pour supprimer ces paquetages dits <quote>orphelins</quote>, utilisez Zypper sur la ligne de commande. <command>zypper packages --orphaned</command> répertorie ces paquetages et <command>zypper remove</command> supprime un ou plusieurs paquetages. Vous pouvez également utiliser <menuchoice><guimenu>YaST</guimenu> <guimenu> Gestion des logiciels</guimenu></menuchoice> pour répertorier et supprimer des paquetages orphelins.
    </para>
   </important>

   <warning>
    <title>aucune mise à jour des paquetages de modules ou d&apos;extensions supprimées</title>
    <para>
     Si vous choisissez de conserver les paquetages de modules ou d&apos;extensions supprimées, vous ne recevrez plus de mises à jour pour ces paquetages. Comme cela inclut les correctifs de sécurité, la conservation de ces paquetages peut introduire un risque de sécurité sur votre système.
    </para>
   </warning>

  </sect2>
 </sect1>
</chapter>
