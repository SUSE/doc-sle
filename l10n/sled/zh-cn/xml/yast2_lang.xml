<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_lang.xml" version="5.0" xml:id="cha-yast-lang">
 <title>使用 YaST 更改语言和国家/地区设置</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
  <abstract>
   <para>
    本章介绍如何配置语言和国家/地区设置。您可以全局更改整个系统的语言，单独更改特定用户或桌面的语言，或暂时更改单个应用程序的语言。此外，您还可以配置次要语言，调整日期和国家/地区设置。
   </para>
  </abstract>
 </info>
 <para>
  如果在其他国家/地区工作或必须在多语环境中工作，则需要设置计算机以支持该要求。<phrase role="productname"><phrase os="sled">SUSE® Linux Enterprise Desktop</phrase></phrase> 可以同时处理不同的<literal>区域设置</literal>。区域设置代表一组参数，这些参数定义在用户界面中反映的语言和国家/地区设置。
 </para>
 <para>
  主要系统语言在安装期间选择，键盘和时区设置也已调整。但是，可以在系统上安装更多语言并确定应将哪种已安装语言用作默认语言。
 </para>
 <para>
  对于这些任务，请按<xref linkend="sec-yast-langmod"/>中所述使用 YaST 语言模块。如果需要以非主要语言启动应用程序或桌面，请安装次要语言以获取可选的本地化内容。
 </para>
 <para>
  除此之外，还可以通过 YaST 时区模块相应地调整国家/地区和时区设置。通过它还可以将系统时钟与时间服务器进行同步。有关细节，请参见<xref linkend="sec-yast-country"/>。
 </para>
 <sect1 xml:id="sec-yast-langmod">
  <title>更改系统语言</title>

  <para>
   根据您使用桌面的方式，以及是希望将整个系统还是仅将桌面环境本身切换为另一种语言，可以采用的方法有数种：
  </para>

  <variablelist>
   <varlistentry xml:id="vle-lang-system">
    <term>全局更改系统语言</term>
    <listitem>
     <para>
      按<xref linkend="sec-yast-lang-primsec"/>和<xref linkend="sec-yast-lang-switch"/>中所述操作，以便使用 YaST 安装更多本地化软件包并设置默认语言。更改会在下次登录后生效。要确保整个系统都实施更改，请重引导系统或关闭并重启动正在运行的所有服务、应用程序和程序。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-lang-desktop">
    <term>仅更改桌面语言</term>
    <listitem>
     <para>
      如果先前已按照以下所述使用 YaST 为桌面环境安装了所需语言软件包，则可使用桌面的控制中心切换桌面语言。<phrase os="sled;osuse">有关细节，请参见 <xref linkend="sec-gnome-settings-lang"/>。</phrase>重启动 X 服务器之后，整个桌面将反映新选择的语言。不属于桌面框架的应用程序不受此更改的影响，仍然以 YaST 中设置的语言显示。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="vle-lang-application">
    <term>仅为一个应用程序临时切换语言</term>
    <listitem>
     <para>
      此外，还可以使用另一种语言来运行单个应用程序（该语言已使用 YaST 安装）。要实现该目的，可以按照<xref linkend="sec-yast-lang-applications"/>中所述，通过指定语言代码从命令行中启动它。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <sect2 xml:id="sec-yast-lang-primsec">
   <title>使用 YaST 修改系统语言</title>
   <para>
    YaST 有两种不同的语言类别：
   </para>
   <variablelist>
    <varlistentry>
     <term><guimenu>主要语言</guimenu></term>
     <listitem>
      <para>
       在 YaST 中设置的主要语言将应用于整个系统，包括 YaST 和桌面环境。除非指定其他语言，否则系统会尽可能使用这种语言。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>次要语言</guimenu></term>
     <listitem>
      <para>
       安装次要语言，让系统支持多语种。作为次要语言安装的语言可以针对特定情形手动选择。例如，使用次要语言以特定语言启动应用程序，以便以这种语言进行文字处理。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    在安装其他语言之前，请先确定要将其中的哪个语言用作默认的系统语言（主要语言）。
   </para>
   <para>
    要访问 YaST 语言模块，可以启动 YaST 并单击<menuchoice>
    <guimenu>系统</guimenu> <guimenu> 语言</guimenu> </menuchoice>。或者，也可以通过在命令行中运行 <command>sudo yast2 language &amp;</command> 来直接启动<guimenu>语言</guimenu>对话框。
   </para>
   <informalfigure>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2_language.png" width="75%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2_language.png" width="75%"/>
     </imageobject>
    </mediaobject>
   </informalfigure>
   <procedure xml:id="pro-yast-lang-additional">
    <title>安装其他语言</title>
    <para>
     安装其他语言时，YaST 还允许为用户 <systemitem class="username">root</systemitem> 设置不同的区域设置；请参见<xref linkend="st-yast-lang-additional-root"/>。选项<guimenu>用户 root 的区域设置</guimenu>决定如何为 <systemitem class="username">root</systemitem> 设置文件 <filename>/etc/sysconfig/language</filename> 中的区域设置变量 (<envar>LC_*</envar>)。可将它们设置为与一般用户相同的区域设置。或者，您可以不让其受任何语言变化的影响，或者仅将变量 <envar>RC_LC_CTYPE</envar> 设置为与一般用户相同的值。<envar>RC_LC_CTYPE</envar> 变量为语言特定的函数调用设置本地化。
    </para>
    <step>
     <para>
      要在 YaST 语言模块中添加语言，可以选择要安装的<guimenu>次要语言</guimenu>。
     </para>
    </step>
    <step>
     <para>
      要将某种语言用作默认语言，可以将它设置为<guimenu>主要语言</guimenu>。
     </para>
    </step>
    <step>
     <para>
      此外，根据新的主要语言调整键盘并调整时区（如果适用）。
     </para>

     <tip>
      <title>高级设置</title>
      <para>
       对于高级键盘或时区设置，请在 YaST 中选择<menuchoice>
       <guimenu>硬件</guimenu> <guimenu> 系统键盘布局</guimenu>
       </menuchoice>，或<menuchoice> <guimenu>系统</guimenu> <guimenu> 日期和时间</guimenu> </menuchoice>，以启动相应的对话框。有关更多信息，请参考<xref linkend="sec-yast-hw-keym"/>和<xref linkend="sec-yast-country"/>。
      </para>
     </tip>
    </step>
    <step xml:id="st-yast-lang-additional-root">
     <para>
      要更改特定于用户 <systemitem class="username">root</systemitem> 的语言设置，请单击<guimenu>细节</guimenu>。
     </para>
     <substeps performance="required">
      <step>
       <para>
        将<guimenu>用户 root 的区域设置</guimenu>设置为所需值。有关更多信息，单击<guimenu>帮助</guimenu>。
       </para>
      </step>
      <step>
       <para>
        确定是否要对 <systemitem class="username">root</systemitem> 使用 <guimenu>UTF-8</guimenu> 编码。
       </para>
      </step>
     </substeps>
    </step>
    <step>
     <para>
      如果可用主要语言列表中不包含您的区域设置，请尝试使用<guimenu>详细区域设置</guimenu>指定它。但是，有些本地化可能不完整。
     </para>
    </step>
    <step>
     <para>
      在对话框中使用<guimenu>确定</guimenu>确认更改。如果选择了次要语言，则 YaST 会安装对应于附加语言的软件包。
     </para>
    </step>
   </procedure>
   <para>
    系统现在即可支持多种语言。但是，要使用主要语言之外的其他语言启动应用程序，您需要明确设置所需语言，如<xref linkend="sec-yast-lang-applications"/>中所述。
   </para>
  </sect2>

  <sect2 xml:id="sec-yast-lang-switch">
   <title>切换默认系统语言</title>
   <para>
    要全局更改系统的默认语言，请执行以下过程：
   </para>
   <procedure>
    <step>
     <para>
      启动 YaST 语言模块。
     </para>
    </step>
    <step>
     <para>
      选择所需的新的系统语言作为<guimenu>主要语言</guimenu>。
     </para>
     <important>
      <title>删除原先的系统语言</title>
      <para>
       如果切换为不同的主要语言，则会从系统中删除原主要语言的本地化软件包。要切换默认的系统语言，但要将原先的主要语言保留为附加语言，可以通过选择相应的复选框将它添加为<guimenu>次要语言</guimenu>。
      </para>
     </important>
    </step>
    <step>
     <para>
      根据需要调整键盘和时区选项。
     </para>
    </step>
    <step>
     <para>
      单击<guimenu>确定</guimenu>确认更改。
     </para>
    </step>
    <step>
     <para>
      在 YaST 应用更改之后，重启动当前 X 会话（例如，注销并再次登录），使 YaST 和桌面应用程序反映新的语言设置。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-yast-lang-applications">
   <title>切换标准 X 和 GNOME 应用程序的语言</title>
   <para>
    使用 YaST 安装相应的语言之后，可以使用另一种语言运行单个应用程序。
   </para>
   <para>
    在命令行中通过使用以下命令启动应用程序：
   </para>
<screen>LANG=<replaceable>LANGUAGE</replaceable> <replaceable>application</replaceable></screen>
   <para>
    例如，要使用德语启动 f-spot，可以运行 <command>LANG=de_DE f-spot</command>。对于其他语言，请使用相应的语言代码。使用 <command>locale </command> <option>-av</option> 命令获取可用的所有语言代码的列表。
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-yast-country">
  <title>更改国家/地区和时间设置</title>

  <para>
   使用 YaST 日期和时间模块，将系统日期、时钟和时区信息调整为您的工作地区。要访问 YaST 模块，请启动 YaST 并单击<menuchoice> <guimenu>系统</guimenu>
   <guimenu> 日期和时间</guimenu> </menuchoice>。或者，也可以通过在命令行中运行 <command>sudo yast2 timezone &amp;</command> 来直接启动<guimenu>时钟和时区</guimenu>对话框。
  </para>

  <informalfigure>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_timezone.png" width="75%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_timezone.png" width="75%"/>
    </imageobject>
   </mediaobject>
  </informalfigure>

  <para>
   首先选择一般地区，如<guimenu>欧洲</guimenu>。选择与您工作的地区匹配的相应国家/地区，如<guimenu>德国</guimenu>。
  </para>

  <para>
   根据工作站上运行的操作系统，相应地调整硬件时钟设置：
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     如果在计算机上运行另一个操作系统（如 Microsoft Windows*），系统可能不使用 UTC，而是使用本地时间。在这种情况下，请停用<guimenu>硬件时钟设置为 UTC</guimenu>。
    </para>
   </listitem>
   <listitem>
    <para>
     如果在计算机上只运行 Linux，请将硬件时钟设置为 UTC，并自动将标准时间切换为夏令时。
    </para>
   </listitem>
  </itemizedlist>

  <important>
   <title>将硬件时钟设置为 UTC</title>
   <para>
    如果要从标准时间自动切换到夏令时（反之亦然），则前提条件是硬件时钟（CMOS 时钟）设置为 UTC。这同样适用于借助 NTP 使用自动时间同步的情况，因为系统只有在硬件与系统时钟之间的时差少于 15 分钟时才会执行自动同步。
   </para>
   <para>
    由于错误的系统时间可能会导致严重的问题（错过备份、丢弃邮件、在远程文件系统上挂载失败等），因此强烈建议您<emphasis>始终</emphasis>将硬件时钟设置为 UTC。
   </para>
  </important>

  <para>
   可以手动更改日期和时间或选项，以便将计算机与 NTP 服务器永久同步，或仅调整硬件时钟。
  </para>

  <procedure>
   <title>手动调整时间和日期</title>
   <step>
    <para>
     在 YaST 时区模块中，单击<guimenu>其他设置</guimenu>以设置日期和时间。
    </para>
   </step>
   <step>
    <para>
     选择<guimenu>手动</guimenu>并输入日期和时间值。
    </para>
   </step>
   <step>
    <para>
     确认更改。
    </para>
   </step>
  </procedure>

  <procedure>
   <title>使用 NTP 服务器设置日期和时间</title>
   <step>
    <para>
     单击<guimenu>其他设置</guimenu>以设置日期和时间。
    </para>
   </step>
   <step>
    <para>
     选择<guimenu>与 NTP 服务器同步</guimenu>。
    </para>
   </step>
   <step>
    <para>
     输入 NTP 服务器的地址（如果尚未填充）。
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="html">
       <imagedata fileref="yast2_timezone_ntp.png" width="75%"/>
      </imageobject>
      <imageobject role="pdf">
       <imagedata fileref="yast2_timezone_ntp.png" width="75%"/>
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step>
    <para>
     使用<guimenu>配置</guimenu>按钮，可以打开高级 NTP 配置。有关详细信息，请参见<xref linkend="sec-ntp-yast"/>。
    </para>
   </step>
   <step>
    <para>
     确认更改。
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
