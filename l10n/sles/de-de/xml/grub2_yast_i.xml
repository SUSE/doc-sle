<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="grub2_yast_i.xml" version="5.0" xml:id="sec-grub2-yast2-config"> <title>Konfigurieren des Bootloaders mit YaST</title>

 <info>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:bugtracker/>
        <dm:translation>yes</dm:translation>
      </dm:docmanager>
    </info>
    <para>
  Mit dem YaST-Modul ist die Konfiguration des Bootloaders auf Ihrem <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise-Server</phrase></phrase> am einfachsten. Wählen Sie im <guimenu>YaST-Kontrollzentrum</guimenu> die Option <menuchoice> <guimenu>System</guimenu> <guimenu>Bootloader</guimenu></menuchoice>. Das Modul zeigt die aktuelle Bootloader-Konfiguration des Systems und ermöglicht Ihnen, Änderungen vorzunehmen.
 </para>

 <para>
  Verwenden Sie den Karteireiter <guimenu>Boot-Code-Optionen</guimenu>, um die Einstellungen in Bezug auf Typ, Speicherort und erweiterte Bootloader-Einstellungen anzuzeigen und zu ändern. Sie können festlegen, ob GRUB 2 im Standardmodus oder im EFI-Modus verwendet werden soll.
 </para>

 <figure xml:id="fig-grub2-yast-boot-code-options0">
  <title>Bootcode-Optionen</title>
  <mediaobject>
   <imageobject role="fo">
    <imagedata fileref="yast2_bootloader_boot_code.png" width="75%" format="PNG"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="yast2_bootloader_boot_code.png" width="75%" format="PNG"/>
   </imageobject>
  </mediaobject>
 </figure>

 <important>
  <title>GRUB2-EFI für EFI-Systeme erforderlich</title>
  <para>
   Bei einem EFI-System können Sie nur GRUB2-EFI installieren, da das System ansonsten nicht mehr bootfähig ist.
  </para>
 </important>

 <important>
  <title>Neuinstallation des Bootloaders</title>
  <para>
   Um den Bootloader neu zu installieren, muss eine Einstellung in YaST geändert und wieder zurückgesetzt werden. Um beispielsweise GRUB2-EFI neu zu installieren, wählen Sie zuerst <guimenu>GRUB2</guimenu> aus und wechseln Sie sofort wieder zurück zu <guimenu>GRUB2-EFI</guimenu>.
  </para>
  <para>
   Ansonsten wird der Bootloader möglicherweise nur zum Teil neu installiert.
  </para>
 </important>

 <note>
  <title>Benutzerdefinierter Bootloader</title>
  <para>
   Wenn Sie einen anderen Bootloader außer den aufgeführten Bootloadern verwenden möchten, wählen Sie <guimenu>Keinen Bootloader installieren</guimenu>. Lesen Sie die Dokumentation Ihres Bootloaders sorgfältig durch, bevor Sie diese Option auswählen.
  </para>
 </note>

 <sect2 xml:id="sec-grub2-yast2-location">
  <title>Speicherort des Bootloaders und Boot-Code-Optionen</title>

  <para>
   Der Standardspeicherort des Bootloaders ist abhängig von der Partitionseinrichtung – es handelt sich entweder um den Master Boot Record (MBR) oder den Bootsektor der Partition <filename>/</filename>. Um den Speicherort des Bootloaders zu ändern, gehen Sie wie folgt vor:
  </para>
  <procedure xml:id="pro-sec-grub2-yast2-location">
   <title>Speicherort des Bootloaders ändern</title>
   <step>
    <para>
     Wählen Sie den Karteireiter <guimenu>Boot-Code-Optionen</guimenu> und anschließend eine der folgenden Optionen für <guimenu>Speicherort des Bootloaders</guimenu>:
    </para>
    <variablelist>
     <varlistentry>
      <term><guimenu>Booten vom Master Boot Record</guimenu>
      </term>
      <listitem>
       <para>
        Hiermit wird der Bootloader in den MBR der Festplatte installiert, auf der sich das Verzeichnis <filename>/boot</filename> befindet. In der Regel ist dies die Festplatte, die in <filename>/</filename> eingehängt ist. Falls <filename>/boot</filename> in einer anderen Partition auf einer anderen Festplatte eingehängt ist, wird entsprechend der MBR der anderen Festplatte herangezogen.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Booten von der root-Partition</guimenu>
      </term>
      <listitem>
       <para>
        Der Bootloader wird in den Bootsektor der Partition <filename>/</filename> installiert.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Benutzerdefinierte root-Partition</guimenu>
      </term>
      <listitem>
       <para>
        Mit dieser Option können Sie den Speicherort des Bootloaders manuell angeben.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </step>
   <step>
    <para>
     Klicken Sie auf <guimenu>OK</guimenu>, um die Änderungen zu übernehmen.
    </para>
   </step>
  </procedure>
  <figure xml:id="fig-grub2-yast-boot-code-options">
   <title>Code-Optionen</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_bootloader_boot_code.png" width="75%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_bootloader_boot_code.png" width="75%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
  <para>
   Die Registerkarte <guimenu>Boot-Code-Optionen</guimenu> enthält die folgenden zusätzlichen Optionen:
  </para>
   <variablelist>
    <varlistentry>
     <term><guimenu>Aktives Flag in Partitionstabelle für Bootpartition festlegen</guimenu>
     </term>
     <listitem>
      <para>
       Aktiviert die Partition, die das Verzeichnis <filename>/boot</filename> enthält. Bei POWER-Systemen wird die PReP-Partition aktiviert. Verwenden Sie diese Option auf Systemen mit älterem BIOS und/oder älteren Betriebssystemen, da diese Systeme unter Umständen nicht von einer nicht aktiven Partition gebootet werden können. Diese Option kann problemlos aktiviert bleiben.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Generischen Bootcode in MBR schreiben</guimenu>
     </term>
     <listitem>
      <para>
       Wenn der MBR einen benutzerdefinierten „Nicht-GRUB-Code“ enthält, ersetzt diese Option diesen Code durch einen generischen, betriebssystemunabhängigen Code. Wenn Sie diese Option deaktivieren, ist das System eventuell nicht mehr bootfähig.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Unterstützung für Trusted Boot aktivieren</guimenu>
     </term>
     <listitem>
      <para>
       Startet TrustedGRUB2, womit die Funktion für Trusted Computing (Trusted Platform Module (TPM)) unterstützt wird. Weitere Informationen finden Sie unter <link xlink:href="https://github.com/Sirrix-AG/TrustedGRUB2"/>.
      </para>
       </listitem>
    </varlistentry>    
    </variablelist>   
      <para>
      Der Abschnitt <guimenu>Flag für geschützten MBR</guimenu> enthält folgende Optionen:
      </para>
    <variablelist>
    <varlistentry>
     <term><guimenu>set</guimenu>
     </term>
     <listitem>
      <para>
       Diese Option eignet sich für das herkömmliche Booten mit Legacy-BIOS.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>entfernen</guimenu>
     </term>
     <listitem>
      <para>
       Diese Option eignet sich für das UEFI-Booten.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>nicht ändern</guimenu>
     </term>
     <listitem>
      <para>
       Dies ist in der Regel die beste Option, wenn bereits ein funktionsfähiges System vorliegt.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
    <para>
       In den meisten Fällen verwendet YaST standardmäßig die jeweils richtige Option.
    </para>         
       
 </sect2>
 <sect2 xml:id="sec-grub2-yast2-config-order">
  <title>Anpassen der Festplattenreihenfolge</title>
  <para>
   Wenn der Rechner mit mehreren Festplatten ausgestattet ist, können Sie die Bootreihenfolge für die Festplatten festlegen. GRUB 2 wird auf der ersten Festplatte in der Liste installiert, wenn vom MBR gebootet wird. Auf dieser Festplatte wird <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> standardmäßig installiert. Die restlichen Einträge in der Liste bilden Hinweise für den Geräte-Mapper von GRUB 2 (siehe <xref linkend="sec-grub2-map"/>).
  </para>
  <warning>
   <title>Nicht bootfähiges System</title>
   <para>
    Der Standardwert gilt in der Regel für nahezu alle Bereitstellungen. Wenn Sie die Bootreihenfolge der Festplatten falsch ändern, ist das System beim nächsten Booten unter Umständen nicht mehr bootfähig. Dies ist beispielsweise der Fall, wenn die erste Festplatte in der Liste nicht in der BIOS-Bootreihenfolge aufgeführt und der MBR der anderen Festplatten in der Liste leer ist.
   </para>
  </warning>
  <procedure xml:id="pro-sec-grub2-yast2-config-order">
   <title>Festlegen der Festplattenreihenfolge</title>
   <step>
    <para>
     Öffnen Sie den Karteireiter <guimenu>Boot-Code-Optionen</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Klicken Sie auf <guimenu>Festplatten-Bootreihenfolge bearbeiten</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Ändern Sie bei mehreren aufgeführten Festplatten deren Reihenfolge mit einem Klick auf <guimenu>Auf</guimenu> oder <guimenu>Ab</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Klicken Sie zweimal auf <guimenu>OK</guimenu>, um die Änderungen zu speichern.
    </para>
   </step>
  </procedure>
 </sect2>
 <sect2 xml:id="sec-grub2-yast2-config-advanced">
  <title>Konfigurieren der erweiterten Optionen</title>
  <para>
   Erweiterte Bootparameter lassen sich über die Registerkarte <guimenu>Bootloader-Optionen</guimenu> konfigurieren. 
  </para>
  <sect3 xml:id="sec-grub2-yast2-config-advanced-boot-loader">
   <title>Registerkarte <guimenu>Bootloader-Optionen</guimenu></title>
   <figure xml:id="fig-grub2-yast-bootloader-options">
    <title>Bootloader-Optionen</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2_bootloader_options.png" width="75%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2_bootloader_options.png" width="75%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <variablelist>
    <varlistentry>
     <term><guimenu>Zeitlimit des Bootloaders</guimenu>
     </term>
     <listitem>
      <para>
       Zum Ändern des Werts für <guimenu>Zeitüberschreitung in Sekunden</guimenu> geben Sie einen neuen Wert ein, und klicken Sie mit der Maus auf die entsprechenden Pfeilschaltfläche.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Fremdes OS testen</guimenu>
     </term>
     <listitem>
      <para>
       Mit dieser Option sucht der Bootloader nach anderen Systemen, z. B. Windows oder andere Linux-Installationen.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Menü beim Booten verbergen</guimenu>
     </term>
     <listitem>
      <para>
       Blendet das Bootmenü aus und bootet den Standardeintrag.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Anpassen des Standard-Boot-Eintrags</guimenu>
     </term>
     <listitem>
      <para>
       Wählen Sie den gewünschten Eintrag in der Liste <quote>Standard-Bootabschnitt</quote> aus. Beachten Sie, dass das Zeichen <quote>&gt;</quote> im Namen des Booteintrags den Bootabschnitt und den zugehörigen Unterabschnitt begrenzt.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="vle-grub2-yast2-boot-password">
     <term><guimenu>Bootloader durch Passwort schützen</guimenu>
     </term>
     <listitem>
      <para>
       Schützt den Bootloader und das System mit einem zusätzlichen Passwort. Details zur manuellen Konfiguration finden Sie in <xref linkend="sec-grub2-password"/>. Das Bootpasswort muss bei jedem Booten eingegeben werden, wenn diese Option aktiviert ist. Das System wird also nicht automatisch gebootet. Wenn Sie jedoch das Verhalten von GRUB 1 bevorzugen, aktivieren Sie zusätzlich <guimenu>Nur Eintragsänderungen schützen</guimenu>. Bei dieser Einstellung darf jeder eine Boot-Eingabe auswählen und das System booten. Das Passwort für den GRUB 2 <systemitem class="username">root</systemitem>-Benutzer ist jedoch nur zum Ändern der Boot-Einträge erforderlich.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect3>
  <sect3 xml:id="sec-grub2-yast2-config-advanced-kernel-parameters">
   <title>Registerkarte <guimenu>Kernel-Parameter</guimenu></title>
   
   <figure xml:id="fig-grub2-yast-kernel-parameters">
    <title>Kernel-Parameter</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2_bootloader_kernel_parameters.png" width="75%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2_bootloader_kernel_parameters.png" width="75%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <variablelist>
    <varlistentry>
     <term><guimenu>Optionaler Kernel-Kommandozeilenparameter</guimenu>
     </term>
     <listitem>
      <para>
       Geben Sie hier optionale Kernel-Parameter an, um Systemfunktionen zu aktivieren/deaktivieren, Treiber hinzuzufügen usw. 
      </para>
     </listitem>
    </varlistentry>
    <varlistentry xml:id="vle-grub2-yast2-cpu-mitigations">
     
     <term><guimenu>CPU-Mitigationen</guimenu></term>
     <listitem>
      <para>
       SUSE hat mindestens einen Kernel-Boot-Befehlszeilenparameter für alle Software-Mitigationen veröffentlicht, die zur Vorbeugung von CPU-Seitenkanalangriffen bereitgestellt wurden. Einige Parameter führen unter Umständen zu Leistungseinbußen. Bringen Sie die Sicherheit und Leistung je nach Ihrer Situation mit einer der folgenden Optionen ins Gleichgewicht:
      </para>
     <formalpara>
       <title><guimenu>Automatisch</guimenu></title>
        <para>
   Aktiviert alle erforderlichen Mitigationen für Ihr CPU-Modell, schützt jedoch nicht vor CPU-übergreifenden Thread-Angriffen. Diese Einstellung kann die Leistung in gewissem Maße einschränken, je nach Auslastung.
  </para>
       </formalpara>
       <formalpara>
       <title><guimenu>Auto + kein SMT</guimenu></title>
        <para>
    Aktiviert alle verfügbaren Sicherheitsmitigationen. Aktiviert alle erforderlichen Mitigationen für Ihr CPU-Modell. Darüber hinaus wird Simultaneous Multithreading (SMT) deaktiviert, sodass Seitenkanalangriffe über mehrere CPU-Threads unterbunden werden. Diese Einstellung kann die Leistung weiter einschränken, je nach Auslastung.
    </para>
       </formalpara>
       <formalpara>
       <title><guimenu>Aus</guimenu></title>
         <para>
    Deaktiviert alle Mitigationen. Es sind Seitenkanalangriffe gegen die CPU möglich, je nach CPU-Modell. Diese Einstellung wirkt sich nicht auf die Leistung aus.
   </para>
      </formalpara>
       <formalpara>
       <title><guimenu>Manuell</guimenu></title>
        <para>
    Gibt keine Mitigationsstufe vor. Legen Sie die CPU-Mitigationen manuell über die Kernel-Befehlszeilenoptionen fest.
   </para>
       </formalpara>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Grafik-Konsole benutzen</guimenu>
     </term>
     <listitem>
      <para>
       Wenn diese Option aktiviert ist, wird das Bootmenü nicht im Textmodus dargestellt, sondern in einem grafischen Begrüßungsbildschirm. Die Auflösung des Bootbildschirms wird standardmäßig automatisch festgelegt, doch Sie können diese manuell über <guimenu>Konsolenauflösung</guimenu> festlegen. Die Datei mit der Definition des Grafikthemas wird mit der <guimenu>Konsolenthema</guimenu>-Dateiauswahl angegeben. Ändern Sie diese Einstellung nur, wenn Sie ein eigenes benutzerdefiniertes Thema anwenden möchten.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Serielle Konsole verwenden</guimenu>
     </term>
     <listitem>
      <para>
       Wenn Ihr Computer über eine serielle Konsole gesteuert wird, aktivieren Sie diese Option und geben Sie an, welcher COM-Port in welcher Geschwindigkeit verwendet werden soll. Siehe <command>info grub</command> oder <link xlink:href="http://www.gnu.org/software/grub/manual/grub.html#Serial-terminal"/>.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect3>
 </sect2>
</sect1>
