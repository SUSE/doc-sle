<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="net_teaming.xml" version="5.1" xml:id="sec-network-iface-teaming">
 <title>Einrichten von Team-Geräten für Netzwerk-Teaming</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <remark>toms 2016-06-16: FATE#320468</remark>

 <para>
  Der Begriff <quote>Link-Aggregation</quote> ist der allgemeine Begriff zum Beschreiben der Kombination (oder Aggregation) einer Netzwerkverbindung zum Bereitstellen einer logischen Ebene. Manchmal findet man die Begriffe <quote>Kanal-Teamvorgang</quote>, <quote>Ethernet-Bonding</quote>, <quote>Port-Abbruch</quote> usw., die Synonyme sind und sich auf das gleiche Konzept beziehen.
 </para>

 <para>
  Dieses Konzept ist allgemein bekannt als <quote>Bonding</quote> und wurde ursprünglich in den Linux-Kernel integriert (Informationen zur 
ursprünglichen Implementierung finden Sie in <xref linkend="sec-network-iface-bonding"/>). Der Begriff <emphasis>Netzwerk-Teaming</emphasis> wird zum Bezeichnen der neuen Implementierung dieses Konzepts verwendet.
 </para>

 <para>
  Der Hauptunterschied zwischen Bonding und Netzwerk-Teaming ist der, dass das Teaming eine Reihe an kleinen Kernel-Modulen bereitstellt, die für die Bereitstellung einer Schnittstelle für die teamd-Instanzen verantwortlich sind. Alles andere wird im Userspace verarbeitet. Dies unterscheidet sich von der ursprünglichen Bondings-Implementierung, die alle ihre Funktionen ausschließlich im Kernel enthält. Einen Vergleich finden Sie unter <xref linkend="tab-team-comparison"/>.
 </para>

 <table xml:id="tab-team-comparison">
  <title>Funktionsvergleich zwischen Bonding und Team</title>
  <tgroup cols="3">
   <colspec colname="c1"/>
   <colspec colname="c2"/>
   <colspec colname="c3"/>
   <thead>
    <row>
     <entry>Funktion</entry>
     <entry>Bonding</entry>
     <entry>Team</entry>
    </row>
   </thead>
   <tbody>
    <row>
     <entry>Broadcast, Round-Robin-TX-Richtlinie</entry>
     <entry>Ja</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>Active-Backup-TX-Richtlinie</entry>
     <entry>Ja</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>LACP-Unterstützung (802.3ad)</entry>
     <entry>Ja</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>Hashbasierte TX-Richtlinie</entry>
     <entry>Ja</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>Benutzer kann Hashfunktion festlegen</entry>
     <entry>Nein</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>TX-Lastenausgleichsunterstützung</entry>
     <entry>Ja</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>TX-Lastenausgleichsunterstützung für LACP</entry>
     <entry>Nein</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>Ethtool-Link-Überwachung</entry>
     <entry>Ja</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>ARP-Link-Überwachung</entry>
     <entry>Ja</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>NS/NA-Link-Überwachung (IPv6)</entry>
     <entry>Nein</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>RCU-Sperre in TX-/RX-Pfaden</entry>
     <entry>Nein</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>Portpriorität und Stickiness</entry>
     <entry>Nein</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>Separate Einrichtung der Link-Überwachung nach Port</entry>
     <entry>Nein</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>Einrichtung der Link-Überwachung für mehrere Ports</entry>
     <entry>begrenzt</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>VLAN-Unterstützung</entry>
     <entry>Ja</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry>Stapeln mehrerer Geräte</entry>
     <entry>Ja</entry>
     <entry>Ja</entry>
    </row>
    <row>
     <entry namest="c1" nameend="c3">Quelle: <link xlink:href="http://libteam.org/files/teamdev.pp.pdf"/></entry>
    </row>
   </tbody>
  </tgroup>
 </table>

 <para>
  Beide Implementierungen, Bonding und Netzwerk-Teaming, können parallel verwendet werden. Netzwerk-Teaming ist eine Alternative zur bestehenden Bondings-Implementierung. Es ersetzt das Bonding nicht.
 </para>

 <para>
  Netzwerk-Teaming kann für verschiedene Anwendungsfälle verwendet werden. Die beiden wichtigsten Anwendungsfälle werden später erläutert und umfassen:
 </para>

 <itemizedlist>
  <listitem>
   <para>
    Lastausgleich zwischen Netzwerkgeräten.
   </para>
  </listitem>
  <listitem>
   <para>
    Failover von einem Netzwerkgerät zu einem anderen, falls eines der Geräte einen Fehler aufweist.
   </para>
  </listitem>
 </itemizedlist>

 <para>
  <remark>toms 2016-06-21: FATE#320947 for Teaming in/with YaST</remark>
  Zurzeit ist kein YaST-Modul vorhanden, dass das Erstellen eines Teaming-Geräts unterstützt. Sie müssen Netzwerk-Teaming manuell konfigurieren. Das allgemeine Verfahren ist unten dargestellt und kann auf alle Netzwerk-Teaming-Konfigurationen angewendet werden:
 </para>

 <procedure xml:id="pro-team-general">
  <title>Allgemeines Verfahren</title>
  <step>
   <para>
    Stellen Sie sicher, dass alle erforderlichen Pakete installiert sind. Installieren Sie die Pakete <package>libteam-tools</package>, <package>libteamdctl0</package> und <package>python-libteam</package>.
   </para>
  </step>
  <step>
   <para>
    Erstellen Sie eine Konfigurationsdatei unter <filename>/etc/sysconfig/network/</filename>. In der Regel ist dies <filename>ifcfg-team0</filename>. Benötigen Sie mehr als ein Netzwerk-Teaming-Gerät, teilen Sie ihnen aufsteigende Nummern zu.
   </para>
   <para>
    Diese Konfigurationsdatei enthält mehrere Variablen, die auf den man-Seiten erläutert werden (siehe <command>man ifcfg</command> und <command>man ifcfg-team</command>). Eine Beispielkonfiguration finden Sie im System in der Datei <filename>/etc/sysconfig/network/ifcfg.template</filename>.
   </para>
  </step>
  <step>
   <para>
    Entfernen Sie die Konfigurationsdatei der Schnittstellen, die für das Teaming-Gerät verwendet werden (in der Regel <filename>ifcfg-eth0</filename> und <filename>ifcfg-eth1</filename>).
   </para>
   <para>
    Es wird empfohlen, eine Sicherung zu erstellen und beide Dateien zu löschen. Wicked legt die Konfigurationsdateien mit den erforderlichen Parametern für Teaming neu an.
   </para>
  </step>
  <step>
   <para>
    Optional können Sie überprüfen, ob alle Angeben in der Konfigurationsdatei von Wicked enthalten sind:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> <command>wicked show-config</command></screen>
  </step>
  <step>
   <para>
    Starten Sie das Netzwerk-Teaming-Gerät <systemitem class="service">team0</systemitem>:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> <command>wicked ifup all team0</command></screen>
   <para>
    Falls Sie zusätzliche Informationen zur Fehlersuche benötigen, verwenden Sie die Option <option>--debug all</option> nach dem Subkommando <command>all</command>.
   </para>
  </step>
  <step>
   <para>
    Überprüfen Sie den Status des Netzwerk-Teaming-Geräts. Führen Sie hierzu die folgenden Kommandos aus:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Status der teamd-Instanz von Wicked abrufen:
     </para>
<screen><prompt>&gt; </prompt><command>sudo</command> <command>wicked ifstatus --verbose team0</command></screen>
    </listitem>
    <listitem>
     <para>
      Status der gesamten Instanz abrufen:
     </para>
<screen><prompt>&gt; </prompt><command>sudo</command> <command>teamdctl team0 state</command></screen>
    </listitem>
    <listitem>
     <para>
      systemd-Status der teamd-Instanz abrufen:
     </para>
<screen><prompt>&gt; </prompt><command>sudo</command> <command>systemctl status teamd@team0</command></screen>
    </listitem>
   </itemizedlist>
   <para>
    Jedes Kommando zeigt eine etwas andere Ansicht abhängig von Ihren Anforderungen an.
   </para>
  </step>
  <step>
   <para>
    Falls Sie nachträglich Änderungen in der Datei <filename>ifcfg-team0</filename> vornehmen müssen, laden Sie die Konfiguration der Datei mit folgendem Kommando neu:
   </para>
<screen><prompt>&gt; </prompt><command>sudo</command> <command>wicked ifreload team0</command></screen>
  </step>
 </procedure>

 <para>
  Verwenden Sie <emphasis>nicht</emphasis> <command>systemctl</command> zum Starten oder Stoppen des Teaming-Geräts! Verwenden Sie stattdessen das Kommando <command>wicked</command>, wie oben gezeigt.
 </para>

 <para>
  So entfernen Sie das Teaming-Gerät vollständig:
 </para>
 <procedure>
  <title>Entfernen eines Teamgeräts</title>
  <step>
   <para>
    Halten Sie das Netzwerk-Teaming-Gerät <systemitem class="service">team0</systemitem> an:
   </para>
   <screen><prompt>&gt; </prompt><command>sudo</command> <command>wicked ifdown team0</command></screen>
  </step>
  <step>
   <para>
    Benennen Sie die Datei <filename>/etc/sysconfig/network/ifcfg-team0</filename> in <filename>/etc/sysconfig/network/.ifcfg-team0</filename> um. Wenn ein Punkt vor dem Dateinamen steht, ist er für Wicked <quote>unsichtbar</quote>. Falls Sie die Konfiguration tatsächlich nicht mehr benötigen, können Sie die Datei auch entfernen.
   </para>
  </step>
  <step>
   <para>Laden Sie die Konfiguration neu:</para>
   <screen><prompt>&gt; </prompt><command>sudo</command> <command>wicked ifreload all</command></screen>
  </step>
 </procedure>

 <sect2 xml:id="sec-network-iface-teaming-lb">
  <title>Anwendungsfall: Lastausgleich bei Netzwerk-Teaming</title>
  <para>
   Der Lastausgleich erhöht die Bandbreite. Verwenden Sie die folgende Konfigurationsdatei zum Erstellen eines Netzwerk-Teaming-Geräts mit Funktionen für den Lastenausgleich. Fahren Sie mit <xref linkend="pro-team-general"/> fort, um das Gerät einzurichten. Überprüfen Sie die Ausgabe mit <command>teamdctl</command>.
  </para>
  <example xml:id="ex-team-lb">
   <title>Konfiguration für Lastausgleich bei Netzwerk-Teaming</title>
<screen>STARTMODE=auto <co xml:id="co-team-lb-startmode"/>
BOOTPROTO=static <co xml:id="co-team-lb-boot-and-ip"/>
IPADDRESS="192.168.1.1/24" <xref linkend="co-team-lb-boot-and-ip"/>
IPADDR6="fd00:deca:fbad:50::1/64" <xref linkend="co-team-lb-boot-and-ip"/>

TEAM_RUNNER="loadbalance" <co xml:id="co-team-lb-loadbalance"/>
TEAM_LB_TX_HASH="ipv4,ipv6,eth,vlan"
TEAM_LB_TX_BALANCER_NAME="basic"
TEAM_LB_TX_BALANCER_INTERVAL="100"

TEAM_PORT_DEVICE_0="eth0" <co xml:id="co-team-lb-dev"/>
TEAM_PORT_DEVICE_1="eth1" <xref linkend="co-team-lb-dev"/>

TEAM_LW_NAME="ethtool" <co xml:id="co-team-lb-name"/>
TEAM_LW_ETHTOOL_DELAY_UP="10" <co xml:id="co-team-lb-ethtool-delay"/>
TEAM_LW_ETHTOOL_DELAY_DOWN="10" <xref linkend="co-team-lb-ethtool-delay"/></screen>

   <calloutlist>
    <callout arearefs="co-team-lb-startmode">
     <para>
      Steuert das Starten des Teaming-Geräts. Der Wert <literal>auto</literal> bedeutet, dass die Schnittstelle eingerichtet wird, wenn der Netzwerkdienst verfügbar ist und bei jedem Reboot automatisch gestartet wird.
     </para>
     <para>
      Falls Sie das Gerät selbst steuern müssen (und das automatische Starten vermeiden möchten) legen Sie <literal>manual</literal> für <varname>STARTMODE</varname> fest.
     </para>
    </callout>
    <callout arearefs="co-team-lb-boot-and-ip">
     <para>
      Legt eine statische IP-Adresse fest (hier <systemitem class="ipaddress">192.168.1.1</systemitem> für IPv4 und <systemitem class="ipaddress">fd00:deca:fbad:50::1</systemitem> für IPv6).
     </para>
     <para>
      Wenn das Netzwerk-Teaming-Gerät eine dynamische IP-Adresse verwenden soll, legen Sie <literal>BOOTPROTO=&quot;dhcp&quot;</literal> fest und entfernen (oder kommentieren) Sie die Zeile mit <varname>IPADDRESS</varname> und <varname>IPADDR6</varname>.
     </para>
    </callout>
    <callout arearefs="co-team-lb-loadbalance">
     <para>
      Stellt <varname>TEAM_RUNNER</varname> auf <literal>loadbalance</literal> ein und aktiviert damit den Lastausgleichsmodus.
     </para>
    </callout>
    <callout arearefs="co-team-lb-dev">
     <para>
      Gibt ein oder mehrere Geräte an, die aggregiert werden sollen, um das Netzwerk-Teaming-Gerät zu bilden.
     </para>
    </callout>
    <callout arearefs="co-team-lb-name">
     <para>
      Definiert eine Verbindungsüberwachung, die den Status der untergeordneten Geräte überwacht. Mit dem Standardwert <literal>ethtool</literal> wird nur überprüft, ob das Gerät aktiv und erreichbar ist. Hierdurch erfolgt die Überprüfung recht schnell. Jedoch wird nicht überprüft, ob das Gerät wirklich Pakete senden und empfangen kann.
     </para>
     <para>
      Wenn Sie wirklich sicher sein müssen, dass die Verbindung einwandfrei funktioniert, verwenden Sie die Option <literal>arp_ping</literal>. Damit werden Ping-Signale an einen beliebigen Host gesendet (in der Variablen <varname>TEAM_LW_ARP_PING_TARGET_HOST</varname> konfiguriert). Das Netzwerk-Teaming-Gerät gilt nur dann als funktionsfähig, wenn Antworten empfangen werden.
     </para>
    </callout>
    <callout arearefs="co-team-lb-ethtool-delay">
     <para>
      Definiert die Verzögerung in Millisekunden zwischen dem Verbindungsaufbau (oder -abbau) und der Benachrichtigung des Runner.
     </para>
    </callout>
   </calloutlist>
  </example>
 </sect2>

 <sect2 xml:id="sec-network-iface-teaming-failover">
  <title>Anwendungsfall: Failover bei Netzwerk-Teaming</title>
  <para>
   Failover wird verwendet, um eine hohe Verfügbarkeit kritischer Netzwerk-Teaming-Geräte sicherzustellen, indem ein paralleles Sicherungsnetzwerkgerät verwendet wird. Das Sicherungsnetzwerkgerät ist ständig aktiv und übernimmt die Funktionen, wenn das Hauptgerät ausfällt.
  </para>
  <para>
   Verwenden Sie die folgende Konfigurationsdatei zum Erstellen eines Netzwerk-Teaming-Geräts mit Failover-Funktionen. Fahren Sie mit <xref linkend="pro-team-general"/> fort, um das Gerät einzurichten. Überprüfen Sie die Ausgabe mit <command>teamdctl</command>.
  </para>
  <example xml:id="ex-team-failover">
   <title>Konfiguration für DHCP-Netzwerk-Teaming-Gerät</title>
<screen>STARTMODE=auto <co xml:id="co-team-failover-startmode"/>
BOOTPROTO=static <co xml:id="co-team-failover-boot-and-ip"/>
IPADDR="192.168.1.2/24" <xref linkend="co-team-failover-boot-and-ip"/>
IPADDR6="fd00:deca:fbad:50::2/64" <xref linkend="co-team-failover-boot-and-ip"/>

TEAM_RUNNER=activebackup <co xml:id="co-team-failover-activebackup"/>
TEAM_PORT_DEVICE_0="eth0" <co xml:id="co-team-failover-dev"/>
TEAM_PORT_DEVICE_1="eth1" <xref linkend="co-team-failover-dev"/>

TEAM_LW_NAME=ethtool <co xml:id="co-team-failover-name"/>
TEAM_LW_ETHTOOL_DELAY_UP="10" <co xml:id="co-team-failover-ethtool-delay"/>
TEAM_LW_ETHTOOL_DELAY_DOWN="10" <xref linkend="co-team-failover-ethtool-delay"/></screen>
   <calloutlist>
    <callout arearefs="co-team-failover-startmode">
     <para>
      Steuert das Starten des Teaming-Geräts. Wert <literal>auto</literal> bedeutet, dass die Schnittstelle eingerichtet wird, wenn der Netzwerkdienst verfügbar ist, und bei jedem Reboot automatisch gestartet wird.
     </para>
     <para>
      Falls Sie das Gerät selbst steuern müssen (und das automatische Starten vermeiden möchten) legen Sie <literal>manual</literal> für <varname>STARTMODE</varname> fest.
     </para>
    </callout>
    <callout arearefs="co-team-failover-boot-and-ip">
     <para>
      Legt eine statische IP-Adresse fest (hier <systemitem class="ipaddress">192.168.1.2</systemitem> für IPv4 und <systemitem class="ipaddress">fd00:deca:fbad:50::2</systemitem> für IPv6).
     </para>
     <para>
      Wenn das Netzwerk-Teaming-Gerät eine dynamische IP-Adresse verwenden soll, legen Sie <literal>BOOTPROTO=&quot;dhcp&quot;</literal> fest und entfernen (oder kommentieren) Sie die Zeile mit <varname>IPADDRESS</varname> und <varname>IPADDR6</varname>.
     </para>
    </callout>
    <callout arearefs="co-team-failover-activebackup">
     <para>
      Stellt <varname>TEAM_RUNNER</varname> auf <literal>activebackup</literal> ein und aktiviert damit den Failover-Modus.
     </para>
    </callout>
    <callout arearefs="co-team-failover-dev">
     <para>
      Gibt ein oder mehrere Geräte an, die aggregiert werden sollen, um das Netzwerk-Teaming-Gerät zu bilden.
     </para>
    </callout>
    <callout arearefs="co-team-failover-name">
     <para>
      Definiert eine Verbindungsüberwachung, die den Status der untergeordneten Geräte überwacht. Mit dem Standardwert <literal>ethtool</literal> wird nur überprüft, ob das Gerät aktiv und erreichbar ist. Hierdurch erfolgt die Überprüfung recht schnell. Jedoch wird nicht überprüft, ob das Gerät wirklich Pakete senden und empfangen kann.
     </para>
     <para>
      Wenn Sie wirklich sicher sein müssen, dass die Verbindung einwandfrei funktioniert, verwenden Sie die Option <literal>arp_ping</literal>. Damit werden Ping-Signale an einen beliebigen Host gesendet (in der Variablen <varname>TEAM_LW_ARP_PING_TARGET_HOST</varname> konfiguriert). Nur, wenn die Antworten empfangen werden, wird das Netzwerk-Teaming-Gerät als aktiv betrachtet.
     </para>
    </callout>
    <callout arearefs="co-team-failover-ethtool-delay">
     <para>
      Definiert die Verzögerung in Millisekunden zwischen dem Verbindungsaufbau (oder -abbau) und der Benachrichtigung des Runner.
     </para>
    </callout>
   </calloutlist>
  </example>
 </sect2>

 <sect2 xml:id="sec-network-iface-teaming-vlan">
  <title>Anwendungsfall: VLAN zusätzlich zu Teamgerät</title>
  
  <para>
   VLAN ist eine Abkürzung für <emphasis>Virtual Local Area Network</emphasis> (virtuelles lokales Netzwerk). Es ermöglicht die Ausführung mehrerer <emphasis>logischer</emphasis> (virtueller) Ethernets über ein einzelnes physisches Ethernet. Es teilt das Netzwerk in verschiedene Broadcast-Domänen auf, sodass Pakete nur zwischen den Ports, die für dasselbe VLAN bestimmt sind, umgeschaltet werden müssen.
  </para>
  <para>
   Im nachfolgenden Anwendungsfall werden zwei statische VLANs zusätzlich zu einem Teamgerät angelegt:
  </para>
  <itemizedlist>
   <listitem>
     <para><systemitem class="other" otherclass="device">vlan0</systemitem>, an die IP-Adresse <systemitem class="ipaddress">192.168.10.1</systemitem> gebunden</para>
   </listitem>
   <listitem>
     <para><systemitem class="other" otherclass="device">vlan1</systemitem>, an die IP-Adresse <systemitem class="ipaddress">192.168.20.1</systemitem> gebunden</para>
   </listitem>
  </itemizedlist>

  <para>Führen Sie dazu die folgenden Schritte aus:</para>
  <procedure>
   <step>
    <para>
     Aktivieren Sie die VLAN-Tags am Switch. Soll der Lastausgleich für das Teaming-Gerät vorgenommen werden, muss der Switch das LACP (<emphasis>Link Aggregation Control Protocol</emphasis>) (802.3ad) unterstützen. Weitere Informationen finden Sie im Hardware-Handbuch.
    </para>
   </step>
   
   <step>
    <para>
     Legen Sie fest, ob ein Lastausgleich oder ein Failover für das Teamgerät verwendet werden soll. Richten Sie das Teamgerät gemäß den Anweisungen unter <xref linkend="sec-network-iface-teaming-lb"/> oder <xref linkend="sec-network-iface-teaming-failover"/> ein.
    </para>
   </step>
   <step>
    <para>
     Erstellen Sie unter <filename>/etc/sysconfig/network</filename> die Datei <filename>ifcfg-vlan0</filename> mit folgendem Inhalt:
    </para>
    <screen>STARTMODE="auto"
BOOTPROTO="static" <co xml:id="co-team-vlan-bootproto"/>
IPADDR='192.168.10.1/24' <co xml:id="co-team-vlan-ipaddr"/>
ETHERDEVICE="team0" <co xml:id="co-team-vlan-etherdevice"/>
VLAN_ID="0" <co xml:id="co-team-vlan-vlan-id"/>
VLAN='yes'</screen>
    <calloutlist>
     <callout arearefs="co-team-vlan-bootproto">
      <para>
       Definiert eine feste IP-Adresse, angegeben in <varname>IPADDR</varname>.
      </para>
     </callout>
     <callout arearefs="co-team-vlan-ipaddr">
      <para>
       Definiert die IP-Adresse, hier mit der Netzmaske.
      </para>
     </callout>
     <callout arearefs="co-team-vlan-etherdevice">
      <para>
       Enthält die eigentliche Schnittstelle für die VLAN-Schnittstelle, hier das Teamgerät (<systemitem>team0</systemitem>).
      </para>
     </callout>
     <callout arearefs="co-team-vlan-vlan-id">
      <para>
       Gibt eine eindeutige ID für das VLAN an. Vorzugsweise entsprechen der Dateiname und die <varname>VLAN_ID</varname> dem Namen <filename>ifcfg-vlan<replaceable>VLAN_ID</replaceable></filename>. In diesem Fall ist <varname>VLAN_ID</varname> gleich <literal>0</literal>, sodass der Dateiname <filename>ifcfg-vlan0</filename> entsteht.
      </para>
     </callout>
     
    </calloutlist>
   </step>
   <step>
    <para>
     Kopieren Sie die Datei <filename>/etc/sysconfig/network/ifcfg-vlan0</filename> in <filename>/etc/sysconfig/network/ifcfg-vlan1</filename> und ändern Sie die folgenden Werte:
    </para>
    <itemizedlist>
     <listitem>
      <para>
       <varname>IPADDR</varname> von <systemitem class="ipaddress">192.168.10.1/24</systemitem> in <systemitem class="ipaddress">192.168.20.1/24</systemitem>&#x002E;</para>
     </listitem>
     <listitem>
      <para>
       <varname>VLAN_ID</varname> von <literal>0</literal> zu <literal>1</literal>.
      </para>
     </listitem>
    </itemizedlist>
   </step>
   <step>
    <para>
     Starten Sie die beiden VLANs:
    </para>
    <screen><prompt role="root"># </prompt><command>wicked</command> ifup vlan0 vlan1</screen>
   </step>
   <step>
    <para>
     Prüfen Sie die Ausgabe von <command>ifconfig</command>:
    </para>
    <screen><prompt role="root"># </prompt><command>ifconfig</command> -a
[...]
vlan0     Link encap:Ethernet  HWaddr 08:00:27:DC:43:98
          inet addr:192.168.10.1 Bcast:192.168.10.255 Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fedc:4398/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:12 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 b)  TX bytes:816 (816.0 b)

vlan1     Link encap:Ethernet  HWaddr 08:00:27:DC:43:98
          inet addr:192.168.20.1 Bcast:192.168.20.255 Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fedc:4398/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:12 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 b)  TX bytes:816 (816.0 b)</screen>
   </step>
   
  </procedure>
 </sect2>
</sect1>
